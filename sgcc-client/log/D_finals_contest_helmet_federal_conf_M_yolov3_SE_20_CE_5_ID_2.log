2020-12-19 16:43:43.953 | INFO     | utils.data_utils:get_data:214 - client id: 2, federated train size: 5228, federated valid size: 747, federated test size: 3010
2020-12-19 16:43:43.960 | INFO     | __main__:__init__:18 - initialize project
2020-12-19 16:43:43.960 | INFO     | __main__:__init__:21 - Host: 127.0.0.1
2020-12-19 16:43:43.960 | INFO     | __main__:__init__:22 - Port: 5002
2020-12-19 16:43:43.960 | INFO     | __main__:run:25 - start project
2020-12-19 16:44:48.867 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 1!
2020-12-19 16:44:52.265 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 2/2, epo 1/5
2020-12-19 16:44:54.502 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 222.817596
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 84.801331    | 69.489120    | 68.527153    |
| x          | 0.088933     | 0.087865     | 0.082062     |
| y          | 0.095680     | 0.131519     | 0.068931     |
| w          | 2.377101     | 0.421178     | 0.399613     |
| h          | 1.527056     | 0.681068     | 0.408252     |
| conf       | 79.969093    | 67.504875    | 66.851288    |
| cls        | 0.743467     | 0.662610     | 0.717009     |
| cls_acc    | 57.89%       | 68.42%       | 36.84%       |
| recall50   | 0.052632     | 0.210526     | 0.052632     |
| recall75   | 0.000000     | 0.000000     | 0.000000     |
| precision  | 0.000114     | 0.000183     | 0.000013     |
| conf_obj   | 0.583664     | 0.499019     | 0.569898     |
| conf_noobj | 0.536125     | 0.482433     | 0.480667     |
+------------+--------------+--------------+--------------+
2020-12-19 16:45:56.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 22.156458
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 5.789538     | 6.203670     | 10.163250    |
| x          | 0.102197     | 0.087284     | 0.068523     |
| y          | 0.110703     | 0.068839     | 0.061693     |
| w          | 0.225844     | 0.086789     | 0.056587     |
| h          | 0.215910     | 0.097293     | 0.047325     |
| conf       | 4.449808     | 5.320033     | 9.455007     |
| cls        | 0.685076     | 0.543433     | 0.474115     |
| cls_acc    | 78.26%       | 78.26%       | 82.61%       |
| recall50   | 0.000000     | 0.000000     | 0.086957     |
| recall75   | 0.000000     | 0.000000     | 0.043478     |
| precision  | 0.000000     | 0.000000     | 0.050000     |
| conf_obj   | 0.024894     | 0.058891     | 0.204387     |
| conf_noobj | 0.007343     | 0.022578     | 0.072685     |
+------------+--------------+--------------+--------------+
2020-12-19 16:46:51.769 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 11.942323
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 4.304987     | 3.413513     | 4.223823     |
| x          | 0.058742     | 0.066705     | 0.070536     |
| y          | 0.088919     | 0.080420     | 0.091927     |
| w          | 0.142293     | 0.115510     | 0.035711     |
| h          | 0.144252     | 0.088669     | 0.052364     |
| conf       | 3.262650     | 2.596710     | 3.667817     |
| cls        | 0.608131     | 0.465499     | 0.305467     |
| cls_acc    | 77.78%       | 77.78%       | 77.78%       |
| recall50   | 0.000000     | 0.444444     | 0.444444     |
| recall75   | 0.000000     | 0.166667     | 0.277778     |
| precision  | 0.000000     | 0.222222     | 0.086022     |
| conf_obj   | 0.128930     | 0.385366     | 0.425071     |
| conf_noobj | 0.009197     | 0.012621     | 0.024427     |
+------------+--------------+--------------+--------------+
2020-12-19 16:47:51.366 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 14.034363
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 4.598749     | 4.622416     | 4.813199     |
| x          | 0.063922     | 0.068426     | 0.076669     |
| y          | 0.100932     | 0.058924     | 0.090659     |
| w          | 0.465427     | 0.471274     | 0.229123     |
| h          | 0.453132     | 0.456437     | 0.236915     |
| conf       | 3.435909     | 3.333539     | 3.993426     |
| cls        | 0.079427     | 0.233816     | 0.186406     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.040000     | 0.185185     | 0.275862     |
| recall75   | 0.000000     | 0.037037     | 0.034483     |
| precision  | 0.043478     | 0.087719     | 0.045455     |
| conf_obj   | 0.221786     | 0.247451     | 0.267332     |
| conf_noobj | 0.005728     | 0.007451     | 0.014844     |
+------------+--------------+--------------+--------------+
2020-12-19 16:48:44.534 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 9.891577
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 3.710802     | 3.118533     | 3.062243     |
| x          | 0.068237     | 0.043642     | 0.052646     |
| y          | 0.062675     | 0.031524     | 0.062064     |
| w          | 0.383772     | 0.259255     | 0.081371     |
| h          | 0.479875     | 0.257945     | 0.090478     |
| conf       | 2.300754     | 2.166398     | 2.367989     |
| cls        | 0.415489     | 0.359769     | 0.407695     |
| cls_acc    | 78.26%       | 78.26%       | 78.26%       |
| recall50   | 0.391304     | 0.478261     | 0.608696     |
| recall75   | 0.086957     | 0.304348     | 0.434783     |
| precision  | 0.195652     | 0.102804     | 0.037736     |
| conf_obj   | 0.425502     | 0.544710     | 0.589802     |
| conf_noobj | 0.006328     | 0.008455     | 0.011895     |
+------------+--------------+--------------+--------------+
2020-12-19 16:49:45.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 10.212633
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 3.486646     | 3.096186     | 3.629801     |
| x          | 0.059480     | 0.046399     | 0.070826     |
| y          | 0.106045     | 0.097705     | 0.077503     |
| w          | 0.235647     | 0.132695     | 0.108834     |
| h          | 0.195682     | 0.114094     | 0.111832     |
| conf       | 1.813276     | 1.803236     | 2.376286     |
| cls        | 1.076516     | 0.902056     | 0.884519     |
| cls_acc    | 55.56%       | 54.05%       | 51.28%       |
| recall50   | 0.166667     | 0.351351     | 0.282051     |
| recall75   | 0.027778     | 0.081081     | 0.102564     |
| precision  | 0.333333     | 0.108333     | 0.055276     |
| conf_obj   | 0.366238     | 0.554794     | 0.450410     |
| conf_noobj | 0.003114     | 0.006013     | 0.008591     |
+------------+--------------+--------------+--------------+
2020-12-19 16:50:42.964 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 9.304628
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 3.309168     | 3.154715     | 2.840745     |
| x          | 0.070199     | 0.088340     | 0.053063     |
| y          | 0.050478     | 0.045214     | 0.050925     |
| w          | 0.262852     | 0.311218     | 0.068816     |
| h          | 0.261313     | 0.309087     | 0.104158     |
| conf       | 1.655020     | 1.601407     | 2.017701     |
| cls        | 1.009306     | 0.799450     | 0.546082     |
| cls_acc    | 56.00%       | 59.26%       | 60.71%       |
| recall50   | 0.400000     | 0.407407     | 0.464286     |
| recall75   | 0.280000     | 0.185185     | 0.321429     |
| precision  | 0.250000     | 0.097345     | 0.023985     |
| conf_obj   | 0.520836     | 0.585459     | 0.556770     |
| conf_noobj | 0.005011     | 0.004752     | 0.008338     |
+------------+--------------+--------------+--------------+
2020-12-19 16:51:38.810 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 5.487287
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 2.122902     | 1.705890     | 1.658495     |
| x          | 0.048458     | 0.031311     | 0.049229     |
| y          | 0.093279     | 0.043611     | 0.055351     |
| w          | 0.174647     | 0.123434     | 0.035907     |
| h          | 0.183201     | 0.085643     | 0.040847     |
| conf       | 1.296747     | 1.156960     | 1.254074     |
| cls        | 0.326570     | 0.264931     | 0.223086     |
| cls_acc    | 85.00%       | 85.00%       | 90.48%       |
| recall50   | 0.600000     | 0.650000     | 0.714286     |
| recall75   | 0.250000     | 0.400000     | 0.523810     |
| precision  | 0.545455     | 0.128713     | 0.049505     |
| conf_obj   | 0.603609     | 0.724060     | 0.739334     |
| conf_noobj | 0.003539     | 0.005553     | 0.007452     |
+------------+--------------+--------------+--------------+
2020-12-19 16:52:31.342 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 5.782280
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.882937     | 2.043386     | 1.855957     |
| x          | 0.036241     | 0.032079     | 0.037555     |
| y          | 0.038907     | 0.048100     | 0.093837     |
| w          | 0.186677     | 0.268146     | 0.061865     |
| h          | 0.115617     | 0.180712     | 0.073223     |
| conf       | 1.278400     | 1.246605     | 1.390378     |
| cls        | 0.227096     | 0.267745     | 0.199098     |
| cls_acc    | 90.00%       | 95.00%       | 90.00%       |
| recall50   | 0.600000     | 0.450000     | 0.700000     |
| recall75   | 0.200000     | 0.200000     | 0.350000     |
| precision  | 0.324324     | 0.104651     | 0.047782     |
| conf_obj   | 0.708515     | 0.680881     | 0.685855     |
| conf_noobj | 0.004570     | 0.005321     | 0.006721     |
+------------+--------------+--------------+--------------+
2020-12-19 16:53:26.086 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 6.182895
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 2.022218     | 2.117024     | 2.043653     |
| x          | 0.049668     | 0.051087     | 0.064528     |
| y          | 0.041822     | 0.022933     | 0.049142     |
| w          | 0.171230     | 0.191155     | 0.112960     |
| h          | 0.166498     | 0.208655     | 0.130115     |
| conf       | 1.256365     | 1.345120     | 1.396152     |
| cls        | 0.336634     | 0.298075     | 0.290757     |
| cls_acc    | 87.50%       | 81.25%       | 87.50%       |
| recall50   | 0.687500     | 0.625000     | 0.625000     |
| recall75   | 0.375000     | 0.250000     | 0.375000     |
| precision  | 0.305556     | 0.200000     | 0.034602     |
| conf_obj   | 0.708796     | 0.636524     | 0.635034     |
| conf_noobj | 0.004547     | 0.003448     | 0.005088     |
+------------+--------------+--------------+--------------+
2020-12-19 16:54:22.961 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 3.082017
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.088300     | 1.091008     | 0.902708     |
| x          | 0.039332     | 0.048597     | 0.063621     |
| y          | 0.024545     | 0.041991     | 0.065960     |
| w          | 0.093137     | 0.043814     | 0.070916     |
| h          | 0.048183     | 0.043946     | 0.036061     |
| conf       | 0.807896     | 0.868347     | 0.652392     |
| cls        | 0.075206     | 0.044313     | 0.013759     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.714286     | 0.857143     | 0.928571     |
| recall75   | 0.428571     | 0.571429     | 0.642857     |
| precision  | 0.500000     | 0.166667     | 0.054167     |
| conf_obj   | 0.714276     | 0.770867     | 0.884517     |
| conf_noobj | 0.003189     | 0.003812     | 0.004479     |
+------------+--------------+--------------+--------------+
2020-12-19 16:55:18.544 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 5.977161
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 2.311079     | 1.809603     | 1.856479     |
| x          | 0.043636     | 0.012214     | 0.026011     |
| y          | 0.057492     | 0.022630     | 0.032685     |
| w          | 0.279197     | 0.126077     | 0.064751     |
| h          | 0.244017     | 0.118779     | 0.076623     |
| conf       | 1.413662     | 1.250328     | 1.297292     |
| cls        | 0.273075     | 0.279575     | 0.359116     |
| cls_acc    | 89.47%       | 94.74%       | 73.68%       |
| recall50   | 0.578947     | 0.736842     | 0.736842     |
| recall75   | 0.210526     | 0.526316     | 0.684211     |
| precision  | 0.407407     | 0.160920     | 0.062500     |
| conf_obj   | 0.611290     | 0.757859     | 0.722602     |
| conf_noobj | 0.003598     | 0.004138     | 0.004458     |
+------------+--------------+--------------+--------------+
2020-12-19 16:56:16.746 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 4.505930
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.643355     | 1.615358     | 1.247218     |
| x          | 0.032467     | 0.039880     | 0.058851     |
| y          | 0.052770     | 0.025928     | 0.042272     |
| w          | 0.172182     | 0.098133     | 0.018286     |
| h          | 0.131632     | 0.078047     | 0.018963     |
| conf       | 0.946102     | 1.089754     | 0.793047     |
| cls        | 0.308202     | 0.283617     | 0.315799     |
| cls_acc    | 81.25%       | 88.24%       | 88.24%       |
| recall50   | 0.625000     | 0.529412     | 0.823529     |
| recall75   | 0.062500     | 0.058824     | 0.647059     |
| precision  | 0.277778     | 0.113924     | 0.055777     |
| conf_obj   | 0.792347     | 0.630237     | 0.811742     |
| conf_noobj | 0.004427     | 0.003737     | 0.004296     |
+------------+--------------+--------------+--------------+
2020-12-19 16:57:13.514 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.930623
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.946101     | 0.881403     | 1.103119     |
| x          | 0.030468     | 0.081914     | 0.046485     |
| y          | 0.031634     | 0.052722     | 0.034215     |
| w          | 0.098306     | 0.058213     | 0.035165     |
| h          | 0.107224     | 0.059029     | 0.033778     |
| conf       | 0.547722     | 0.510799     | 0.827144     |
| cls        | 0.130748     | 0.118726     | 0.126332     |
| cls_acc    | 95.65%       | 95.83%       | 95.83%       |
| recall50   | 0.826087     | 0.750000     | 0.750000     |
| recall75   | 0.347826     | 0.500000     | 0.583333     |
| precision  | 0.387755     | 0.204545     | 0.058065     |
| conf_obj   | 0.904331     | 0.889076     | 0.821276     |
| conf_noobj | 0.003322     | 0.002683     | 0.003413     |
+------------+--------------+--------------+--------------+
2020-12-19 16:57:16.789 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 13.617
2020-12-19 16:57:16.794 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 16:58:08.046 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.00929   | 0.01742 | 0.01212 | 0.00082 |
| 1     | Wear_helmet | 0.09735   | 0.93056 | 0.17627 | 0.72936 |
| 2     | Total       | 0.05332   | 0.47399 | 0.09419 | 0.36509 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 16:58:08.049 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.36508993688458224
2020-12-19 16:58:08.049 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 16:58:08.050 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:51.255484

2020-12-19 16:58:08.342 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 2/2, epo 1/5
2020-12-19 16:58:08.343 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 2/2, epo 1/5; time cost: 0:13:16.077239

2020-12-19 16:58:08.343 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 2/2, epo 2/5
2020-12-19 16:58:09.613 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 5.338679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.899074     | 1.685198     | 1.754407     |
| x          | 0.031609     | 0.058825     | 0.072363     |
| y          | 0.027822     | 0.018501     | 0.070551     |
| w          | 0.123947     | 0.110339     | 0.033780     |
| h          | 0.113747     | 0.158991     | 0.050982     |
| conf       | 1.337347     | 1.111128     | 1.217949     |
| cls        | 0.264601     | 0.227415     | 0.308782     |
| cls_acc    | 94.12%       | 94.12%       | 82.35%       |
| recall50   | 0.529412     | 0.588235     | 0.647059     |
| recall75   | 0.235294     | 0.117647     | 0.411765     |
| precision  | 0.310345     | 0.133333     | 0.037543     |
| conf_obj   | 0.622336     | 0.657101     | 0.661815     |
| conf_noobj | 0.002857     | 0.002681     | 0.003535     |
+------------+--------------+--------------+--------------+
2020-12-19 16:59:11.070 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 6.681557
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 2.385979     | 2.151655     | 2.143922     |
| x          | 0.053756     | 0.020896     | 0.021882     |
| y          | 0.083532     | 0.056679     | 0.028954     |
| w          | 0.093881     | 0.127215     | 0.082322     |
| h          | 0.097977     | 0.086228     | 0.046352     |
| conf       | 1.861344     | 1.679960     | 1.782687     |
| cls        | 0.195490     | 0.180677     | 0.181726     |
| cls_acc    | 95.00%       | 95.00%       | 100.00%      |
| recall50   | 0.600000     | 0.600000     | 0.650000     |
| recall75   | 0.300000     | 0.300000     | 0.400000     |
| precision  | 0.292683     | 0.148148     | 0.038235     |
| conf_obj   | 0.550460     | 0.575029     | 0.592533     |
| conf_noobj | 0.003570     | 0.003195     | 0.003739     |
+------------+--------------+--------------+--------------+
2020-12-19 17:00:13.768 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.954015
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.985525     | 0.958027     | 1.010463     |
| x          | 0.023461     | 0.013113     | 0.024275     |
| y          | 0.012335     | 0.039087     | 0.089744     |
| w          | 0.035244     | 0.046077     | 0.018740     |
| h          | 0.041364     | 0.060199     | 0.029386     |
| conf       | 0.701193     | 0.501767     | 0.544491     |
| cls        | 0.171928     | 0.297785     | 0.303827     |
| cls_acc    | 88.89%       | 88.89%       | 94.44%       |
| recall50   | 0.777778     | 0.777778     | 0.944444     |
| recall75   | 0.611111     | 0.555556     | 0.666667     |
| precision  | 0.466667     | 0.237288     | 0.058621     |
| conf_obj   | 0.800805     | 0.825904     | 0.878235     |
| conf_noobj | 0.002941     | 0.002185     | 0.003262     |
+------------+--------------+--------------+--------------+
2020-12-19 17:01:19.715 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 5.051553
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.914138     | 1.562031     | 1.575384     |
| x          | 0.016218     | 0.021051     | 0.043708     |
| y          | 0.089350     | 0.064215     | 0.052608     |
| w          | 0.165593     | 0.039138     | 0.037355     |
| h          | 0.164924     | 0.037857     | 0.055621     |
| conf       | 1.151199     | 1.128538     | 1.159783     |
| cls        | 0.326853     | 0.271231     | 0.226310     |
| cls_acc    | 84.00%       | 88.89%       | 85.19%       |
| recall50   | 0.640000     | 0.740741     | 0.703704     |
| recall75   | 0.400000     | 0.481481     | 0.333333     |
| precision  | 0.340426     | 0.147059     | 0.045894     |
| conf_obj   | 0.773515     | 0.768306     | 0.770041     |
| conf_noobj | 0.003759     | 0.003196     | 0.003668     |
+------------+--------------+--------------+--------------+
2020-12-19 17:02:22.307 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 4.980956
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.682291     | 1.643353     | 1.655312     |
| x          | 0.040395     | 0.051737     | 0.053366     |
| y          | 0.026154     | 0.025519     | 0.034727     |
| w          | 0.203398     | 0.056688     | 0.058268     |
| h          | 0.171016     | 0.050771     | 0.068510     |
| conf       | 0.944412     | 1.054549     | 1.010875     |
| cls        | 0.296916     | 0.404089     | 0.429567     |
| cls_acc    | 81.82%       | 73.91%       | 70.83%       |
| recall50   | 0.681818     | 0.608696     | 0.583333     |
| recall75   | 0.227273     | 0.434783     | 0.291667     |
| precision  | 0.405405     | 0.157303     | 0.059829     |
| conf_obj   | 0.733282     | 0.731343     | 0.721770     |
| conf_noobj | 0.003159     | 0.003089     | 0.003232     |
+------------+--------------+--------------+--------------+
2020-12-19 17:03:30.114 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 3.971866
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.611428     | 1.152805     | 1.207633     |
| x          | 0.044812     | 0.044986     | 0.048414     |
| y          | 0.027475     | 0.045439     | 0.070363     |
| w          | 0.152770     | 0.061987     | 0.080373     |
| h          | 0.115537     | 0.117342     | 0.095793     |
| conf       | 1.079304     | 0.773501     | 0.811269     |
| cls        | 0.191530     | 0.109550     | 0.101420     |
| cls_acc    | 91.30%       | 91.67%       | 95.83%       |
| recall50   | 0.608696     | 0.791667     | 0.791667     |
| recall75   | 0.304348     | 0.500000     | 0.416667     |
| precision  | 0.411765     | 0.228916     | 0.081897     |
| conf_obj   | 0.698738     | 0.807451     | 0.752559     |
| conf_noobj | 0.002763     | 0.002281     | 0.002409     |
+------------+--------------+--------------+--------------+
2020-12-19 17:04:32.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 4.749526
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.893671     | 1.425708     | 1.430146     |
| x          | 0.029623     | 0.021971     | 0.045743     |
| y          | 0.038456     | 0.033709     | 0.035616     |
| w          | 0.101419     | 0.062966     | 0.028546     |
| h          | 0.125573     | 0.039950     | 0.034123     |
| conf       | 1.013968     | 1.039223     | 1.046196     |
| cls        | 0.584632     | 0.227890     | 0.239922     |
| cls_acc    | 76.00%       | 88.00%       | 88.00%       |
| recall50   | 0.680000     | 0.640000     | 0.680000     |
| recall75   | 0.360000     | 0.520000     | 0.520000     |
| precision  | 0.395349     | 0.163265     | 0.060498     |
| conf_obj   | 0.761719     | 0.693837     | 0.711444     |
| conf_noobj | 0.003372     | 0.002714     | 0.002811     |
+------------+--------------+--------------+--------------+
2020-12-19 17:05:37.488 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 3.435642
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.153472     | 1.185268     | 1.096901     |
| x          | 0.052684     | 0.034252     | 0.044857     |
| y          | 0.030671     | 0.037008     | 0.041047     |
| w          | 0.105357     | 0.072158     | 0.020438     |
| h          | 0.110835     | 0.086098     | 0.033786     |
| conf       | 0.783361     | 0.860525     | 0.869592     |
| cls        | 0.070565     | 0.095227     | 0.087181     |
| cls_acc    | 100.00%      | 100.00%      | 97.14%       |
| recall50   | 0.742857     | 0.885714     | 0.857143     |
| recall75   | 0.457143     | 0.542857     | 0.657143     |
| precision  | 0.565217     | 0.244094     | 0.084746     |
| conf_obj   | 0.766428     | 0.776411     | 0.796785     |
| conf_noobj | 0.002724     | 0.003473     | 0.003449     |
+------------+--------------+--------------+--------------+
2020-12-19 17:06:42.663 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 3.025301
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.009565     | 0.993221     | 1.022514     |
| x          | 0.024099     | 0.037746     | 0.034976     |
| y          | 0.024252     | 0.040399     | 0.057989     |
| w          | 0.063278     | 0.030941     | 0.035277     |
| h          | 0.064430     | 0.046471     | 0.070768     |
| conf       | 0.786547     | 0.781814     | 0.678910     |
| cls        | 0.046959     | 0.055851     | 0.144595     |
| cls_acc    | 100.00%      | 100.00%      | 93.10%       |
| recall50   | 0.814815     | 0.793103     | 0.862069     |
| recall75   | 0.444444     | 0.586207     | 0.689655     |
| precision  | 0.550000     | 0.190083     | 0.093633     |
| conf_obj   | 0.815161     | 0.826520     | 0.834049     |
| conf_noobj | 0.002371     | 0.002746     | 0.002275     |
+------------+--------------+--------------+--------------+
2020-12-19 17:07:47.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 3.471141
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.191737     | 1.222023     | 1.057382     |
| x          | 0.020811     | 0.040411     | 0.049513     |
| y          | 0.030790     | 0.056373     | 0.058935     |
| w          | 0.073548     | 0.086305     | 0.025347     |
| h          | 0.150903     | 0.138966     | 0.070171     |
| conf       | 0.836628     | 0.792759     | 0.737355     |
| cls        | 0.079056     | 0.107209     | 0.116060     |
| cls_acc    | 100.00%      | 95.00%       | 90.00%       |
| recall50   | 0.800000     | 0.800000     | 0.800000     |
| recall75   | 0.400000     | 0.300000     | 0.450000     |
| precision  | 0.551724     | 0.160000     | 0.046647     |
| conf_obj   | 0.772323     | 0.836698     | 0.833842     |
| conf_noobj | 0.002209     | 0.002418     | 0.002720     |
+------------+--------------+--------------+--------------+
2020-12-19 17:08:50.725 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 4.543736
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.736987     | 1.467944     | 1.338805     |
| x          | 0.048857     | 0.068077     | 0.065610     |
| y          | 0.018656     | 0.059928     | 0.080553     |
| w          | 0.139099     | 0.099726     | 0.085986     |
| h          | 0.096705     | 0.105013     | 0.075046     |
| conf       | 1.083122     | 0.889518     | 0.838444     |
| cls        | 0.350549     | 0.245683     | 0.193166     |
| cls_acc    | 84.62%       | 88.89%       | 96.43%       |
| recall50   | 0.653846     | 0.666667     | 0.678571     |
| recall75   | 0.307692     | 0.407407     | 0.321429     |
| precision  | 0.314815     | 0.134328     | 0.053672     |
| conf_obj   | 0.778558     | 0.780474     | 0.741588     |
| conf_noobj | 0.003642     | 0.003445     | 0.003189     |
+------------+--------------+--------------+--------------+
2020-12-19 17:09:55.315 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 3.246227
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.065414     | 1.051334     | 1.129480     |
| x          | 0.021564     | 0.024421     | 0.043995     |
| y          | 0.021796     | 0.027646     | 0.060401     |
| w          | 0.078656     | 0.045711     | 0.038600     |
| h          | 0.079758     | 0.042360     | 0.071539     |
| conf       | 0.727276     | 0.700170     | 0.609945     |
| cls        | 0.136364     | 0.211024     | 0.305000     |
| cls_acc    | 92.31%       | 92.59%       | 92.59%       |
| recall50   | 0.692308     | 0.703704     | 0.814815     |
| recall75   | 0.538462     | 0.518519     | 0.592593     |
| precision  | 0.473684     | 0.188119     | 0.089796     |
| conf_obj   | 0.761635     | 0.776380     | 0.844167     |
| conf_noobj | 0.002234     | 0.002389     | 0.002114     |
+------------+--------------+--------------+--------------+
2020-12-19 17:10:55.717 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.131867
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.194709     | 0.890463     | 1.046694     |
| x          | 0.004763     | 0.014989     | 0.034976     |
| y          | 0.038990     | 0.055912     | 0.053675     |
| w          | 0.082806     | 0.026295     | 0.043736     |
| h          | 0.064886     | 0.020064     | 0.045200     |
| conf       | 0.768955     | 0.642970     | 0.706910     |
| cls        | 0.234309     | 0.130232     | 0.162196     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.863636     | 0.909091     | 0.909091     |
| recall75   | 0.500000     | 0.681818     | 0.772727     |
| precision  | 0.593750     | 0.227273     | 0.070423     |
| conf_obj   | 0.760087     | 0.858116     | 0.886427     |
| conf_noobj | 0.002139     | 0.002587     | 0.002769     |
+------------+--------------+--------------+--------------+
2020-12-19 17:12:03.834 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.649018
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.818984     | 0.979368     | 0.850665     |
| x          | 0.041466     | 0.041009     | 0.037762     |
| y          | 0.014875     | 0.017843     | 0.063724     |
| w          | 0.078986     | 0.085815     | 0.039105     |
| h          | 0.087249     | 0.063719     | 0.065125     |
| conf       | 0.530454     | 0.678955     | 0.508844     |
| cls        | 0.065954     | 0.092028     | 0.136104     |
| cls_acc    | 100.00%      | 100.00%      | 92.00%       |
| recall50   | 0.782609     | 0.840000     | 0.840000     |
| recall75   | 0.652174     | 0.520000     | 0.520000     |
| precision  | 0.750000     | 0.304348     | 0.098592     |
| conf_obj   | 0.771642     | 0.804278     | 0.827967     |
| conf_noobj | 0.001431     | 0.001878     | 0.002158     |
+------------+--------------+--------------+--------------+
2020-12-19 17:12:07.291 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 4.306
2020-12-19 17:12:07.295 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 17:13:16.314 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.01079   | 0.29268 | 0.02080 | 0.02466 |
| 1     | Wear_helmet | 0.14313   | 0.92491 | 0.24789 | 0.81359 |
| 2     | Total       | 0.07696   | 0.60880 | 0.13435 | 0.41913 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:13:16.316 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4191252635673991
2020-12-19 17:13:16.317 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 17:13:16.322 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:09.021831

2020-12-19 17:13:17.058 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 2/2, epo 2/5
2020-12-19 17:13:17.058 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 2/2, epo 2/5; time cost: 0:15:08.715206

2020-12-19 17:13:17.059 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 2/2, epo 3/5
2020-12-19 17:13:18.281 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.201426
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.178999     | 1.150913     | 0.871514     |
| x          | 0.030196     | 0.039881     | 0.032465     |
| y          | 0.009547     | 0.016608     | 0.045913     |
| w          | 0.063351     | 0.077617     | 0.018838     |
| h          | 0.079811     | 0.086483     | 0.018322     |
| conf       | 0.837293     | 0.747328     | 0.659279     |
| cls        | 0.158800     | 0.182996     | 0.096697     |
| cls_acc    | 90.91%       | 91.30%       | 100.00%      |
| recall50   | 0.772727     | 0.782609     | 0.782609     |
| recall75   | 0.590909     | 0.565217     | 0.608696     |
| precision  | 0.459459     | 0.197802     | 0.080000     |
| conf_obj   | 0.795995     | 0.809782     | 0.789108     |
| conf_noobj | 0.002155     | 0.002284     | 0.002180     |
+------------+--------------+--------------+--------------+
2020-12-19 17:14:24.034 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 6.024594
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 2.040435     | 2.004235     | 1.979925     |
| x          | 0.040381     | 0.019288     | 0.043078     |
| y          | 0.037775     | 0.072050     | 0.082669     |
| w          | 0.205339     | 0.051682     | 0.031819     |
| h          | 0.318877     | 0.096110     | 0.054805     |
| conf       | 1.137869     | 1.421025     | 1.281570     |
| cls        | 0.300193     | 0.344079     | 0.485983     |
| cls_acc    | 77.78%       | 77.78%       | 84.21%       |
| recall50   | 0.555556     | 0.611111     | 0.684211     |
| recall75   | 0.500000     | 0.444444     | 0.473684     |
| precision  | 0.322581     | 0.189655     | 0.065990     |
| conf_obj   | 0.707576     | 0.614686     | 0.673249     |
| conf_noobj | 0.002981     | 0.002514     | 0.002405     |
+------------+--------------+--------------+--------------+
2020-12-19 17:15:31.842 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.648190
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.891619     | 0.811051     | 0.945521     |
| x          | 0.021677     | 0.031313     | 0.045981     |
| y          | 0.013596     | 0.034068     | 0.051387     |
| w          | 0.045344     | 0.031304     | 0.035064     |
| h          | 0.062333     | 0.072594     | 0.051152     |
| conf       | 0.637425     | 0.532812     | 0.631200     |
| cls        | 0.111244     | 0.108960     | 0.130736     |
| cls_acc    | 100.00%      | 97.22%       | 94.59%       |
| recall50   | 0.800000     | 0.861111     | 0.864865     |
| recall75   | 0.600000     | 0.666667     | 0.621622     |
| precision  | 0.608696     | 0.219858     | 0.089385     |
| conf_obj   | 0.792215     | 0.873913     | 0.843609     |
| conf_noobj | 0.002025     | 0.002365     | 0.002232     |
+------------+--------------+--------------+--------------+
2020-12-19 17:16:40.007 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 3.104636
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.034305     | 0.983095     | 1.087236     |
| x          | 0.022788     | 0.027084     | 0.039994     |
| y          | 0.012385     | 0.035484     | 0.037473     |
| w          | 0.081042     | 0.051279     | 0.080689     |
| h          | 0.089224     | 0.078104     | 0.099414     |
| conf       | 0.777133     | 0.742109     | 0.738824     |
| cls        | 0.051733     | 0.049034     | 0.090842     |
| cls_acc    | 94.74%       | 95.24%       | 95.24%       |
| recall50   | 0.894737     | 0.904762     | 0.904762     |
| recall75   | 0.526316     | 0.285714     | 0.761905     |
| precision  | 0.548387     | 0.226190     | 0.071429     |
| conf_obj   | 0.920878     | 0.907770     | 0.895327     |
| conf_noobj | 0.002548     | 0.002413     | 0.002560     |
+------------+--------------+--------------+--------------+
2020-12-19 17:17:44.359 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 4.437034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.634913     | 1.345226     | 1.456894     |
| x          | 0.016686     | 0.058928     | 0.088812     |
| y          | 0.035789     | 0.044260     | 0.048556     |
| w          | 0.089004     | 0.057378     | 0.015765     |
| h          | 0.104952     | 0.053053     | 0.042729     |
| conf       | 0.865906     | 0.853894     | 1.003344     |
| cls        | 0.522577     | 0.277714     | 0.257688     |
| cls_acc    | 82.35%       | 88.89%       | 88.89%       |
| recall50   | 0.647059     | 0.722222     | 0.722222     |
| recall75   | 0.411765     | 0.611111     | 0.333333     |
| precision  | 0.379310     | 0.168831     | 0.057269     |
| conf_obj   | 0.744666     | 0.713451     | 0.718207     |
| conf_noobj | 0.002326     | 0.002129     | 0.002206     |
+------------+--------------+--------------+--------------+
2020-12-19 17:18:50.204 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 4.945101
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.798241     | 1.558715     | 1.588145     |
| x          | 0.027148     | 0.025857     | 0.036762     |
| y          | 0.027828     | 0.029090     | 0.045424     |
| w          | 0.212030     | 0.112753     | 0.077735     |
| h          | 0.178039     | 0.093765     | 0.071280     |
| conf       | 1.217389     | 1.180521     | 1.253709     |
| cls        | 0.135808     | 0.116729     | 0.103236     |
| cls_acc    | 96.77%       | 100.00%      | 100.00%      |
| recall50   | 0.580645     | 0.612903     | 0.750000     |
| recall75   | 0.483871     | 0.354839     | 0.500000     |
| precision  | 0.642857     | 0.279412     | 0.112676     |
| conf_obj   | 0.631577     | 0.642863     | 0.673075     |
| conf_noobj | 0.001935     | 0.002005     | 0.002263     |
+------------+--------------+--------------+--------------+
2020-12-19 17:20:00.364 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 7.213197
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 2.619393     | 2.159129     | 2.434675     |
| x          | 0.037958     | 0.044796     | 0.082079     |
| y          | 0.032225     | 0.050924     | 0.076687     |
| w          | 0.069647     | 0.071032     | 0.090037     |
| h          | 0.107489     | 0.092813     | 0.134028     |
| conf       | 1.818217     | 1.384607     | 1.442700     |
| cls        | 0.553857     | 0.514956     | 0.609144     |
| cls_acc    | 86.49%       | 82.05%       | 82.05%       |
| recall50   | 0.567568     | 0.564103     | 0.538462     |
| recall75   | 0.459459     | 0.333333     | 0.410256     |
| precision  | 0.552632     | 0.207547     | 0.082677     |
| conf_obj   | 0.576495     | 0.629538     | 0.654476     |
| conf_noobj | 0.002247     | 0.002311     | 0.001983     |
+------------+--------------+--------------+--------------+
2020-12-19 17:21:08.366 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 2.937667
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.043386     | 0.971779     | 0.922503     |
| x          | 0.049313     | 0.051587     | 0.033225     |
| y          | 0.038496     | 0.058005     | 0.074006     |
| w          | 0.080236     | 0.092016     | 0.012786     |
| h          | 0.055905     | 0.091654     | 0.031662     |
| conf       | 0.781474     | 0.631512     | 0.708861     |
| cls        | 0.037963     | 0.047005     | 0.061964     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.687500     | 0.812500     | 0.875000     |
| recall75   | 0.312500     | 0.312500     | 0.625000     |
| precision  | 0.314286     | 0.151163     | 0.063636     |
| conf_obj   | 0.738337     | 0.779774     | 0.804354     |
| conf_noobj | 0.002419     | 0.001867     | 0.001621     |
+------------+--------------+--------------+--------------+
2020-12-19 17:22:09.930 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 4.596654
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.696838     | 1.669431     | 1.230385     |
| x          | 0.029538     | 0.041985     | 0.032150     |
| y          | 0.035361     | 0.087000     | 0.075489     |
| w          | 0.119365     | 0.069982     | 0.012374     |
| h          | 0.074703     | 0.072181     | 0.040349     |
| conf       | 0.872734     | 0.765522     | 0.792566     |
| cls        | 0.565137     | 0.632761     | 0.277457     |
| cls_acc    | 68.00%       | 68.00%       | 88.00%       |
| recall50   | 0.520000     | 0.520000     | 0.640000     |
| recall75   | 0.320000     | 0.360000     | 0.480000     |
| precision  | 0.448276     | 0.151163     | 0.051780     |
| conf_obj   | 0.687046     | 0.727334     | 0.748430     |
| conf_noobj | 0.002076     | 0.002216     | 0.002547     |
+------------+--------------+--------------+--------------+
2020-12-19 17:23:15.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.131679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.744680     | 0.607388     | 0.779611     |
| x          | 0.017074     | 0.027783     | 0.069036     |
| y          | 0.020371     | 0.037373     | 0.072614     |
| w          | 0.082441     | 0.022781     | 0.035258     |
| h          | 0.077162     | 0.027785     | 0.058069     |
| conf       | 0.417721     | 0.429326     | 0.432406     |
| cls        | 0.129910     | 0.062340     | 0.112228     |
| cls_acc    | 95.00%       | 100.00%      | 95.24%       |
| recall50   | 0.800000     | 0.904762     | 0.857143     |
| recall75   | 0.700000     | 0.761905     | 0.380952     |
| precision  | 0.551724     | 0.246753     | 0.066421     |
| conf_obj   | 0.886332     | 0.906297     | 0.929832     |
| conf_noobj | 0.002001     | 0.002149     | 0.002340     |
+------------+--------------+--------------+--------------+
2020-12-19 17:24:21.861 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 4.015409
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.218149     | 1.440189     | 1.357071     |
| x          | 0.032806     | 0.027137     | 0.039137     |
| y          | 0.023957     | 0.027471     | 0.064307     |
| w          | 0.089424     | 0.101134     | 0.040894     |
| h          | 0.087423     | 0.111254     | 0.076673     |
| conf       | 0.884403     | 1.083660     | 1.042457     |
| cls        | 0.100136     | 0.089534     | 0.093604     |
| cls_acc    | 96.00%       | 96.15%       | 96.15%       |
| recall50   | 0.840000     | 0.769231     | 0.769231     |
| recall75   | 0.600000     | 0.538462     | 0.538462     |
| precision  | 0.617647     | 0.273973     | 0.089286     |
| conf_obj   | 0.806852     | 0.741709     | 0.739707     |
| conf_noobj | 0.002016     | 0.001926     | 0.001971     |
+------------+--------------+--------------+--------------+
2020-12-19 17:25:24.216 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 5.006892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.903363     | 1.557566     | 1.545963     |
| x          | 0.024787     | 0.015423     | 0.026115     |
| y          | 0.031287     | 0.029472     | 0.037289     |
| w          | 0.279854     | 0.291001     | 0.068031     |
| h          | 0.298818     | 0.222359     | 0.072502     |
| conf       | 1.159380     | 0.917718     | 1.225052     |
| cls        | 0.109238     | 0.081593     | 0.116973     |
| cls_acc    | 95.00%       | 95.24%       | 95.24%       |
| recall50   | 0.750000     | 0.666667     | 0.761905     |
| recall75   | 0.300000     | 0.476190     | 0.714286     |
| precision  | 0.441176     | 0.170732     | 0.065574     |
| conf_obj   | 0.670098     | 0.699722     | 0.731522     |
| conf_noobj | 0.002123     | 0.001989     | 0.001940     |
+------------+--------------+--------------+--------------+
2020-12-19 17:26:30.105 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.931094
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.675388     | 1.133802     | 1.121904     |
| x          | 0.015683     | 0.031971     | 0.032834     |
| y          | 0.019475     | 0.037799     | 0.052484     |
| w          | 0.234218     | 0.048309     | 0.043712     |
| h          | 0.235256     | 0.049067     | 0.078785     |
| conf       | 0.899973     | 0.796416     | 0.852686     |
| cls        | 0.270782     | 0.170240     | 0.061403     |
| cls_acc    | 89.47%       | 95.00%       | 95.00%       |
| recall50   | 0.684211     | 0.850000     | 0.800000     |
| recall75   | 0.157895     | 0.600000     | 0.350000     |
| precision  | 0.619048     | 0.207317     | 0.069869     |
| conf_obj   | 0.738921     | 0.768600     | 0.767311     |
| conf_noobj | 0.001377     | 0.001769     | 0.001789     |
+------------+--------------+--------------+--------------+
2020-12-19 17:27:36.328 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 3.086369
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.109081     | 1.050894     | 0.926394     |
| x          | 0.038901     | 0.065032     | 0.062561     |
| y          | 0.012456     | 0.026841     | 0.060155     |
| w          | 0.060641     | 0.047183     | 0.030174     |
| h          | 0.037544     | 0.052516     | 0.031088     |
| conf       | 0.616107     | 0.585781     | 0.467651     |
| cls        | 0.343432     | 0.273542     | 0.274765     |
| cls_acc    | 85.19%       | 85.71%       | 82.76%       |
| recall50   | 0.740741     | 0.750000     | 0.793103     |
| recall75   | 0.555556     | 0.500000     | 0.586207     |
| precision  | 0.425532     | 0.154412     | 0.061008     |
| conf_obj   | 0.832698     | 0.882735     | 0.919335     |
| conf_noobj | 0.002542     | 0.002615     | 0.002397     |
+------------+--------------+--------------+--------------+
2020-12-19 17:27:39.511 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 3.613
2020-12-19 17:27:39.516 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 17:28:42.192 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02243   | 0.24042 | 0.04103 | 0.04454 |
| 1     | Wear_helmet | 0.18552   | 0.91406 | 0.30844 | 0.72396 |
| 2     | Total       | 0.10397   | 0.57724 | 0.17474 | 0.38425 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:28:42.193 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.3842500028976567
2020-12-19 17:28:42.194 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 17:28:42.194 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:02.677955

2020-12-19 17:28:42.876 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 2/2, epo 3/5
2020-12-19 17:28:42.876 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 2/2, epo 3/5; time cost: 0:15:25.817052

2020-12-19 17:28:42.876 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 2/2, epo 4/5
2020-12-19 17:28:44.182 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.619289
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.389716     | 1.203439     | 1.026135     |
| x          | 0.042331     | 0.068038     | 0.032553     |
| y          | 0.027525     | 0.063048     | 0.056984     |
| w          | 0.075826     | 0.081091     | 0.044045     |
| h          | 0.083458     | 0.049132     | 0.022578     |
| conf       | 1.020287     | 0.836554     | 0.809705     |
| cls        | 0.140289     | 0.105575     | 0.060269     |
| cls_acc    | 90.00%       | 90.91%       | 100.00%      |
| recall50   | 0.650000     | 0.681818     | 0.681818     |
| recall75   | 0.500000     | 0.454545     | 0.500000     |
| precision  | 0.464286     | 0.189873     | 0.078534     |
| conf_obj   | 0.694358     | 0.729363     | 0.728201     |
| conf_noobj | 0.001673     | 0.002198     | 0.001948     |
+------------+--------------+--------------+--------------+
2020-12-19 17:29:52.742 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 4.565960
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.791012     | 1.418860     | 1.356088     |
| x          | 0.047329     | 0.049636     | 0.039213     |
| y          | 0.030458     | 0.045351     | 0.037743     |
| w          | 0.289527     | 0.084073     | 0.032995     |
| h          | 0.226152     | 0.108610     | 0.065257     |
| conf       | 1.128738     | 1.042460     | 1.069688     |
| cls        | 0.068808     | 0.088730     | 0.111193     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.611111     | 0.666667     | 0.714286     |
| recall75   | 0.166667     | 0.380952     | 0.619048     |
| precision  | 0.500000     | 0.233333     | 0.072816     |
| conf_obj   | 0.684768     | 0.687292     | 0.678328     |
| conf_noobj | 0.001628     | 0.001997     | 0.002044     |
+------------+--------------+--------------+--------------+
2020-12-19 17:31:00.001 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.804824
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.995346     | 0.981978     | 0.827500     |
| x          | 0.039504     | 0.046459     | 0.053363     |
| y          | 0.027257     | 0.041924     | 0.047345     |
| w          | 0.056185     | 0.054954     | 0.036434     |
| h          | 0.069686     | 0.063551     | 0.038936     |
| conf       | 0.647770     | 0.649408     | 0.524599     |
| cls        | 0.154944     | 0.125683     | 0.126822     |
| cls_acc    | 93.55%       | 97.06%       | 94.29%       |
| recall50   | 0.580645     | 0.676471     | 0.828571     |
| recall75   | 0.387097     | 0.588235     | 0.685714     |
| precision  | 0.486486     | 0.207207     | 0.097315     |
| conf_obj   | 0.737658     | 0.771467     | 0.826107     |
| conf_noobj | 0.001763     | 0.001914     | 0.001705     |
+------------+--------------+--------------+--------------+
2020-12-19 17:32:00.340 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 3.861034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.362330     | 1.281916     | 1.216788     |
| x          | 0.036578     | 0.039565     | 0.035718     |
| y          | 0.012651     | 0.030871     | 0.061805     |
| w          | 0.131875     | 0.073445     | 0.052485     |
| h          | 0.146354     | 0.086221     | 0.048232     |
| conf       | 0.804205     | 0.881233     | 0.828453     |
| cls        | 0.230667     | 0.170581     | 0.190095     |
| cls_acc    | 96.00%       | 92.31%       | 92.59%       |
| recall50   | 0.840000     | 0.769231     | 0.740741     |
| recall75   | 0.600000     | 0.461538     | 0.592593     |
| precision  | 0.677419     | 0.285714     | 0.119760     |
| conf_obj   | 0.813964     | 0.788122     | 0.777234     |
| conf_noobj | 0.001638     | 0.001674     | 0.001622     |
+------------+--------------+--------------+--------------+
2020-12-19 17:32:54.514 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.915869
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.849687     | 0.917258     | 1.148924     |
| x          | 0.018995     | 0.014937     | 0.014632     |
| y          | 0.016842     | 0.008552     | 0.035278     |
| w          | 0.008328     | 0.014689     | 0.016960     |
| h          | 0.021020     | 0.015719     | 0.022595     |
| conf       | 0.749617     | 0.839351     | 1.018532     |
| cls        | 0.034884     | 0.024010     | 0.040928     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.875000     | 0.875000     |
| recall75   | 0.687500     | 0.812500     | 0.812500     |
| precision  | 0.650000     | 0.291667     | 0.082840     |
| conf_obj   | 0.790345     | 0.850583     | 0.827320     |
| conf_noobj | 0.001150     | 0.001790     | 0.001803     |
+------------+--------------+--------------+--------------+
2020-12-19 17:33:55.659 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.870389
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.604361     | 0.645534     | 0.620494     |
| x          | 0.031125     | 0.043309     | 0.059233     |
| y          | 0.012726     | 0.034533     | 0.071974     |
| w          | 0.029367     | 0.026090     | 0.021438     |
| h          | 0.086656     | 0.035345     | 0.022048     |
| conf       | 0.401788     | 0.463045     | 0.420947     |
| cls        | 0.042700     | 0.043213     | 0.024855     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.888889     | 0.965517     |
| recall75   | 0.560000     | 0.740741     | 0.655172     |
| precision  | 0.628571     | 0.285714     | 0.125561     |
| conf_obj   | 0.904059     | 0.866612     | 0.882218     |
| conf_noobj | 0.001684     | 0.001979     | 0.001704     |
+------------+--------------+--------------+--------------+
2020-12-19 17:34:57.786 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.582606
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.778404     | 0.804151     | 1.000051     |
| x          | 0.017263     | 0.044448     | 0.069022     |
| y          | 0.038068     | 0.045069     | 0.054464     |
| w          | 0.033695     | 0.033868     | 0.025893     |
| h          | 0.043205     | 0.045404     | 0.032893     |
| conf       | 0.622055     | 0.536444     | 0.701965     |
| cls        | 0.024118     | 0.098917     | 0.115814     |
| cls_acc    | 100.00%      | 94.12%       | 91.43%       |
| recall50   | 0.838710     | 0.794118     | 0.800000     |
| recall75   | 0.387097     | 0.617647     | 0.571429     |
| precision  | 0.590909     | 0.369863     | 0.116183     |
| conf_obj   | 0.806485     | 0.808987     | 0.755226     |
| conf_noobj | 0.001866     | 0.001559     | 0.001661     |
+------------+--------------+--------------+--------------+
2020-12-19 17:35:55.546 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 4.091713
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.531645     | 1.269835     | 1.290234     |
| x          | 0.019355     | 0.029912     | 0.066164     |
| y          | 0.029570     | 0.019286     | 0.061448     |
| w          | 0.312196     | 0.140558     | 0.016668     |
| h          | 0.320463     | 0.140733     | 0.053759     |
| conf       | 0.780796     | 0.812666     | 0.955859     |
| cls        | 0.069266     | 0.126681     | 0.136336     |
| cls_acc    | 100.00%      | 92.86%       | 92.86%       |
| recall50   | 0.769231     | 0.571429     | 0.642857     |
| recall75   | 0.538462     | 0.500000     | 0.571429     |
| precision  | 0.303030     | 0.111111     | 0.050562     |
| conf_obj   | 0.813940     | 0.669678     | 0.695239     |
| conf_noobj | 0.002554     | 0.002048     | 0.001893     |
+------------+--------------+--------------+--------------+
2020-12-19 17:36:58.788 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 4.379024
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.589684     | 1.437968     | 1.351371     |
| x          | 0.016552     | 0.018824     | 0.015501     |
| y          | 0.049936     | 0.022055     | 0.027542     |
| w          | 0.086535     | 0.042082     | 0.022815     |
| h          | 0.045456     | 0.046836     | 0.022939     |
| conf       | 0.686349     | 0.558771     | 0.519370     |
| cls        | 0.704856     | 0.749399     | 0.743204     |
| cls_acc    | 82.35%       | 82.35%       | 82.35%       |
| recall50   | 0.705882     | 0.764706     | 0.764706     |
| recall75   | 0.529412     | 0.647059     | 0.529412     |
| precision  | 0.333333     | 0.158537     | 0.054393     |
| conf_obj   | 0.798392     | 0.865059     | 0.871907     |
| conf_noobj | 0.002331     | 0.001868     | 0.001690     |
+------------+--------------+--------------+--------------+
2020-12-19 17:38:04.083 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 3.718019
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.255672     | 1.357960     | 1.104387     |
| x          | 0.026302     | 0.032896     | 0.035592     |
| y          | 0.034018     | 0.042914     | 0.068062     |
| w          | 0.042155     | 0.047302     | 0.025508     |
| h          | 0.082063     | 0.079367     | 0.047460     |
| conf       | 0.889218     | 1.040079     | 0.802354     |
| cls        | 0.181917     | 0.115402     | 0.125411     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.680000     | 0.640000     | 0.840000     |
| recall75   | 0.560000     | 0.400000     | 0.480000     |
| precision  | 0.361702     | 0.133333     | 0.073684     |
| conf_obj   | 0.766357     | 0.705949     | 0.770153     |
| conf_noobj | 0.003309     | 0.002955     | 0.002103     |
+------------+--------------+--------------+--------------+
2020-12-19 17:39:02.231 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 4.311604
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.669578     | 1.444864     | 1.197162     |
| x          | 0.044470     | 0.032090     | 0.032259     |
| y          | 0.015782     | 0.022888     | 0.048655     |
| w          | 0.208465     | 0.138178     | 0.040762     |
| h          | 0.162097     | 0.098913     | 0.037585     |
| conf       | 0.868249     | 0.685688     | 0.681100     |
| cls        | 0.370514     | 0.467106     | 0.356801     |
| cls_acc    | 90.00%       | 84.85%       | 85.29%       |
| recall50   | 0.800000     | 0.787879     | 0.794118     |
| recall75   | 0.366667     | 0.545455     | 0.470588     |
| precision  | 0.470588     | 0.265306     | 0.108871     |
| conf_obj   | 0.791423     | 0.803578     | 0.814435     |
| conf_noobj | 0.002944     | 0.002134     | 0.001754     |
+------------+--------------+--------------+--------------+
2020-12-19 17:40:06.024 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 4.124123
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.505087     | 1.351852     | 1.267183     |
| x          | 0.017465     | 0.051217     | 0.057699     |
| y          | 0.030307     | 0.029860     | 0.053016     |
| w          | 0.073284     | 0.043574     | 0.027414     |
| h          | 0.114085     | 0.046389     | 0.041205     |
| conf       | 1.068930     | 0.847032     | 0.937332     |
| cls        | 0.201017     | 0.333781     | 0.150518     |
| cls_acc    | 95.83%       | 92.00%       | 92.59%       |
| recall50   | 0.750000     | 0.760000     | 0.703704     |
| recall75   | 0.416667     | 0.680000     | 0.629630     |
| precision  | 0.486486     | 0.263889     | 0.084444     |
| conf_obj   | 0.790552     | 0.822793     | 0.767913     |
| conf_noobj | 0.002033     | 0.001635     | 0.001751     |
+------------+--------------+--------------+--------------+
2020-12-19 17:41:07.337 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.268690
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.183150     | 1.073325     | 1.012215     |
| x          | 0.010488     | 0.009809     | 0.030260     |
| y          | 0.010242     | 0.012616     | 0.032335     |
| w          | 0.052141     | 0.036907     | 0.021914     |
| h          | 0.039732     | 0.015715     | 0.027535     |
| conf       | 0.833914     | 0.870416     | 0.762823     |
| cls        | 0.236632     | 0.127863     | 0.137347     |
| cls_acc    | 88.24%       | 94.12%       | 94.12%       |
| recall50   | 0.823529     | 0.882353     | 0.882353     |
| recall75   | 0.764706     | 0.882353     | 0.823529     |
| precision  | 0.482759     | 0.189873     | 0.078534     |
| conf_obj   | 0.850421     | 0.847357     | 0.839203     |
| conf_noobj | 0.001633     | 0.001629     | 0.001493     |
+------------+--------------+--------------+--------------+
2020-12-19 17:42:13.766 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.086899
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.804146     | 0.672714     | 0.610039     |
| x          | 0.008948     | 0.016795     | 0.025953     |
| y          | 0.013146     | 0.021345     | 0.019940     |
| w          | 0.077466     | 0.042282     | 0.010309     |
| h          | 0.035014     | 0.041337     | 0.018411     |
| conf       | 0.598354     | 0.507273     | 0.517709     |
| cls        | 0.071218     | 0.043682     | 0.017717     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.863636     | 0.863636     | 0.954545     |
| recall75   | 0.772727     | 0.772727     | 0.863636     |
| precision  | 0.633333     | 0.287879     | 0.110526     |
| conf_obj   | 0.819948     | 0.846643     | 0.870851     |
| conf_noobj | 0.001681     | 0.001689     | 0.001433     |
+------------+--------------+--------------+--------------+
2020-12-19 17:42:16.723 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 3.174
2020-12-19 17:42:16.725 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 17:43:14.679 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05824   | 0.24390 | 0.09402 | 0.07434 |
| 1     | Wear_helmet | 0.34438   | 0.92448 | 0.50183 | 0.85271 |
| 2     | Total       | 0.20131   | 0.58419 | 0.29792 | 0.46352 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:43:14.680 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4635242420404211
2020-12-19 17:43:14.680 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 17:43:14.680 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.954752

2020-12-19 17:43:15.212 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 2/2, epo 4/5
2020-12-19 17:43:15.212 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 2/2, epo 4/5; time cost: 0:14:32.335901

2020-12-19 17:43:15.213 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 2/2, epo 5/5
2020-12-19 17:43:16.492 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.620804
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.527105     | 0.548034     | 0.545664     |
| x          | 0.012460     | 0.031596     | 0.034887     |
| y          | 0.010526     | 0.019601     | 0.025346     |
| w          | 0.023347     | 0.029291     | 0.014288     |
| h          | 0.020782     | 0.026802     | 0.019032     |
| conf       | 0.442477     | 0.418469     | 0.425253     |
| cls        | 0.017513     | 0.022276     | 0.026859     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.920000     | 0.920000     |
| recall75   | 0.791667     | 0.680000     | 0.760000     |
| precision  | 0.758621     | 0.306667     | 0.129944     |
| conf_obj   | 0.890949     | 0.897649     | 0.857814     |
| conf_noobj | 0.001886     | 0.001773     | 0.001463     |
+------------+--------------+--------------+--------------+
2020-12-19 17:44:20.260 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 6.172939
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 2.212303     | 1.927941     | 2.032695     |
| x          | 0.062885     | 0.054035     | 0.069801     |
| y          | 0.030042     | 0.034758     | 0.048966     |
| w          | 0.273596     | 0.174255     | 0.107172     |
| h          | 0.127435     | 0.107043     | 0.113292     |
| conf       | 1.365277     | 1.208703     | 1.316569     |
| cls        | 0.353068     | 0.349148     | 0.376894     |
| cls_acc    | 79.49%       | 80.95%       | 75.00%       |
| recall50   | 0.512821     | 0.547619     | 0.545455     |
| recall75   | 0.435897     | 0.404762     | 0.409091     |
| precision  | 0.689655     | 0.370968     | 0.137931     |
| conf_obj   | 0.604135     | 0.626463     | 0.628965     |
| conf_noobj | 0.001568     | 0.001427     | 0.001465     |
+------------+--------------+--------------+--------------+
2020-12-19 17:45:25.352 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 4.074129
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.589955     | 1.377799     | 1.106375     |
| x          | 0.045006     | 0.034047     | 0.054238     |
| y          | 0.017688     | 0.023401     | 0.047505     |
| w          | 0.085076     | 0.032530     | 0.023185     |
| h          | 0.127446     | 0.047358     | 0.027190     |
| conf       | 1.133940     | 1.123232     | 0.820953     |
| cls        | 0.180800     | 0.117231     | 0.133304     |
| cls_acc    | 90.32%       | 96.88%       | 90.62%       |
| recall50   | 0.645161     | 0.781250     | 0.718750     |
| recall75   | 0.419355     | 0.593750     | 0.593750     |
| precision  | 0.500000     | 0.294118     | 0.080139     |
| conf_obj   | 0.671003     | 0.718301     | 0.761736     |
| conf_noobj | 0.001732     | 0.001619     | 0.001790     |
+------------+--------------+--------------+--------------+
2020-12-19 17:46:30.526 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.711190
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.672415     | 0.523433     | 0.515342     |
| x          | 0.009189     | 0.022963     | 0.019482     |
| y          | 0.004143     | 0.029435     | 0.033964     |
| w          | 0.060183     | 0.036212     | 0.016534     |
| h          | 0.069458     | 0.047217     | 0.034186     |
| conf       | 0.462873     | 0.329811     | 0.326443     |
| cls        | 0.066569     | 0.057794     | 0.084732     |
| cls_acc    | 100.00%      | 100.00%      | 91.67%       |
| recall50   | 0.916667     | 1.000000     | 0.916667     |
| recall75   | 0.666667     | 0.666667     | 0.833333     |
| precision  | 0.478261     | 0.214286     | 0.061798     |
| conf_obj   | 0.839665     | 0.904721     | 0.909728     |
| conf_noobj | 0.001448     | 0.001383     | 0.001426     |
+------------+--------------+--------------+--------------+
2020-12-19 17:47:38.207 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 4.084698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.294281     | 1.392533     | 1.397884     |
| x          | 0.008351     | 0.067907     | 0.059807     |
| y          | 0.012944     | 0.044413     | 0.067620     |
| w          | 0.025575     | 0.027111     | 0.039983     |
| h          | 0.027654     | 0.026914     | 0.064473     |
| conf       | 1.041329     | 1.125067     | 1.086554     |
| cls        | 0.178429     | 0.101122     | 0.079447     |
| cls_acc    | 87.50%       | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.764706     | 0.764706     |
| recall75   | 0.750000     | 0.705882     | 0.588235     |
| precision  | 0.433333     | 0.164557     | 0.060185     |
| conf_obj   | 0.737707     | 0.746929     | 0.752248     |
| conf_noobj | 0.002218     | 0.001762     | 0.001596     |
+------------+--------------+--------------+--------------+
2020-12-19 17:48:40.039 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.606144
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.916435     | 0.964502     | 0.725206     |
| x          | 0.029951     | 0.045778     | 0.035669     |
| y          | 0.020609     | 0.042076     | 0.054878     |
| w          | 0.054278     | 0.067907     | 0.033621     |
| h          | 0.062442     | 0.073943     | 0.027426     |
| conf       | 0.603046     | 0.581881     | 0.415037     |
| cls        | 0.146108     | 0.152916     | 0.158576     |
| cls_acc    | 92.31%       | 92.59%       | 96.43%       |
| recall50   | 0.769231     | 0.740741     | 0.892857     |
| recall75   | 0.538462     | 0.481481     | 0.607143     |
| precision  | 0.512821     | 0.263158     | 0.116822     |
| conf_obj   | 0.826350     | 0.817373     | 0.871173     |
| conf_noobj | 0.001881     | 0.001564     | 0.001537     |
+------------+--------------+--------------+--------------+
2020-12-19 17:49:47.536 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 4.243021
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.555190     | 1.382574     | 1.305257     |
| x          | 0.039059     | 0.047643     | 0.034767     |
| y          | 0.035848     | 0.044152     | 0.060483     |
| w          | 0.092808     | 0.078546     | 0.036107     |
| h          | 0.080374     | 0.089785     | 0.041586     |
| conf       | 0.939934     | 0.803021     | 0.813092     |
| cls        | 0.367167     | 0.319427     | 0.319222     |
| cls_acc    | 87.50%       | 87.50%       | 87.50%       |
| recall50   | 0.708333     | 0.791667     | 0.833333     |
| recall75   | 0.375000     | 0.500000     | 0.625000     |
| precision  | 0.485714     | 0.253333     | 0.066445     |
| conf_obj   | 0.743629     | 0.805888     | 0.811011     |
| conf_noobj | 0.001881     | 0.001743     | 0.001964     |
+------------+--------------+--------------+--------------+
2020-12-19 17:50:57.692 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 3.295547
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.182446     | 1.034436     | 1.078665     |
| x          | 0.021823     | 0.040576     | 0.044908     |
| y          | 0.020704     | 0.023504     | 0.052276     |
| w          | 0.126100     | 0.064215     | 0.032034     |
| h          | 0.134852     | 0.068428     | 0.029154     |
| conf       | 0.753866     | 0.695460     | 0.814940     |
| cls        | 0.125102     | 0.142253     | 0.105353     |
| cls_acc    | 93.55%       | 90.91%       | 96.97%       |
| recall50   | 0.838710     | 0.787879     | 0.787879     |
| recall75   | 0.677419     | 0.575758     | 0.666667     |
| precision  | 0.619048     | 0.236364     | 0.089965     |
| conf_obj   | 0.807763     | 0.842074     | 0.842590     |
| conf_noobj | 0.001887     | 0.002028     | 0.001887     |
+------------+--------------+--------------+--------------+
2020-12-19 17:51:58.678 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.358532
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.769530     | 0.677868     | 0.911135     |
| x          | 0.024455     | 0.026001     | 0.025669     |
| y          | 0.037987     | 0.046853     | 0.062286     |
| w          | 0.075356     | 0.031496     | 0.018866     |
| h          | 0.060402     | 0.035704     | 0.077406     |
| conf       | 0.447878     | 0.406061     | 0.568832     |
| cls        | 0.123452     | 0.131753     | 0.158075     |
| cls_acc    | 94.74%       | 94.74%       | 84.21%       |
| recall50   | 0.789474     | 0.789474     | 0.684211     |
| recall75   | 0.578947     | 0.473684     | 0.526316     |
| precision  | 0.652174     | 0.312500     | 0.087838     |
| conf_obj   | 0.844720     | 0.847095     | 0.825467     |
| conf_noobj | 0.001665     | 0.001455     | 0.001461     |
+------------+--------------+--------------+--------------+
2020-12-19 17:53:01.654 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.407740
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.859343     | 0.800710     | 0.747687     |
| x          | 0.027605     | 0.028236     | 0.044799     |
| y          | 0.014285     | 0.017028     | 0.033099     |
| w          | 0.033738     | 0.033516     | 0.021014     |
| h          | 0.038307     | 0.023231     | 0.056550     |
| conf       | 0.707800     | 0.659771     | 0.565767     |
| cls        | 0.037608     | 0.038928     | 0.026458     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.882353     | 0.941176     |
| recall75   | 0.588235     | 0.823529     | 0.705882     |
| precision  | 0.500000     | 0.197368     | 0.066946     |
| conf_obj   | 0.803108     | 0.868565     | 0.875072     |
| conf_noobj | 0.001604     | 0.001626     | 0.001563     |
+------------+--------------+--------------+--------------+
2020-12-19 17:54:03.036 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.444962
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.090383     | 0.662521     | 0.692058     |
| x          | 0.016966     | 0.017029     | 0.019935     |
| y          | 0.006251     | 0.026386     | 0.079315     |
| w          | 0.033321     | 0.023307     | 0.008007     |
| h          | 0.041406     | 0.014391     | 0.039548     |
| conf       | 0.938511     | 0.560432     | 0.533860     |
| cls        | 0.053928     | 0.020976     | 0.011393     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.842105     | 0.894737     |
| recall75   | 0.789474     | 0.684211     | 0.736842     |
| precision  | 0.484848     | 0.213333     | 0.080952     |
| conf_obj   | 0.778643     | 0.838984     | 0.857757     |
| conf_noobj | 0.002222     | 0.001882     | 0.001845     |
+------------+--------------+--------------+--------------+
2020-12-19 17:55:05.626 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.865350
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.644727     | 0.561175     | 0.659448     |
| x          | 0.015588     | 0.015206     | 0.039593     |
| y          | 0.024059     | 0.044535     | 0.044261     |
| w          | 0.036696     | 0.027145     | 0.028260     |
| h          | 0.047092     | 0.038521     | 0.039069     |
| conf       | 0.463488     | 0.394816     | 0.431972     |
| cls        | 0.057803     | 0.040952     | 0.076293     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 0.954545     | 0.913043     | 0.869565     |
| recall75   | 0.727273     | 0.739130     | 0.739130     |
| precision  | 0.477273     | 0.247059     | 0.074074     |
| conf_obj   | 0.897126     | 0.892958     | 0.901311     |
| conf_noobj | 0.002506     | 0.001913     | 0.002067     |
+------------+--------------+--------------+--------------+
2020-12-19 17:56:09.372 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.560529
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.856794     | 0.809828     | 0.893907     |
| x          | 0.042325     | 0.039788     | 0.027100     |
| y          | 0.050146     | 0.027328     | 0.058691     |
| w          | 0.109459     | 0.052912     | 0.020078     |
| h          | 0.014502     | 0.014229     | 0.044425     |
| conf       | 0.340074     | 0.554493     | 0.680253     |
| cls        | 0.300290     | 0.121080     | 0.063360     |
| cls_acc    | 85.71%       | 93.33%       | 100.00%      |
| recall50   | 0.857143     | 0.866667     | 0.933333     |
| recall75   | 0.857143     | 0.733333     | 0.800000     |
| precision  | 0.521739     | 0.220339     | 0.089744     |
| conf_obj   | 0.924621     | 0.896525     | 0.917374     |
| conf_noobj | 0.001557     | 0.001474     | 0.001400     |
+------------+--------------+--------------+--------------+
2020-12-19 17:57:21.943 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.704512
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.571569     | 0.574706     | 0.558237     |
| x          | 0.012700     | 0.014897     | 0.050545     |
| y          | 0.009981     | 0.018881     | 0.041762     |
| w          | 0.045049     | 0.034399     | 0.024855     |
| h          | 0.036718     | 0.037061     | 0.032603     |
| conf       | 0.449150     | 0.463836     | 0.399487     |
| cls        | 0.017970     | 0.005632     | 0.008985     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.846154     | 0.846154     |
| recall75   | 0.625000     | 0.769231     | 0.807692     |
| precision  | 0.625000     | 0.275000     | 0.096491     |
| conf_obj   | 0.843413     | 0.854808     | 0.883777     |
| conf_noobj | 0.001116     | 0.001380     | 0.001357     |
+------------+--------------+--------------+--------------+
2020-12-19 17:57:25.583 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 2.875
2020-12-19 17:57:25.586 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 17:58:21.937 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05214   | 0.25087 | 0.08633 | 0.07265 |
| 1     | Wear_helmet | 0.23890   | 0.94314 | 0.38123 | 0.85786 |
| 2     | Total       | 0.14552   | 0.59701 | 0.23378 | 0.46526 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:58:21.938 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4652572229142089
2020-12-19 17:58:21.938 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 17:58:21.938 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.352132

2020-12-19 17:58:22.426 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 2/2, epo 5/5
2020-12-19 17:58:22.426 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 2/2, epo 5/5; time cost: 0:15:07.213100

2020-12-19 17:58:22.426 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 5.517
2020-12-19 17:58:22.637 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-19 18:03:07.185 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06421   | 0.42082 | 0.11142 | 0.19871 |
| 1     | Wear_helmet | 0.20043   | 0.87652 | 0.32626 | 0.74401 |
| 2     | Total       | 0.13232   | 0.64867 | 0.21884 | 0.47136 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:03:07.186 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4713605837502296
2020-12-19 18:03:07.186 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-19 18:03:07.186 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:44.548763

2020-12-19 18:04:35.474 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 2!
2020-12-19 18:04:35.697 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 2/2, epo 1/5
2020-12-19 18:04:38.710 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 5.189206
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 2.217683     | 1.388199     | 1.583324     |
| x          | 0.044088     | 0.059822     | 0.068625     |
| y          | 0.020966     | 0.051163     | 0.072211     |
| w          | 0.425311     | 0.117989     | 0.027184     |
| h          | 0.235066     | 0.069228     | 0.031233     |
| conf       | 1.113896     | 0.764736     | 1.084117     |
| cls        | 0.378356     | 0.325262     | 0.299954     |
| cls_acc    | 87.88%       | 91.18%       | 94.29%       |
| recall50   | 0.606061     | 0.676471     | 0.657143     |
| recall75   | 0.121212     | 0.352941     | 0.400000     |
| precision  | 0.800000     | 0.142857     | 0.114428     |
| conf_obj   | 0.582276     | 0.824087     | 0.640682     |
| conf_noobj | 0.000977     | 0.003276     | 0.001242     |
+------------+--------------+--------------+--------------+
2020-12-19 18:05:43.466 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 6.304101
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 2.922755     | 1.902525     | 1.478820     |
| x          | 0.070337     | 0.032162     | 0.056044     |
| y          | 0.069144     | 0.035575     | 0.053089     |
| w          | 0.381862     | 0.131557     | 0.034477     |
| h          | 0.349026     | 0.140933     | 0.036614     |
| conf       | 1.924750     | 1.489671     | 1.168989     |
| cls        | 0.127637     | 0.072627     | 0.129607     |
| cls_acc    | 100.00%      | 100.00%      | 92.00%       |
| recall50   | 0.500000     | 0.680000     | 0.720000     |
| recall75   | 0.083333     | 0.320000     | 0.440000     |
| precision  | 0.307692     | 0.178947     | 0.034884     |
| conf_obj   | 0.578169     | 0.648900     | 0.753071     |
| conf_noobj | 0.003740     | 0.003604     | 0.004578     |
+------------+--------------+--------------+--------------+
2020-12-19 18:06:47.986 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 5.611423
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 2.560923     | 1.846342     | 1.204158     |
| x          | 0.038492     | 0.025355     | 0.028261     |
| y          | 0.077372     | 0.058546     | 0.038718     |
| w          | 0.404323     | 0.202848     | 0.078581     |
| h          | 0.291503     | 0.195062     | 0.062327     |
| conf       | 1.132519     | 0.944834     | 0.707236     |
| cls        | 0.616714     | 0.419697     | 0.289035     |
| cls_acc    | 75.00%       | 80.00%       | 90.00%       |
| recall50   | 0.500000     | 0.650000     | 0.750000     |
| recall75   | 0.150000     | 0.400000     | 0.600000     |
| precision  | 0.384615     | 0.149425     | 0.043988     |
| conf_obj   | 0.579702     | 0.731334     | 0.844307     |
| conf_noobj | 0.002723     | 0.003158     | 0.003123     |
+------------+--------------+--------------+--------------+
2020-12-19 18:07:50.050 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.350896
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.953926     | 0.752739     | 0.644231     |
| x          | 0.048849     | 0.019095     | 0.026931     |
| y          | 0.032283     | 0.032783     | 0.016527     |
| w          | 0.105747     | 0.027675     | 0.034445     |
| h          | 0.047121     | 0.030011     | 0.032782     |
| conf       | 0.528287     | 0.545733     | 0.487058     |
| cls        | 0.191639     | 0.097442     | 0.046487     |
| cls_acc    | 94.44%       | 94.44%       | 100.00%      |
| recall50   | 0.777778     | 0.888889     | 1.000000     |
| recall75   | 0.388889     | 0.611111     | 0.833333     |
| precision  | 0.368421     | 0.141593     | 0.054381     |
| conf_obj   | 0.875288     | 0.896480     | 0.903694     |
| conf_noobj | 0.002683     | 0.003013     | 0.002704     |
+------------+--------------+--------------+--------------+
2020-12-19 18:09:01.057 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 3.705381
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.513437     | 1.109250     | 1.082694     |
| x          | 0.050623     | 0.047992     | 0.031349     |
| y          | 0.034571     | 0.020959     | 0.027756     |
| w          | 0.181663     | 0.065226     | 0.091137     |
| h          | 0.134818     | 0.033815     | 0.087732     |
| conf       | 0.790516     | 0.663746     | 0.710925     |
| cls        | 0.321247     | 0.277512     | 0.133795     |
| cls_acc    | 86.67%       | 87.50%       | 93.75%       |
| recall50   | 0.666667     | 0.750000     | 0.875000     |
| recall75   | 0.400000     | 0.375000     | 0.437500     |
| precision  | 0.476190     | 0.210526     | 0.054475     |
| conf_obj   | 0.714300     | 0.822971     | 0.886001     |
| conf_noobj | 0.002929     | 0.002519     | 0.003235     |
+------------+--------------+--------------+--------------+
2020-12-19 18:10:12.179 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 4.748212
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.713248     | 1.656816     | 1.378147     |
| x          | 0.069268     | 0.040571     | 0.035959     |
| y          | 0.036867     | 0.024982     | 0.039932     |
| w          | 0.064785     | 0.036566     | 0.024074     |
| h          | 0.107548     | 0.064482     | 0.021388     |
| conf       | 1.113551     | 1.145906     | 0.950929     |
| cls        | 0.321229     | 0.344308     | 0.305864     |
| cls_acc    | 89.29%       | 84.38%       | 87.50%       |
| recall50   | 0.464286     | 0.656250     | 0.656250     |
| recall75   | 0.285714     | 0.437500     | 0.562500     |
| precision  | 0.481481     | 0.287671     | 0.096774     |
| conf_obj   | 0.606981     | 0.655589     | 0.690690     |
| conf_noobj | 0.001962     | 0.001997     | 0.001880     |
+------------+--------------+--------------+--------------+
2020-12-19 18:11:13.405 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 3.477792
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.239034     | 1.294136     | 0.944622     |
| x          | 0.047922     | 0.019671     | 0.026575     |
| y          | 0.029345     | 0.033320     | 0.021692     |
| w          | 0.059463     | 0.044333     | 0.014877     |
| h          | 0.076875     | 0.050635     | 0.011420     |
| conf       | 0.941240     | 1.069915     | 0.800622     |
| cls        | 0.084189     | 0.076262     | 0.069435     |
| cls_acc    | 100.00%      | 100.00%      | 95.45%       |
| recall50   | 0.772727     | 0.681818     | 0.818182     |
| recall75   | 0.363636     | 0.500000     | 0.681818     |
| precision  | 0.566667     | 0.189873     | 0.075000     |
| conf_obj   | 0.747032     | 0.682373     | 0.785754     |
| conf_noobj | 0.002458     | 0.002269     | 0.002031     |
+------------+--------------+--------------+--------------+
2020-12-19 18:12:21.241 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 4.095264
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.299649     | 1.336968     | 1.458647     |
| x          | 0.043787     | 0.049467     | 0.015478     |
| y          | 0.042899     | 0.042141     | 0.056832     |
| w          | 0.094353     | 0.073578     | 0.045949     |
| h          | 0.083852     | 0.097082     | 0.036694     |
| conf       | 0.932577     | 0.928137     | 1.144892     |
| cls        | 0.102181     | 0.146563     | 0.158802     |
| cls_acc    | 100.00%      | 91.67%       | 87.50%       |
| recall50   | 0.590909     | 0.708333     | 0.750000     |
| recall75   | 0.454545     | 0.500000     | 0.666667     |
| precision  | 0.419355     | 0.197674     | 0.075949     |
| conf_obj   | 0.735381     | 0.747757     | 0.725865     |
| conf_noobj | 0.002542     | 0.002277     | 0.002096     |
+------------+--------------+--------------+--------------+
2020-12-19 18:13:25.279 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 4.433373
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.735243     | 1.405217     | 1.292912     |
| x          | 0.047314     | 0.046806     | 0.037472     |
| y          | 0.027061     | 0.049573     | 0.049936     |
| w          | 0.252920     | 0.107515     | 0.071655     |
| h          | 0.199198     | 0.120055     | 0.065484     |
| conf       | 0.943634     | 0.874102     | 0.807880     |
| cls        | 0.265117     | 0.207166     | 0.260487     |
| cls_acc    | 89.66%       | 87.10%       | 83.87%       |
| recall50   | 0.586207     | 0.645161     | 0.741935     |
| recall75   | 0.275862     | 0.451613     | 0.548387     |
| precision  | 0.485714     | 0.253165     | 0.120419     |
| conf_obj   | 0.762865     | 0.770165     | 0.789819     |
| conf_noobj | 0.002837     | 0.002299     | 0.002109     |
+------------+--------------+--------------+--------------+
2020-12-19 18:14:31.236 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 4.867993
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.953736     | 1.542597     | 1.371660     |
| x          | 0.028100     | 0.015652     | 0.021433     |
| y          | 0.086419     | 0.041730     | 0.044874     |
| w          | 0.156308     | 0.078147     | 0.030399     |
| h          | 0.126019     | 0.043830     | 0.037172     |
| conf       | 1.099425     | 0.987492     | 0.843743     |
| cls        | 0.457464     | 0.375746     | 0.394040     |
| cls_acc    | 73.33%       | 80.00%       | 80.00%       |
| recall50   | 0.466667     | 0.733333     | 0.666667     |
| recall75   | 0.333333     | 0.533333     | 0.400000     |
| precision  | 0.200000     | 0.085271     | 0.026882     |
| conf_obj   | 0.733500     | 0.827621     | 0.833517     |
| conf_noobj | 0.003031     | 0.003003     | 0.002527     |
+------------+--------------+--------------+--------------+
2020-12-19 18:15:42.638 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 4.992727
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 2.141471     | 1.470058     | 1.381198     |
| x          | 0.066905     | 0.035201     | 0.043471     |
| y          | 0.018606     | 0.051198     | 0.077953     |
| w          | 0.073854     | 0.067743     | 0.034343     |
| h          | 0.087233     | 0.082256     | 0.052652     |
| conf       | 1.342791     | 0.848901     | 0.874264     |
| cls        | 0.552083     | 0.384759     | 0.298515     |
| cls_acc    | 70.00%       | 71.43%       | 80.95%       |
| recall50   | 0.300000     | 0.523810     | 0.619048     |
| recall75   | 0.200000     | 0.380952     | 0.476190     |
| precision  | 0.260870     | 0.150685     | 0.089655     |
| conf_obj   | 0.556509     | 0.726999     | 0.736889     |
| conf_noobj | 0.002302     | 0.002208     | 0.001430     |
+------------+--------------+--------------+--------------+
2020-12-19 18:16:43.191 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 3.246958
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.328483     | 1.093843     | 0.824632     |
| x          | 0.020946     | 0.021291     | 0.027212     |
| y          | 0.010607     | 0.031054     | 0.037291     |
| w          | 0.096793     | 0.047545     | 0.019164     |
| h          | 0.143381     | 0.041334     | 0.018777     |
| conf       | 0.864932     | 0.825625     | 0.626368     |
| cls        | 0.191824     | 0.126995     | 0.095820     |
| cls_acc    | 92.00%       | 92.31%       | 100.00%      |
| recall50   | 0.760000     | 0.769231     | 0.846154     |
| recall75   | 0.560000     | 0.576923     | 0.769231     |
| precision  | 0.527778     | 0.196078     | 0.083650     |
| conf_obj   | 0.791325     | 0.795058     | 0.834453     |
| conf_noobj | 0.002731     | 0.002843     | 0.002157     |
+------------+--------------+--------------+--------------+
2020-12-19 18:17:41.802 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 4.287078
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.705959     | 1.445289     | 1.135830     |
| x          | 0.036336     | 0.025948     | 0.020075     |
| y          | 0.034323     | 0.036302     | 0.033821     |
| w          | 0.104875     | 0.076784     | 0.032822     |
| h          | 0.099941     | 0.093584     | 0.032667     |
| conf       | 1.160604     | 1.044304     | 0.903109     |
| cls        | 0.269880     | 0.168368     | 0.113337     |
| cls_acc    | 90.91%       | 93.94%       | 93.94%       |
| recall50   | 0.545455     | 0.818182     | 0.818182     |
| recall75   | 0.393939     | 0.636364     | 0.666667     |
| precision  | 0.450000     | 0.234783     | 0.100372     |
| conf_obj   | 0.670304     | 0.762942     | 0.775159     |
| conf_noobj | 0.002902     | 0.002787     | 0.002025     |
+------------+--------------+--------------+--------------+
2020-12-19 18:18:48.173 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.231714
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.888656     | 0.690522     | 0.652535     |
| x          | 0.042608     | 0.053474     | 0.052777     |
| y          | 0.020942     | 0.021393     | 0.043090     |
| w          | 0.047560     | 0.032731     | 0.019031     |
| h          | 0.053486     | 0.043665     | 0.029624     |
| conf       | 0.631411     | 0.497669     | 0.461524     |
| cls        | 0.092650     | 0.041591     | 0.046489     |
| cls_acc    | 95.83%       | 100.00%      | 96.15%       |
| recall50   | 0.833333     | 0.884615     | 0.884615     |
| recall75   | 0.541667     | 0.653846     | 0.692308     |
| precision  | 0.465116     | 0.216981     | 0.069069     |
| conf_obj   | 0.840477     | 0.848277     | 0.890110     |
| conf_noobj | 0.002563     | 0.002235     | 0.002255     |
+------------+--------------+--------------+--------------+
2020-12-19 18:18:51.566 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 5.845
2020-12-19 18:18:51.571 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 18:20:01.122 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.01068   | 0.12544 | 0.01968 | 0.01290 |
| 1     | Wear_helmet | 0.17585   | 0.96224 | 0.29736 | 0.75148 |
| 2     | Total       | 0.09327   | 0.54384 | 0.15852 | 0.38219 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:20:01.122 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.3821892877043476
2020-12-19 18:20:01.123 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 18:20:01.123 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:09.551742

2020-12-19 18:20:01.545 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 2/2, epo 1/5
2020-12-19 18:20:01.545 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 2/2, epo 1/5; time cost: 0:15:25.848178

2020-12-19 18:20:01.545 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 2/2, epo 2/5
2020-12-19 18:20:03.104 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 4.169181
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.573423     | 1.385205     | 1.210554     |
| x          | 0.045796     | 0.039211     | 0.049985     |
| y          | 0.026157     | 0.015357     | 0.045282     |
| w          | 0.103747     | 0.117850     | 0.067203     |
| h          | 0.099568     | 0.083285     | 0.078162     |
| conf       | 1.162662     | 0.972181     | 0.706920     |
| cls        | 0.135493     | 0.157321     | 0.263001     |
| cls_acc    | 95.83%       | 96.00%       | 88.46%       |
| recall50   | 0.666667     | 0.720000     | 0.807692     |
| recall75   | 0.458333     | 0.400000     | 0.461538     |
| precision  | 0.500000     | 0.243243     | 0.078947     |
| conf_obj   | 0.744242     | 0.727807     | 0.794264     |
| conf_noobj | 0.002050     | 0.001866     | 0.001923     |
+------------+--------------+--------------+--------------+
2020-12-19 18:21:07.868 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 3.592408
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.512813     | 1.184175     | 0.895420     |
| x          | 0.046838     | 0.043711     | 0.031084     |
| y          | 0.015824     | 0.035860     | 0.088553     |
| w          | 0.087292     | 0.093366     | 0.031308     |
| h          | 0.098079     | 0.123725     | 0.051678     |
| conf       | 0.907519     | 0.669882     | 0.576548     |
| cls        | 0.357261     | 0.217632     | 0.116249     |
| cls_acc    | 75.00%       | 83.33%       | 96.00%       |
| recall50   | 0.625000     | 0.708333     | 0.880000     |
| recall75   | 0.416667     | 0.375000     | 0.480000     |
| precision  | 0.441176     | 0.209877     | 0.092827     |
| conf_obj   | 0.737841     | 0.808500     | 0.836543     |
| conf_noobj | 0.002912     | 0.002274     | 0.002032     |
+------------+--------------+--------------+--------------+
2020-12-19 18:22:10.234 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 3.760019
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.383440     | 1.232026     | 1.144553     |
| x          | 0.076737     | 0.021134     | 0.063970     |
| y          | 0.042823     | 0.053193     | 0.069493     |
| w          | 0.080357     | 0.052483     | 0.028777     |
| h          | 0.093750     | 0.067998     | 0.038987     |
| conf       | 0.820571     | 0.870618     | 0.761668     |
| cls        | 0.269204     | 0.166599     | 0.181658     |
| cls_acc    | 90.00%       | 90.91%       | 91.18%       |
| recall50   | 0.600000     | 0.818182     | 0.852941     |
| recall75   | 0.266667     | 0.515152     | 0.529412     |
| precision  | 0.315789     | 0.216000     | 0.088146     |
| conf_obj   | 0.797278     | 0.818515     | 0.853899     |
| conf_noobj | 0.002923     | 0.002537     | 0.002051     |
+------------+--------------+--------------+--------------+
2020-12-19 18:23:19.440 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 3.072440
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.282200     | 0.937079     | 0.853162     |
| x          | 0.043684     | 0.025867     | 0.032454     |
| y          | 0.052087     | 0.036325     | 0.040698     |
| w          | 0.102855     | 0.043258     | 0.021973     |
| h          | 0.073585     | 0.043363     | 0.031339     |
| conf       | 0.801459     | 0.690182     | 0.657951     |
| cls        | 0.208529     | 0.098084     | 0.068747     |
| cls_acc    | 86.96%       | 92.00%       | 96.00%       |
| recall50   | 0.652174     | 0.840000     | 0.800000     |
| recall75   | 0.304348     | 0.560000     | 0.680000     |
| precision  | 0.365854     | 0.179487     | 0.076336     |
| conf_obj   | 0.799805     | 0.846272     | 0.804973     |
| conf_noobj | 0.002713     | 0.002834     | 0.001633     |
+------------+--------------+--------------+--------------+
2020-12-19 18:24:23.742 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 3.312427
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.036572     | 1.125142     | 1.150712     |
| x          | 0.020015     | 0.019495     | 0.030969     |
| y          | 0.016798     | 0.033849     | 0.045266     |
| w          | 0.033895     | 0.049650     | 0.023830     |
| h          | 0.028569     | 0.060042     | 0.031369     |
| conf       | 0.497640     | 0.616205     | 0.797438     |
| cls        | 0.439654     | 0.345901     | 0.221841     |
| cls_acc    | 83.87%       | 87.10%       | 96.77%       |
| recall50   | 0.677419     | 0.806452     | 0.806452     |
| recall75   | 0.516129     | 0.709677     | 0.741935     |
| precision  | 0.677419     | 0.284091     | 0.116822     |
| conf_obj   | 0.809388     | 0.838196     | 0.803541     |
| conf_noobj | 0.001365     | 0.002406     | 0.001970     |
+------------+--------------+--------------+--------------+
2020-12-19 18:25:28.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 4.008392
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.569236     | 1.332598     | 1.106558     |
| x          | 0.039811     | 0.037014     | 0.030148     |
| y          | 0.018215     | 0.023897     | 0.030054     |
| w          | 0.124190     | 0.071641     | 0.077321     |
| h          | 0.116335     | 0.075311     | 0.097143     |
| conf       | 1.060803     | 0.958602     | 0.772068     |
| cls        | 0.209883     | 0.166133     | 0.099825     |
| cls_acc    | 95.24%       | 95.24%       | 100.00%      |
| recall50   | 0.714286     | 0.761905     | 0.761905     |
| recall75   | 0.428571     | 0.571429     | 0.666667     |
| precision  | 0.333333     | 0.158416     | 0.060837     |
| conf_obj   | 0.776319     | 0.780005     | 0.782573     |
| conf_noobj | 0.002614     | 0.001857     | 0.001750     |
+------------+--------------+--------------+--------------+
2020-12-19 18:26:33.877 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.709937
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.056103     | 0.909740     | 0.744094     |
| x          | 0.035104     | 0.040588     | 0.048462     |
| y          | 0.020829     | 0.010146     | 0.031167     |
| w          | 0.060860     | 0.029952     | 0.014815     |
| h          | 0.039365     | 0.047787     | 0.029083     |
| conf       | 0.777763     | 0.621525     | 0.466371     |
| cls        | 0.122181     | 0.159743     | 0.154196     |
| cls_acc    | 94.12%       | 94.12%       | 94.12%       |
| recall50   | 0.823529     | 0.882353     | 0.882353     |
| recall75   | 0.352941     | 0.705882     | 0.588235     |
| precision  | 0.636364     | 0.230769     | 0.083799     |
| conf_obj   | 0.782561     | 0.859368     | 0.864563     |
| conf_noobj | 0.001802     | 0.002216     | 0.001763     |
+------------+--------------+--------------+--------------+
2020-12-19 18:27:44.029 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 4.794328
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.859848     | 1.488717     | 1.445762     |
| x          | 0.066451     | 0.015008     | 0.036604     |
| y          | 0.047294     | 0.022083     | 0.055008     |
| w          | 0.067307     | 0.037948     | 0.039913     |
| h          | 0.054000     | 0.041218     | 0.045109     |
| conf       | 0.969287     | 0.918865     | 0.774360     |
| cls        | 0.655509     | 0.453595     | 0.494768     |
| cls_acc    | 89.47%       | 85.71%       | 80.95%       |
| recall50   | 0.631579     | 0.714286     | 0.714286     |
| recall75   | 0.210526     | 0.619048     | 0.619048     |
| precision  | 0.545455     | 0.211268     | 0.068807     |
| conf_obj   | 0.690953     | 0.764892     | 0.768063     |
| conf_noobj | 0.001908     | 0.002005     | 0.002188     |
+------------+--------------+--------------+--------------+
2020-12-19 18:28:52.949 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.688122
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.018726     | 0.897483     | 0.771913     |
| x          | 0.033836     | 0.025125     | 0.036146     |
| y          | 0.024106     | 0.025182     | 0.045657     |
| w          | 0.100022     | 0.091956     | 0.077696     |
| h          | 0.102746     | 0.076425     | 0.050326     |
| conf       | 0.746355     | 0.674661     | 0.557500     |
| cls        | 0.011660     | 0.004135     | 0.004589     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.714286     | 0.782609     | 0.869565     |
| recall75   | 0.333333     | 0.521739     | 0.608696     |
| precision  | 0.535714     | 0.295082     | 0.084388     |
| conf_obj   | 0.779579     | 0.783352     | 0.875437     |
| conf_noobj | 0.001715     | 0.001518     | 0.001990     |
+------------+--------------+--------------+--------------+
2020-12-19 18:29:55.565 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 4.313332
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.716811     | 1.249084     | 1.347436     |
| x          | 0.037328     | 0.032636     | 0.028017     |
| y          | 0.019277     | 0.016231     | 0.042661     |
| w          | 0.126371     | 0.054233     | 0.050592     |
| h          | 0.053693     | 0.029720     | 0.034338     |
| conf       | 0.845684     | 0.563376     | 0.570907     |
| cls        | 0.634459     | 0.552889     | 0.620920     |
| cls_acc    | 72.00%       | 76.92%       | 81.48%       |
| recall50   | 0.560000     | 0.692308     | 0.740741     |
| recall75   | 0.400000     | 0.538462     | 0.629630     |
| precision  | 0.358974     | 0.173077     | 0.054795     |
| conf_obj   | 0.729396     | 0.840558     | 0.869105     |
| conf_noobj | 0.001980     | 0.002001     | 0.001961     |
+------------+--------------+--------------+--------------+
2020-12-19 18:30:57.395 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 4.414023
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.502897     | 1.507785     | 1.403342     |
| x          | 0.061077     | 0.048621     | 0.042654     |
| y          | 0.040138     | 0.049643     | 0.068298     |
| w          | 0.133046     | 0.095396     | 0.051785     |
| h          | 0.147883     | 0.090447     | 0.057489     |
| conf       | 1.050713     | 1.010191     | 0.986090     |
| cls        | 0.070040     | 0.213487     | 0.197025     |
| cls_acc    | 100.00%      | 87.50%       | 90.62%       |
| recall50   | 0.666667     | 0.625000     | 0.718750     |
| recall75   | 0.333333     | 0.312500     | 0.562500     |
| precision  | 0.382979     | 0.156250     | 0.057500     |
| conf_obj   | 0.717935     | 0.698938     | 0.713133     |
| conf_noobj | 0.002959     | 0.002157     | 0.002095     |
+------------+--------------+--------------+--------------+
2020-12-19 18:32:03.220 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.504620
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.012896     | 0.771634     | 0.720091     |
| x          | 0.016544     | 0.022187     | 0.026760     |
| y          | 0.018594     | 0.014009     | 0.027903     |
| w          | 0.062129     | 0.061859     | 0.025733     |
| h          | 0.083945     | 0.044273     | 0.055545     |
| conf       | 0.769844     | 0.534808     | 0.539225     |
| cls        | 0.061840     | 0.094498     | 0.044925     |
| cls_acc    | 100.00%      | 95.24%       | 100.00%      |
| recall50   | 0.809524     | 0.904762     | 0.904762     |
| recall75   | 0.619048     | 0.761905     | 0.666667     |
| precision  | 0.500000     | 0.228916     | 0.076305     |
| conf_obj   | 0.813400     | 0.903872     | 0.902416     |
| conf_noobj | 0.002202     | 0.001757     | 0.001654     |
+------------+--------------+--------------+--------------+
2020-12-19 18:33:04.871 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.743321
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.630969     | 1.116036     | 0.996316     |
| x          | 0.058753     | 0.017853     | 0.024745     |
| y          | 0.018565     | 0.015237     | 0.030918     |
| w          | 0.069591     | 0.035356     | 0.017267     |
| h          | 0.094552     | 0.038725     | 0.037176     |
| conf       | 1.306967     | 0.929110     | 0.762750     |
| cls        | 0.082540     | 0.079756     | 0.123461     |
| cls_acc    | 100.00%      | 100.00%      | 94.44%       |
| recall50   | 0.555556     | 0.666667     | 0.722222     |
| recall75   | 0.166667     | 0.555556     | 0.500000     |
| precision  | 0.588235     | 0.500000     | 0.120370     |
| conf_obj   | 0.655935     | 0.675081     | 0.746232     |
| conf_noobj | 0.002222     | 0.001105     | 0.001333     |
+------------+--------------+--------------+--------------+
2020-12-19 18:34:10.545 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.167234
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.996013     | 0.570532     | 0.600690     |
| x          | 0.029895     | 0.019287     | 0.052018     |
| y          | 0.011324     | 0.015434     | 0.037475     |
| w          | 0.051510     | 0.036308     | 0.020066     |
| h          | 0.071678     | 0.026374     | 0.028296     |
| conf       | 0.610799     | 0.358649     | 0.396828     |
| cls        | 0.220807     | 0.114479     | 0.066007     |
| cls_acc    | 85.71%       | 95.24%       | 100.00%      |
| recall50   | 0.761905     | 0.952381     | 0.954545     |
| recall75   | 0.571429     | 0.761905     | 0.727273     |
| precision  | 0.470588     | 0.298507     | 0.097674     |
| conf_obj   | 0.788878     | 0.885211     | 0.894755     |
| conf_noobj | 0.001668     | 0.001560     | 0.001680     |
+------------+--------------+--------------+--------------+
2020-12-19 18:34:13.564 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 3.461
2020-12-19 18:34:13.567 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 18:35:28.437 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.01166   | 0.21951 | 0.02214 | 0.02371 |
| 1     | Wear_helmet | 0.10952   | 0.91797 | 0.19569 | 0.71474 |
| 2     | Total       | 0.06059   | 0.56874 | 0.10891 | 0.36923 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:35:28.437 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.36922882509035787
2020-12-19 18:35:28.438 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 18:35:28.438 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:14.870785

2020-12-19 18:35:29.035 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 2/2, epo 2/5
2020-12-19 18:35:29.036 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 2/2, epo 2/5; time cost: 0:15:27.489761

2020-12-19 18:35:29.036 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 2/2, epo 3/5
2020-12-19 18:35:30.598 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.184365
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.724861     | 0.693079     | 0.766425     |
| x          | 0.042624     | 0.024271     | 0.049425     |
| y          | 0.019840     | 0.025826     | 0.032139     |
| w          | 0.041961     | 0.039151     | 0.024493     |
| h          | 0.036889     | 0.046530     | 0.031406     |
| conf       | 0.542724     | 0.506467     | 0.596073     |
| cls        | 0.040824     | 0.050834     | 0.032889     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.913043     | 0.869565     |
| recall75   | 0.478261     | 0.652174     | 0.782609     |
| precision  | 0.558824     | 0.259259     | 0.071429     |
| conf_obj   | 0.837300     | 0.819275     | 0.805565     |
| conf_noobj | 0.002012     | 0.001820     | 0.001972     |
+------------+--------------+--------------+--------------+
2020-12-19 18:36:39.878 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 4.242071
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.642775     | 1.344227     | 1.255069     |
| x          | 0.043741     | 0.023620     | 0.038878     |
| y          | 0.036661     | 0.029309     | 0.049162     |
| w          | 0.092710     | 0.065424     | 0.042804     |
| h          | 0.142229     | 0.119253     | 0.051563     |
| conf       | 1.251212     | 1.043119     | 1.007532     |
| cls        | 0.076223     | 0.063501     | 0.065130     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.724138     | 0.793103     | 0.766667     |
| recall75   | 0.413793     | 0.448276     | 0.466667     |
| precision  | 0.724138     | 0.306667     | 0.110048     |
| conf_obj   | 0.766443     | 0.770594     | 0.751923     |
| conf_noobj | 0.001481     | 0.001747     | 0.001783     |
+------------+--------------+--------------+--------------+
2020-12-19 18:37:41.935 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.460770
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.039573     | 0.765434     | 0.655764     |
| x          | 0.017259     | 0.013947     | 0.037991     |
| y          | 0.024813     | 0.047156     | 0.078462     |
| w          | 0.068233     | 0.042602     | 0.011607     |
| h          | 0.073454     | 0.019472     | 0.018463     |
| conf       | 0.745525     | 0.589951     | 0.479404     |
| cls        | 0.110289     | 0.052305     | 0.029837     |
| cls_acc    | 94.12%       | 94.12%       | 100.00%      |
| recall50   | 0.882353     | 0.705882     | 1.000000     |
| recall75   | 0.647059     | 0.647059     | 0.882353     |
| precision  | 0.500000     | 0.157895     | 0.060932     |
| conf_obj   | 0.862129     | 0.781509     | 0.852796     |
| conf_noobj | 0.002368     | 0.001882     | 0.002050     |
+------------+--------------+--------------+--------------+
2020-12-19 18:38:47.782 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.996359
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.694983     | 0.714099     | 0.587276     |
| x          | 0.020615     | 0.014932     | 0.037970     |
| y          | 0.019592     | 0.032428     | 0.037845     |
| w          | 0.050860     | 0.077660     | 0.043054     |
| h          | 0.052951     | 0.052627     | 0.049164     |
| conf       | 0.391460     | 0.404094     | 0.359824     |
| cls        | 0.159506     | 0.132358     | 0.059418     |
| cls_acc    | 89.29%       | 96.67%       | 96.67%       |
| recall50   | 0.857143     | 0.933333     | 0.966667     |
| recall75   | 0.678571     | 0.666667     | 0.600000     |
| precision  | 0.585366     | 0.297872     | 0.130631     |
| conf_obj   | 0.893542     | 0.910189     | 0.902004     |
| conf_noobj | 0.001830     | 0.001760     | 0.001563     |
+------------+--------------+--------------+--------------+
2020-12-19 18:39:57.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 3.021190
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.076605     | 1.069367     | 0.875218     |
| x          | 0.038628     | 0.044318     | 0.026421     |
| y          | 0.030686     | 0.036412     | 0.066795     |
| w          | 0.122886     | 0.032358     | 0.022333     |
| h          | 0.102016     | 0.034325     | 0.022681     |
| conf       | 0.573369     | 0.681004     | 0.491665     |
| cls        | 0.209020     | 0.240949     | 0.245323     |
| cls_acc    | 95.83%       | 92.00%       | 84.00%       |
| recall50   | 0.625000     | 0.720000     | 0.760000     |
| recall75   | 0.375000     | 0.520000     | 0.600000     |
| precision  | 0.517241     | 0.219512     | 0.068841     |
| conf_obj   | 0.790370     | 0.754921     | 0.850741     |
| conf_noobj | 0.001687     | 0.001755     | 0.001735     |
+------------+--------------+--------------+--------------+
2020-12-19 18:41:01.683 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 4.210257
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.570871     | 1.398688     | 1.240698     |
| x          | 0.046716     | 0.037802     | 0.034308     |
| y          | 0.041052     | 0.039917     | 0.047166     |
| w          | 0.096550     | 0.091049     | 0.061628     |
| h          | 0.135064     | 0.121988     | 0.098433     |
| conf       | 0.873752     | 0.711490     | 0.653062     |
| cls        | 0.377738     | 0.396442     | 0.346102     |
| cls_acc    | 78.57%       | 80.00%       | 83.33%       |
| recall50   | 0.500000     | 0.533333     | 0.666667     |
| recall75   | 0.321429     | 0.300000     | 0.400000     |
| precision  | 0.325581     | 0.210526     | 0.091324     |
| conf_obj   | 0.755581     | 0.742819     | 0.772298     |
| conf_noobj | 0.002885     | 0.002040     | 0.001806     |
+------------+--------------+--------------+--------------+
2020-12-19 18:42:04.278 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.005791
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.664650     | 0.646500     | 0.694641     |
| x          | 0.008902     | 0.010170     | 0.015707     |
| y          | 0.013048     | 0.010375     | 0.033459     |
| w          | 0.040687     | 0.042835     | 0.018023     |
| h          | 0.029162     | 0.041485     | 0.020178     |
| conf       | 0.346626     | 0.286658     | 0.386399     |
| cls        | 0.226223     | 0.254977     | 0.220876     |
| cls_acc    | 88.24%       | 88.24%       | 94.12%       |
| recall50   | 0.882353     | 0.882353     | 0.941176     |
| recall75   | 0.647059     | 0.588235     | 0.764706     |
| precision  | 0.681818     | 0.254237     | 0.079602     |
| conf_obj   | 0.930221     | 0.961558     | 0.911797     |
| conf_noobj | 0.002064     | 0.001725     | 0.001929     |
+------------+--------------+--------------+--------------+
2020-12-19 18:43:10.309 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 2.838779
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.022780     | 0.915219     | 0.900780     |
| x          | 0.022028     | 0.016290     | 0.031806     |
| y          | 0.031168     | 0.041559     | 0.064362     |
| w          | 0.087595     | 0.049709     | 0.016216     |
| h          | 0.065063     | 0.028029     | 0.041954     |
| conf       | 0.677488     | 0.682919     | 0.612411     |
| cls        | 0.139438     | 0.096712     | 0.134032     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.818182     | 0.863636     | 0.909091     |
| recall75   | 0.545455     | 0.545455     | 0.818182     |
| precision  | 0.473684     | 0.204301     | 0.065574     |
| conf_obj   | 0.824940     | 0.841586     | 0.876825     |
| conf_noobj | 0.002001     | 0.001967     | 0.001894     |
+------------+--------------+--------------+--------------+
2020-12-19 18:44:13.184 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 6.245336
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 2.310717     | 2.112130     | 1.822489     |
| x          | 0.048824     | 0.030747     | 0.037606     |
| y          | 0.041047     | 0.036225     | 0.047472     |
| w          | 0.158108     | 0.105926     | 0.075038     |
| h          | 0.180471     | 0.101149     | 0.075353     |
| conf       | 1.560658     | 1.573463     | 1.320012     |
| cls        | 0.321609     | 0.264619     | 0.267008     |
| cls_acc    | 84.62%       | 88.46%       | 88.46%       |
| recall50   | 0.615385     | 0.576923     | 0.653846     |
| recall75   | 0.153846     | 0.307692     | 0.500000     |
| precision  | 0.457143     | 0.166667     | 0.059859     |
| conf_obj   | 0.622718     | 0.592689     | 0.700359     |
| conf_noobj | 0.002037     | 0.001845     | 0.001844     |
+------------+--------------+--------------+--------------+
2020-12-19 18:45:20.154 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.943442
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.073484     | 1.040125     | 0.829833     |
| x          | 0.027911     | 0.039307     | 0.032233     |
| y          | 0.034622     | 0.030132     | 0.049551     |
| w          | 0.094335     | 0.044395     | 0.024099     |
| h          | 0.092517     | 0.066502     | 0.032846     |
| conf       | 0.755102     | 0.813377     | 0.646518     |
| cls        | 0.068996     | 0.046413     | 0.044585     |
| cls_acc    | 95.45%       | 95.83%       | 96.00%       |
| recall50   | 0.818182     | 0.833333     | 0.880000     |
| recall75   | 0.454545     | 0.583333     | 0.640000     |
| precision  | 0.642857     | 0.298507     | 0.096491     |
| conf_obj   | 0.813124     | 0.783024     | 0.824086     |
| conf_noobj | 0.001375     | 0.001316     | 0.001391     |
+------------+--------------+--------------+--------------+
2020-12-19 18:46:25.613 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 3.873434
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.337206     | 1.330698     | 1.205530     |
| x          | 0.023272     | 0.033116     | 0.045343     |
| y          | 0.019764     | 0.025524     | 0.053630     |
| w          | 0.157179     | 0.100261     | 0.069446     |
| h          | 0.110176     | 0.083084     | 0.055478     |
| conf       | 0.865129     | 0.910671     | 0.749282     |
| cls        | 0.161687     | 0.178043     | 0.232352     |
| cls_acc    | 90.00%       | 93.75%       | 93.75%       |
| recall50   | 0.733333     | 0.593750     | 0.750000     |
| recall75   | 0.566667     | 0.531250     | 0.593750     |
| precision  | 0.611111     | 0.234568     | 0.129730     |
| conf_obj   | 0.775478     | 0.705912     | 0.735959     |
| conf_noobj | 0.001570     | 0.001429     | 0.001113     |
+------------+--------------+--------------+--------------+
2020-12-19 18:47:38.151 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.831514
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.991047     | 0.957961     | 0.882506     |
| x          | 0.014390     | 0.022258     | 0.028465     |
| y          | 0.019174     | 0.013698     | 0.044087     |
| w          | 0.056322     | 0.036346     | 0.027652     |
| h          | 0.063890     | 0.053941     | 0.024851     |
| conf       | 0.578753     | 0.612139     | 0.629031     |
| cls        | 0.258518     | 0.219579     | 0.128420     |
| cls_acc    | 91.67%       | 92.00%       | 92.00%       |
| recall50   | 0.791667     | 0.840000     | 0.840000     |
| recall75   | 0.541667     | 0.760000     | 0.560000     |
| precision  | 0.527778     | 0.212121     | 0.080769     |
| conf_obj   | 0.832194     | 0.867126     | 0.877687     |
| conf_noobj | 0.001802     | 0.001778     | 0.001691     |
+------------+--------------+--------------+--------------+
2020-12-19 18:48:41.708 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.322189
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.737970     | 0.878780     | 0.705439     |
| x          | 0.019631     | 0.024333     | 0.026571     |
| y          | 0.016592     | 0.025862     | 0.046604     |
| w          | 0.057311     | 0.051950     | 0.022298     |
| h          | 0.039259     | 0.051759     | 0.014395     |
| conf       | 0.554909     | 0.704045     | 0.578629     |
| cls        | 0.050268     | 0.020830     | 0.016942     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 0.833333     | 0.900000     |
| recall75   | 0.666667     | 0.633333     | 0.766667     |
| precision  | 0.619048     | 0.274725     | 0.103053     |
| conf_obj   | 0.832480     | 0.823415     | 0.830301     |
| conf_noobj | 0.002117     | 0.001919     | 0.001661     |
+------------+--------------+--------------+--------------+
2020-12-19 18:49:40.251 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.842863
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.052265     | 0.902359     | 0.888239     |
| x          | 0.043168     | 0.051343     | 0.024715     |
| y          | 0.029695     | 0.047992     | 0.052648     |
| w          | 0.064818     | 0.012770     | 0.012193     |
| h          | 0.081790     | 0.022906     | 0.018492     |
| conf       | 0.792182     | 0.670495     | 0.700068     |
| cls        | 0.040613     | 0.096853     | 0.080122     |
| cls_acc    | 100.00%      | 100.00%      | 96.15%       |
| recall50   | 0.720000     | 0.730769     | 0.730769     |
| recall75   | 0.360000     | 0.461538     | 0.730769     |
| precision  | 0.400000     | 0.190000     | 0.069597     |
| conf_obj   | 0.771553     | 0.788792     | 0.774421     |
| conf_noobj | 0.002599     | 0.002254     | 0.001869     |
+------------+--------------+--------------+--------------+
2020-12-19 18:49:43.162 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 3.112
2020-12-19 18:49:43.165 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 18:50:45.068 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07846   | 0.16376 | 0.10609 | 0.04901 |
| 1     | Wear_helmet | 0.20969   | 0.96788 | 0.34469 | 0.83999 |
| 2     | Total       | 0.14407   | 0.56582 | 0.22539 | 0.44450 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:50:45.069 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.44450020305261695
2020-12-19 18:50:45.069 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 18:50:45.069 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:01.903661

2020-12-19 18:50:45.561 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 2/2, epo 3/5
2020-12-19 18:50:45.562 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 2/2, epo 3/5; time cost: 0:15:16.525099

2020-12-19 18:50:45.562 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 2/2, epo 4/5
2020-12-19 18:50:46.729 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.318284
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.319608     | 1.047207     | 0.951468     |
| x          | 0.014396     | 0.018168     | 0.036590     |
| y          | 0.045288     | 0.032696     | 0.047132     |
| w          | 0.123891     | 0.070229     | 0.028827     |
| h          | 0.158608     | 0.111524     | 0.045969     |
| conf       | 0.951249     | 0.760909     | 0.739721     |
| cls        | 0.026176     | 0.053681     | 0.053229     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.631579     | 0.736842     | 0.750000     |
| recall75   | 0.315789     | 0.578947     | 0.450000     |
| precision  | 0.428571     | 0.304348     | 0.095541     |
| conf_obj   | 0.720136     | 0.761683     | 0.759308     |
| conf_noobj | 0.002257     | 0.001636     | 0.001613     |
+------------+--------------+--------------+--------------+
2020-12-19 18:51:59.163 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.792143
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.965487     | 0.851112     | 0.975545     |
| x          | 0.017743     | 0.031247     | 0.040005     |
| y          | 0.045416     | 0.033586     | 0.062929     |
| w          | 0.074714     | 0.051382     | 0.077797     |
| h          | 0.103686     | 0.055687     | 0.068011     |
| conf       | 0.622567     | 0.604576     | 0.661542     |
| cls        | 0.101360     | 0.074634     | 0.065261     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.758621     | 0.781250     | 0.818182     |
| recall75   | 0.413793     | 0.437500     | 0.484848     |
| precision  | 0.647059     | 0.255102     | 0.081081     |
| conf_obj   | 0.778340     | 0.795214     | 0.838095     |
| conf_noobj | 0.001577     | 0.001910     | 0.001821     |
+------------+--------------+--------------+--------------+
2020-12-19 18:53:04.027 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.272314
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.856617     | 0.834420     | 0.581277     |
| x          | 0.059673     | 0.012816     | 0.025518     |
| y          | 0.011217     | 0.046944     | 0.067155     |
| w          | 0.055347     | 0.019493     | 0.020141     |
| h          | 0.085135     | 0.030852     | 0.023215     |
| conf       | 0.463286     | 0.688561     | 0.425888     |
| cls        | 0.181959     | 0.035754     | 0.019360     |
| cls_acc    | 94.12%       | 100.00%      | 100.00%      |
| recall50   | 0.764706     | 0.882353     | 0.941176     |
| recall75   | 0.529412     | 0.764706     | 0.823529     |
| precision  | 0.448276     | 0.178571     | 0.075472     |
| conf_obj   | 0.884482     | 0.800948     | 0.895818     |
| conf_noobj | 0.002089     | 0.002123     | 0.001774     |
+------------+--------------+--------------+--------------+
2020-12-19 18:54:04.632 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.750763
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.906022     | 0.960990     | 0.883751     |
| x          | 0.028128     | 0.014147     | 0.032697     |
| y          | 0.039949     | 0.015948     | 0.042843     |
| w          | 0.045026     | 0.044641     | 0.016742     |
| h          | 0.042671     | 0.046514     | 0.019430     |
| conf       | 0.656943     | 0.729528     | 0.686336     |
| cls        | 0.093305     | 0.110212     | 0.085704     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.727273     | 0.772727     | 0.863636     |
| recall75   | 0.454545     | 0.590909     | 0.681818     |
| precision  | 0.500000     | 0.261538     | 0.079498     |
| conf_obj   | 0.794616     | 0.775240     | 0.814729     |
| conf_noobj | 0.001943     | 0.001726     | 0.001761     |
+------------+--------------+--------------+--------------+
2020-12-19 18:55:09.719 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 4.791216
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.777003     | 1.497083     | 1.517130     |
| x          | 0.029324     | 0.033588     | 0.036921     |
| y          | 0.023218     | 0.023037     | 0.053495     |
| w          | 0.076251     | 0.026212     | 0.026590     |
| h          | 0.090874     | 0.041264     | 0.030264     |
| conf       | 0.733477     | 0.608655     | 0.565304     |
| cls        | 0.823858     | 0.764325     | 0.804556     |
| cls_acc    | 80.77%       | 77.78%       | 78.57%       |
| recall50   | 0.692308     | 0.777778     | 0.750000     |
| recall75   | 0.384615     | 0.666667     | 0.571429     |
| precision  | 0.642857     | 0.269231     | 0.095890     |
| conf_obj   | 0.765451     | 0.832335     | 0.824340     |
| conf_noobj | 0.001316     | 0.001656     | 0.001516     |
+------------+--------------+--------------+--------------+
2020-12-19 18:56:10.546 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.414891
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.934704     | 0.772432     | 0.707755     |
| x          | 0.012249     | 0.011791     | 0.045120     |
| y          | 0.011786     | 0.022447     | 0.052717     |
| w          | 0.099675     | 0.046919     | 0.027809     |
| h          | 0.095483     | 0.046125     | 0.036438     |
| conf       | 0.676141     | 0.629990     | 0.530310     |
| cls        | 0.039370     | 0.015159     | 0.015361     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.826087     | 0.869565     |
| recall75   | 0.521739     | 0.695652     | 0.739130     |
| precision  | 0.527778     | 0.211111     | 0.098522     |
| conf_obj   | 0.789856     | 0.836795     | 0.849817     |
| conf_noobj | 0.002214     | 0.001812     | 0.001659     |
+------------+--------------+--------------+--------------+
2020-12-19 18:57:18.621 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.509326
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.062818     | 0.854245     | 0.592263     |
| x          | 0.033289     | 0.029164     | 0.030900     |
| y          | 0.022918     | 0.020834     | 0.051416     |
| w          | 0.048033     | 0.016441     | 0.013594     |
| h          | 0.061346     | 0.038681     | 0.036583     |
| conf       | 0.786979     | 0.570066     | 0.335709     |
| cls        | 0.110253     | 0.179059     | 0.124061     |
| cls_acc    | 94.44%       | 94.44%       | 88.89%       |
| recall50   | 0.777778     | 0.777778     | 0.888889     |
| recall75   | 0.444444     | 0.722222     | 0.777778     |
| precision  | 0.538462     | 0.197183     | 0.097561     |
| conf_obj   | 0.803288     | 0.838398     | 0.895482     |
| conf_noobj | 0.001756     | 0.001756     | 0.001320     |
+------------+--------------+--------------+--------------+
2020-12-19 18:58:19.573 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 3.018213
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.269064     | 0.976370     | 0.772778     |
| x          | 0.019227     | 0.012356     | 0.020458     |
| y          | 0.027519     | 0.028084     | 0.046830     |
| w          | 0.140534     | 0.102739     | 0.056734     |
| h          | 0.086652     | 0.068076     | 0.039684     |
| conf       | 0.810504     | 0.590342     | 0.498877     |
| cls        | 0.184628     | 0.174773     | 0.110195     |
| cls_acc    | 90.62%       | 93.75%       | 93.94%       |
| recall50   | 0.687500     | 0.781250     | 0.909091     |
| recall75   | 0.406250     | 0.625000     | 0.727273     |
| precision  | 0.523810     | 0.328947     | 0.122449     |
| conf_obj   | 0.744880     | 0.801923     | 0.867214     |
| conf_noobj | 0.002052     | 0.001696     | 0.001664     |
+------------+--------------+--------------+--------------+
2020-12-19 18:59:23.011 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.255877
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.413633     | 0.426488     | 0.415757     |
| x          | 0.010136     | 0.019135     | 0.036927     |
| y          | 0.017189     | 0.028765     | 0.055307     |
| w          | 0.054245     | 0.017539     | 0.009615     |
| h          | 0.070133     | 0.021863     | 0.009944     |
| conf       | 0.257431     | 0.332165     | 0.297917     |
| cls        | 0.004499     | 0.007021     | 0.006047     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.933333     |
| recall75   | 0.533333     | 0.866667     | 0.933333     |
| precision  | 0.500000     | 0.156250     | 0.059574     |
| conf_obj   | 0.954455     | 0.916878     | 0.912564     |
| conf_noobj | 0.001517     | 0.001589     | 0.001284     |
+------------+--------------+--------------+--------------+
2020-12-19 19:00:26.042 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.849954
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.733837     | 0.635996     | 0.480120     |
| x          | 0.017753     | 0.011244     | 0.035215     |
| y          | 0.018656     | 0.012735     | 0.018194     |
| w          | 0.039951     | 0.020137     | 0.018435     |
| h          | 0.039162     | 0.033149     | 0.019670     |
| conf       | 0.475030     | 0.412520     | 0.305170     |
| cls        | 0.143284     | 0.146211     | 0.083437     |
| cls_acc    | 95.24%       | 95.24%       | 95.24%       |
| recall50   | 0.857143     | 0.904762     | 0.952381     |
| recall75   | 0.714286     | 0.809524     | 0.904762     |
| precision  | 0.666667     | 0.287879     | 0.090090     |
| conf_obj   | 0.869247     | 0.879226     | 0.931543     |
| conf_noobj | 0.001580     | 0.001407     | 0.001532     |
+------------+--------------+--------------+--------------+
2020-12-19 19:01:32.347 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.700084
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.667470     | 0.502628     | 0.529986     |
| x          | 0.052140     | 0.018645     | 0.030971     |
| y          | 0.024174     | 0.026705     | 0.042998     |
| w          | 0.021670     | 0.024546     | 0.029648     |
| h          | 0.035402     | 0.025988     | 0.024251     |
| conf       | 0.270527     | 0.312176     | 0.372120     |
| cls        | 0.263557     | 0.094569     | 0.029997     |
| cls_acc    | 88.00%       | 96.30%       | 100.00%      |
| recall50   | 0.840000     | 0.962963     | 0.962963     |
| recall75   | 0.520000     | 0.777778     | 0.851852     |
| precision  | 0.600000     | 0.305882     | 0.091549     |
| conf_obj   | 0.936438     | 0.954821     | 0.936202     |
| conf_noobj | 0.001466     | 0.001666     | 0.001677     |
+------------+--------------+--------------+--------------+
2020-12-19 19:02:42.364 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 7.152200
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 2.469049     | 2.419585     | 2.263566     |
| x          | 0.032774     | 0.024944     | 0.050777     |
| y          | 0.010794     | 0.029260     | 0.051994     |
| w          | 0.089898     | 0.030886     | 0.016299     |
| h          | 0.110539     | 0.053580     | 0.037683     |
| conf       | 1.710794     | 1.647839     | 1.595538     |
| cls        | 0.514250     | 0.633077     | 0.511276     |
| cls_acc    | 88.89%       | 85.71%       | 89.29%       |
| recall50   | 0.555556     | 0.607143     | 0.642857     |
| recall75   | 0.333333     | 0.321429     | 0.607143     |
| precision  | 0.555556     | 0.261538     | 0.089109     |
| conf_obj   | 0.624843     | 0.642302     | 0.686959     |
| conf_noobj | 0.001445     | 0.001414     | 0.001516     |
+------------+--------------+--------------+--------------+
2020-12-19 19:03:51.256 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.386264
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.253608     | 1.136754     | 0.995902     |
| x          | 0.020273     | 0.032965     | 0.048804     |
| y          | 0.018219     | 0.033584     | 0.030264     |
| w          | 0.081625     | 0.079065     | 0.021927     |
| h          | 0.105061     | 0.101258     | 0.015951     |
| conf       | 0.900730     | 0.767179     | 0.782935     |
| cls        | 0.127699     | 0.122702     | 0.096020     |
| cls_acc    | 95.83%       | 95.83%       | 100.00%      |
| recall50   | 0.708333     | 0.791667     | 0.875000     |
| recall75   | 0.500000     | 0.541667     | 0.750000     |
| precision  | 0.485714     | 0.204301     | 0.086420     |
| conf_obj   | 0.760093     | 0.829990     | 0.832385     |
| conf_noobj | 0.002156     | 0.002075     | 0.001444     |
+------------+--------------+--------------+--------------+
2020-12-19 19:05:00.140 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.961629
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.110984     | 0.953325     | 0.897320     |
| x          | 0.035896     | 0.033300     | 0.046905     |
| y          | 0.020924     | 0.014170     | 0.026771     |
| w          | 0.040536     | 0.047414     | 0.028273     |
| h          | 0.039581     | 0.045661     | 0.024990     |
| conf       | 0.672721     | 0.640122     | 0.598756     |
| cls        | 0.301325     | 0.172659     | 0.171626     |
| cls_acc    | 86.21%       | 90.32%       | 93.55%       |
| recall50   | 0.689655     | 0.774194     | 0.870968     |
| recall75   | 0.482759     | 0.516129     | 0.612903     |
| precision  | 0.512821     | 0.303797     | 0.106719     |
| conf_obj   | 0.830386     | 0.843400     | 0.862334     |
| conf_noobj | 0.002103     | 0.001601     | 0.001750     |
+------------+--------------+--------------+--------------+
2020-12-19 19:05:03.302 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 2.885
2020-12-19 19:05:03.306 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 19:06:10.843 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04949   | 0.32404 | 0.08587 | 0.12644 |
| 1     | Wear_helmet | 0.19527   | 0.95703 | 0.32436 | 0.88008 |
| 2     | Total       | 0.12238   | 0.64054 | 0.20512 | 0.50326 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:06:10.845 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5032622046398243
2020-12-19 19:06:10.846 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 19:06:10.847 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:07.540050

2020-12-19 19:06:11.305 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 2/2, epo 4/5
2020-12-19 19:06:11.305 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 2/2, epo 4/5; time cost: 0:15:25.743033

2020-12-19 19:06:11.306 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 2/2, epo 5/5
2020-12-19 19:06:12.574 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.522283
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.004929     | 0.845798     | 0.671556     |
| x          | 0.037691     | 0.025875     | 0.022395     |
| y          | 0.016256     | 0.019327     | 0.034730     |
| w          | 0.094690     | 0.075418     | 0.037936     |
| h          | 0.132854     | 0.142802     | 0.043705     |
| conf       | 0.634230     | 0.531671     | 0.473717     |
| cls        | 0.089207     | 0.050704     | 0.059073     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.842105     | 0.950000     |
| recall75   | 0.473684     | 0.578947     | 0.650000     |
| precision  | 0.500000     | 0.231884     | 0.080508     |
| conf_obj   | 0.828535     | 0.838405     | 0.865668     |
| conf_noobj | 0.002317     | 0.001723     | 0.001792     |
+------------+--------------+--------------+--------------+
2020-12-19 19:07:29.199 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 4.870447
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.731142     | 1.646866     | 1.492439     |
| x          | 0.033208     | 0.037839     | 0.043571     |
| y          | 0.026510     | 0.036964     | 0.051273     |
| w          | 0.341896     | 0.241696     | 0.030517     |
| h          | 0.267056     | 0.218372     | 0.026494     |
| conf       | 0.898574     | 0.909907     | 1.135269     |
| cls        | 0.163898     | 0.202088     | 0.205315     |
| cls_acc    | 90.91%       | 86.36%       | 86.36%       |
| recall50   | 0.727273     | 0.772727     | 0.772727     |
| recall75   | 0.363636     | 0.636364     | 0.590909     |
| precision  | 0.551724     | 0.220779     | 0.075221     |
| conf_obj   | 0.691441     | 0.756314     | 0.766482     |
| conf_noobj | 0.001584     | 0.001440     | 0.001484     |
+------------+--------------+--------------+--------------+
2020-12-19 19:08:37.549 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 3.360662
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.343023     | 0.984983     | 1.032656     |
| x          | 0.024444     | 0.026820     | 0.048147     |
| y          | 0.017802     | 0.017894     | 0.061984     |
| w          | 0.156008     | 0.058629     | 0.061220     |
| h          | 0.054894     | 0.042944     | 0.047968     |
| conf       | 0.967550     | 0.708873     | 0.607468     |
| cls        | 0.122325     | 0.129823     | 0.205868     |
| cls_acc    | 96.00%       | 100.00%      | 88.46%       |
| recall50   | 0.600000     | 0.807692     | 0.769231     |
| recall75   | 0.520000     | 0.653846     | 0.500000     |
| precision  | 0.576923     | 0.235955     | 0.079681     |
| conf_obj   | 0.696415     | 0.818669     | 0.841377     |
| conf_noobj | 0.001348     | 0.001508     | 0.001518     |
+------------+--------------+--------------+--------------+
2020-12-19 19:09:41.253 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.068043
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.311186     | 0.374851     | 0.382006     |
| x          | 0.004460     | 0.010002     | 0.018096     |
| y          | 0.013169     | 0.033927     | 0.053475     |
| w          | 0.015448     | 0.016038     | 0.009978     |
| h          | 0.020748     | 0.027695     | 0.004862     |
| conf       | 0.244315     | 0.278065     | 0.291083     |
| cls        | 0.013047     | 0.009125     | 0.004513     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.928571     | 1.000000     |
| recall75   | 0.928571     | 0.928571     | 1.000000     |
| precision  | 0.636364     | 0.216667     | 0.074866     |
| conf_obj   | 0.980378     | 0.947838     | 0.940834     |
| conf_noobj | 0.001572     | 0.001478     | 0.001433     |
+------------+--------------+--------------+--------------+
2020-12-19 19:10:45.158 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.748549
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.004424     | 0.948645     | 0.795481     |
| x          | 0.021398     | 0.042494     | 0.057342     |
| y          | 0.011658     | 0.020820     | 0.058540     |
| w          | 0.061817     | 0.060765     | 0.020269     |
| h          | 0.102076     | 0.090171     | 0.034223     |
| conf       | 0.377799     | 0.375189     | 0.365426     |
| cls        | 0.429676     | 0.359205     | 0.259682     |
| cls_acc    | 78.26%       | 79.17%       | 83.33%       |
| recall50   | 0.782609     | 0.708333     | 0.750000     |
| recall75   | 0.521739     | 0.666667     | 0.708333     |
| precision  | 0.428571     | 0.146552     | 0.050847     |
| conf_obj   | 0.910604     | 0.905665     | 0.931676     |
| conf_noobj | 0.001707     | 0.001709     | 0.001672     |
+------------+--------------+--------------+--------------+
2020-12-19 19:11:52.938 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.777948
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.101409     | 0.888606     | 0.787934     |
| x          | 0.030182     | 0.048868     | 0.047443     |
| y          | 0.035907     | 0.035509     | 0.051782     |
| w          | 0.113950     | 0.031357     | 0.024546     |
| h          | 0.116680     | 0.037836     | 0.021132     |
| conf       | 0.720828     | 0.655945     | 0.541843     |
| cls        | 0.083861     | 0.079090     | 0.101188     |
| cls_acc    | 96.97%       | 97.14%       | 97.22%       |
| recall50   | 0.727273     | 0.800000     | 0.833333     |
| recall75   | 0.484848     | 0.685714     | 0.694444     |
| precision  | 0.452830     | 0.237288     | 0.093750     |
| conf_obj   | 0.764124     | 0.823371     | 0.847071     |
| conf_noobj | 0.001904     | 0.001653     | 0.001395     |
+------------+--------------+--------------+--------------+
2020-12-19 19:13:01.536 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.590789
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.658477     | 0.451126     | 0.481186     |
| x          | 0.015591     | 0.014333     | 0.028563     |
| y          | 0.020816     | 0.015085     | 0.031170     |
| w          | 0.114859     | 0.048885     | 0.021135     |
| h          | 0.059782     | 0.034757     | 0.016466     |
| conf       | 0.435453     | 0.330543     | 0.378743     |
| cls        | 0.011976     | 0.007522     | 0.005107     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 0.913043     |
| recall75   | 0.565217     | 0.739130     | 0.826087     |
| precision  | 0.647059     | 0.323944     | 0.112299     |
| conf_obj   | 0.883647     | 0.913445     | 0.908639     |
| conf_noobj | 0.001640     | 0.001501     | 0.001281     |
+------------+--------------+--------------+--------------+
2020-12-19 19:14:03.471 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 2.698195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.931020     | 0.938952     | 0.828223     |
| x          | 0.015175     | 0.027788     | 0.025718     |
| y          | 0.027011     | 0.020324     | 0.029003     |
| w          | 0.092661     | 0.108976     | 0.045864     |
| h          | 0.045241     | 0.019817     | 0.014926     |
| conf       | 0.666966     | 0.668847     | 0.611801     |
| cls        | 0.083966     | 0.093200     | 0.100912     |
| cls_acc    | 95.83%       | 96.15%       | 96.15%       |
| recall50   | 0.791667     | 0.730769     | 0.884615     |
| recall75   | 0.583333     | 0.653846     | 0.807692     |
| precision  | 0.655172     | 0.322034     | 0.144654     |
| conf_obj   | 0.759069     | 0.758603     | 0.860273     |
| conf_noobj | 0.001394     | 0.001323     | 0.001222     |
+------------+--------------+--------------+--------------+
2020-12-19 19:15:08.129 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.907813
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.764693     | 0.588143     | 0.554977     |
| x          | 0.009049     | 0.016521     | 0.026716     |
| y          | 0.017166     | 0.032489     | 0.047448     |
| w          | 0.041810     | 0.036005     | 0.029791     |
| h          | 0.036471     | 0.040308     | 0.037151     |
| conf       | 0.601442     | 0.446596     | 0.388701     |
| cls        | 0.058755     | 0.016224     | 0.025170     |
| cls_acc    | 96.67%       | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.933333     |
| recall75   | 0.766667     | 0.766667     | 0.733333     |
| precision  | 0.750000     | 0.300000     | 0.115702     |
| conf_obj   | 0.858489     | 0.869794     | 0.902143     |
| conf_noobj | 0.001963     | 0.001719     | 0.001535     |
+------------+--------------+--------------+--------------+
2020-12-19 19:16:11.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.100862
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.708471     | 0.692180     | 0.700211     |
| x          | 0.022850     | 0.020054     | 0.059459     |
| y          | 0.013875     | 0.022212     | 0.027728     |
| w          | 0.022216     | 0.044166     | 0.039147     |
| h          | 0.038367     | 0.035795     | 0.022111     |
| conf       | 0.431365     | 0.461521     | 0.456286     |
| cls        | 0.179799     | 0.108431     | 0.095480     |
| cls_acc    | 90.91%       | 97.14%       | 97.14%       |
| recall50   | 0.878788     | 0.885714     | 0.857143     |
| recall75   | 0.636364     | 0.657143     | 0.714286     |
| precision  | 0.644444     | 0.329787     | 0.119048     |
| conf_obj   | 0.871967     | 0.878185     | 0.884529     |
| conf_noobj | 0.001921     | 0.001710     | 0.001739     |
+------------+--------------+--------------+--------------+
2020-12-19 19:17:16.469 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 3.538036
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.408627     | 1.191683     | 0.937726     |
| x          | 0.024963     | 0.028759     | 0.051382     |
| y          | 0.020438     | 0.017380     | 0.065293     |
| w          | 0.047868     | 0.139157     | 0.024494     |
| h          | 0.058876     | 0.118086     | 0.019940     |
| conf       | 1.066102     | 0.781914     | 0.718014     |
| cls        | 0.190382     | 0.106387     | 0.058603     |
| cls_acc    | 91.67%       | 95.83%       | 100.00%      |
| recall50   | 0.791667     | 0.791667     | 0.833333     |
| recall75   | 0.666667     | 0.583333     | 0.708333     |
| precision  | 0.487179     | 0.237500     | 0.090498     |
| conf_obj   | 0.749489     | 0.762025     | 0.796487     |
| conf_noobj | 0.002225     | 0.001641     | 0.001420     |
+------------+--------------+--------------+--------------+
2020-12-19 19:18:20.812 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.250712
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.718116     | 0.659119     | 0.873478     |
| x          | 0.010638     | 0.018233     | 0.023839     |
| y          | 0.038796     | 0.041973     | 0.030416     |
| w          | 0.064600     | 0.026866     | 0.040302     |
| h          | 0.064974     | 0.035118     | 0.049194     |
| conf       | 0.455517     | 0.488273     | 0.688536     |
| cls        | 0.083591     | 0.048657     | 0.041190     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.850000     | 0.857143     |
| recall75   | 0.578947     | 0.700000     | 0.714286     |
| precision  | 0.545455     | 0.232877     | 0.092308     |
| conf_obj   | 0.903871     | 0.898788     | 0.836406     |
| conf_noobj | 0.002161     | 0.001902     | 0.001651     |
+------------+--------------+--------------+--------------+
2020-12-19 19:19:22.623 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.282490
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.958473     | 0.684373     | 0.639644     |
| x          | 0.008894     | 0.011522     | 0.019512     |
| y          | 0.025469     | 0.016634     | 0.030784     |
| w          | 0.096877     | 0.026941     | 0.017580     |
| h          | 0.123048     | 0.047201     | 0.016403     |
| conf       | 0.417530     | 0.431725     | 0.384994     |
| cls        | 0.286655     | 0.150350     | 0.170371     |
| cls_acc    | 88.00%       | 96.00%       | 92.31%       |
| recall50   | 0.880000     | 0.880000     | 0.923077     |
| recall75   | 0.640000     | 0.800000     | 0.807692     |
| precision  | 0.578947     | 0.293333     | 0.123711     |
| conf_obj   | 0.889952     | 0.852347     | 0.884330     |
| conf_noobj | 0.001807     | 0.001520     | 0.001330     |
+------------+--------------+--------------+--------------+
2020-12-19 19:20:27.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.788902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.911811     | 0.932744     | 0.944348     |
| x          | 0.006690     | 0.013918     | 0.031683     |
| y          | 0.008242     | 0.018425     | 0.035127     |
| w          | 0.051005     | 0.035433     | 0.013967     |
| h          | 0.019210     | 0.022922     | 0.024046     |
| conf       | 0.586943     | 0.628895     | 0.674765     |
| cls        | 0.239721     | 0.213150     | 0.164759     |
| cls_acc    | 95.00%       | 95.24%       | 95.24%       |
| recall50   | 0.850000     | 0.809524     | 0.809524     |
| recall75   | 0.800000     | 0.809524     | 0.714286     |
| precision  | 0.459459     | 0.197674     | 0.080189     |
| conf_obj   | 0.838230     | 0.833082     | 0.804572     |
| conf_noobj | 0.002048     | 0.001932     | 0.001368     |
+------------+--------------+--------------+--------------+
2020-12-19 19:20:31.072 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 2.640
2020-12-19 19:20:31.076 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 19:21:32.975 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02596   | 0.25784 | 0.04716 | 0.09596 |
| 1     | Wear_helmet | 0.13810   | 0.97439 | 0.24192 | 0.88747 |
| 2     | Total       | 0.08203   | 0.61612 | 0.14454 | 0.49171 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:21:32.975 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.49171073886229233
2020-12-19 19:21:32.976 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 19:21:32.976 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:01.899689

2020-12-19 19:21:33.505 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 2/2, epo 5/5
2020-12-19 19:21:33.506 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 2/2, epo 5/5; time cost: 0:15:22.199608

2020-12-19 19:21:33.506 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 3.589
2020-12-19 19:21:33.759 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-19 19:26:10.410 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03833   | 0.41338 | 0.07016 | 0.22395 |
| 1     | Wear_helmet | 0.13695   | 0.92165 | 0.23846 | 0.77828 |
| 2     | Total       | 0.08764   | 0.66751 | 0.15431 | 0.50112 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:26:10.411 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5011157386176306
2020-12-19 19:26:10.411 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-19 19:26:10.411 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:36.651788

2020-12-19 19:27:15.974 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 3!
2020-12-19 19:27:16.121 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 2/2, epo 1/5
2020-12-19 19:27:17.882 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.905811
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.388960     | 1.346295     | 1.170557     |
| x          | 0.025072     | 0.028133     | 0.024898     |
| y          | 0.026213     | 0.020499     | 0.037062     |
| w          | 0.095026     | 0.044938     | 0.046671     |
| h          | 0.094284     | 0.031610     | 0.024246     |
| conf       | 0.894409     | 0.936057     | 0.702112     |
| cls        | 0.253955     | 0.285058     | 0.335568     |
| cls_acc    | 96.30%       | 96.30%       | 96.43%       |
| recall50   | 0.777778     | 0.814815     | 0.857143     |
| recall75   | 0.333333     | 0.666667     | 0.714286     |
| precision  | 0.381818     | 0.150685     | 0.078947     |
| conf_obj   | 0.849258     | 0.879571     | 0.868321     |
| conf_noobj | 0.002841     | 0.002551     | 0.001533     |
+------------+--------------+--------------+--------------+
2020-12-19 19:28:21.663 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 5.645689
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 2.194556     | 1.917713     | 1.533421     |
| x          | 0.044259     | 0.046350     | 0.056862     |
| y          | 0.033545     | 0.023735     | 0.042832     |
| w          | 0.338022     | 0.121618     | 0.039509     |
| h          | 0.224932     | 0.075517     | 0.032475     |
| conf       | 1.489409     | 1.628379     | 1.347026     |
| cls        | 0.064390     | 0.022114     | 0.014716     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 0.727273     | 0.818182     |
| recall75   | 0.545455     | 0.636364     | 0.818182     |
| precision  | 0.300000     | 0.095238     | 0.028302     |
| conf_obj   | 0.753076     | 0.744946     | 0.815436     |
| conf_noobj | 0.003219     | 0.002378     | 0.001978     |
+------------+--------------+--------------+--------------+
2020-12-19 19:29:24.758 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 3.483715
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.451078     | 1.158887     | 0.873751     |
| x          | 0.032913     | 0.029171     | 0.042843     |
| y          | 0.031461     | 0.043795     | 0.033644     |
| w          | 0.273829     | 0.048004     | 0.029466     |
| h          | 0.257916     | 0.090788     | 0.036807     |
| conf       | 0.623847     | 0.768557     | 0.576456     |
| cls        | 0.231112     | 0.178572     | 0.154535     |
| cls_acc    | 89.29%       | 90.00%       | 93.33%       |
| recall50   | 0.785714     | 0.800000     | 0.866667     |
| recall75   | 0.321429     | 0.566667     | 0.733333     |
| precision  | 0.628571     | 0.263736     | 0.103175     |
| conf_obj   | 0.812025     | 0.818700     | 0.859292     |
| conf_noobj | 0.001600     | 0.001869     | 0.001851     |
+------------+--------------+--------------+--------------+
2020-12-19 19:30:33.018 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 3.370927
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.369547     | 1.020703     | 0.980677     |
| x          | 0.040664     | 0.025158     | 0.036313     |
| y          | 0.036667     | 0.024628     | 0.037775     |
| w          | 0.066963     | 0.084548     | 0.032061     |
| h          | 0.063369     | 0.072984     | 0.032061     |
| conf       | 0.807434     | 0.620444     | 0.549748     |
| cls        | 0.354449     | 0.192942     | 0.292719     |
| cls_acc    | 84.21%       | 89.47%       | 89.47%       |
| recall50   | 0.578947     | 0.736842     | 0.789474     |
| recall75   | 0.315789     | 0.526316     | 0.473684     |
| precision  | 0.333333     | 0.222222     | 0.061475     |
| conf_obj   | 0.760114     | 0.760912     | 0.790404     |
| conf_noobj | 0.002249     | 0.001511     | 0.001698     |
+------------+--------------+--------------+--------------+
2020-12-19 19:31:35.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.073616
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.764156     | 0.658287     | 0.651174     |
| x          | 0.030229     | 0.029116     | 0.031257     |
| y          | 0.016631     | 0.044884     | 0.043891     |
| w          | 0.051545     | 0.028289     | 0.020368     |
| h          | 0.051929     | 0.046798     | 0.020131     |
| conf       | 0.560764     | 0.438109     | 0.494945     |
| cls        | 0.053058     | 0.071091     | 0.040582     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.909091     | 0.909091     |
| recall75   | 0.600000     | 0.454545     | 0.727273     |
| precision  | 0.566667     | 0.253165     | 0.091324     |
| conf_obj   | 0.854726     | 0.864244     | 0.871192     |
| conf_noobj | 0.002666     | 0.001938     | 0.002037     |
+------------+--------------+--------------+--------------+
2020-12-19 19:32:36.603 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 3.411088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.207670     | 0.929863     | 1.273555     |
| x          | 0.031446     | 0.040497     | 0.061261     |
| y          | 0.015609     | 0.008219     | 0.025149     |
| w          | 0.045481     | 0.082737     | 0.185830     |
| h          | 0.098060     | 0.087466     | 0.237682     |
| conf       | 0.971112     | 0.690843     | 0.746041     |
| cls        | 0.045963     | 0.020101     | 0.017592     |
| cls_acc    | 96.15%       | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.884615     | 0.888889     |
| recall75   | 0.500000     | 0.500000     | 0.666667     |
| precision  | 0.521739     | 0.244681     | 0.098361     |
| conf_obj   | 0.880431     | 0.880061     | 0.848732     |
| conf_noobj | 0.003127     | 0.002144     | 0.002014     |
+------------+--------------+--------------+--------------+
2020-12-19 19:33:45.132 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 3.404847
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.189652     | 1.264120     | 0.951075     |
| x          | 0.038412     | 0.031931     | 0.058470     |
| y          | 0.034548     | 0.023300     | 0.043638     |
| w          | 0.116481     | 0.029638     | 0.011181     |
| h          | 0.123699     | 0.055766     | 0.029753     |
| conf       | 0.838809     | 1.114195     | 0.791178     |
| cls        | 0.037702     | 0.009291     | 0.016856     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.809524     | 0.761905     | 0.904762     |
| recall75   | 0.333333     | 0.666667     | 0.619048     |
| precision  | 0.566667     | 0.222222     | 0.078189     |
| conf_obj   | 0.809244     | 0.722039     | 0.850537     |
| conf_noobj | 0.001663     | 0.001331     | 0.001423     |
+------------+--------------+--------------+--------------+
2020-12-19 19:34:46.629 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 4.540616
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.541470     | 1.417879     | 1.581267     |
| x          | 0.019898     | 0.023668     | 0.046592     |
| y          | 0.033211     | 0.037401     | 0.044595     |
| w          | 0.091093     | 0.062514     | 0.065248     |
| h          | 0.119902     | 0.041408     | 0.101234     |
| conf       | 1.221073     | 1.188482     | 1.227708     |
| cls        | 0.056293     | 0.064406     | 0.095890     |
| cls_acc    | 100.00%      | 100.00%      | 94.44%       |
| recall50   | 0.722222     | 0.777778     | 0.777778     |
| recall75   | 0.444444     | 0.666667     | 0.666667     |
| precision  | 0.260000     | 0.116667     | 0.055336     |
| conf_obj   | 0.733742     | 0.755946     | 0.693324     |
| conf_noobj | 0.003536     | 0.003191     | 0.001691     |
+------------+--------------+--------------+--------------+
2020-12-19 19:35:52.372 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.876587
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.082555     | 0.927154     | 0.866879     |
| x          | 0.015810     | 0.029210     | 0.039937     |
| y          | 0.013709     | 0.019016     | 0.045221     |
| w          | 0.057079     | 0.055321     | 0.054260     |
| h          | 0.031803     | 0.038543     | 0.051816     |
| conf       | 0.653985     | 0.455411     | 0.391913     |
| cls        | 0.310170     | 0.329652     | 0.283732     |
| cls_acc    | 81.82%       | 90.91%       | 90.91%       |
| recall50   | 0.772727     | 0.863636     | 0.909091     |
| recall75   | 0.636364     | 0.636364     | 0.590909     |
| precision  | 0.500000     | 0.204301     | 0.075472     |
| conf_obj   | 0.788210     | 0.893663     | 0.929445     |
| conf_noobj | 0.002373     | 0.001997     | 0.002045     |
+------------+--------------+--------------+--------------+
2020-12-19 19:37:00.276 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.614242
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.944335     | 0.877898     | 0.792008     |
| x          | 0.023922     | 0.014664     | 0.017715     |
| y          | 0.017484     | 0.015629     | 0.031873     |
| w          | 0.092129     | 0.077564     | 0.019377     |
| h          | 0.074805     | 0.082284     | 0.024223     |
| conf       | 0.631533     | 0.617678     | 0.642979     |
| cls        | 0.104462     | 0.070079     | 0.055840     |
| cls_acc    | 91.67%       | 95.83%       | 100.00%      |
| recall50   | 0.833333     | 0.833333     | 0.875000     |
| recall75   | 0.416667     | 0.708333     | 0.833333     |
| precision  | 0.689655     | 0.363636     | 0.112903     |
| conf_obj   | 0.809039     | 0.848190     | 0.842496     |
| conf_noobj | 0.001214     | 0.001049     | 0.001230     |
+------------+--------------+--------------+--------------+
2020-12-19 19:38:00.404 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 3.612566
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.334102     | 1.130217     | 1.148247     |
| x          | 0.028005     | 0.019979     | 0.034269     |
| y          | 0.052392     | 0.029620     | 0.050936     |
| w          | 0.065309     | 0.067790     | 0.075876     |
| h          | 0.068460     | 0.068987     | 0.097410     |
| conf       | 0.927861     | 0.781429     | 0.659567     |
| cls        | 0.192074     | 0.162412     | 0.230190     |
| cls_acc    | 92.86%       | 90.32%       | 84.38%       |
| recall50   | 0.785714     | 0.774194     | 0.781250     |
| recall75   | 0.571429     | 0.612903     | 0.531250     |
| precision  | 0.550000     | 0.275862     | 0.081967     |
| conf_obj   | 0.756017     | 0.770557     | 0.825034     |
| conf_noobj | 0.001714     | 0.001764     | 0.001811     |
+------------+--------------+--------------+--------------+
2020-12-19 19:39:07.661 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.659099
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.183049     | 0.761814     | 0.714236     |
| x          | 0.011680     | 0.027150     | 0.051241     |
| y          | 0.023876     | 0.030769     | 0.035345     |
| w          | 0.114742     | 0.066195     | 0.016354     |
| h          | 0.131465     | 0.098260     | 0.057461     |
| conf       | 0.847537     | 0.475543     | 0.422908     |
| cls        | 0.053749     | 0.063897     | 0.130926     |
| cls_acc    | 100.00%      | 95.00%       | 95.00%       |
| recall50   | 0.850000     | 0.800000     | 0.850000     |
| recall75   | 0.450000     | 0.800000     | 0.700000     |
| precision  | 0.283333     | 0.144144     | 0.054313     |
| conf_obj   | 0.872651     | 0.905173     | 0.895745     |
| conf_noobj | 0.003979     | 0.002347     | 0.001825     |
+------------+--------------+--------------+--------------+
2020-12-19 19:40:12.737 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 5.330675
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 2.065845     | 1.583842     | 1.680987     |
| x          | 0.021733     | 0.030918     | 0.056951     |
| y          | 0.022016     | 0.039407     | 0.038866     |
| w          | 0.115443     | 0.036326     | 0.049718     |
| h          | 0.111560     | 0.081595     | 0.048477     |
| conf       | 1.657159     | 1.284795     | 1.354377     |
| cls        | 0.137934     | 0.110802     | 0.132598     |
| cls_acc    | 100.00%      | 96.15%       | 92.31%       |
| recall50   | 0.653846     | 0.692308     | 0.692308     |
| recall75   | 0.192308     | 0.461538     | 0.461538     |
| precision  | 0.515152     | 0.272727     | 0.074074     |
| conf_obj   | 0.630234     | 0.672829     | 0.680914     |
| conf_noobj | 0.001571     | 0.001355     | 0.001795     |
+------------+--------------+--------------+--------------+
2020-12-19 19:41:18.617 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 3.072198
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.030076     | 0.978163     | 1.063958     |
| x          | 0.017892     | 0.012901     | 0.029122     |
| y          | 0.018325     | 0.019236     | 0.041498     |
| w          | 0.102003     | 0.071457     | 0.019662     |
| h          | 0.123559     | 0.103157     | 0.035463     |
| conf       | 0.721568     | 0.689335     | 0.839362     |
| cls        | 0.046729     | 0.082077     | 0.098850     |
| cls_acc    | 100.00%      | 93.55%       | 96.77%       |
| recall50   | 0.774194     | 0.709677     | 0.806452     |
| recall75   | 0.580645     | 0.612903     | 0.645161     |
| precision  | 0.685714     | 0.220000     | 0.094697     |
| conf_obj   | 0.752452     | 0.778497     | 0.763443     |
| conf_noobj | 0.001301     | 0.001860     | 0.001651     |
+------------+--------------+--------------+--------------+
2020-12-19 19:41:22.033 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 3.295
2020-12-19 19:41:22.036 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 19:42:24.152 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04856   | 0.27526 | 0.08255 | 0.10475 |
| 1     | Wear_helmet | 0.23046   | 0.94835 | 0.37081 | 0.82439 |
| 2     | Total       | 0.13951   | 0.61181 | 0.22668 | 0.46457 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:42:24.153 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.46457043661908126
2020-12-19 19:42:24.153 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 19:42:24.153 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:02.117165

2020-12-19 19:42:24.569 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 2/2, epo 1/5
2020-12-19 19:42:24.569 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 2/2, epo 1/5; time cost: 0:15:08.448300

2020-12-19 19:42:24.570 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 2/2, epo 2/5
2020-12-19 19:42:25.944 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.333009
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.255618     | 0.943349     | 1.134042     |
| x          | 0.024891     | 0.030975     | 0.071915     |
| y          | 0.024878     | 0.050757     | 0.089518     |
| w          | 0.025139     | 0.013090     | 0.023497     |
| h          | 0.028114     | 0.013629     | 0.027232     |
| conf       | 1.028160     | 0.671789     | 0.681828     |
| cls        | 0.124436     | 0.163108     | 0.240053     |
| cls_acc    | 100.00%      | 94.12%       | 82.35%       |
| recall50   | 0.823529     | 0.764706     | 0.647059     |
| recall75   | 0.647059     | 0.764706     | 0.529412     |
| precision  | 0.341463     | 0.173333     | 0.062147     |
| conf_obj   | 0.808162     | 0.796916     | 0.783474     |
| conf_noobj | 0.002509     | 0.001915     | 0.001445     |
+------------+--------------+--------------+--------------+
2020-12-19 19:43:33.401 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.503665
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.961227     | 0.766249     | 0.776189     |
| x          | 0.037177     | 0.028747     | 0.038801     |
| y          | 0.037627     | 0.034136     | 0.030113     |
| w          | 0.101056     | 0.049100     | 0.041963     |
| h          | 0.103115     | 0.076516     | 0.063915     |
| conf       | 0.645332     | 0.503966     | 0.501854     |
| cls        | 0.036920     | 0.073783     | 0.099544     |
| cls_acc    | 100.00%      | 100.00%      | 96.15%       |
| recall50   | 0.833333     | 0.880000     | 0.846154     |
| recall75   | 0.375000     | 0.600000     | 0.692308     |
| precision  | 0.625000     | 0.297297     | 0.084291     |
| conf_obj   | 0.810746     | 0.872352     | 0.857903     |
| conf_noobj | 0.001775     | 0.001505     | 0.001621     |
+------------+--------------+--------------+--------------+
2020-12-19 19:44:37.035 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.198277
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.814212     | 0.702986     | 0.681079     |
| x          | 0.030489     | 0.025183     | 0.042746     |
| y          | 0.010888     | 0.016695     | 0.022065     |
| w          | 0.033733     | 0.068220     | 0.015591     |
| h          | 0.068390     | 0.045712     | 0.008771     |
| conf       | 0.649171     | 0.516799     | 0.565201     |
| cls        | 0.021541     | 0.030376     | 0.026705     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.904762     | 0.857143     |
| recall75   | 0.523810     | 0.714286     | 0.809524     |
| precision  | 0.514286     | 0.243590     | 0.102273     |
| conf_obj   | 0.854570     | 0.881148     | 0.872453     |
| conf_noobj | 0.002193     | 0.001592     | 0.001353     |
+------------+--------------+--------------+--------------+
2020-12-19 19:45:42.680 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.383154
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.845030     | 0.866606     | 0.671518     |
| x          | 0.014788     | 0.020147     | 0.046434     |
| y          | 0.026231     | 0.030367     | 0.040282     |
| w          | 0.112663     | 0.137242     | 0.078728     |
| h          | 0.064132     | 0.097031     | 0.052445     |
| conf       | 0.514050     | 0.443743     | 0.339099     |
| cls        | 0.113165     | 0.138076     | 0.114529     |
| cls_acc    | 100.00%      | 96.15%       | 96.15%       |
| recall50   | 0.833333     | 0.769231     | 0.884615     |
| recall75   | 0.583333     | 0.653846     | 0.461538     |
| precision  | 0.666667     | 0.303030     | 0.112745     |
| conf_obj   | 0.850128     | 0.866157     | 0.909222     |
| conf_noobj | 0.001845     | 0.001616     | 0.001484     |
+------------+--------------+--------------+--------------+
2020-12-19 19:46:45.222 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.879118
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.014926     | 0.991029     | 0.873163     |
| x          | 0.020014     | 0.016701     | 0.030637     |
| y          | 0.018147     | 0.043930     | 0.051659     |
| w          | 0.112314     | 0.042338     | 0.027576     |
| h          | 0.086093     | 0.048669     | 0.028399     |
| conf       | 0.757071     | 0.808294     | 0.544036     |
| cls        | 0.021287     | 0.031096     | 0.190857     |
| cls_acc    | 100.00%      | 100.00%      | 96.00%       |
| recall50   | 0.800000     | 0.800000     | 0.800000     |
| recall75   | 0.440000     | 0.600000     | 0.600000     |
| precision  | 0.444444     | 0.188679     | 0.062696     |
| conf_obj   | 0.769321     | 0.761624     | 0.837095     |
| conf_noobj | 0.002244     | 0.002001     | 0.001800     |
+------------+--------------+--------------+--------------+
2020-12-19 19:47:53.345 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 4.514453
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.724516     | 1.240914     | 1.549023     |
| x          | 0.018659     | 0.027728     | 0.076206     |
| y          | 0.005720     | 0.053543     | 0.041400     |
| w          | 0.049274     | 0.042757     | 0.046727     |
| h          | 0.045475     | 0.079033     | 0.077358     |
| conf       | 0.976977     | 0.580641     | 0.817271     |
| cls        | 0.628411     | 0.457213     | 0.490062     |
| cls_acc    | 87.50%       | 87.50%       | 88.24%       |
| recall50   | 0.562500     | 0.750000     | 0.647059     |
| recall75   | 0.437500     | 0.562500     | 0.411765     |
| precision  | 0.333333     | 0.200000     | 0.045267     |
| conf_obj   | 0.718032     | 0.806254     | 0.776688     |
| conf_noobj | 0.001666     | 0.001313     | 0.001481     |
+------------+--------------+--------------+--------------+
2020-12-19 19:49:01.885 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.473553
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.952628     | 0.664289     | 0.856636     |
| x          | 0.009257     | 0.012911     | 0.031552     |
| y          | 0.010700     | 0.021065     | 0.047698     |
| w          | 0.086296     | 0.026205     | 0.030467     |
| h          | 0.084576     | 0.025914     | 0.015802     |
| conf       | 0.447100     | 0.321762     | 0.447333     |
| cls        | 0.314700     | 0.256432     | 0.283783     |
| cls_acc    | 92.86%       | 96.43%       | 96.55%       |
| recall50   | 0.821429     | 0.892857     | 0.931035     |
| recall75   | 0.678571     | 0.750000     | 0.758621     |
| precision  | 0.696970     | 0.403226     | 0.143617     |
| conf_obj   | 0.828893     | 0.876899     | 0.890643     |
| conf_noobj | 0.001376     | 0.001177     | 0.001339     |
+------------+--------------+--------------+--------------+
2020-12-19 19:50:10.517 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 2.030826
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.805160     | 0.679543     | 0.546123     |
| x          | 0.025353     | 0.023818     | 0.017559     |
| y          | 0.028789     | 0.036391     | 0.042490     |
| w          | 0.082130     | 0.047103     | 0.020809     |
| h          | 0.059739     | 0.035307     | 0.013005     |
| conf       | 0.532353     | 0.462591     | 0.381330     |
| cls        | 0.076795     | 0.074332     | 0.070931     |
| cls_acc    | 96.43%       | 96.43%       | 96.43%       |
| recall50   | 0.821429     | 0.821429     | 0.892857     |
| recall75   | 0.535714     | 0.714286     | 0.821429     |
| precision  | 0.534884     | 0.258427     | 0.101626     |
| conf_obj   | 0.848431     | 0.843645     | 0.892574     |
| conf_noobj | 0.001802     | 0.001370     | 0.001445     |
+------------+--------------+--------------+--------------+
2020-12-19 19:51:14.771 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 3.309533
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.249118     | 1.062632     | 0.997783     |
| x          | 0.027522     | 0.021593     | 0.023646     |
| y          | 0.046755     | 0.029576     | 0.036582     |
| w          | 0.125200     | 0.083123     | 0.027394     |
| h          | 0.125731     | 0.088289     | 0.021786     |
| conf       | 0.861469     | 0.795803     | 0.858471     |
| cls        | 0.062442     | 0.044248     | 0.029904     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.684211     | 0.789474     | 0.684211     |
| recall75   | 0.421053     | 0.631579     | 0.631579     |
| precision  | 0.406250     | 0.147059     | 0.051383     |
| conf_obj   | 0.732407     | 0.749825     | 0.716255     |
| conf_noobj | 0.002475     | 0.002375     | 0.001925     |
+------------+--------------+--------------+--------------+
2020-12-19 19:52:18.658 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.794055
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.709926     | 0.591464     | 0.492665     |
| x          | 0.012571     | 0.019717     | 0.020699     |
| y          | 0.017093     | 0.012577     | 0.029032     |
| w          | 0.017920     | 0.024212     | 0.013381     |
| h          | 0.047241     | 0.046706     | 0.032005     |
| conf       | 0.600203     | 0.464922     | 0.360692     |
| cls        | 0.014897     | 0.023329     | 0.036854     |
| cls_acc    | 100.00%      | 100.00%      | 95.24%       |
| recall50   | 0.857143     | 0.952381     | 0.952381     |
| recall75   | 0.666667     | 0.761905     | 0.857143     |
| precision  | 0.486486     | 0.259740     | 0.093458     |
| conf_obj   | 0.854675     | 0.882380     | 0.942395     |
| conf_noobj | 0.002006     | 0.001690     | 0.001545     |
+------------+--------------+--------------+--------------+
2020-12-19 19:53:26.239 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.848656
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.670542     | 0.629580     | 0.548533     |
| x          | 0.015600     | 0.027718     | 0.040248     |
| y          | 0.017058     | 0.018739     | 0.021035     |
| w          | 0.039850     | 0.018224     | 0.013130     |
| h          | 0.070479     | 0.054297     | 0.046591     |
| conf       | 0.438069     | 0.445573     | 0.402413     |
| cls        | 0.089486     | 0.065030     | 0.025116     |
| cls_acc    | 96.15%       | 96.15%       | 100.00%      |
| recall50   | 0.846154     | 0.846154     | 0.884615     |
| recall75   | 0.615385     | 0.807692     | 0.769231     |
| precision  | 0.578947     | 0.203704     | 0.079861     |
| conf_obj   | 0.861812     | 0.878757     | 0.882970     |
| conf_noobj | 0.001567     | 0.001729     | 0.001471     |
+------------+--------------+--------------+--------------+
2020-12-19 19:54:32.551 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.906902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.728658     | 0.628613     | 0.549631     |
| x          | 0.041317     | 0.020755     | 0.042042     |
| y          | 0.018039     | 0.029967     | 0.028684     |
| w          | 0.033190     | 0.030050     | 0.035444     |
| h          | 0.047483     | 0.051575     | 0.046831     |
| conf       | 0.494668     | 0.389267     | 0.275376     |
| cls        | 0.093961     | 0.106999     | 0.121253     |
| cls_acc    | 88.89%       | 96.30%       | 92.59%       |
| recall50   | 0.740741     | 0.814815     | 0.814815     |
| recall75   | 0.592593     | 0.666667     | 0.666667     |
| precision  | 0.512821     | 0.318841     | 0.088710     |
| conf_obj   | 0.835217     | 0.856509     | 0.919846     |
| conf_noobj | 0.001634     | 0.001086     | 0.001194     |
+------------+--------------+--------------+--------------+
2020-12-19 19:55:42.801 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.930768
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.327380     | 1.244470     | 1.358918     |
| x          | 0.033163     | 0.014337     | 0.044419     |
| y          | 0.033893     | 0.035218     | 0.040288     |
| w          | 0.079599     | 0.068516     | 0.016477     |
| h          | 0.069481     | 0.070140     | 0.029798     |
| conf       | 0.884104     | 0.788693     | 0.991621     |
| cls        | 0.227140     | 0.267566     | 0.236314     |
| cls_acc    | 89.29%       | 82.14%       | 85.71%       |
| recall50   | 0.857143     | 0.785714     | 0.821429     |
| recall75   | 0.535714     | 0.750000     | 0.642857     |
| precision  | 0.533333     | 0.224490     | 0.089147     |
| conf_obj   | 0.827497     | 0.844594     | 0.809527     |
| conf_noobj | 0.002526     | 0.001922     | 0.001537     |
+------------+--------------+--------------+--------------+
2020-12-19 19:56:44.375 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 3.037533
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.158892     | 1.036566     | 0.842075     |
| x          | 0.060460     | 0.033083     | 0.038692     |
| y          | 0.019503     | 0.032322     | 0.041427     |
| w          | 0.080011     | 0.058479     | 0.019429     |
| h          | 0.088963     | 0.058681     | 0.022744     |
| conf       | 0.791409     | 0.684199     | 0.574675     |
| cls        | 0.118547     | 0.169802     | 0.145108     |
| cls_acc    | 100.00%      | 90.32%       | 93.75%       |
| recall50   | 0.700000     | 0.806452     | 0.812500     |
| recall75   | 0.300000     | 0.709677     | 0.593750     |
| precision  | 0.636364     | 0.328947     | 0.141304     |
| conf_obj   | 0.742049     | 0.826732     | 0.829475     |
| conf_noobj | 0.001463     | 0.001736     | 0.001373     |
+------------+--------------+--------------+--------------+
2020-12-19 19:56:47.442 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 2.811
2020-12-19 19:56:47.445 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 19:57:48.980 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04174   | 0.34843 | 0.07454 | 0.08369 |
| 1     | Wear_helmet | 0.20832   | 0.95877 | 0.34227 | 0.84756 |
| 2     | Total       | 0.12503   | 0.65360 | 0.20841 | 0.46562 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:57:48.983 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4656231159159309
2020-12-19 19:57:48.984 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 19:57:48.984 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:01.538095

2020-12-19 19:57:49.509 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 2/2, epo 2/5
2020-12-19 19:57:49.510 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 2/2, epo 2/5; time cost: 0:15:24.939819

2020-12-19 19:57:49.510 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 2/2, epo 3/5
2020-12-19 19:57:50.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.421106
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.744096     | 0.846697     | 0.830312     |
| x          | 0.012180     | 0.017991     | 0.025457     |
| y          | 0.014732     | 0.027245     | 0.043252     |
| w          | 0.023556     | 0.036743     | 0.027752     |
| h          | 0.040342     | 0.062002     | 0.041295     |
| conf       | 0.447917     | 0.437622     | 0.491841     |
| cls        | 0.205371     | 0.265094     | 0.200715     |
| cls_acc    | 92.31%       | 92.86%       | 89.29%       |
| recall50   | 0.846154     | 0.821429     | 0.857143     |
| recall75   | 0.615385     | 0.642857     | 0.785714     |
| precision  | 0.550000     | 0.258427     | 0.110599     |
| conf_obj   | 0.903883     | 0.914547     | 0.871908     |
| conf_noobj | 0.001779     | 0.001855     | 0.001491     |
+------------+--------------+--------------+--------------+
2020-12-19 19:58:55.233 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.725697
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.148933     | 0.804694     | 0.772069     |
| x          | 0.019290     | 0.015083     | 0.038577     |
| y          | 0.011143     | 0.031008     | 0.045509     |
| w          | 0.084899     | 0.030130     | 0.034486     |
| h          | 0.098147     | 0.036370     | 0.036283     |
| conf       | 0.748819     | 0.470360     | 0.452637     |
| cls        | 0.186635     | 0.221744     | 0.164577     |
| cls_acc    | 93.75%       | 84.85%       | 93.94%       |
| recall50   | 0.750000     | 0.757576     | 0.848485     |
| recall75   | 0.531250     | 0.575758     | 0.696970     |
| precision  | 0.750000     | 0.409836     | 0.121739     |
| conf_obj   | 0.726771     | 0.824203     | 0.894512     |
| conf_noobj | 0.001268     | 0.001116     | 0.001669     |
+------------+--------------+--------------+--------------+
2020-12-19 20:00:00.623 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.782509
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.735383     | 0.566401     | 0.480726     |
| x          | 0.014320     | 0.011692     | 0.019634     |
| y          | 0.008578     | 0.018582     | 0.030462     |
| w          | 0.050768     | 0.008531     | 0.017125     |
| h          | 0.036451     | 0.032298     | 0.033436     |
| conf       | 0.504296     | 0.395674     | 0.305319     |
| cls        | 0.120969     | 0.099623     | 0.074750     |
| cls_acc    | 95.24%       | 95.24%       | 95.24%       |
| recall50   | 0.857143     | 0.904762     | 0.904762     |
| recall75   | 0.809524     | 0.809524     | 0.714286     |
| precision  | 0.439024     | 0.202128     | 0.079498     |
| conf_obj   | 0.865072     | 0.899527     | 0.918984     |
| conf_noobj | 0.001982     | 0.001704     | 0.001313     |
+------------+--------------+--------------+--------------+
2020-12-19 20:01:03.039 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.361922
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.960353     | 0.744377     | 0.657192     |
| x          | 0.031915     | 0.029769     | 0.056535     |
| y          | 0.011938     | 0.022374     | 0.039508     |
| w          | 0.049867     | 0.028044     | 0.025996     |
| h          | 0.041602     | 0.025785     | 0.023488     |
| conf       | 0.552020     | 0.493060     | 0.398505     |
| cls        | 0.273012     | 0.145347     | 0.113160     |
| cls_acc    | 91.67%       | 97.37%       | 97.37%       |
| recall50   | 0.861111     | 0.921053     | 0.894737     |
| recall75   | 0.555556     | 0.684211     | 0.657895     |
| precision  | 0.596154     | 0.296610     | 0.125926     |
| conf_obj   | 0.823064     | 0.869547     | 0.874650     |
| conf_noobj | 0.001716     | 0.001598     | 0.001303     |
+------------+--------------+--------------+--------------+
2020-12-19 20:02:04.573 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.321628
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.606019     | 0.379267     | 0.336343     |
| x          | 0.009061     | 0.008441     | 0.010685     |
| y          | 0.022336     | 0.021155     | 0.027836     |
| w          | 0.050199     | 0.013369     | 0.023522     |
| h          | 0.069646     | 0.028813     | 0.031421     |
| conf       | 0.420905     | 0.295227     | 0.235402     |
| cls        | 0.033873     | 0.012262     | 0.007477     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.944444     | 0.944444     |
| recall75   | 0.666667     | 0.833333     | 0.777778     |
| precision  | 0.625000     | 0.298246     | 0.136000     |
| conf_obj   | 0.848852     | 0.910363     | 0.914251     |
| conf_noobj | 0.001264     | 0.001146     | 0.000827     |
+------------+--------------+--------------+--------------+
2020-12-19 20:03:07.346 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 3.033750
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.187308     | 1.016717     | 0.829725     |
| x          | 0.021339     | 0.066955     | 0.041134     |
| y          | 0.022628     | 0.031137     | 0.047824     |
| w          | 0.045766     | 0.031008     | 0.028509     |
| h          | 0.035944     | 0.039479     | 0.031482     |
| conf       | 0.851280     | 0.600900     | 0.491770     |
| cls        | 0.210351     | 0.247238     | 0.189007     |
| cls_acc    | 92.00%       | 92.00%       | 92.86%       |
| recall50   | 0.680000     | 0.760000     | 0.857143     |
| recall75   | 0.560000     | 0.440000     | 0.535714     |
| precision  | 0.629630     | 0.306452     | 0.133333     |
| conf_obj   | 0.734432     | 0.830156     | 0.866672     |
| conf_noobj | 0.001316     | 0.001212     | 0.001007     |
+------------+--------------+--------------+--------------+
2020-12-19 20:04:08.816 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 3.576797
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.543621     | 1.079263     | 0.953913     |
| x          | 0.032585     | 0.031242     | 0.037519     |
| y          | 0.023235     | 0.038528     | 0.044611     |
| w          | 0.032327     | 0.027878     | 0.048321     |
| h          | 0.025117     | 0.026178     | 0.018456     |
| conf       | 1.174441     | 0.796004     | 0.684790     |
| cls        | 0.255917     | 0.159434     | 0.120216     |
| cls_acc    | 88.46%       | 89.66%       | 89.66%       |
| recall50   | 0.615385     | 0.724138     | 0.758621     |
| recall75   | 0.423077     | 0.517241     | 0.620690     |
| precision  | 0.444444     | 0.333333     | 0.124294     |
| conf_obj   | 0.748215     | 0.783658     | 0.841725     |
| conf_noobj | 0.001605     | 0.001015     | 0.001039     |
+------------+--------------+--------------+--------------+
2020-12-19 20:05:10.640 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 4.158968
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.506859     | 1.205933     | 1.446176     |
| x          | 0.026162     | 0.040702     | 0.028520     |
| y          | 0.014029     | 0.061801     | 0.039922     |
| w          | 0.137024     | 0.078171     | 0.032061     |
| h          | 0.105848     | 0.086477     | 0.029019     |
| conf       | 1.094401     | 0.842452     | 1.204422     |
| cls        | 0.129396     | 0.096329     | 0.112232     |
| cls_acc    | 95.83%       | 95.83%       | 91.67%       |
| recall50   | 0.750000     | 0.833333     | 0.833333     |
| recall75   | 0.458333     | 0.666667     | 0.791667     |
| precision  | 0.562500     | 0.266667     | 0.106383     |
| conf_obj   | 0.747421     | 0.780515     | 0.797853     |
| conf_noobj | 0.002088     | 0.001644     | 0.001151     |
+------------+--------------+--------------+--------------+
2020-12-19 20:06:19.670 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.528448
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.649691     | 0.433832     | 0.444926     |
| x          | 0.029241     | 0.021084     | 0.017191     |
| y          | 0.014231     | 0.015619     | 0.028985     |
| w          | 0.029346     | 0.024460     | 0.015035     |
| h          | 0.024371     | 0.019814     | 0.023614     |
| conf       | 0.521557     | 0.323932     | 0.303088     |
| cls        | 0.030943     | 0.028922     | 0.057012     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.892857     | 0.965517     | 0.965517     |
| recall75   | 0.642857     | 0.931035     | 0.724138     |
| precision  | 0.609756     | 0.282828     | 0.124444     |
| conf_obj   | 0.856492     | 0.935026     | 0.921382     |
| conf_noobj | 0.001620     | 0.001585     | 0.001163     |
+------------+--------------+--------------+--------------+
2020-12-19 20:07:34.101 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.363951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.529418     | 0.374718     | 0.459815     |
| x          | 0.007053     | 0.016572     | 0.022350     |
| y          | 0.014577     | 0.012743     | 0.037923     |
| w          | 0.070880     | 0.025983     | 0.014814     |
| h          | 0.064482     | 0.031422     | 0.034365     |
| conf       | 0.346504     | 0.270457     | 0.312871     |
| cls        | 0.025922     | 0.017541     | 0.037492     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 0.954545     |
| recall75   | 0.761905     | 0.857143     | 0.772727     |
| precision  | 0.625000     | 0.262500     | 0.075812     |
| conf_obj   | 0.894052     | 0.942450     | 0.921245     |
| conf_noobj | 0.001450     | 0.001377     | 0.001295     |
+------------+--------------+--------------+--------------+
2020-12-19 20:08:39.781 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 3.502692
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.444953     | 1.055268     | 1.002471     |
| x          | 0.035715     | 0.028692     | 0.022437     |
| y          | 0.049947     | 0.022955     | 0.029409     |
| w          | 0.100698     | 0.045541     | 0.066711     |
| h          | 0.113924     | 0.048210     | 0.098660     |
| conf       | 1.063598     | 0.853735     | 0.744324     |
| cls        | 0.081071     | 0.056134     | 0.040930     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.840000     | 0.880000     | 0.880000     |
| recall75   | 0.520000     | 0.640000     | 0.760000     |
| precision  | 0.525000     | 0.268293     | 0.107317     |
| conf_obj   | 0.808725     | 0.815971     | 0.825860     |
| conf_noobj | 0.001903     | 0.001467     | 0.001112     |
+------------+--------------+--------------+--------------+
2020-12-19 20:09:44.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.681209
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.575052     | 0.552751     | 0.553406     |
| x          | 0.005895     | 0.014453     | 0.045715     |
| y          | 0.022390     | 0.038626     | 0.088924     |
| w          | 0.044390     | 0.030741     | 0.019029     |
| h          | 0.036083     | 0.015090     | 0.013347     |
| conf       | 0.449952     | 0.430568     | 0.375138     |
| cls        | 0.016342     | 0.023273     | 0.011253     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.923077     | 0.923077     |
| recall75   | 0.846154     | 0.846154     | 0.846154     |
| precision  | 0.521739     | 0.162162     | 0.068966     |
| conf_obj   | 0.902139     | 0.924163     | 0.889148     |
| conf_noobj | 0.002218     | 0.002274     | 0.001587     |
+------------+--------------+--------------+--------------+
2020-12-19 20:10:51.124 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 3.161381
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.202750     | 1.025284     | 0.933348     |
| x          | 0.019185     | 0.026681     | 0.048281     |
| y          | 0.033813     | 0.029600     | 0.031595     |
| w          | 0.067731     | 0.034376     | 0.023588     |
| h          | 0.067260     | 0.027588     | 0.030460     |
| conf       | 0.811983     | 0.735128     | 0.622237     |
| cls        | 0.202778     | 0.171912     | 0.177185     |
| cls_acc    | 93.55%       | 90.62%       | 90.62%       |
| recall50   | 0.741935     | 0.718750     | 0.781250     |
| recall75   | 0.580645     | 0.656250     | 0.718750     |
| precision  | 0.621622     | 0.255556     | 0.089928     |
| conf_obj   | 0.725216     | 0.744801     | 0.782062     |
| conf_noobj | 0.001266     | 0.001371     | 0.001378     |
+------------+--------------+--------------+--------------+
2020-12-19 20:11:54.391 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 3.346235
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.029410     | 1.040685     | 1.276140     |
| x          | 0.008990     | 0.023112     | 0.038918     |
| y          | 0.036764     | 0.030307     | 0.078562     |
| w          | 0.030384     | 0.036527     | 0.029424     |
| h          | 0.029786     | 0.014835     | 0.020679     |
| conf       | 0.900032     | 0.916085     | 1.080401     |
| cls        | 0.023455     | 0.019820     | 0.028157     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 0.866667     | 0.866667     |
| recall75   | 0.733333     | 0.866667     | 0.600000     |
| precision  | 0.541667     | 0.209677     | 0.084416     |
| conf_obj   | 0.863726     | 0.886085     | 0.890185     |
| conf_noobj | 0.001350     | 0.001267     | 0.001247     |
+------------+--------------+--------------+--------------+
2020-12-19 20:11:57.907 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 2.551
2020-12-19 20:11:57.911 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 20:12:56.656 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02207   | 0.25087 | 0.04056 | 0.06007 |
| 1     | Wear_helmet | 0.22479   | 0.95399 | 0.36385 | 0.87989 |
| 2     | Total       | 0.12343   | 0.60243 | 0.20221 | 0.46998 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:12:56.656 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4699826428321255
2020-12-19 20:12:56.657 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 20:12:56.662 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.745150

2020-12-19 20:12:57.182 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 2/2, epo 3/5
2020-12-19 20:12:57.182 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 2/2, epo 3/5; time cost: 0:15:07.671600

2020-12-19 20:12:57.182 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 2/2, epo 4/5
2020-12-19 20:12:58.725 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.504747
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.515177     | 1.042273     | 0.947297     |
| x          | 0.041498     | 0.040788     | 0.049140     |
| y          | 0.011653     | 0.020480     | 0.036968     |
| w          | 0.065436     | 0.043500     | 0.021710     |
| h          | 0.069076     | 0.058639     | 0.034431     |
| conf       | 1.151388     | 0.699208     | 0.606812     |
| cls        | 0.176125     | 0.179658     | 0.198236     |
| cls_acc    | 92.86%       | 92.86%       | 89.29%       |
| recall50   | 0.678571     | 0.785714     | 0.714286     |
| recall75   | 0.535714     | 0.571429     | 0.607143     |
| precision  | 0.760000     | 0.385965     | 0.128205     |
| conf_obj   | 0.635959     | 0.754492     | 0.771978     |
| conf_noobj | 0.000975     | 0.001213     | 0.001204     |
+------------+--------------+--------------+--------------+
2020-12-19 20:14:07.265 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 3.398015
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.222228     | 1.276235     | 0.899551     |
| x          | 0.044722     | 0.039306     | 0.051223     |
| y          | 0.029669     | 0.051117     | 0.063195     |
| w          | 0.059818     | 0.083114     | 0.020869     |
| h          | 0.053556     | 0.052935     | 0.018151     |
| conf       | 0.999414     | 1.006011     | 0.738189     |
| cls        | 0.035048     | 0.043752     | 0.007925     |
| cls_acc    | 100.00%      | 96.15%       | 100.00%      |
| recall50   | 0.769231     | 0.769231     | 0.807692     |
| recall75   | 0.615385     | 0.538462     | 0.692308     |
| precision  | 0.625000     | 0.235294     | 0.079848     |
| conf_obj   | 0.754101     | 0.754417     | 0.788181     |
| conf_noobj | 0.001276     | 0.001393     | 0.001292     |
+------------+--------------+--------------+--------------+
2020-12-19 20:15:11.807 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.496528
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.075561     | 0.783859     | 0.637108     |
| x          | 0.017716     | 0.023674     | 0.031818     |
| y          | 0.027491     | 0.027362     | 0.035394     |
| w          | 0.103969     | 0.040690     | 0.056869     |
| h          | 0.121106     | 0.057886     | 0.053774     |
| conf       | 0.669651     | 0.520656     | 0.373947     |
| cls        | 0.135627     | 0.113592     | 0.085306     |
| cls_acc    | 93.33%       | 96.88%       | 96.97%       |
| recall50   | 0.800000     | 0.875000     | 0.848485     |
| recall75   | 0.166667     | 0.656250     | 0.515152     |
| precision  | 0.436364     | 0.252252     | 0.096886     |
| conf_obj   | 0.865901     | 0.845880     | 0.907081     |
| conf_noobj | 0.002308     | 0.001683     | 0.001494     |
+------------+--------------+--------------+--------------+
2020-12-19 20:16:17.746 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.852213
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.693482     | 0.545747     | 0.612984     |
| x          | 0.021348     | 0.017621     | 0.034627     |
| y          | 0.019103     | 0.014754     | 0.025032     |
| w          | 0.040779     | 0.027101     | 0.028382     |
| h          | 0.037764     | 0.025187     | 0.031481     |
| conf       | 0.512541     | 0.359092     | 0.397138     |
| cls        | 0.061947     | 0.101992     | 0.096323     |
| cls_acc    | 96.77%       | 93.94%       | 94.12%       |
| recall50   | 0.870968     | 0.939394     | 0.882353     |
| recall75   | 0.677419     | 0.787879     | 0.764706     |
| precision  | 0.642857     | 0.356322     | 0.134529     |
| conf_obj   | 0.859396     | 0.925591     | 0.939734     |
| conf_noobj | 0.001278     | 0.001093     | 0.001111     |
+------------+--------------+--------------+--------------+
2020-12-19 20:17:25.573 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.077558
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.738363     | 0.650946     | 0.688249     |
| x          | 0.010769     | 0.024181     | 0.026765     |
| y          | 0.017365     | 0.022834     | 0.028328     |
| w          | 0.061344     | 0.041035     | 0.031613     |
| h          | 0.070578     | 0.053900     | 0.044801     |
| conf       | 0.357983     | 0.297151     | 0.381055     |
| cls        | 0.220323     | 0.211845     | 0.175687     |
| cls_acc    | 91.67%       | 88.89%       | 92.59%       |
| recall50   | 0.875000     | 0.888889     | 0.888889     |
| recall75   | 0.666667     | 0.777778     | 0.629630     |
| precision  | 0.583333     | 0.300000     | 0.106195     |
| conf_obj   | 0.890391     | 0.931383     | 0.892729     |
| conf_noobj | 0.001231     | 0.001256     | 0.001198     |
+------------+--------------+--------------+--------------+
2020-12-19 20:18:28.232 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.471667
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.947783     | 0.741506     | 0.782378     |
| x          | 0.015626     | 0.045211     | 0.063067     |
| y          | 0.014520     | 0.042631     | 0.046435     |
| w          | 0.053984     | 0.033048     | 0.021198     |
| h          | 0.047339     | 0.030304     | 0.021883     |
| conf       | 0.789538     | 0.578172     | 0.613159     |
| cls        | 0.026776     | 0.012141     | 0.016636     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.782609     | 0.869565     | 0.826087     |
| recall75   | 0.608696     | 0.652174     | 0.739130     |
| precision  | 0.642857     | 0.298507     | 0.111765     |
| conf_obj   | 0.763363     | 0.822948     | 0.810819     |
| conf_noobj | 0.001317     | 0.001084     | 0.001135     |
+------------+--------------+--------------+--------------+
2020-12-19 20:19:32.288 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.215471
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.855382     | 0.694346     | 0.665743     |
| x          | 0.015833     | 0.021756     | 0.045448     |
| y          | 0.019778     | 0.032940     | 0.032368     |
| w          | 0.019100     | 0.014280     | 0.018005     |
| h          | 0.028565     | 0.030270     | 0.028602     |
| conf       | 0.760260     | 0.586246     | 0.534619     |
| cls        | 0.011846     | 0.008855     | 0.006700     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.789474     | 0.894737     | 0.894737     |
| recall75   | 0.736842     | 0.842105     | 0.894737     |
| precision  | 0.357143     | 0.257576     | 0.082927     |
| conf_obj   | 0.788900     | 0.854200     | 0.832801     |
| conf_noobj | 0.002363     | 0.001566     | 0.001383     |
+------------+--------------+--------------+--------------+
2020-12-19 20:20:39.199 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.879451
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.631386     | 0.651774     | 0.596292     |
| x          | 0.022957     | 0.031382     | 0.031962     |
| y          | 0.016969     | 0.028224     | 0.057086     |
| w          | 0.078657     | 0.026443     | 0.017652     |
| h          | 0.043517     | 0.016257     | 0.027164     |
| conf       | 0.338971     | 0.382070     | 0.251050     |
| cls        | 0.130314     | 0.167396     | 0.211377     |
| cls_acc    | 95.45%       | 90.91%       | 86.36%       |
| recall50   | 0.818182     | 0.818182     | 0.863636     |
| recall75   | 0.636364     | 0.772727     | 0.772727     |
| precision  | 0.580645     | 0.219512     | 0.111765     |
| conf_obj   | 0.892312     | 0.880210     | 0.929924     |
| conf_noobj | 0.001386     | 0.001400     | 0.000985     |
+------------+--------------+--------------+--------------+
2020-12-19 20:21:43.216 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.177752
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.431568     | 0.356320     | 0.389864     |
| x          | 0.013229     | 0.024148     | 0.044724     |
| y          | 0.012004     | 0.017134     | 0.055256     |
| w          | 0.038249     | 0.019003     | 0.016322     |
| h          | 0.034686     | 0.031696     | 0.018318     |
| conf       | 0.292912     | 0.246534     | 0.231596     |
| cls        | 0.040489     | 0.017805     | 0.023649     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 0.952381     |
| recall75   | 0.761905     | 0.904762     | 0.952381     |
| precision  | 0.689655     | 0.307692     | 0.104712     |
| conf_obj   | 0.933579     | 0.946726     | 0.942532     |
| conf_noobj | 0.001423     | 0.001171     | 0.001026     |
+------------+--------------+--------------+--------------+
2020-12-19 20:22:44.685 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 3.367077
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.297556     | 1.064260     | 1.005262     |
| x          | 0.016150     | 0.030052     | 0.060945     |
| y          | 0.018073     | 0.037771     | 0.040075     |
| w          | 0.093454     | 0.022673     | 0.031299     |
| h          | 0.099590     | 0.027210     | 0.025369     |
| conf       | 0.655813     | 0.591349     | 0.492966     |
| cls        | 0.414476     | 0.355204     | 0.354607     |
| cls_acc    | 89.29%       | 85.71%       | 89.29%       |
| recall50   | 0.714286     | 0.750000     | 0.750000     |
| recall75   | 0.428571     | 0.642857     | 0.607143     |
| precision  | 0.540541     | 0.291667     | 0.100478     |
| conf_obj   | 0.788684     | 0.779750     | 0.794333     |
| conf_noobj | 0.001609     | 0.001159     | 0.001170     |
+------------+--------------+--------------+--------------+
2020-12-19 20:23:54.947 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.577315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.974596     | 0.750210     | 0.852508     |
| x          | 0.049060     | 0.035193     | 0.050332     |
| y          | 0.014053     | 0.014849     | 0.037931     |
| w          | 0.116224     | 0.045280     | 0.059228     |
| h          | 0.085928     | 0.029974     | 0.027711     |
| conf       | 0.505503     | 0.428836     | 0.427963     |
| cls        | 0.203828     | 0.196078     | 0.249344     |
| cls_acc    | 88.89%       | 89.66%       | 93.33%       |
| recall50   | 0.740741     | 0.827586     | 0.800000     |
| recall75   | 0.703704     | 0.689655     | 0.700000     |
| precision  | 0.571429     | 0.258065     | 0.121827     |
| conf_obj   | 0.860915     | 0.879325     | 0.871131     |
| conf_noobj | 0.001667     | 0.001646     | 0.001421     |
+------------+--------------+--------------+--------------+
2020-12-19 20:25:01.878 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.968434
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.308694     | 0.380674     | 0.279066     |
| x          | 0.023978     | 0.005105     | 0.016239     |
| y          | 0.016436     | 0.011054     | 0.033916     |
| w          | 0.040896     | 0.028354     | 0.021174     |
| h          | 0.026352     | 0.019606     | 0.014709     |
| conf       | 0.190555     | 0.305971     | 0.188061     |
| cls        | 0.010476     | 0.010585     | 0.004967     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 1.000000     |
| recall75   | 0.857143     | 0.909091     | 0.909091     |
| precision  | 0.606061     | 0.244186     | 0.105263     |
| conf_obj   | 0.964346     | 0.910655     | 0.979983     |
| conf_noobj | 0.001077     | 0.001150     | 0.000962     |
+------------+--------------+--------------+--------------+
2020-12-19 20:26:12.058 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.356640
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.422725     | 0.485586     | 0.448330     |
| x          | 0.009981     | 0.010777     | 0.021785     |
| y          | 0.004543     | 0.019111     | 0.043627     |
| w          | 0.049026     | 0.031181     | 0.013374     |
| h          | 0.034686     | 0.021253     | 0.011586     |
| conf       | 0.198597     | 0.237333     | 0.186076     |
| cls        | 0.125891     | 0.165931     | 0.171882     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.789474     | 0.842105     | 0.894737     |
| precision  | 0.642857     | 0.268657     | 0.135338     |
| conf_obj   | 0.977694     | 0.971539     | 0.981005     |
| conf_noobj | 0.001195     | 0.001336     | 0.001074     |
+------------+--------------+--------------+--------------+
2020-12-19 20:27:16.979 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 3.508377
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.130793     | 1.207201     | 1.170383     |
| x          | 0.037083     | 0.026929     | 0.031134     |
| y          | 0.028948     | 0.041946     | 0.047611     |
| w          | 0.103468     | 0.082752     | 0.058443     |
| h          | 0.099400     | 0.078259     | 0.061641     |
| conf       | 0.664584     | 0.807385     | 0.761193     |
| cls        | 0.197311     | 0.169929     | 0.210361     |
| cls_acc    | 95.45%       | 95.65%       | 95.65%       |
| recall50   | 0.863636     | 0.869565     | 0.913043     |
| recall75   | 0.727273     | 0.739130     | 0.782609     |
| precision  | 0.487179     | 0.208333     | 0.068852     |
| conf_obj   | 0.878959     | 0.866021     | 0.893784     |
| conf_noobj | 0.001560     | 0.001643     | 0.001503     |
+------------+--------------+--------------+--------------+
2020-12-19 20:27:20.984 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 2.328
2020-12-19 20:27:20.987 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 20:28:19.485 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02914   | 0.25087 | 0.05221 | 0.06657 |
| 1     | Wear_helmet | 0.26472   | 0.95833 | 0.41484 | 0.88913 |
| 2     | Total       | 0.14693   | 0.60460 | 0.23353 | 0.47785 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:28:19.486 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4778503431620584
2020-12-19 20:28:19.486 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 20:28:19.486 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.498919

2020-12-19 20:28:19.974 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 2/2, epo 4/5
2020-12-19 20:28:19.974 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 2/2, epo 4/5; time cost: 0:15:22.791376

2020-12-19 20:28:19.974 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 2/2, epo 5/5
2020-12-19 20:28:21.289 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.240769
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.139151     | 0.941195     | 1.160424     |
| x          | 0.005571     | 0.021386     | 0.028496     |
| y          | 0.034486     | 0.029212     | 0.037168     |
| w          | 0.193844     | 0.072711     | 0.034692     |
| h          | 0.178353     | 0.068826     | 0.041127     |
| conf       | 0.662962     | 0.661085     | 0.891381     |
| cls        | 0.063933     | 0.087974     | 0.127560     |
| cls_acc    | 100.00%      | 100.00%      | 94.12%       |
| recall50   | 0.823529     | 0.823529     | 0.823529     |
| recall75   | 0.705882     | 0.764706     | 0.705882     |
| precision  | 0.518519     | 0.208955     | 0.058824     |
| conf_obj   | 0.800821     | 0.815079     | 0.820023     |
| conf_noobj | 0.001784     | 0.001592     | 0.001443     |
+------------+--------------+--------------+--------------+
2020-12-19 20:29:28.914 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.977909
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.803887     | 0.572990     | 0.601031     |
| x          | 0.043033     | 0.020943     | 0.032465     |
| y          | 0.013635     | 0.010963     | 0.016762     |
| w          | 0.043672     | 0.024960     | 0.036658     |
| h          | 0.054620     | 0.028196     | 0.044688     |
| conf       | 0.564515     | 0.425112     | 0.414089     |
| cls        | 0.084412     | 0.062817     | 0.056370     |
| cls_acc    | 94.74%       | 94.74%       | 100.00%      |
| recall50   | 0.894737     | 0.894737     | 0.894737     |
| recall75   | 0.526316     | 0.631579     | 0.789474     |
| precision  | 0.739130     | 0.320755     | 0.116438     |
| conf_obj   | 0.829290     | 0.873761     | 0.863911     |
| conf_noobj | 0.001418     | 0.001330     | 0.001175     |
+------------+--------------+--------------+--------------+
2020-12-19 20:30:33.930 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.010559
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.852020     | 0.644229     | 0.514310     |
| x          | 0.024862     | 0.028849     | 0.015552     |
| y          | 0.030629     | 0.017556     | 0.032570     |
| w          | 0.037538     | 0.030516     | 0.010360     |
| h          | 0.039523     | 0.045089     | 0.023581     |
| conf       | 0.642338     | 0.461021     | 0.376413     |
| cls        | 0.077130     | 0.061198     | 0.055834     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.772727     | 0.913043     | 0.869565     |
| recall75   | 0.500000     | 0.521739     | 0.739130     |
| precision  | 0.566667     | 0.276316     | 0.097561     |
| conf_obj   | 0.790040     | 0.847855     | 0.889797     |
| conf_noobj | 0.001638     | 0.001263     | 0.001152     |
+------------+--------------+--------------+--------------+
2020-12-19 20:31:41.007 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.305203
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.463479     | 0.405558     | 0.436166     |
| x          | 0.016103     | 0.015466     | 0.028482     |
| y          | 0.005478     | 0.019451     | 0.044781     |
| w          | 0.012278     | 0.014801     | 0.013685     |
| h          | 0.018312     | 0.024384     | 0.024907     |
| conf       | 0.397617     | 0.309842     | 0.311267     |
| cls        | 0.013691     | 0.021613     | 0.013043     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 0.954545     |
| recall75   | 0.904762     | 0.818182     | 0.909091     |
| precision  | 0.625000     | 0.362069     | 0.111111     |
| conf_obj   | 0.897543     | 0.931212     | 0.912265     |
| conf_noobj | 0.001192     | 0.001020     | 0.001242     |
+------------+--------------+--------------+--------------+
2020-12-19 20:32:46.995 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.670149
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.591721     | 0.583023     | 0.495405     |
| x          | 0.011204     | 0.016347     | 0.034837     |
| y          | 0.017036     | 0.007179     | 0.018428     |
| w          | 0.043275     | 0.030551     | 0.019821     |
| h          | 0.035398     | 0.018773     | 0.012501     |
| conf       | 0.458320     | 0.469203     | 0.371190     |
| cls        | 0.026488     | 0.040969     | 0.038627     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.894737     | 0.894737     |
| recall75   | 0.789474     | 0.736842     | 0.684211     |
| precision  | 0.666667     | 0.204819     | 0.067729     |
| conf_obj   | 0.836621     | 0.816596     | 0.871925     |
| conf_noobj | 0.001415     | 0.001535     | 0.001381     |
+------------+--------------+--------------+--------------+
2020-12-19 20:33:53.296 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.779717
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.983909     | 0.877062     | 0.918747     |
| x          | 0.028575     | 0.030384     | 0.019998     |
| y          | 0.018958     | 0.024334     | 0.033957     |
| w          | 0.074437     | 0.032567     | 0.019869     |
| h          | 0.053033     | 0.031967     | 0.020364     |
| conf       | 0.622735     | 0.567758     | 0.623652     |
| cls        | 0.186171     | 0.190052     | 0.200907     |
| cls_acc    | 97.30%       | 97.50%       | 95.00%       |
| recall50   | 0.783784     | 0.825000     | 0.850000     |
| recall75   | 0.621622     | 0.700000     | 0.700000     |
| precision  | 0.557692     | 0.284483     | 0.099415     |
| conf_obj   | 0.858359     | 0.871186     | 0.858858     |
| conf_noobj | 0.001692     | 0.001607     | 0.001492     |
+------------+--------------+--------------+--------------+
2020-12-19 20:34:57.776 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.119729
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.384425     | 0.344052     | 0.391252     |
| x          | 0.006845     | 0.005527     | 0.032118     |
| y          | 0.007976     | 0.012696     | 0.020265     |
| w          | 0.048470     | 0.036215     | 0.024313     |
| h          | 0.044874     | 0.029979     | 0.022022     |
| conf       | 0.260708     | 0.225799     | 0.213142     |
| cls        | 0.015552     | 0.033837     | 0.079393     |
| cls_acc    | 100.00%      | 100.00%      | 95.24%       |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.857143     | 0.952381     | 0.809524     |
| precision  | 0.552632     | 0.300000     | 0.113636     |
| conf_obj   | 0.981126     | 0.986120     | 0.978547     |
| conf_noobj | 0.001663     | 0.001307     | 0.001112     |
+------------+--------------+--------------+--------------+
2020-12-19 20:36:06.976 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 3.179318
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.281665     | 1.008357     | 0.889297     |
| x          | 0.023108     | 0.017327     | 0.029415     |
| y          | 0.012356     | 0.026670     | 0.035889     |
| w          | 0.063767     | 0.029259     | 0.042020     |
| h          | 0.059545     | 0.022870     | 0.021108     |
| conf       | 0.894447     | 0.782019     | 0.555398     |
| cls        | 0.228442     | 0.130211     | 0.205467     |
| cls_acc    | 86.36%       | 91.30%       | 87.50%       |
| recall50   | 0.727273     | 0.826087     | 0.791667     |
| recall75   | 0.545455     | 0.652174     | 0.625000     |
| precision  | 0.551724     | 0.263889     | 0.121795     |
| conf_obj   | 0.778058     | 0.796476     | 0.829650     |
| conf_noobj | 0.001231     | 0.001201     | 0.001018     |
+------------+--------------+--------------+--------------+
2020-12-19 20:37:13.513 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.595875
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.969909     | 0.778553     | 0.847413     |
| x          | 0.013625     | 0.014515     | 0.022656     |
| y          | 0.015592     | 0.034377     | 0.053700     |
| w          | 0.079064     | 0.084621     | 0.024953     |
| h          | 0.067697     | 0.035997     | 0.017171     |
| conf       | 0.730142     | 0.538922     | 0.649652     |
| cls        | 0.063787     | 0.070122     | 0.079282     |
| cls_acc    | 94.44%       | 94.44%       | 94.74%       |
| recall50   | 0.833333     | 0.888889     | 0.842105     |
| recall75   | 0.666667     | 0.833333     | 0.684211     |
| precision  | 0.375000     | 0.192771     | 0.069565     |
| conf_obj   | 0.870939     | 0.885771     | 0.858082     |
| conf_noobj | 0.001709     | 0.001250     | 0.001057     |
+------------+--------------+--------------+--------------+
2020-12-19 20:38:19.314 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.513227
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.642873     | 0.403606     | 0.466749     |
| x          | 0.020335     | 0.023393     | 0.018519     |
| y          | 0.013959     | 0.011015     | 0.032720     |
| w          | 0.080157     | 0.028215     | 0.012538     |
| h          | 0.070586     | 0.021268     | 0.018533     |
| conf       | 0.354093     | 0.280011     | 0.367470     |
| cls        | 0.103743     | 0.039704     | 0.016970     |
| cls_acc    | 89.47%       | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.952381     | 0.954545     |
| recall75   | 0.526316     | 0.714286     | 0.772727     |
| precision  | 0.485714     | 0.317460     | 0.117978     |
| conf_obj   | 0.925523     | 0.932429     | 0.912494     |
| conf_noobj | 0.001772     | 0.001250     | 0.001203     |
+------------+--------------+--------------+--------------+
2020-12-19 20:39:30.121 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.530323
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.692648     | 0.395224     | 0.442452     |
| x          | 0.007221     | 0.008420     | 0.028850     |
| y          | 0.015212     | 0.022164     | 0.033159     |
| w          | 0.068304     | 0.033516     | 0.015314     |
| h          | 0.050587     | 0.022205     | 0.012019     |
| conf       | 0.441295     | 0.283595     | 0.330679     |
| cls        | 0.110029     | 0.025324     | 0.022432     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.958333     | 0.958333     |
| recall75   | 0.833333     | 0.833333     | 0.833333     |
| precision  | 0.700000     | 0.291139     | 0.106977     |
| conf_obj   | 0.860249     | 0.925003     | 0.923859     |
| conf_noobj | 0.001028     | 0.001063     | 0.001112     |
+------------+--------------+--------------+--------------+
2020-12-19 20:40:35.849 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.084136
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.082758     | 0.561546     | 0.439832     |
| x          | 0.017032     | 0.017582     | 0.023529     |
| y          | 0.028601     | 0.019101     | 0.027494     |
| w          | 0.021474     | 0.041699     | 0.025166     |
| h          | 0.018395     | 0.031899     | 0.021082     |
| conf       | 0.938255     | 0.384279     | 0.301862     |
| cls        | 0.059000     | 0.066987     | 0.040700     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.760000     | 0.880000     | 0.960000     |
| recall75   | 0.600000     | 0.720000     | 0.920000     |
| precision  | 0.452381     | 0.278481     | 0.086331     |
| conf_obj   | 0.786999     | 0.869357     | 0.935059     |
| conf_noobj | 0.001605     | 0.001121     | 0.001262     |
+------------+--------------+--------------+--------------+
2020-12-19 20:41:39.976 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.287193
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.507204     | 0.399181     | 0.380808     |
| x          | 0.017651     | 0.017383     | 0.027679     |
| y          | 0.010086     | 0.016464     | 0.025853     |
| w          | 0.039645     | 0.015339     | 0.018410     |
| h          | 0.042177     | 0.015313     | 0.013409     |
| conf       | 0.285383     | 0.276205     | 0.231640     |
| cls        | 0.112261     | 0.058476     | 0.063816     |
| cls_acc    | 94.44%       | 94.44%       | 94.44%       |
| recall50   | 0.888889     | 0.888889     | 0.944444     |
| recall75   | 0.777778     | 0.833333     | 0.833333     |
| precision  | 0.666667     | 0.258065     | 0.093923     |
| conf_obj   | 0.942508     | 0.925800     | 0.961422     |
| conf_noobj | 0.001161     | 0.001193     | 0.001290     |
+------------+--------------+--------------+--------------+
2020-12-19 20:42:42.953 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.893575
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.790618     | 0.564097     | 0.538860     |
| x          | 0.006542     | 0.022096     | 0.036474     |
| y          | 0.008633     | 0.014231     | 0.020351     |
| w          | 0.050279     | 0.029709     | 0.020947     |
| h          | 0.046153     | 0.038857     | 0.025579     |
| conf       | 0.598174     | 0.355300     | 0.302770     |
| cls        | 0.080837     | 0.103903     | 0.132740     |
| cls_acc    | 100.00%      | 95.00%       | 90.48%       |
| recall50   | 0.800000     | 0.950000     | 0.857143     |
| recall75   | 0.650000     | 0.700000     | 0.666667     |
| precision  | 0.444444     | 0.240506     | 0.098901     |
| conf_obj   | 0.797837     | 0.881272     | 0.883017     |
| conf_noobj | 0.002064     | 0.001419     | 0.001029     |
+------------+--------------+--------------+--------------+
2020-12-19 20:42:46.504 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 2.218
2020-12-19 20:42:46.507 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 20:43:44.817 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05159   | 0.37282 | 0.09064 | 0.16090 |
| 1     | Wear_helmet | 0.28084   | 0.96050 | 0.43460 | 0.90522 |
| 2     | Total       | 0.16621   | 0.66666 | 0.26262 | 0.53306 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:43:44.820 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5330604413172811
2020-12-19 20:43:44.820 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 20:43:44.821 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.313415

2020-12-19 20:43:45.347 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 2/2, epo 5/5
2020-12-19 20:43:45.347 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 2/2, epo 5/5; time cost: 0:15:25.372936

2020-12-19 20:43:45.348 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 2.641
2020-12-19 20:43:45.576 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-19 20:48:12.763 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06979   | 0.54870 | 0.12384 | 0.33465 |
| 1     | Wear_helmet | 0.24086   | 0.91284 | 0.38115 | 0.81517 |
| 2     | Total       | 0.15533   | 0.73077 | 0.25249 | 0.57491 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:48:12.764 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5749101771863607
2020-12-19 20:48:12.764 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-19 20:48:12.765 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:27.188297

2020-12-19 20:49:15.500 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 4!
2020-12-19 20:49:15.657 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 2/2, epo 1/5
2020-12-19 20:49:18.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.517068
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.645221     | 0.448463     | 0.423383     |
| x          | 0.011869     | 0.011500     | 0.031205     |
| y          | 0.016253     | 0.011115     | 0.025269     |
| w          | 0.009576     | 0.010763     | 0.012934     |
| h          | 0.014445     | 0.014497     | 0.020101     |
| conf       | 0.551932     | 0.372151     | 0.304043     |
| cls        | 0.041147     | 0.028437     | 0.029831     |
| cls_acc    | 100.00%      | 100.00%      | 96.97%       |
| recall50   | 0.967742     | 0.969697     | 0.969697     |
| recall75   | 0.935484     | 0.969697     | 0.909091     |
| precision  | 0.576923     | 0.316832     | 0.140969     |
| conf_obj   | 0.943177     | 0.951592     | 0.952917     |
| conf_noobj | 0.001892     | 0.001355     | 0.001127     |
+------------+--------------+--------------+--------------+
2020-12-19 20:50:22.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.590066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.857550     | 0.868889     | 0.863627     |
| x          | 0.010668     | 0.017253     | 0.048085     |
| y          | 0.015458     | 0.026091     | 0.035044     |
| w          | 0.031349     | 0.044211     | 0.028907     |
| h          | 0.054168     | 0.038834     | 0.033090     |
| conf       | 0.725011     | 0.721444     | 0.699575     |
| cls        | 0.020897     | 0.021057     | 0.018926     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.888889     | 0.944444     |
| recall75   | 0.777778     | 0.722222     | 0.666667     |
| precision  | 0.395349     | 0.200000     | 0.072650     |
| conf_obj   | 0.906027     | 0.853103     | 0.920138     |
| conf_noobj | 0.002579     | 0.001476     | 0.001297     |
+------------+--------------+--------------+--------------+
2020-12-19 20:51:24.871 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.483441
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.673325     | 0.424264     | 0.385851     |
| x          | 0.015646     | 0.024529     | 0.031994     |
| y          | 0.010199     | 0.014210     | 0.031209     |
| w          | 0.049005     | 0.011829     | 0.004627     |
| h          | 0.038021     | 0.014833     | 0.012629     |
| conf       | 0.511536     | 0.304633     | 0.257197     |
| cls        | 0.048918     | 0.054231     | 0.048196     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.900000     | 0.950000     | 0.950000     |
| recall75   | 0.700000     | 0.850000     | 0.900000     |
| precision  | 0.562500     | 0.218391     | 0.076923     |
| conf_obj   | 0.853744     | 0.920305     | 0.947585     |
| conf_noobj | 0.001353     | 0.001351     | 0.001216     |
+------------+--------------+--------------+--------------+
2020-12-19 20:52:29.862 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.885125
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.730569     | 0.556538     | 0.598018     |
| x          | 0.010540     | 0.020550     | 0.013496     |
| y          | 0.011385     | 0.024068     | 0.052840     |
| w          | 0.087149     | 0.012411     | 0.015715     |
| h          | 0.067889     | 0.014290     | 0.007667     |
| conf       | 0.546520     | 0.481246     | 0.503036     |
| cls        | 0.007086     | 0.003974     | 0.005263     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 0.950000     |
| recall75   | 0.950000     | 0.900000     | 0.900000     |
| precision  | 0.500000     | 0.250000     | 0.090909     |
| conf_obj   | 0.886844     | 0.905442     | 0.914859     |
| conf_noobj | 0.001549     | 0.001342     | 0.001228     |
+------------+--------------+--------------+--------------+
2020-12-19 20:53:36.144 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 3.246792
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.337378     | 0.978246     | 0.931167     |
| x          | 0.046440     | 0.037939     | 0.038963     |
| y          | 0.017035     | 0.019102     | 0.027518     |
| w          | 0.074740     | 0.044014     | 0.033606     |
| h          | 0.094330     | 0.038761     | 0.033455     |
| conf       | 0.827328     | 0.570351     | 0.578555     |
| cls        | 0.277505     | 0.268079     | 0.219070     |
| cls_acc    | 85.71%       | 84.21%       | 86.84%       |
| recall50   | 0.657143     | 0.789474     | 0.763158     |
| recall75   | 0.542857     | 0.657895     | 0.631579     |
| precision  | 0.621622     | 0.340909     | 0.114173     |
| conf_obj   | 0.714283     | 0.836477     | 0.850075     |
| conf_noobj | 0.001403     | 0.001655     | 0.001756     |
+------------+--------------+--------------+--------------+
2020-12-19 20:54:36.087 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.668637
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.658708     | 0.490733     | 0.519196     |
| x          | 0.014117     | 0.021565     | 0.022633     |
| y          | 0.009271     | 0.018128     | 0.049246     |
| w          | 0.045712     | 0.015184     | 0.023917     |
| h          | 0.039361     | 0.017269     | 0.020262     |
| conf       | 0.382236     | 0.261208     | 0.265611     |
| cls        | 0.168011     | 0.157379     | 0.137527     |
| cls_acc    | 96.15%       | 96.43%       | 96.43%       |
| recall50   | 0.846154     | 0.892857     | 0.928571     |
| recall75   | 0.615385     | 0.750000     | 0.750000     |
| precision  | 0.687500     | 0.337838     | 0.119266     |
| conf_obj   | 0.868335     | 0.942630     | 0.959472     |
| conf_noobj | 0.001351     | 0.001324     | 0.001371     |
+------------+--------------+--------------+--------------+
2020-12-19 20:55:38.718 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.502246
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.052845     | 0.754997     | 0.694404     |
| x          | 0.024381     | 0.019304     | 0.026853     |
| y          | 0.009232     | 0.022601     | 0.031462     |
| w          | 0.117696     | 0.108252     | 0.080346     |
| h          | 0.113903     | 0.117056     | 0.092645     |
| conf       | 0.689614     | 0.427256     | 0.414534     |
| cls        | 0.098020     | 0.060528     | 0.048564     |
| cls_acc    | 96.30%       | 96.43%       | 100.00%      |
| recall50   | 0.740741     | 0.821429     | 0.821429     |
| recall75   | 0.518519     | 0.607143     | 0.714286     |
| precision  | 0.740741     | 0.403509     | 0.126374     |
| conf_obj   | 0.774020     | 0.856832     | 0.863774     |
| conf_noobj | 0.000885     | 0.000926     | 0.001089     |
+------------+--------------+--------------+--------------+
2020-12-19 20:56:45.172 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.064356
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.347957     | 0.373124     | 0.343275     |
| x          | 0.008667     | 0.007752     | 0.022649     |
| y          | 0.014144     | 0.020866     | 0.020425     |
| w          | 0.016729     | 0.028873     | 0.008422     |
| h          | 0.020311     | 0.029282     | 0.008382     |
| conf       | 0.283949     | 0.281063     | 0.278254     |
| cls        | 0.004156     | 0.005287     | 0.005143     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.789474     | 0.789474     | 0.894737     |
| precision  | 0.692308     | 0.367347     | 0.117647     |
| conf_obj   | 0.905387     | 0.921634     | 0.936796     |
| conf_noobj | 0.001030     | 0.000967     | 0.000959     |
+------------+--------------+--------------+--------------+
2020-12-19 20:57:49.693 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.523793
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.546435     | 0.428372     | 0.548985     |
| x          | 0.010473     | 0.010357     | 0.015085     |
| y          | 0.020985     | 0.020774     | 0.045760     |
| w          | 0.021753     | 0.019857     | 0.023225     |
| h          | 0.024113     | 0.027191     | 0.029093     |
| conf       | 0.387145     | 0.272846     | 0.338180     |
| cls        | 0.081965     | 0.077347     | 0.097642     |
| cls_acc    | 100.00%      | 100.00%      | 96.00%       |
| recall50   | 0.920000     | 1.000000     | 0.880000     |
| recall75   | 0.760000     | 0.840000     | 0.760000     |
| precision  | 0.638889     | 0.320513     | 0.082090     |
| conf_obj   | 0.867739     | 0.949645     | 0.935942     |
| conf_noobj | 0.001462     | 0.001382     | 0.001344     |
+------------+--------------+--------------+--------------+
2020-12-19 20:59:00.116 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.941664
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.769381     | 0.589355     | 0.582928     |
| x          | 0.009219     | 0.028294     | 0.028784     |
| y          | 0.014436     | 0.029661     | 0.041824     |
| w          | 0.025784     | 0.020419     | 0.015023     |
| h          | 0.030755     | 0.028872     | 0.020773     |
| conf       | 0.627972     | 0.412110     | 0.399190     |
| cls        | 0.061214     | 0.069998     | 0.077334     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.857143     | 0.928571     |
| recall75   | 0.678571     | 0.714286     | 0.642857     |
| precision  | 0.648649     | 0.315789     | 0.165605     |
| conf_obj   | 0.783669     | 0.857790     | 0.842958     |
| conf_noobj | 0.001661     | 0.001408     | 0.001109     |
+------------+--------------+--------------+--------------+
2020-12-19 21:00:04.443 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.219666
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.733782     | 0.748125     | 0.737759     |
| x          | 0.026920     | 0.025821     | 0.022017     |
| y          | 0.024487     | 0.045781     | 0.046507     |
| w          | 0.057754     | 0.068869     | 0.045420     |
| h          | 0.094382     | 0.071656     | 0.044462     |
| conf       | 0.485726     | 0.479821     | 0.464900     |
| cls        | 0.044513     | 0.056177     | 0.114453     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.857143     | 0.862069     | 0.896552     |
| recall75   | 0.500000     | 0.517241     | 0.655172     |
| precision  | 0.615385     | 0.297619     | 0.135417     |
| conf_obj   | 0.858038     | 0.906985     | 0.905059     |
| conf_noobj | 0.001508     | 0.001500     | 0.001130     |
+------------+--------------+--------------+--------------+
2020-12-19 21:01:08.578 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.842630
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.571610     | 0.621210     | 0.649810     |
| x          | 0.009645     | 0.027064     | 0.053024     |
| y          | 0.024069     | 0.031626     | 0.045550     |
| w          | 0.024285     | 0.030147     | 0.015843     |
| h          | 0.029438     | 0.018052     | 0.028130     |
| conf       | 0.477350     | 0.509559     | 0.502229     |
| cls        | 0.006822     | 0.004761     | 0.005035     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.947368     | 0.947368     |
| recall75   | 0.842105     | 0.789474     | 0.842105     |
| precision  | 0.531250     | 0.227848     | 0.080357     |
| conf_obj   | 0.892507     | 0.900697     | 0.880400     |
| conf_noobj | 0.001600     | 0.001415     | 0.001117     |
+------------+--------------+--------------+--------------+
2020-12-19 21:02:16.929 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.269935
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.795844     | 0.632559     | 0.841533     |
| x          | 0.034102     | 0.024753     | 0.028310     |
| y          | 0.013309     | 0.020712     | 0.035639     |
| w          | 0.041632     | 0.055854     | 0.054631     |
| h          | 0.060941     | 0.043091     | 0.052315     |
| conf       | 0.495936     | 0.368945     | 0.557615     |
| cls        | 0.149923     | 0.119205     | 0.113022     |
| cls_acc    | 93.10%       | 96.88%       | 97.14%       |
| recall50   | 0.758621     | 0.843750     | 0.828571     |
| recall75   | 0.551724     | 0.593750     | 0.600000     |
| precision  | 0.647059     | 0.270000     | 0.103943     |
| conf_obj   | 0.836174     | 0.887915     | 0.825504     |
| conf_noobj | 0.001224     | 0.001365     | 0.001271     |
+------------+--------------+--------------+--------------+
2020-12-19 21:03:21.367 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.664016
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.666075     | 0.490772     | 0.507169     |
| x          | 0.015247     | 0.018794     | 0.031686     |
| y          | 0.023165     | 0.016893     | 0.058170     |
| w          | 0.069520     | 0.030436     | 0.013871     |
| h          | 0.075127     | 0.027781     | 0.015148     |
| conf       | 0.428741     | 0.331891     | 0.337709     |
| cls        | 0.054275     | 0.064976     | 0.050584     |
| cls_acc    | 94.74%       | 95.00%       | 95.00%       |
| recall50   | 0.894737     | 0.950000     | 0.900000     |
| recall75   | 0.789474     | 0.800000     | 0.750000     |
| precision  | 0.531250     | 0.234568     | 0.089109     |
| conf_obj   | 0.877307     | 0.935290     | 0.921483     |
| conf_noobj | 0.001857     | 0.001673     | 0.001471     |
+------------+--------------+--------------+--------------+
2020-12-19 21:03:24.464 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 2.419
2020-12-19 21:03:24.468 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 21:04:24.790 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05322   | 0.34843 | 0.09234 | 0.17070 |
| 1     | Wear_helmet | 0.32392   | 0.96615 | 0.48518 | 0.91835 |
| 2     | Total       | 0.18857   | 0.65729 | 0.28876 | 0.54453 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:04:24.791 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5445298485524456
2020-12-19 21:04:24.792 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 21:04:24.793 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.324063

2020-12-19 21:04:25.277 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 2/2, epo 1/5
2020-12-19 21:04:25.278 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 2/2, epo 1/5; time cost: 0:15:09.620261

2020-12-19 21:04:25.278 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 2/2, epo 2/5
2020-12-19 21:04:26.424 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.092663
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.961714     | 0.617508     | 0.513440     |
| x          | 0.030913     | 0.016494     | 0.024901     |
| y          | 0.013693     | 0.012869     | 0.018231     |
| w          | 0.136275     | 0.041462     | 0.017229     |
| h          | 0.124613     | 0.054417     | 0.025476     |
| conf       | 0.550466     | 0.435933     | 0.379442     |
| cls        | 0.105753     | 0.056332     | 0.048161     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.761905     | 0.909091     | 0.909091     |
| recall75   | 0.476190     | 0.727273     | 0.772727     |
| precision  | 0.571429     | 0.298507     | 0.117647     |
| conf_obj   | 0.847149     | 0.883859     | 0.889397     |
| conf_noobj | 0.001429     | 0.001479     | 0.001339     |
+------------+--------------+--------------+--------------+
2020-12-19 21:05:36.487 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.143036
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.809476     | 0.676694     | 0.656866     |
| x          | 0.021682     | 0.034965     | 0.051222     |
| y          | 0.034906     | 0.040835     | 0.055877     |
| w          | 0.064538     | 0.036700     | 0.040848     |
| h          | 0.069343     | 0.036823     | 0.054366     |
| conf       | 0.493458     | 0.438449     | 0.369854     |
| cls        | 0.125550     | 0.088923     | 0.084699     |
| cls_acc    | 96.15%       | 96.43%       | 96.55%       |
| recall50   | 0.884615     | 0.928571     | 0.896552     |
| recall75   | 0.576923     | 0.750000     | 0.620690     |
| precision  | 0.621622     | 0.288889     | 0.105691     |
| conf_obj   | 0.845623     | 0.891105     | 0.905812     |
| conf_noobj | 0.001323     | 0.001343     | 0.001253     |
+------------+--------------+--------------+--------------+
2020-12-19 21:06:42.463 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.897800
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.088942     | 0.987158     | 0.821701     |
| x          | 0.010845     | 0.020414     | 0.053716     |
| y          | 0.023779     | 0.029665     | 0.039205     |
| w          | 0.052199     | 0.051124     | 0.025886     |
| h          | 0.044513     | 0.051325     | 0.026891     |
| conf       | 0.906881     | 0.780674     | 0.629417     |
| cls        | 0.050725     | 0.053956     | 0.046585     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.814815     | 0.925926     |
| recall75   | 0.461538     | 0.703704     | 0.592593     |
| precision  | 0.500000     | 0.247191     | 0.096154     |
| conf_obj   | 0.827008     | 0.791152     | 0.877401     |
| conf_noobj | 0.001653     | 0.001313     | 0.001211     |
+------------+--------------+--------------+--------------+
2020-12-19 21:07:45.105 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.287080
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.881340     | 0.687429     | 0.718311     |
| x          | 0.014285     | 0.019555     | 0.027395     |
| y          | 0.015321     | 0.022701     | 0.066527     |
| w          | 0.084757     | 0.039132     | 0.027803     |
| h          | 0.055191     | 0.032397     | 0.030594     |
| conf       | 0.685828     | 0.541460     | 0.538527     |
| cls        | 0.025959     | 0.032184     | 0.027464     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.863636     | 0.863636     |
| recall75   | 0.550000     | 0.636364     | 0.590909     |
| precision  | 0.447368     | 0.231707     | 0.113095     |
| conf_obj   | 0.824987     | 0.860267     | 0.860421     |
| conf_noobj | 0.002360     | 0.001582     | 0.001287     |
+------------+--------------+--------------+--------------+
2020-12-19 21:08:53.955 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 3.881827
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.409876     | 1.340324     | 1.131628     |
| x          | 0.011474     | 0.023241     | 0.040083     |
| y          | 0.010971     | 0.021600     | 0.026054     |
| w          | 0.122835     | 0.035183     | 0.029985     |
| h          | 0.082712     | 0.022846     | 0.015298     |
| conf       | 0.925926     | 0.947172     | 0.747934     |
| cls        | 0.255958     | 0.290282     | 0.272273     |
| cls_acc    | 93.94%       | 91.18%       | 91.18%       |
| recall50   | 0.757576     | 0.764706     | 0.823529     |
| recall75   | 0.515152     | 0.617647     | 0.764706     |
| precision  | 0.595238     | 0.285714     | 0.122807     |
| conf_obj   | 0.727270     | 0.779868     | 0.802135     |
| conf_noobj | 0.001603     | 0.001536     | 0.001283     |
+------------+--------------+--------------+--------------+
2020-12-19 21:10:02.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.657535
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.040563     | 0.831541     | 0.785432     |
| x          | 0.013917     | 0.015234     | 0.039514     |
| y          | 0.016205     | 0.017566     | 0.037372     |
| w          | 0.056202     | 0.041349     | 0.025786     |
| h          | 0.027809     | 0.022032     | 0.022068     |
| conf       | 0.771603     | 0.630718     | 0.586906     |
| cls        | 0.154827     | 0.104641     | 0.073786     |
| cls_acc    | 92.00%       | 92.00%       | 100.00%      |
| recall50   | 0.880000     | 0.880000     | 0.923077     |
| recall75   | 0.680000     | 0.760000     | 0.692308     |
| precision  | 0.550000     | 0.261905     | 0.105727     |
| conf_obj   | 0.875031     | 0.902818     | 0.888158     |
| conf_noobj | 0.001638     | 0.001377     | 0.001132     |
+------------+--------------+--------------+--------------+
2020-12-19 21:11:06.379 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.058770
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.871239     | 0.665116     | 0.522415     |
| x          | 0.028709     | 0.014905     | 0.014475     |
| y          | 0.010690     | 0.034189     | 0.076717     |
| w          | 0.056932     | 0.025403     | 0.020553     |
| h          | 0.075217     | 0.031592     | 0.020457     |
| conf       | 0.302798     | 0.299733     | 0.189065     |
| cls        | 0.396894     | 0.259293     | 0.201148     |
| cls_acc    | 94.44%       | 94.74%       | 94.74%       |
| recall50   | 0.777778     | 0.842105     | 0.947368     |
| recall75   | 0.555556     | 0.631579     | 0.684211     |
| precision  | 0.608696     | 0.380952     | 0.171429     |
| conf_obj   | 0.873840     | 0.882133     | 0.939743     |
| conf_noobj | 0.000732     | 0.000818     | 0.000753     |
+------------+--------------+--------------+--------------+
2020-12-19 21:12:12.140 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.676919
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.518677     | 0.550355     | 0.607886     |
| x          | 0.014802     | 0.033901     | 0.051636     |
| y          | 0.021382     | 0.021613     | 0.026431     |
| w          | 0.017229     | 0.015969     | 0.025764     |
| h          | 0.010232     | 0.007122     | 0.016521     |
| conf       | 0.443095     | 0.458623     | 0.465554     |
| cls        | 0.011938     | 0.013127     | 0.021981     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.916667     | 0.916667     |
| recall75   | 0.833333     | 0.750000     | 0.916667     |
| precision  | 0.500000     | 0.234043     | 0.108911     |
| conf_obj   | 0.880256     | 0.880183     | 0.875264     |
| conf_noobj | 0.002159     | 0.001363     | 0.000921     |
+------------+--------------+--------------+--------------+
2020-12-19 21:13:14.865 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.530275
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.018809     | 0.852398     | 0.659067     |
| x          | 0.023617     | 0.017365     | 0.039941     |
| y          | 0.005445     | 0.021564     | 0.042749     |
| w          | 0.079518     | 0.057032     | 0.056608     |
| h          | 0.071717     | 0.036908     | 0.044984     |
| conf       | 0.747067     | 0.656308     | 0.395110     |
| cls        | 0.091446     | 0.063221     | 0.079676     |
| cls_acc    | 95.00%       | 95.45%       | 100.00%      |
| recall50   | 0.800000     | 0.727273     | 0.916667     |
| recall75   | 0.650000     | 0.636364     | 0.666667     |
| precision  | 0.516129     | 0.262295     | 0.148649     |
| conf_obj   | 0.849393     | 0.845105     | 0.898133     |
| conf_noobj | 0.001701     | 0.001342     | 0.001061     |
+------------+--------------+--------------+--------------+
2020-12-19 21:14:20.451 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 5.201656
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.701613     | 1.827512     | 1.672532     |
| x          | 0.030139     | 0.028601     | 0.042699     |
| y          | 0.022169     | 0.030475     | 0.046893     |
| w          | 0.109907     | 0.031677     | 0.064486     |
| h          | 0.060307     | 0.033702     | 0.061450     |
| conf       | 1.299921     | 1.468005     | 1.252914     |
| cls        | 0.179170     | 0.235053     | 0.204090     |
| cls_acc    | 93.55%       | 90.62%       | 90.62%       |
| recall50   | 0.677419     | 0.656250     | 0.687500     |
| recall75   | 0.645161     | 0.531250     | 0.625000     |
| precision  | 0.656250     | 0.262500     | 0.123596     |
| conf_obj   | 0.710976     | 0.719400     | 0.731489     |
| conf_noobj | 0.001077     | 0.001315     | 0.001026     |
+------------+--------------+--------------+--------------+
2020-12-19 21:15:20.156 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.994721
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.285124     | 0.881465     | 0.828132     |
| x          | 0.011327     | 0.010189     | 0.020998     |
| y          | 0.022132     | 0.016977     | 0.027625     |
| w          | 0.028564     | 0.022596     | 0.039312     |
| h          | 0.025310     | 0.011643     | 0.028815     |
| conf       | 1.013634     | 0.631998     | 0.547087     |
| cls        | 0.184157     | 0.188063     | 0.164294     |
| cls_acc    | 88.89%       | 94.74%       | 94.74%       |
| recall50   | 0.666667     | 0.894737     | 0.842105     |
| recall75   | 0.611111     | 0.842105     | 0.631579     |
| precision  | 0.315789     | 0.200000     | 0.080000     |
| conf_obj   | 0.770051     | 0.816064     | 0.814875     |
| conf_noobj | 0.002469     | 0.001675     | 0.001329     |
+------------+--------------+--------------+--------------+
2020-12-19 21:16:20.058 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.761680
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.669486     | 0.601139     | 0.491056     |
| x          | 0.027032     | 0.024665     | 0.019311     |
| y          | 0.010532     | 0.022285     | 0.030863     |
| w          | 0.083076     | 0.046710     | 0.032404     |
| h          | 0.072476     | 0.046017     | 0.027486     |
| conf       | 0.437304     | 0.431135     | 0.351178     |
| cls        | 0.039065     | 0.030326     | 0.029814     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.837838     | 0.947368     |
| recall75   | 0.714286     | 0.675676     | 0.763158     |
| precision  | 0.682927     | 0.373494     | 0.166667     |
| conf_obj   | 0.848730     | 0.863661     | 0.906116     |
| conf_noobj | 0.001359     | 0.001445     | 0.001344     |
+------------+--------------+--------------+--------------+
2020-12-19 21:17:25.621 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.535691
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.618728     | 0.460807     | 0.456157     |
| x          | 0.021037     | 0.009047     | 0.017611     |
| y          | 0.010338     | 0.012039     | 0.034011     |
| w          | 0.067237     | 0.052010     | 0.015355     |
| h          | 0.030132     | 0.027629     | 0.018566     |
| conf       | 0.327440     | 0.255520     | 0.285451     |
| cls        | 0.162543     | 0.104561     | 0.085162     |
| cls_acc    | 88.89%       | 94.44%       | 94.44%       |
| recall50   | 0.888889     | 0.944444     | 0.944444     |
| recall75   | 0.722222     | 0.833333     | 0.833333     |
| precision  | 0.571429     | 0.298246     | 0.096591     |
| conf_obj   | 0.901879     | 0.942039     | 0.937197     |
| conf_noobj | 0.001294     | 0.001175     | 0.001246     |
+------------+--------------+--------------+--------------+
2020-12-19 21:18:31.073 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.758180
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.240758     | 0.243411     | 0.274011     |
| x          | 0.005361     | 0.008254     | 0.024963     |
| y          | 0.008855     | 0.010542     | 0.047379     |
| w          | 0.026049     | 0.010122     | 0.004801     |
| h          | 0.026596     | 0.015852     | 0.013512     |
| conf       | 0.160870     | 0.193894     | 0.180122     |
| cls        | 0.013028     | 0.004748     | 0.003234     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.882353     | 1.000000     | 0.882353     |
| precision  | 0.680000     | 0.278689     | 0.100592     |
| conf_obj   | 0.982750     | 0.969835     | 0.987057     |
| conf_noobj | 0.001093     | 0.001054     | 0.001021     |
+------------+--------------+--------------+--------------+
2020-12-19 21:18:34.556 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 2.203
2020-12-19 21:18:34.560 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 21:19:31.972 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12245   | 0.39721 | 0.18719 | 0.24829 |
| 1     | Wear_helmet | 0.31945   | 0.97222 | 0.48089 | 0.93543 |
| 2     | Total       | 0.22095   | 0.68472 | 0.33404 | 0.59186 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:19:31.972 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.591858826161728
2020-12-19 21:19:31.973 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 21:19:31.973 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.412935

2020-12-19 21:19:32.427 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 2/2, epo 2/5
2020-12-19 21:19:32.427 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 2/2, epo 2/5; time cost: 0:15:07.148548

2020-12-19 21:19:32.427 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 2/2, epo 3/5
2020-12-19 21:19:33.841 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.054066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.782574     | 0.663035     | 0.608457     |
| x          | 0.008083     | 0.016532     | 0.041284     |
| y          | 0.022909     | 0.018336     | 0.045359     |
| w          | 0.062233     | 0.038325     | 0.028580     |
| h          | 0.063212     | 0.047982     | 0.025606     |
| conf       | 0.534864     | 0.427873     | 0.358327     |
| cls        | 0.091272     | 0.113987     | 0.109302     |
| cls_acc    | 100.00%      | 91.89%       | 94.59%       |
| recall50   | 0.852941     | 0.864865     | 0.891892     |
| recall75   | 0.617647     | 0.756757     | 0.729730     |
| precision  | 0.690476     | 0.385542     | 0.145374     |
| conf_obj   | 0.832857     | 0.867475     | 0.898254     |
| conf_noobj | 0.001314     | 0.001177     | 0.001150     |
+------------+--------------+--------------+--------------+
2020-12-19 21:20:44.262 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.313197
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.881935     | 0.756745     | 0.674518     |
| x          | 0.024772     | 0.012475     | 0.023469     |
| y          | 0.016875     | 0.017186     | 0.028788     |
| w          | 0.076235     | 0.022583     | 0.012284     |
| h          | 0.057192     | 0.028240     | 0.014205     |
| conf       | 0.429130     | 0.417945     | 0.271891     |
| cls        | 0.277732     | 0.258317     | 0.323881     |
| cls_acc    | 88.89%       | 89.29%       | 89.29%       |
| recall50   | 0.814815     | 0.821429     | 0.892857     |
| recall75   | 0.740741     | 0.714286     | 0.785714     |
| precision  | 0.628571     | 0.310811     | 0.125000     |
| conf_obj   | 0.858459     | 0.868348     | 0.932716     |
| conf_noobj | 0.000964     | 0.001255     | 0.001091     |
+------------+--------------+--------------+--------------+
2020-12-19 21:21:51.445 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.581292
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.778474     | 0.451811     | 0.351008     |
| x          | 0.013382     | 0.014827     | 0.024333     |
| y          | 0.013396     | 0.018830     | 0.019487     |
| w          | 0.048168     | 0.025023     | 0.019441     |
| h          | 0.040585     | 0.028774     | 0.018470     |
| conf       | 0.634445     | 0.319418     | 0.218096     |
| cls        | 0.028497     | 0.044939     | 0.051181     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.809524     | 0.904762     | 1.000000     |
| recall75   | 0.619048     | 0.761905     | 0.818182     |
| precision  | 0.500000     | 0.267606     | 0.111111     |
| conf_obj   | 0.814555     | 0.901994     | 0.958602     |
| conf_noobj | 0.001806     | 0.001294     | 0.001090     |
+------------+--------------+--------------+--------------+
2020-12-19 21:22:52.648 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.150408
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.825714     | 0.823670     | 0.501024     |
| x          | 0.019895     | 0.013538     | 0.029007     |
| y          | 0.009327     | 0.012326     | 0.017247     |
| w          | 0.038883     | 0.065214     | 0.042258     |
| h          | 0.026002     | 0.040194     | 0.026826     |
| conf       | 0.636309     | 0.637573     | 0.353342     |
| cls        | 0.095298     | 0.054824     | 0.032343     |
| cls_acc    | 94.12%       | 100.00%      | 100.00%      |
| recall50   | 0.705882     | 0.750000     | 0.950000     |
| recall75   | 0.470588     | 0.650000     | 0.650000     |
| precision  | 0.342857     | 0.258621     | 0.104396     |
| conf_obj   | 0.813977     | 0.782120     | 0.893676     |
| conf_noobj | 0.001954     | 0.001262     | 0.001268     |
+------------+--------------+--------------+--------------+
2020-12-19 21:23:58.444 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.156466
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.360248     | 0.429241     | 0.366977     |
| x          | 0.009221     | 0.015872     | 0.019372     |
| y          | 0.022896     | 0.028195     | 0.068944     |
| w          | 0.019568     | 0.030065     | 0.010200     |
| h          | 0.022532     | 0.036674     | 0.016398     |
| conf       | 0.263680     | 0.300288     | 0.239841     |
| cls        | 0.022351     | 0.018147     | 0.012221     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.937500     | 0.969697     |
| recall75   | 0.800000     | 0.656250     | 0.818182     |
| precision  | 0.700000     | 0.357143     | 0.142857     |
| conf_obj   | 0.914268     | 0.913722     | 0.928910     |
| conf_noobj | 0.001112     | 0.001037     | 0.000872     |
+------------+--------------+--------------+--------------+
2020-12-19 21:25:02.961 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.239240
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.857540     | 0.737667     | 0.644032     |
| x          | 0.014491     | 0.025882     | 0.032310     |
| y          | 0.013035     | 0.034483     | 0.063904     |
| w          | 0.103196     | 0.084359     | 0.027154     |
| h          | 0.077006     | 0.070415     | 0.032023     |
| conf       | 0.566968     | 0.465097     | 0.466225     |
| cls        | 0.082844     | 0.057431     | 0.022416     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.840000     | 0.923077     | 0.846154     |
| recall75   | 0.680000     | 0.538462     | 0.692308     |
| precision  | 0.656250     | 0.292683     | 0.103774     |
| conf_obj   | 0.827693     | 0.902866     | 0.843283     |
| conf_noobj | 0.001422     | 0.001499     | 0.001232     |
+------------+--------------+--------------+--------------+
2020-12-19 21:26:06.062 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.517405
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.577108     | 0.534952     | 0.405344     |
| x          | 0.015803     | 0.018731     | 0.028798     |
| y          | 0.007439     | 0.009974     | 0.022615     |
| w          | 0.029734     | 0.029001     | 0.009372     |
| h          | 0.038618     | 0.036088     | 0.015518     |
| conf       | 0.376949     | 0.347674     | 0.297296     |
| cls        | 0.108565     | 0.093485     | 0.031746     |
| cls_acc    | 94.74%       | 95.00%       | 100.00%      |
| recall50   | 0.842105     | 0.900000     | 0.954545     |
| recall75   | 0.789474     | 0.750000     | 0.818182     |
| precision  | 0.571429     | 0.290323     | 0.129630     |
| conf_obj   | 0.892523     | 0.902994     | 0.926967     |
| conf_noobj | 0.001432     | 0.001303     | 0.001148     |
+------------+--------------+--------------+--------------+
2020-12-19 21:27:11.487 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.756622
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.707490     | 0.561567     | 0.487564     |
| x          | 0.019582     | 0.014302     | 0.045140     |
| y          | 0.010484     | 0.015909     | 0.028353     |
| w          | 0.026584     | 0.014736     | 0.017307     |
| h          | 0.033948     | 0.029318     | 0.031010     |
| conf       | 0.554503     | 0.399088     | 0.247203     |
| cls        | 0.062389     | 0.088214     | 0.118551     |
| cls_acc    | 100.00%      | 96.30%       | 92.59%       |
| recall50   | 0.884615     | 0.888889     | 0.888889     |
| recall75   | 0.730769     | 0.703704     | 0.629630     |
| precision  | 0.884615     | 0.352941     | 0.130435     |
| conf_obj   | 0.856764     | 0.893337     | 0.940882     |
| conf_noobj | 0.000803     | 0.001121     | 0.000962     |
+------------+--------------+--------------+--------------+
2020-12-19 21:28:12.945 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.998315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.758147     | 0.628648     | 0.611520     |
| x          | 0.013804     | 0.025068     | 0.023343     |
| y          | 0.011282     | 0.012266     | 0.034192     |
| w          | 0.033342     | 0.014545     | 0.017462     |
| h          | 0.046621     | 0.020369     | 0.019643     |
| conf       | 0.550540     | 0.421308     | 0.398757     |
| cls        | 0.102558     | 0.135093     | 0.118122     |
| cls_acc    | 92.59%       | 89.29%       | 92.86%       |
| recall50   | 0.851852     | 0.857143     | 0.892857     |
| recall75   | 0.814815     | 0.785714     | 0.821429     |
| precision  | 0.741935     | 0.363636     | 0.132275     |
| conf_obj   | 0.844759     | 0.883812     | 0.916168     |
| conf_noobj | 0.001131     | 0.001111     | 0.001157     |
+------------+--------------+--------------+--------------+
2020-12-19 21:29:20.280 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.308801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.453306     | 0.395990     | 0.459505     |
| x          | 0.010295     | 0.022763     | 0.018363     |
| y          | 0.012140     | 0.015131     | 0.026680     |
| w          | 0.044563     | 0.036881     | 0.014937     |
| h          | 0.043782     | 0.043649     | 0.016404     |
| conf       | 0.305703     | 0.237724     | 0.355056     |
| cls        | 0.036823     | 0.039843     | 0.028065     |
| cls_acc    | 96.43%       | 96.55%       | 100.00%      |
| recall50   | 0.857143     | 0.896552     | 0.900000     |
| recall75   | 0.678571     | 0.793103     | 0.733333     |
| precision  | 0.705882     | 0.382353     | 0.150838     |
| conf_obj   | 0.888275     | 0.926285     | 0.896483     |
| conf_noobj | 0.001019     | 0.000938     | 0.000925     |
+------------+--------------+--------------+--------------+
2020-12-19 21:30:26.972 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 5.107201
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.878943     | 1.705834     | 1.522424     |
| x          | 0.020684     | 0.013977     | 0.033863     |
| y          | 0.032279     | 0.045712     | 0.066550     |
| w          | 0.081070     | 0.048724     | 0.015338     |
| h          | 0.092899     | 0.062017     | 0.026316     |
| conf       | 1.083341     | 0.969404     | 0.783390     |
| cls        | 0.568669     | 0.565999     | 0.596967     |
| cls_acc    | 92.59%       | 92.59%       | 92.59%       |
| recall50   | 0.740741     | 0.703704     | 0.777778     |
| recall75   | 0.592593     | 0.629630     | 0.592593     |
| precision  | 0.606061     | 0.267606     | 0.130435     |
| conf_obj   | 0.759679     | 0.748941     | 0.822714     |
| conf_noobj | 0.001483     | 0.001301     | 0.001024     |
+------------+--------------+--------------+--------------+
2020-12-19 21:31:32.214 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.870060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.174253     | 0.917813     | 0.777994     |
| x          | 0.015755     | 0.010494     | 0.023336     |
| y          | 0.024181     | 0.016139     | 0.029055     |
| w          | 0.049839     | 0.034060     | 0.017048     |
| h          | 0.082519     | 0.042626     | 0.027464     |
| conf       | 0.943676     | 0.795523     | 0.668986     |
| cls        | 0.058283     | 0.018972     | 0.012105     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.884615     | 0.884615     |
| recall75   | 0.680000     | 0.692308     | 0.769231     |
| precision  | 0.465116     | 0.302632     | 0.105505     |
| conf_obj   | 0.835704     | 0.865446     | 0.882412     |
| conf_noobj | 0.001639     | 0.001129     | 0.000857     |
+------------+--------------+--------------+--------------+
2020-12-19 21:32:36.001 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.645358
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.557803     | 0.517462     | 0.570093     |
| x          | 0.016742     | 0.014878     | 0.041115     |
| y          | 0.030283     | 0.027590     | 0.028276     |
| w          | 0.047609     | 0.019966     | 0.016555     |
| h          | 0.048456     | 0.031548     | 0.019887     |
| conf       | 0.353620     | 0.365935     | 0.389149     |
| cls        | 0.061093     | 0.057546     | 0.075111     |
| cls_acc    | 100.00%      | 100.00%      | 96.00%       |
| recall50   | 0.916667     | 0.920000     | 0.880000     |
| recall75   | 0.708333     | 0.680000     | 0.800000     |
| precision  | 0.611111     | 0.323944     | 0.117021     |
| conf_obj   | 0.930205     | 0.907452     | 0.924075     |
| conf_noobj | 0.001729     | 0.001510     | 0.001219     |
+------------+--------------+--------------+--------------+
2020-12-19 21:33:38.766 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.253984
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.902541     | 0.756142     | 0.595301     |
| x          | 0.017995     | 0.014932     | 0.030891     |
| y          | 0.018942     | 0.016814     | 0.030929     |
| w          | 0.060158     | 0.032875     | 0.028556     |
| h          | 0.075355     | 0.060603     | 0.038274     |
| conf       | 0.630037     | 0.571480     | 0.426591     |
| cls        | 0.100055     | 0.059438     | 0.040061     |
| cls_acc    | 97.37%       | 97.37%       | 100.00%      |
| recall50   | 0.789474     | 0.894737     | 0.921053     |
| recall75   | 0.657895     | 0.684211     | 0.815789     |
| precision  | 0.697674     | 0.354167     | 0.131579     |
| conf_obj   | 0.800510     | 0.876364     | 0.910738     |
| conf_noobj | 0.001691     | 0.001722     | 0.001598     |
+------------+--------------+--------------+--------------+
2020-12-19 21:33:42.323 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 2.104
2020-12-19 21:33:42.326 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 21:34:44.397 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04040   | 0.46690 | 0.07436 | 0.22151 |
| 1     | Wear_helmet | 0.22937   | 0.96137 | 0.37037 | 0.90626 |
| 2     | Total       | 0.13488   | 0.71414 | 0.22237 | 0.56389 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:34:44.398 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5638855608868861
2020-12-19 21:34:44.398 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 21:34:44.398 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:02.071895

2020-12-19 21:34:44.923 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 2/2, epo 3/5
2020-12-19 21:34:44.923 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 2/2, epo 3/5; time cost: 0:15:12.495632

2020-12-19 21:34:44.923 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 2/2, epo 4/5
2020-12-19 21:34:46.627 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.337954
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.405522     | 0.438774     | 0.493658     |
| x          | 0.024113     | 0.013320     | 0.019204     |
| y          | 0.012422     | 0.016019     | 0.045065     |
| w          | 0.043903     | 0.021551     | 0.013337     |
| h          | 0.033125     | 0.022675     | 0.012823     |
| conf       | 0.248451     | 0.269531     | 0.245231     |
| cls        | 0.043508     | 0.095679     | 0.157998     |
| cls_acc    | 100.00%      | 96.88%       | 93.75%       |
| recall50   | 0.903226     | 0.937500     | 0.875000     |
| recall75   | 0.612903     | 0.656250     | 0.781250     |
| precision  | 0.756757     | 0.434783     | 0.127854     |
| conf_obj   | 0.922265     | 0.927612     | 0.961334     |
| conf_noobj | 0.001129     | 0.001126     | 0.001191     |
+------------+--------------+--------------+--------------+
2020-12-19 21:35:50.760 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.537952
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.512524     | 0.575737     | 0.449691     |
| x          | 0.021554     | 0.030009     | 0.044642     |
| y          | 0.004528     | 0.022748     | 0.048400     |
| w          | 0.040139     | 0.027565     | 0.027046     |
| h          | 0.018094     | 0.014567     | 0.018090     |
| conf       | 0.374128     | 0.429956     | 0.274954     |
| cls        | 0.054080     | 0.050892     | 0.036560     |
| cls_acc    | 95.65%       | 95.65%       | 100.00%      |
| recall50   | 0.913043     | 0.913043     | 0.956522     |
| recall75   | 0.782609     | 0.826087     | 0.869565     |
| precision  | 0.600000     | 0.235955     | 0.099548     |
| conf_obj   | 0.910809     | 0.894612     | 0.940609     |
| conf_noobj | 0.001394     | 0.001498     | 0.001225     |
+------------+--------------+--------------+--------------+
2020-12-19 21:36:56.447 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.559905
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.886961     | 0.874616     | 0.798327     |
| x          | 0.020817     | 0.021162     | 0.036195     |
| y          | 0.022446     | 0.017560     | 0.043869     |
| w          | 0.059810     | 0.027872     | 0.024487     |
| h          | 0.040004     | 0.024058     | 0.015275     |
| conf       | 0.709516     | 0.723041     | 0.619185     |
| cls        | 0.034368     | 0.060923     | 0.059317     |
| cls_acc    | 100.00%      | 96.88%       | 100.00%      |
| recall50   | 0.838710     | 0.750000     | 0.794118     |
| recall75   | 0.645161     | 0.718750     | 0.705882     |
| precision  | 0.812500     | 0.338028     | 0.152542     |
| conf_obj   | 0.820480     | 0.807737     | 0.831767     |
| conf_noobj | 0.000922     | 0.001203     | 0.001027     |
+------------+--------------+--------------+--------------+
2020-12-19 21:38:01.315 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.669901
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.537803     | 0.598740     | 0.533358     |
| x          | 0.011191     | 0.019767     | 0.016943     |
| y          | 0.010694     | 0.016637     | 0.030184     |
| w          | 0.030046     | 0.046496     | 0.026393     |
| h          | 0.029040     | 0.032243     | 0.027267     |
| conf       | 0.260564     | 0.219825     | 0.245603     |
| cls        | 0.196267     | 0.263771     | 0.186968     |
| cls_acc    | 89.47%       | 90.00%       | 90.00%       |
| recall50   | 0.842105     | 0.900000     | 0.900000     |
| recall75   | 0.736842     | 0.750000     | 0.850000     |
| precision  | 0.640000     | 0.339623     | 0.116129     |
| conf_obj   | 0.930391     | 0.954730     | 0.951246     |
| conf_noobj | 0.001128     | 0.001013     | 0.000982     |
+------------+--------------+--------------+--------------+
2020-12-19 21:39:02.086 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.901687
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.318900     | 0.255220     | 0.327567     |
| x          | 0.005907     | 0.013591     | 0.039294     |
| y          | 0.005278     | 0.017963     | 0.050295     |
| w          | 0.026228     | 0.017084     | 0.013539     |
| h          | 0.020556     | 0.022580     | 0.009450     |
| conf       | 0.250907     | 0.178865     | 0.210026     |
| cls        | 0.010025     | 0.005137     | 0.004962     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 0.960000     |
| recall75   | 0.920000     | 0.840000     | 0.840000     |
| precision  | 0.666667     | 0.396825     | 0.134831     |
| conf_obj   | 0.939234     | 0.977113     | 0.942069     |
| conf_noobj | 0.001087     | 0.000920     | 0.000824     |
+------------+--------------+--------------+--------------+
2020-12-19 21:40:00.656 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.214908
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.870152     | 0.671164     | 0.673592     |
| x          | 0.015042     | 0.025958     | 0.052605     |
| y          | 0.009208     | 0.018238     | 0.046615     |
| w          | 0.125763     | 0.079816     | 0.022204     |
| h          | 0.097986     | 0.085907     | 0.015051     |
| conf       | 0.589478     | 0.362904     | 0.393820     |
| cls        | 0.032675     | 0.098341     | 0.143296     |
| cls_acc    | 100.00%      | 95.00%       | 95.00%       |
| recall50   | 0.900000     | 0.900000     | 0.900000     |
| recall75   | 0.750000     | 0.700000     | 0.650000     |
| precision  | 0.514286     | 0.236842     | 0.097826     |
| conf_obj   | 0.832946     | 0.882146     | 0.868215     |
| conf_noobj | 0.001707     | 0.001295     | 0.000973     |
+------------+--------------+--------------+--------------+
2020-12-19 21:41:06.687 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.076451
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.853131     | 0.629737     | 0.593583     |
| x          | 0.014342     | 0.022298     | 0.036657     |
| y          | 0.023752     | 0.030413     | 0.047396     |
| w          | 0.031375     | 0.019322     | 0.010884     |
| h          | 0.025536     | 0.016255     | 0.011182     |
| conf       | 0.495252     | 0.307023     | 0.293948     |
| cls        | 0.262875     | 0.234425     | 0.193516     |
| cls_acc    | 90.32%       | 93.55%       | 93.55%       |
| recall50   | 0.806452     | 0.935484     | 0.903226     |
| recall75   | 0.677419     | 0.774194     | 0.806452     |
| precision  | 0.555556     | 0.263636     | 0.089457     |
| conf_obj   | 0.840542     | 0.929576     | 0.946774     |
| conf_noobj | 0.001478     | 0.001391     | 0.001250     |
+------------+--------------+--------------+--------------+
2020-12-19 21:42:13.799 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.559557
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.563356     | 0.458757     | 0.537444     |
| x          | 0.011078     | 0.006138     | 0.020922     |
| y          | 0.011931     | 0.028602     | 0.023507     |
| w          | 0.054924     | 0.023116     | 0.009723     |
| h          | 0.046014     | 0.021220     | 0.014249     |
| conf       | 0.377609     | 0.366573     | 0.461672     |
| cls        | 0.061801     | 0.013107     | 0.007371     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.920000     | 0.960000     |
| recall75   | 0.720000     | 0.800000     | 0.840000     |
| precision  | 0.657143     | 0.343284     | 0.126984     |
| conf_obj   | 0.897830     | 0.913670     | 0.909572     |
| conf_noobj | 0.001116     | 0.000941     | 0.001007     |
+------------+--------------+--------------+--------------+
2020-12-19 21:43:16.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.997215
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.346294     | 0.326386     | 0.324535     |
| x          | 0.005953     | 0.010429     | 0.022204     |
| y          | 0.009226     | 0.019378     | 0.034712     |
| w          | 0.049087     | 0.015782     | 0.015171     |
| h          | 0.049376     | 0.032683     | 0.014092     |
| conf       | 0.221366     | 0.242199     | 0.231067     |
| cls        | 0.011285     | 0.005915     | 0.007288     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.900000     | 0.900000     |
| precision  | 0.571429     | 0.250000     | 0.097561     |
| conf_obj   | 0.971347     | 0.964786     | 0.957848     |
| conf_noobj | 0.001272     | 0.001276     | 0.001080     |
+------------+--------------+--------------+--------------+
2020-12-19 21:44:19.596 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 3.520992
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.212226     | 1.063062     | 1.245704     |
| x          | 0.013357     | 0.012781     | 0.036282     |
| y          | 0.023018     | 0.022308     | 0.047085     |
| w          | 0.084069     | 0.061218     | 0.057653     |
| h          | 0.091705     | 0.061574     | 0.075548     |
| conf       | 0.772212     | 0.618616     | 0.744587     |
| cls        | 0.227865     | 0.286564     | 0.284550     |
| cls_acc    | 93.94%       | 93.94%       | 91.18%       |
| recall50   | 0.787879     | 0.818182     | 0.823529     |
| recall75   | 0.575758     | 0.666667     | 0.558824     |
| precision  | 0.666667     | 0.293478     | 0.130233     |
| conf_obj   | 0.781451     | 0.810235     | 0.824806     |
| conf_noobj | 0.001278     | 0.001215     | 0.001074     |
+------------+--------------+--------------+--------------+
2020-12-19 21:45:27.163 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.580304
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.668127     | 0.489365     | 0.422812     |
| x          | 0.021221     | 0.017773     | 0.041134     |
| y          | 0.021297     | 0.023544     | 0.047731     |
| w          | 0.068276     | 0.026748     | 0.013426     |
| h          | 0.061505     | 0.034197     | 0.016192     |
| conf       | 0.489155     | 0.376388     | 0.291261     |
| cls        | 0.006673     | 0.010716     | 0.013069     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.925926     | 0.964286     |
| recall75   | 0.629630     | 0.740741     | 0.785714     |
| precision  | 0.568182     | 0.301205     | 0.139896     |
| conf_obj   | 0.842660     | 0.880036     | 0.908534     |
| conf_noobj | 0.001718     | 0.001448     | 0.001080     |
+------------+--------------+--------------+--------------+
2020-12-19 21:46:38.749 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 3.306087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.174627     | 1.101523     | 1.029937     |
| x          | 0.012740     | 0.018853     | 0.023440     |
| y          | 0.017919     | 0.014542     | 0.022501     |
| w          | 0.086812     | 0.075552     | 0.047818     |
| h          | 0.135098     | 0.121904     | 0.083723     |
| conf       | 0.686171     | 0.605231     | 0.620572     |
| cls        | 0.235887     | 0.265442     | 0.231884     |
| cls_acc    | 85.19%       | 89.29%       | 85.71%       |
| recall50   | 0.814815     | 0.821429     | 0.821429     |
| recall75   | 0.592593     | 0.714286     | 0.678571     |
| precision  | 0.550000     | 0.287500     | 0.126374     |
| conf_obj   | 0.832821     | 0.827248     | 0.829675     |
| conf_noobj | 0.001867     | 0.001455     | 0.001085     |
+------------+--------------+--------------+--------------+
2020-12-19 21:47:43.685 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.800614
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.543191     | 0.542305     | 0.715118     |
| x          | 0.014596     | 0.014903     | 0.060823     |
| y          | 0.027887     | 0.036758     | 0.051286     |
| w          | 0.021142     | 0.023785     | 0.025757     |
| h          | 0.027808     | 0.020470     | 0.013836     |
| conf       | 0.214034     | 0.240156     | 0.222128     |
| cls        | 0.237724     | 0.206233     | 0.341286     |
| cls_acc    | 92.86%       | 92.86%       | 92.86%       |
| recall50   | 0.928571     | 0.928571     | 0.928571     |
| recall75   | 0.642857     | 0.785714     | 0.714286     |
| precision  | 0.481481     | 0.220339     | 0.070652     |
| conf_obj   | 0.978316     | 0.946861     | 0.946069     |
| conf_noobj | 0.001210     | 0.001104     | 0.000988     |
+------------+--------------+--------------+--------------+
2020-12-19 21:48:50.469 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.065711
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.426529     | 0.330418     | 0.308764     |
| x          | 0.004831     | 0.007800     | 0.024648     |
| y          | 0.010581     | 0.013319     | 0.019196     |
| w          | 0.069579     | 0.022842     | 0.010896     |
| h          | 0.059351     | 0.018282     | 0.010544     |
| conf       | 0.231887     | 0.235546     | 0.211170     |
| cls        | 0.050300     | 0.032629     | 0.032311     |
| cls_acc    | 95.24%       | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 1.000000     |
| recall75   | 0.714286     | 0.857143     | 0.863636     |
| precision  | 0.606061     | 0.289855     | 0.123596     |
| conf_obj   | 0.948422     | 0.934326     | 0.943764     |
| conf_noobj | 0.001123     | 0.000935     | 0.000871     |
+------------+--------------+--------------+--------------+
2020-12-19 21:48:54.099 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.941
2020-12-19 21:48:54.103 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 21:49:51.726 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05030   | 0.38328 | 0.08892 | 0.17174 |
| 1     | Wear_helmet | 0.35705   | 0.96484 | 0.52122 | 0.92116 |
| 2     | Total       | 0.20367   | 0.67406 | 0.30507 | 0.54645 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:49:51.726 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5464491035298364
2020-12-19 21:49:51.727 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 21:49:51.727 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.623826

2020-12-19 21:49:52.187 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 2/2, epo 4/5
2020-12-19 21:49:52.188 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 2/2, epo 4/5; time cost: 0:15:07.263983

2020-12-19 21:49:52.189 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 2/2, epo 5/5
2020-12-19 21:49:53.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.560406
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.632425     | 0.493518     | 0.434464     |
| x          | 0.019650     | 0.033315     | 0.037532     |
| y          | 0.010920     | 0.012908     | 0.036909     |
| w          | 0.093210     | 0.047337     | 0.021088     |
| h          | 0.057463     | 0.035422     | 0.022389     |
| conf       | 0.399092     | 0.346013     | 0.283336     |
| cls        | 0.052090     | 0.018523     | 0.033209     |
| cls_acc    | 95.65%       | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.913043     | 0.956522     |
| recall75   | 0.826087     | 0.913043     | 0.826087     |
| precision  | 0.512821     | 0.269231     | 0.111111     |
| conf_obj   | 0.902031     | 0.891675     | 0.915314     |
| conf_noobj | 0.001301     | 0.001073     | 0.000998     |
+------------+--------------+--------------+--------------+
2020-12-19 21:51:02.859 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.421348
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.594980     | 0.426285     | 0.400083     |
| x          | 0.009140     | 0.012177     | 0.032953     |
| y          | 0.022980     | 0.020290     | 0.014174     |
| w          | 0.134942     | 0.084400     | 0.043693     |
| h          | 0.110545     | 0.053513     | 0.042133     |
| conf       | 0.245659     | 0.178443     | 0.217769     |
| cls        | 0.071715     | 0.077463     | 0.049360     |
| cls_acc    | 94.74%       | 94.74%       | 100.00%      |
| recall50   | 0.842105     | 0.947368     | 0.894737     |
| recall75   | 0.789474     | 0.842105     | 0.684211     |
| precision  | 0.615385     | 0.346154     | 0.136000     |
| conf_obj   | 0.913303     | 0.949033     | 0.930578     |
| conf_noobj | 0.000933     | 0.000746     | 0.000674     |
+------------+--------------+--------------+--------------+
2020-12-19 21:52:06.751 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.193993
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.393914     | 0.426111     | 0.373968     |
| x          | 0.004448     | 0.014725     | 0.037975     |
| y          | 0.009507     | 0.011142     | 0.022357     |
| w          | 0.048771     | 0.028255     | 0.008165     |
| h          | 0.028949     | 0.019016     | 0.015033     |
| conf       | 0.290909     | 0.347176     | 0.281337     |
| cls        | 0.011329     | 0.005796     | 0.009102     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.954545     | 0.954545     |
| recall75   | 0.809524     | 0.772727     | 0.863636     |
| precision  | 0.730769     | 0.328125     | 0.136364     |
| conf_obj   | 0.903704     | 0.916937     | 0.924515     |
| conf_noobj | 0.001068     | 0.001053     | 0.001031     |
+------------+--------------+--------------+--------------+
2020-12-19 21:53:06.647 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.208256
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.754641     | 0.795937     | 0.657677     |
| x          | 0.013169     | 0.032026     | 0.036689     |
| y          | 0.016361     | 0.022820     | 0.035189     |
| w          | 0.040247     | 0.028385     | 0.019385     |
| h          | 0.022504     | 0.043234     | 0.033426     |
| conf       | 0.612935     | 0.614011     | 0.489979     |
| cls        | 0.049424     | 0.055461     | 0.043010     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.851852     | 0.851852     | 0.925926     |
| recall75   | 0.666667     | 0.666667     | 0.703704     |
| precision  | 0.547619     | 0.214953     | 0.077882     |
| conf_obj   | 0.801844     | 0.791104     | 0.855831     |
| conf_noobj | 0.001762     | 0.001551     | 0.001389     |
+------------+--------------+--------------+--------------+
2020-12-19 21:54:11.309 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.047307
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.732283     | 0.765454     | 0.549569     |
| x          | 0.008601     | 0.030199     | 0.042459     |
| y          | 0.014705     | 0.017683     | 0.052560     |
| w          | 0.067484     | 0.021975     | 0.016212     |
| h          | 0.051257     | 0.024343     | 0.009033     |
| conf       | 0.517709     | 0.517778     | 0.335764     |
| cls        | 0.072527     | 0.153476     | 0.093541     |
| cls_acc    | 95.83%       | 95.83%       | 95.83%       |
| recall50   | 0.875000     | 0.916667     | 0.875000     |
| recall75   | 0.666667     | 0.833333     | 0.833333     |
| precision  | 0.512195     | 0.282051     | 0.099526     |
| conf_obj   | 0.847918     | 0.862568     | 0.898799     |
| conf_noobj | 0.001411     | 0.001096     | 0.000980     |
+------------+--------------+--------------+--------------+
2020-12-19 21:55:17.176 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.375431
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.509780     | 0.479642     | 0.386009     |
| x          | 0.020256     | 0.016894     | 0.014148     |
| y          | 0.009095     | 0.018011     | 0.034616     |
| w          | 0.031969     | 0.019891     | 0.018555     |
| h          | 0.020112     | 0.018922     | 0.015960     |
| conf       | 0.323873     | 0.327801     | 0.248087     |
| cls        | 0.104476     | 0.078123     | 0.054643     |
| cls_acc    | 91.30%       | 95.83%       | 95.83%       |
| recall50   | 0.869565     | 0.916667     | 0.958333     |
| recall75   | 0.826087     | 0.666667     | 0.791667     |
| precision  | 0.526316     | 0.265060     | 0.102222     |
| conf_obj   | 0.932308     | 0.923841     | 0.950513     |
| conf_noobj | 0.001375     | 0.001200     | 0.001057     |
+------------+--------------+--------------+--------------+
2020-12-19 21:56:14.477 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.798505
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.248896     | 0.277591     | 0.272019     |
| x          | 0.004588     | 0.010093     | 0.013667     |
| y          | 0.015500     | 0.023004     | 0.017298     |
| w          | 0.016386     | 0.015592     | 0.014919     |
| h          | 0.021065     | 0.015131     | 0.016570     |
| conf       | 0.160693     | 0.184576     | 0.184932     |
| cls        | 0.030663     | 0.029195     | 0.024633     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.947368     | 1.000000     |
| recall75   | 0.833333     | 0.894737     | 1.000000     |
| precision  | 0.695652     | 0.327273     | 0.139706     |
| conf_obj   | 0.958918     | 0.959021     | 0.973318     |
| conf_noobj | 0.000821     | 0.000917     | 0.000900     |
+------------+--------------+--------------+--------------+
2020-12-19 21:57:17.073 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 2.784568
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.039864     | 0.946053     | 0.798651     |
| x          | 0.025830     | 0.014629     | 0.020254     |
| y          | 0.020511     | 0.015887     | 0.025034     |
| w          | 0.050936     | 0.065708     | 0.033962     |
| h          | 0.075217     | 0.089784     | 0.036905     |
| conf       | 0.731488     | 0.669967     | 0.608088     |
| cls        | 0.135884     | 0.090077     | 0.074409     |
| cls_acc    | 93.75%       | 97.14%       | 97.22%       |
| recall50   | 0.750000     | 0.800000     | 0.805556     |
| recall75   | 0.531250     | 0.600000     | 0.722222     |
| precision  | 0.558140     | 0.388889     | 0.163842     |
| conf_obj   | 0.821074     | 0.825586     | 0.824439     |
| conf_noobj | 0.001453     | 0.001087     | 0.000959     |
+------------+--------------+--------------+--------------+
2020-12-19 21:58:23.204 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.855646
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.837551     | 0.515547     | 0.502549     |
| x          | 0.001193     | 0.003757     | 0.018055     |
| y          | 0.006408     | 0.017840     | 0.053314     |
| w          | 0.035261     | 0.011232     | 0.008994     |
| h          | 0.035770     | 0.006333     | 0.004539     |
| conf       | 0.534276     | 0.315917     | 0.265368     |
| cls        | 0.224643     | 0.160466     | 0.152280     |
| cls_acc    | 92.31%       | 92.31%       | 92.31%       |
| recall50   | 0.923077     | 0.923077     | 0.923077     |
| recall75   | 0.846154     | 0.923077     | 0.923077     |
| precision  | 0.500000     | 0.226415     | 0.081633     |
| conf_obj   | 0.915155     | 0.939621     | 0.933450     |
| conf_noobj | 0.001887     | 0.001375     | 0.001034     |
+------------+--------------+--------------+--------------+
2020-12-19 21:59:24.818 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.560168
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.636994     | 0.495056     | 0.428117     |
| x          | 0.006915     | 0.018144     | 0.024958     |
| y          | 0.019682     | 0.031390     | 0.050896     |
| w          | 0.056617     | 0.046251     | 0.012077     |
| h          | 0.074303     | 0.069717     | 0.024567     |
| conf       | 0.450748     | 0.314936     | 0.304455     |
| cls        | 0.028729     | 0.014619     | 0.011164     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.857143     | 0.863636     |
| recall75   | 0.666667     | 0.761905     | 0.772727     |
| precision  | 0.655172     | 0.310345     | 0.132867     |
| conf_obj   | 0.865060     | 0.905664     | 0.896524     |
| conf_noobj | 0.001332     | 0.001115     | 0.000977     |
+------------+--------------+--------------+--------------+
2020-12-19 22:00:24.935 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.749203
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.585275     | 0.661004     | 0.502925     |
| x          | 0.010628     | 0.033988     | 0.042287     |
| y          | 0.015128     | 0.016118     | 0.047688     |
| w          | 0.033088     | 0.039999     | 0.029746     |
| h          | 0.031664     | 0.040622     | 0.025689     |
| conf       | 0.433998     | 0.470739     | 0.295171     |
| cls        | 0.060768     | 0.059537     | 0.062345     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.818182     | 0.954545     |
| recall75   | 0.842105     | 0.681818     | 0.636364     |
| precision  | 0.629630     | 0.315789     | 0.132911     |
| conf_obj   | 0.878617     | 0.829002     | 0.915779     |
| conf_noobj | 0.001349     | 0.001193     | 0.001098     |
+------------+--------------+--------------+--------------+
2020-12-19 22:01:28.951 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.103298
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.269933     | 0.480635     | 0.352729     |
| x          | 0.008256     | 0.028538     | 0.046978     |
| y          | 0.016700     | 0.010535     | 0.040722     |
| w          | 0.015630     | 0.012979     | 0.010594     |
| h          | 0.035362     | 0.008376     | 0.010328     |
| conf       | 0.182452     | 0.403700     | 0.218067     |
| cls        | 0.011533     | 0.016507     | 0.026041     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.857143     | 1.000000     |
| recall75   | 0.900000     | 0.857143     | 0.904762     |
| precision  | 0.769231     | 0.300000     | 0.153285     |
| conf_obj   | 0.933136     | 0.837388     | 0.917121     |
| conf_noobj | 0.000798     | 0.000919     | 0.000712     |
+------------+--------------+--------------+--------------+
2020-12-19 22:02:33.023 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.242205
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.445774     | 0.404413     | 0.392019     |
| x          | 0.007640     | 0.030419     | 0.038575     |
| y          | 0.023134     | 0.020942     | 0.063834     |
| w          | 0.023682     | 0.016474     | 0.011050     |
| h          | 0.033572     | 0.026995     | 0.018785     |
| conf       | 0.231863     | 0.250919     | 0.220188     |
| cls        | 0.125883     | 0.058664     | 0.039585     |
| cls_acc    | 100.00%      | 95.83%       | 100.00%      |
| recall50   | 1.000000     | 0.916667     | 1.000000     |
| recall75   | 0.909091     | 0.791667     | 0.833333     |
| precision  | 0.647059     | 0.301370     | 0.113744     |
| conf_obj   | 0.948622     | 0.923833     | 0.948203     |
| conf_noobj | 0.001175     | 0.000976     | 0.000946     |
+------------+--------------+--------------+--------------+
2020-12-19 22:03:40.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.031982
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.424928     | 0.297987     | 0.309067     |
| x          | 0.027163     | 0.029238     | 0.036209     |
| y          | 0.021353     | 0.014778     | 0.029429     |
| w          | 0.036421     | 0.019276     | 0.012660     |
| h          | 0.048279     | 0.029985     | 0.021639     |
| conf       | 0.279121     | 0.196250     | 0.197202     |
| cls        | 0.012591     | 0.008460     | 0.011928     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.961538     | 1.000000     |
| recall75   | 0.720000     | 0.846154     | 0.923077     |
| precision  | 0.621622     | 0.347222     | 0.144444     |
| conf_obj   | 0.924796     | 0.951227     | 0.952040     |
| conf_noobj | 0.001101     | 0.000851     | 0.000816     |
+------------+--------------+--------------+--------------+
2020-12-19 22:03:44.435 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.845
2020-12-19 22:03:44.438 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 22:04:43.354 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07742   | 0.33449 | 0.12574 | 0.17463 |
| 1     | Wear_helmet | 0.27502   | 0.97700 | 0.42921 | 0.91901 |
| 2     | Total       | 0.17622   | 0.65575 | 0.27747 | 0.54682 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:04:43.355 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5468188105766987
2020-12-19 22:04:43.355 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 22:04:43.355 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.917641

2020-12-19 22:04:43.777 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 2/2, epo 5/5
2020-12-19 22:04:43.777 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 2/2, epo 5/5; time cost: 0:14:51.588353

2020-12-19 22:04:43.778 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 2.102
2020-12-19 22:04:44.052 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-19 22:09:02.965 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09951   | 0.50037 | 0.16601 | 0.33542 |
| 1     | Wear_helmet | 0.22464   | 0.93156 | 0.36199 | 0.82941 |
| 2     | Total       | 0.16208   | 0.71597 | 0.26400 | 0.58242 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:09:02.966 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5824154736452605
2020-12-19 22:09:02.966 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-19 22:09:02.966 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:18.913943

2020-12-19 22:10:12.051 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 5!
2020-12-19 22:10:12.319 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 2/2, epo 1/5
2020-12-19 22:10:13.774 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.528154
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.603520     | 0.504230     | 0.420404     |
| x          | 0.025706     | 0.011181     | 0.020271     |
| y          | 0.010333     | 0.019439     | 0.034778     |
| w          | 0.052361     | 0.032738     | 0.017640     |
| h          | 0.026197     | 0.030049     | 0.039162     |
| conf       | 0.457257     | 0.375396     | 0.274566     |
| cls        | 0.031666     | 0.035428     | 0.033986     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.863636     | 1.000000     |
| recall75   | 0.761905     | 0.818182     | 0.863636     |
| precision  | 0.542857     | 0.246753     | 0.115183     |
| conf_obj   | 0.883735     | 0.898935     | 0.928458     |
| conf_noobj | 0.001744     | 0.001423     | 0.001140     |
+------------+--------------+--------------+--------------+
2020-12-19 22:11:16.298 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.740691
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.017024     | 0.937017     | 0.786650     |
| x          | 0.016571     | 0.025050     | 0.023866     |
| y          | 0.034634     | 0.018185     | 0.041035     |
| w          | 0.112184     | 0.019119     | 0.047593     |
| h          | 0.110478     | 0.026754     | 0.032014     |
| conf       | 0.670408     | 0.733049     | 0.444309     |
| cls        | 0.072750     | 0.114860     | 0.197832     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.850000     | 0.850000     | 0.850000     |
| recall75   | 0.700000     | 0.800000     | 0.800000     |
| precision  | 0.404762     | 0.232877     | 0.104938     |
| conf_obj   | 0.867761     | 0.891893     | 0.892180     |
| conf_noobj | 0.001953     | 0.001210     | 0.000946     |
+------------+--------------+--------------+--------------+
2020-12-19 22:12:19.930 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.156517
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.834902     | 0.715333     | 0.606281     |
| x          | 0.006341     | 0.006610     | 0.019212     |
| y          | 0.006478     | 0.013227     | 0.057455     |
| w          | 0.032236     | 0.032523     | 0.023710     |
| h          | 0.050180     | 0.016653     | 0.012472     |
| conf       | 0.448737     | 0.325942     | 0.198063     |
| cls        | 0.290930     | 0.320378     | 0.295370     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.850000     | 0.900000     | 0.950000     |
| recall75   | 0.750000     | 0.800000     | 0.900000     |
| precision  | 0.531250     | 0.233766     | 0.121795     |
| conf_obj   | 0.856701     | 0.903634     | 0.948829     |
| conf_noobj | 0.001591     | 0.001287     | 0.000860     |
+------------+--------------+--------------+--------------+
2020-12-19 22:13:26.499 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.083341
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.774964     | 0.657166     | 0.651211     |
| x          | 0.026610     | 0.014012     | 0.027854     |
| y          | 0.014004     | 0.009992     | 0.024604     |
| w          | 0.049541     | 0.071718     | 0.032896     |
| h          | 0.030421     | 0.046606     | 0.016393     |
| conf       | 0.614712     | 0.487369     | 0.534834     |
| cls        | 0.039675     | 0.027468     | 0.014629     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.842105     | 0.842105     |
| recall75   | 0.666667     | 0.736842     | 0.789474     |
| precision  | 0.789474     | 0.372093     | 0.139130     |
| conf_obj   | 0.824148     | 0.822439     | 0.834775     |
| conf_noobj | 0.000696     | 0.000765     | 0.000764     |
+------------+--------------+--------------+--------------+
2020-12-19 22:14:30.912 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.439977
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.570143     | 0.448199     | 0.421635     |
| x          | 0.012875     | 0.009725     | 0.026492     |
| y          | 0.008734     | 0.016078     | 0.034618     |
| w          | 0.054853     | 0.040503     | 0.024837     |
| h          | 0.026532     | 0.017213     | 0.015156     |
| conf       | 0.385438     | 0.312160     | 0.288783     |
| cls        | 0.081711     | 0.052521     | 0.031749     |
| cls_acc    | 96.30%       | 96.30%       | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 0.964286     |
| recall75   | 0.925926     | 0.851852     | 0.750000     |
| precision  | 0.666667     | 0.292135     | 0.129187     |
| conf_obj   | 0.915862     | 0.939502     | 0.917310     |
| conf_noobj | 0.001234     | 0.001154     | 0.000903     |
+------------+--------------+--------------+--------------+
2020-12-19 22:15:41.984 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.973837
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.345015     | 0.324327     | 0.304494     |
| x          | 0.004825     | 0.014192     | 0.030848     |
| y          | 0.012550     | 0.012789     | 0.034570     |
| w          | 0.007611     | 0.008168     | 0.004139     |
| h          | 0.018615     | 0.019739     | 0.013546     |
| conf       | 0.296303     | 0.267470     | 0.219709     |
| cls        | 0.005109     | 0.001968     | 0.001682     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 1.000000     |
| recall75   | 0.857143     | 0.904762     | 0.952381     |
| precision  | 0.689655     | 0.250000     | 0.116022     |
| conf_obj   | 0.904083     | 0.949022     | 0.949873     |
| conf_noobj | 0.001014     | 0.001152     | 0.000928     |
+------------+--------------+--------------+--------------+
2020-12-19 22:16:47.382 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.061714
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.793359     | 0.664914     | 0.603442     |
| x          | 0.014660     | 0.012633     | 0.021596     |
| y          | 0.009810     | 0.015420     | 0.040361     |
| w          | 0.062329     | 0.022490     | 0.035741     |
| h          | 0.060256     | 0.036624     | 0.042775     |
| conf       | 0.633332     | 0.567829     | 0.449521     |
| cls        | 0.012971     | 0.009917     | 0.013447     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 0.909091     | 0.954545     |
| recall75   | 0.818182     | 0.863636     | 0.818182     |
| precision  | 0.529412     | 0.246914     | 0.093750     |
| conf_obj   | 0.842170     | 0.895476     | 0.914224     |
| conf_noobj | 0.001379     | 0.001247     | 0.001005     |
+------------+--------------+--------------+--------------+
2020-12-19 22:17:50.687 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.376059
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.583195     | 0.418610     | 0.374255     |
| x          | 0.017321     | 0.005770     | 0.015898     |
| y          | 0.023170     | 0.018526     | 0.026551     |
| w          | 0.031756     | 0.019007     | 0.010909     |
| h          | 0.013312     | 0.035749     | 0.014643     |
| conf       | 0.449247     | 0.307592     | 0.293649     |
| cls        | 0.048389     | 0.031965     | 0.012604     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.722222     | 0.833333     | 0.944444     |
| precision  | 0.586207     | 0.346939     | 0.098266     |
| conf_obj   | 0.844252     | 0.896164     | 0.925024     |
| conf_noobj | 0.001240     | 0.001029     | 0.001102     |
+------------+--------------+--------------+--------------+
2020-12-19 22:18:53.799 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.067992
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.796799     | 0.731156     | 0.540038     |
| x          | 0.019329     | 0.040823     | 0.048128     |
| y          | 0.012736     | 0.029127     | 0.039120     |
| w          | 0.059282     | 0.053375     | 0.014935     |
| h          | 0.045029     | 0.042555     | 0.013503     |
| conf       | 0.632395     | 0.551008     | 0.410810     |
| cls        | 0.028027     | 0.014268     | 0.013542     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.848485     | 0.794118     | 0.914286     |
| recall75   | 0.606061     | 0.617647     | 0.885714     |
| precision  | 0.549020     | 0.228814     | 0.113475     |
| conf_obj   | 0.845756     | 0.860112     | 0.888637     |
| conf_noobj | 0.002110     | 0.001860     | 0.001356     |
+------------+--------------+--------------+--------------+
2020-12-19 22:19:53.695 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 3.759481
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.642554     | 1.174246     | 0.942681     |
| x          | 0.041403     | 0.011025     | 0.016249     |
| y          | 0.010862     | 0.016423     | 0.023516     |
| w          | 0.096521     | 0.047786     | 0.011415     |
| h          | 0.120795     | 0.049257     | 0.016355     |
| conf       | 1.014172     | 0.784545     | 0.657788     |
| cls        | 0.358802     | 0.265210     | 0.217359     |
| cls_acc    | 87.50%       | 92.31%       | 85.19%       |
| recall50   | 0.708333     | 0.730769     | 0.814815     |
| recall75   | 0.583333     | 0.653846     | 0.777778     |
| precision  | 0.653846     | 0.380000     | 0.166667     |
| conf_obj   | 0.758139     | 0.805346     | 0.858561     |
| conf_noobj | 0.000968     | 0.000896     | 0.000828     |
+------------+--------------+--------------+--------------+
2020-12-19 22:21:00.637 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.138292
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.386384     | 0.366818     | 0.385090     |
| x          | 0.013583     | 0.020591     | 0.052129     |
| y          | 0.014881     | 0.019285     | 0.065018     |
| w          | 0.016222     | 0.014956     | 0.015346     |
| h          | 0.022462     | 0.024166     | 0.016698     |
| conf       | 0.313120     | 0.283822     | 0.232526     |
| cls        | 0.006115     | 0.003997     | 0.003372     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.833333     | 0.833333     | 0.833333     |
| precision  | 0.586207     | 0.261538     | 0.108974     |
| conf_obj   | 0.927419     | 0.931822     | 0.941248     |
| conf_noobj | 0.001474     | 0.001191     | 0.000928     |
+------------+--------------+--------------+--------------+
2020-12-19 22:22:02.952 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.037797
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.902517     | 0.625718     | 0.509563     |
| x          | 0.009244     | 0.007861     | 0.019707     |
| y          | 0.012892     | 0.011154     | 0.028499     |
| w          | 0.056218     | 0.018061     | 0.010782     |
| h          | 0.069204     | 0.024422     | 0.018531     |
| conf       | 0.552002     | 0.397334     | 0.263027     |
| cls        | 0.202957     | 0.166886     | 0.169017     |
| cls_acc    | 92.59%       | 96.43%       | 96.43%       |
| recall50   | 0.740741     | 0.785714     | 0.928571     |
| recall75   | 0.629630     | 0.678571     | 0.750000     |
| precision  | 0.555556     | 0.328358     | 0.134715     |
| conf_obj   | 0.825544     | 0.857015     | 0.936972     |
| conf_noobj | 0.001543     | 0.001064     | 0.001088     |
+------------+--------------+--------------+--------------+
2020-12-19 22:23:07.480 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.859485
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.623577     | 0.672163     | 0.563746     |
| x          | 0.008583     | 0.021637     | 0.043110     |
| y          | 0.008836     | 0.019740     | 0.059276     |
| w          | 0.029658     | 0.032029     | 0.023455     |
| h          | 0.029324     | 0.056464     | 0.043791     |
| conf       | 0.379543     | 0.390618     | 0.316239     |
| cls        | 0.167633     | 0.151674     | 0.077873     |
| cls_acc    | 88.89%       | 88.89%       | 100.00%      |
| recall50   | 0.888889     | 0.851852     | 0.962963     |
| recall75   | 0.814815     | 0.740741     | 0.777778     |
| precision  | 0.600000     | 0.242105     | 0.131313     |
| conf_obj   | 0.891002     | 0.895222     | 0.913383     |
| conf_noobj | 0.001585     | 0.001390     | 0.001122     |
+------------+--------------+--------------+--------------+
2020-12-19 22:24:11.055 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.437169
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.622414     | 0.482002     | 0.332753     |
| x          | 0.005442     | 0.006460     | 0.011304     |
| y          | 0.015729     | 0.013728     | 0.019430     |
| w          | 0.026942     | 0.022640     | 0.013872     |
| h          | 0.018416     | 0.019172     | 0.010462     |
| conf       | 0.485833     | 0.371116     | 0.232200     |
| cls        | 0.070050     | 0.048887     | 0.045486     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.962963     | 1.000000     |
| recall75   | 0.814815     | 0.888889     | 0.962963     |
| precision  | 0.685714     | 0.361111     | 0.180000     |
| conf_obj   | 0.828544     | 0.888892     | 0.947595     |
| conf_noobj | 0.001194     | 0.001228     | 0.000945     |
+------------+--------------+--------------+--------------+
2020-12-19 22:24:14.030 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.949
2020-12-19 22:24:14.033 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 22:25:14.368 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04377   | 0.49477 | 0.08043 | 0.23106 |
| 1     | Wear_helmet | 0.45400   | 0.94878 | 0.61413 | 0.91634 |
| 2     | Total       | 0.24889   | 0.72178 | 0.34728 | 0.57370 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:25:14.369 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.573697030597973
2020-12-19 22:25:14.369 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 22:25:14.369 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.336572

2020-12-19 22:25:14.842 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 2/2, epo 1/5
2020-12-19 22:25:14.843 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 2/2, epo 1/5; time cost: 0:15:02.523052

2020-12-19 22:25:14.843 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 2/2, epo 2/5
2020-12-19 22:25:16.106 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.764339
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.701761     | 0.582671     | 0.479908     |
| x          | 0.007798     | 0.018131     | 0.027979     |
| y          | 0.005963     | 0.016050     | 0.024887     |
| w          | 0.071115     | 0.054408     | 0.042219     |
| h          | 0.049476     | 0.048142     | 0.021303     |
| conf       | 0.507571     | 0.372933     | 0.271538     |
| cls        | 0.059837     | 0.073008     | 0.091982     |
| cls_acc    | 100.00%      | 100.00%      | 95.83%       |
| recall50   | 0.916667     | 0.958333     | 0.916667     |
| recall75   | 0.708333     | 0.791667     | 0.916667     |
| precision  | 0.709677     | 0.370968     | 0.141026     |
| conf_obj   | 0.859669     | 0.903104     | 0.924617     |
| conf_noobj | 0.001457     | 0.001507     | 0.001095     |
+------------+--------------+--------------+--------------+
2020-12-19 22:26:24.852 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.890066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.362819     | 0.280745     | 0.246502     |
| x          | 0.005947     | 0.007440     | 0.012039     |
| y          | 0.010084     | 0.009320     | 0.024347     |
| w          | 0.020987     | 0.007130     | 0.011092     |
| h          | 0.028251     | 0.020298     | 0.019222     |
| conf       | 0.295331     | 0.233469     | 0.176608     |
| cls        | 0.002219     | 0.003089     | 0.003194     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.952381     | 0.863636     |
| precision  | 0.700000     | 0.350000     | 0.146667     |
| conf_obj   | 0.956832     | 0.957234     | 0.974752     |
| conf_noobj | 0.001086     | 0.000955     | 0.000825     |
+------------+--------------+--------------+--------------+
2020-12-19 22:27:30.044 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.636712
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.252164     | 0.189904     | 0.194644     |
| x          | 0.005184     | 0.002814     | 0.011798     |
| y          | 0.004167     | 0.005078     | 0.019416     |
| w          | 0.008263     | 0.010663     | 0.009275     |
| h          | 0.011579     | 0.003577     | 0.007184     |
| conf       | 0.221553     | 0.166528     | 0.145095     |
| cls        | 0.001418     | 0.001245     | 0.001876     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.950000     |
| precision  | 0.666667     | 0.350877     | 0.156250     |
| conf_obj   | 0.948397     | 0.974165     | 0.974585     |
| conf_noobj | 0.000892     | 0.000769     | 0.000668     |
+------------+--------------+--------------+--------------+
2020-12-19 22:28:40.317 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.598083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.548992     | 0.576995     | 0.472095     |
| x          | 0.015388     | 0.027532     | 0.046252     |
| y          | 0.036907     | 0.047121     | 0.063731     |
| w          | 0.081398     | 0.021327     | 0.039419     |
| h          | 0.075901     | 0.021369     | 0.035339     |
| conf       | 0.334273     | 0.456282     | 0.283558     |
| cls        | 0.005125     | 0.003365     | 0.003797     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.928571     | 0.857143     |
| recall75   | 0.642857     | 0.785714     | 0.714286     |
| precision  | 0.371429     | 0.224138     | 0.055300     |
| conf_obj   | 0.937209     | 0.905694     | 0.915749     |
| conf_noobj | 0.001414     | 0.000890     | 0.001000     |
+------------+--------------+--------------+--------------+
2020-12-19 22:29:46.957 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 3.853639
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.526291     | 1.100647     | 1.226701     |
| x          | 0.031515     | 0.020905     | 0.046835     |
| y          | 0.014644     | 0.025622     | 0.032132     |
| w          | 0.073323     | 0.061448     | 0.039088     |
| h          | 0.073216     | 0.057512     | 0.033516     |
| conf       | 1.200387     | 0.802281     | 0.907381     |
| cls        | 0.133204     | 0.132880     | 0.167750     |
| cls_acc    | 96.77%       | 94.59%       | 91.89%       |
| recall50   | 0.709677     | 0.756757     | 0.729730     |
| recall75   | 0.451613     | 0.567568     | 0.648649     |
| precision  | 0.550000     | 0.297872     | 0.108871     |
| conf_obj   | 0.746646     | 0.791651     | 0.761782     |
| conf_noobj | 0.001934     | 0.001796     | 0.001478     |
+------------+--------------+--------------+--------------+
2020-12-19 22:30:49.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.010973
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.388191     | 0.318249     | 0.304533     |
| x          | 0.007901     | 0.009806     | 0.014398     |
| y          | 0.015978     | 0.015494     | 0.026361     |
| w          | 0.024364     | 0.018139     | 0.012682     |
| h          | 0.030793     | 0.028679     | 0.020274     |
| conf       | 0.255380     | 0.209865     | 0.209491     |
| cls        | 0.053774     | 0.036265     | 0.021327     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.840000     | 0.840000     | 0.920000     |
| precision  | 0.631579     | 0.316456     | 0.105042     |
| conf_obj   | 0.936862     | 0.959717     | 0.970796     |
| conf_noobj | 0.001167     | 0.001025     | 0.001005     |
+------------+--------------+--------------+--------------+
2020-12-19 22:31:55.411 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.012688
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.418886     | 0.293415     | 0.300387     |
| x          | 0.011564     | 0.020751     | 0.021598     |
| y          | 0.005498     | 0.016974     | 0.045278     |
| w          | 0.014206     | 0.008087     | 0.004515     |
| h          | 0.028977     | 0.023780     | 0.017214     |
| conf       | 0.351792     | 0.219413     | 0.202819     |
| cls        | 0.006849     | 0.004410     | 0.008962     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.809524     | 0.857143     | 0.952381     |
| precision  | 0.645161     | 0.318182     | 0.120690     |
| conf_obj   | 0.914537     | 0.956311     | 0.958253     |
| conf_noobj | 0.001274     | 0.001087     | 0.000975     |
+------------+--------------+--------------+--------------+
2020-12-19 22:33:02.646 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.434390
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.565244     | 0.477743     | 0.391403     |
| x          | 0.028824     | 0.017300     | 0.054636     |
| y          | 0.009354     | 0.021524     | 0.022015     |
| w          | 0.038004     | 0.028195     | 0.016880     |
| h          | 0.031061     | 0.030805     | 0.022618     |
| conf       | 0.340148     | 0.277995     | 0.227317     |
| cls        | 0.117853     | 0.101924     | 0.047937     |
| cls_acc    | 92.86%       | 93.10%       | 96.55%       |
| recall50   | 0.857143     | 0.931035     | 0.965517     |
| recall75   | 0.785714     | 0.793103     | 0.793103     |
| precision  | 0.533333     | 0.254717     | 0.121739     |
| conf_obj   | 0.919615     | 0.957709     | 0.952579     |
| conf_noobj | 0.001538     | 0.001384     | 0.000972     |
+------------+--------------+--------------+--------------+
2020-12-19 22:34:05.713 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.129952
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.401268     | 0.373273     | 0.355411     |
| x          | 0.003894     | 0.024115     | 0.034361     |
| y          | 0.005476     | 0.013726     | 0.040035     |
| w          | 0.021812     | 0.013216     | 0.010685     |
| h          | 0.027412     | 0.017457     | 0.013426     |
| conf       | 0.310264     | 0.246490     | 0.215118     |
| cls        | 0.032411     | 0.058269     | 0.041785     |
| cls_acc    | 100.00%      | 95.24%       | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 0.809524     | 0.809524     | 0.904762     |
| precision  | 0.538462     | 0.263158     | 0.113514     |
| conf_obj   | 0.960107     | 0.952402     | 0.947237     |
| conf_noobj | 0.001597     | 0.001206     | 0.000949     |
+------------+--------------+--------------+--------------+
2020-12-19 22:35:09.580 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.588792
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.607708     | 0.455779     | 0.525306     |
| x          | 0.009170     | 0.029221     | 0.021732     |
| y          | 0.003846     | 0.010981     | 0.040565     |
| w          | 0.037835     | 0.037414     | 0.015211     |
| h          | 0.030956     | 0.023469     | 0.009265     |
| conf       | 0.505711     | 0.340417     | 0.413993     |
| cls        | 0.020189     | 0.014276     | 0.024539     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.875000     | 0.937500     |
| recall75   | 0.812500     | 0.812500     | 0.875000     |
| precision  | 0.608696     | 0.291667     | 0.102041     |
| conf_obj   | 0.847595     | 0.892103     | 0.894427     |
| conf_noobj | 0.001386     | 0.001084     | 0.000988     |
+------------+--------------+--------------+--------------+
2020-12-19 22:36:12.412 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.270278
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.925599     | 0.763102     | 0.581578     |
| x          | 0.008312     | 0.027809     | 0.027379     |
| y          | 0.019864     | 0.006133     | 0.029244     |
| w          | 0.077012     | 0.020298     | 0.018362     |
| h          | 0.076886     | 0.028005     | 0.015567     |
| conf       | 0.593158     | 0.564491     | 0.412473     |
| cls        | 0.150367     | 0.116367     | 0.078551     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.789474     | 0.842105     | 0.842105     |
| recall75   | 0.631579     | 0.736842     | 0.736842     |
| precision  | 0.454545     | 0.266667     | 0.103896     |
| conf_obj   | 0.848700     | 0.832466     | 0.871869     |
| conf_noobj | 0.001501     | 0.000975     | 0.000842     |
+------------+--------------+--------------+--------------+
2020-12-19 22:37:13.808 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.051950
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.396933     | 0.335512     | 0.319505     |
| x          | 0.012466     | 0.012441     | 0.026232     |
| y          | 0.008290     | 0.014052     | 0.035911     |
| w          | 0.038363     | 0.030018     | 0.009994     |
| h          | 0.031367     | 0.013790     | 0.015663     |
| conf       | 0.282892     | 0.255914     | 0.228967     |
| cls        | 0.023555     | 0.009298     | 0.002737     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.954545     | 0.954545     |
| recall75   | 0.772727     | 0.818182     | 0.818182     |
| precision  | 0.714286     | 0.328125     | 0.128049     |
| conf_obj   | 0.922045     | 0.928618     | 0.940665     |
| conf_noobj | 0.001061     | 0.000969     | 0.000818     |
+------------+--------------+--------------+--------------+
2020-12-19 22:38:19.434 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.813743
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.685375     | 0.521054     | 0.607314     |
| x          | 0.024077     | 0.016986     | 0.028628     |
| y          | 0.011182     | 0.011928     | 0.016208     |
| w          | 0.053297     | 0.038167     | 0.043823     |
| h          | 0.042491     | 0.041525     | 0.039954     |
| conf       | 0.452857     | 0.309718     | 0.392788     |
| cls        | 0.101471     | 0.102730     | 0.085913     |
| cls_acc    | 100.00%      | 96.97%       | 100.00%      |
| recall50   | 0.843750     | 0.848485     | 0.882353     |
| recall75   | 0.593750     | 0.575758     | 0.735294     |
| precision  | 0.710526     | 0.459016     | 0.184049     |
| conf_obj   | 0.861376     | 0.903091     | 0.890109     |
| conf_noobj | 0.001535     | 0.001047     | 0.000971     |
+------------+--------------+--------------+--------------+
2020-12-19 22:39:24.606 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.761769
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.548915     | 0.627408     | 0.585446     |
| x          | 0.010998     | 0.014922     | 0.029567     |
| y          | 0.012651     | 0.020125     | 0.026392     |
| w          | 0.016596     | 0.016032     | 0.008737     |
| h          | 0.018721     | 0.018433     | 0.021324     |
| conf       | 0.385014     | 0.394258     | 0.352184     |
| cls        | 0.104936     | 0.163639     | 0.147243     |
| cls_acc    | 94.12%       | 94.12%       | 94.12%       |
| recall50   | 0.911765     | 0.941176     | 0.941176     |
| recall75   | 0.794118     | 0.941176     | 0.911765     |
| precision  | 0.738095     | 0.355556     | 0.157635     |
| conf_obj   | 0.873751     | 0.906693     | 0.926054     |
| conf_noobj | 0.001258     | 0.001576     | 0.001166     |
+------------+--------------+--------------+--------------+
2020-12-19 22:39:27.417 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.861
2020-12-19 22:39:27.420 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 22:40:25.707 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03709   | 0.36934 | 0.06741 | 0.12086 |
| 1     | Wear_helmet | 0.30478   | 0.96658 | 0.46343 | 0.93335 |
| 2     | Total       | 0.17093   | 0.66796 | 0.26542 | 0.52710 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:40:25.707 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5271038381612148
2020-12-19 22:40:25.707 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 22:40:25.708 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.287098

2020-12-19 22:40:26.153 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 2/2, epo 2/5
2020-12-19 22:40:26.154 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 2/2, epo 2/5; time cost: 0:15:11.309721

2020-12-19 22:40:26.154 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 2/2, epo 3/5
2020-12-19 22:40:27.354 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.168918
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.266946     | 0.997587     | 0.904385     |
| x          | 0.027632     | 0.030189     | 0.029250     |
| y          | 0.019263     | 0.039149     | 0.072440     |
| w          | 0.067222     | 0.059505     | 0.059014     |
| h          | 0.072543     | 0.058326     | 0.049693     |
| conf       | 0.989728     | 0.731718     | 0.622884     |
| cls        | 0.090559     | 0.078699     | 0.071106     |
| cls_acc    | 96.88%       | 97.14%       | 97.14%       |
| recall50   | 0.625000     | 0.742857     | 0.771429     |
| recall75   | 0.343750     | 0.400000     | 0.457143     |
| precision  | 0.606061     | 0.342105     | 0.175325     |
| conf_obj   | 0.694496     | 0.775595     | 0.834258     |
| conf_noobj | 0.001476     | 0.001436     | 0.001019     |
+------------+--------------+--------------+--------------+
2020-12-19 22:41:32.957 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.163990
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.840491     | 0.777483     | 0.546016     |
| x          | 0.018695     | 0.031966     | 0.043163     |
| y          | 0.016476     | 0.025838     | 0.026994     |
| w          | 0.022377     | 0.025025     | 0.012828     |
| h          | 0.038444     | 0.036434     | 0.019434     |
| conf       | 0.616363     | 0.522174     | 0.357122     |
| cls        | 0.128137     | 0.136046     | 0.086475     |
| cls_acc    | 93.94%       | 97.06%       | 94.12%       |
| recall50   | 0.696970     | 0.764706     | 0.882353     |
| recall75   | 0.515152     | 0.647059     | 0.617647     |
| precision  | 0.479167     | 0.262626     | 0.122951     |
| conf_obj   | 0.786608     | 0.817242     | 0.873878     |
| conf_noobj | 0.001394     | 0.001186     | 0.001006     |
+------------+--------------+--------------+--------------+
2020-12-19 22:42:37.530 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.629096
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.667797     | 0.541662     | 0.419637     |
| x          | 0.005694     | 0.012083     | 0.026703     |
| y          | 0.009435     | 0.016906     | 0.022662     |
| w          | 0.058052     | 0.027733     | 0.027107     |
| h          | 0.058548     | 0.039659     | 0.037278     |
| conf       | 0.478862     | 0.400892     | 0.265149     |
| cls        | 0.057205     | 0.044389     | 0.040738     |
| cls_acc    | 100.00%      | 96.55%       | 96.55%       |
| recall50   | 0.931035     | 0.896552     | 0.965517     |
| recall75   | 0.793103     | 0.793103     | 0.827586     |
| precision  | 0.658537     | 0.351351     | 0.164706     |
| conf_obj   | 0.868461     | 0.891756     | 0.921438     |
| conf_noobj | 0.001509     | 0.001142     | 0.000921     |
+------------+--------------+--------------+--------------+
2020-12-19 22:43:47.810 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.162457
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.322559     | 0.442673     | 0.397224     |
| x          | 0.010183     | 0.030606     | 0.049584     |
| y          | 0.005551     | 0.013807     | 0.020595     |
| w          | 0.039037     | 0.017267     | 0.015117     |
| h          | 0.019798     | 0.021570     | 0.014970     |
| conf       | 0.233312     | 0.310771     | 0.273261     |
| cls        | 0.014678     | 0.048652     | 0.023695     |
| cls_acc    | 100.00%      | 95.45%       | 100.00%      |
| recall50   | 0.952381     | 0.909091     | 0.954545     |
| recall75   | 0.809524     | 0.909091     | 0.818182     |
| precision  | 0.606061     | 0.243902     | 0.096774     |
| conf_obj   | 0.948469     | 0.920974     | 0.939900     |
| conf_noobj | 0.000926     | 0.001082     | 0.000914     |
+------------+--------------+--------------+--------------+
2020-12-19 22:44:52.862 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.033002
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.429165     | 0.295148     | 0.308690     |
| x          | 0.012741     | 0.018679     | 0.025207     |
| y          | 0.006376     | 0.010218     | 0.018047     |
| w          | 0.029681     | 0.008455     | 0.010320     |
| h          | 0.027798     | 0.018808     | 0.017645     |
| conf       | 0.332922     | 0.222342     | 0.200513     |
| cls        | 0.019647     | 0.016646     | 0.036958     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.900000     | 0.950000     |
| precision  | 0.555556     | 0.338983     | 0.136054     |
| conf_obj   | 0.950103     | 0.959939     | 0.962313     |
| conf_noobj | 0.001601     | 0.001034     | 0.000901     |
+------------+--------------+--------------+--------------+
2020-12-19 22:45:59.534 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.005429
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.643793     | 0.702846     | 0.658790     |
| x          | 0.026426     | 0.021775     | 0.033149     |
| y          | 0.016697     | 0.022279     | 0.035350     |
| w          | 0.025829     | 0.036267     | 0.046266     |
| h          | 0.024975     | 0.037480     | 0.047303     |
| conf       | 0.498740     | 0.530374     | 0.444566     |
| cls        | 0.051127     | 0.054671     | 0.052157     |
| cls_acc    | 100.00%      | 96.43%       | 100.00%      |
| recall50   | 0.807692     | 0.928571     | 0.928571     |
| recall75   | 0.653846     | 0.571429     | 0.642857     |
| precision  | 0.583333     | 0.376812     | 0.136126     |
| conf_obj   | 0.827005     | 0.853662     | 0.890176     |
| conf_noobj | 0.001117     | 0.000863     | 0.000767     |
+------------+--------------+--------------+--------------+
2020-12-19 22:47:03.355 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.196361
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.782514     | 0.711570     | 0.702277     |
| x          | 0.032311     | 0.026678     | 0.033677     |
| y          | 0.026537     | 0.011576     | 0.042176     |
| w          | 0.053535     | 0.032570     | 0.019483     |
| h          | 0.047540     | 0.033986     | 0.030384     |
| conf       | 0.455043     | 0.485204     | 0.388469     |
| cls        | 0.167549     | 0.121555     | 0.188087     |
| cls_acc    | 94.29%       | 100.00%      | 97.56%       |
| recall50   | 0.828571     | 0.921053     | 0.902439     |
| recall75   | 0.685714     | 0.710526     | 0.731707     |
| precision  | 0.500000     | 0.312500     | 0.144531     |
| conf_obj   | 0.904325     | 0.879357     | 0.911048     |
| conf_noobj | 0.001758     | 0.001475     | 0.001136     |
+------------+--------------+--------------+--------------+
2020-12-19 22:48:09.084 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.919647
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.298620     | 0.362447     | 0.258580     |
| x          | 0.003885     | 0.016807     | 0.022785     |
| y          | 0.007585     | 0.013323     | 0.009473     |
| w          | 0.023483     | 0.029951     | 0.016209     |
| h          | 0.021830     | 0.018738     | 0.012096     |
| conf       | 0.234285     | 0.277267     | 0.191762     |
| cls        | 0.007552     | 0.006361     | 0.006256     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.962963     | 1.000000     |
| recall75   | 0.923077     | 0.814815     | 0.925926     |
| precision  | 0.702703     | 0.371429     | 0.157895     |
| conf_obj   | 0.949239     | 0.923718     | 0.965987     |
| conf_noobj | 0.001006     | 0.000839     | 0.000770     |
+------------+--------------+--------------+--------------+
2020-12-19 22:49:15.200 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.300407
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.848473     | 0.853319     | 0.598615     |
| x          | 0.014799     | 0.026739     | 0.030963     |
| y          | 0.010323     | 0.018213     | 0.027884     |
| w          | 0.069024     | 0.043515     | 0.020975     |
| h          | 0.052748     | 0.040304     | 0.027575     |
| conf       | 0.456964     | 0.428389     | 0.308766     |
| cls        | 0.244615     | 0.296159     | 0.182451     |
| cls_acc    | 88.89%       | 88.89%       | 92.59%       |
| recall50   | 0.740741     | 0.777778     | 0.851852     |
| recall75   | 0.703704     | 0.592593     | 0.740741     |
| precision  | 0.476190     | 0.225806     | 0.098712     |
| conf_obj   | 0.855487     | 0.884405     | 0.904110     |
| conf_noobj | 0.001150     | 0.001104     | 0.000929     |
+------------+--------------+--------------+--------------+
2020-12-19 22:50:26.370 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.426945
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.544940     | 0.512092     | 0.369913     |
| x          | 0.009405     | 0.012570     | 0.015865     |
| y          | 0.010671     | 0.018510     | 0.030919     |
| w          | 0.046710     | 0.031792     | 0.027095     |
| h          | 0.047717     | 0.048967     | 0.027047     |
| conf       | 0.313401     | 0.319596     | 0.204379     |
| cls        | 0.117035     | 0.080658     | 0.064609     |
| cls_acc    | 90.48%       | 95.45%       | 95.45%       |
| recall50   | 0.857143     | 0.909091     | 0.954545     |
| recall75   | 0.714286     | 0.681818     | 0.727273     |
| precision  | 0.562500     | 0.298507     | 0.105528     |
| conf_obj   | 0.879453     | 0.883257     | 0.951352     |
| conf_noobj | 0.001044     | 0.000974     | 0.000913     |
+------------+--------------+--------------+--------------+
2020-12-19 22:51:30.773 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.744075
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.692227     | 0.528098     | 0.523750     |
| x          | 0.018536     | 0.039896     | 0.039348     |
| y          | 0.014570     | 0.039235     | 0.051904     |
| w          | 0.024034     | 0.018827     | 0.013421     |
| h          | 0.056581     | 0.037184     | 0.014377     |
| conf       | 0.574753     | 0.391152     | 0.401688     |
| cls        | 0.003753     | 0.001805     | 0.003012     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.923077     | 0.923077     |
| recall75   | 0.923077     | 0.769231     | 0.692308     |
| precision  | 0.413793     | 0.171429     | 0.057692     |
| conf_obj   | 0.893513     | 0.906630     | 0.916397     |
| conf_noobj | 0.001533     | 0.001310     | 0.001143     |
+------------+--------------+--------------+--------------+
2020-12-19 22:52:37.502 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.531281
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.926358     | 0.812649     | 0.792274     |
| x          | 0.004787     | 0.006797     | 0.020360     |
| y          | 0.018379     | 0.020741     | 0.040839     |
| w          | 0.022573     | 0.029507     | 0.014523     |
| h          | 0.032162     | 0.089021     | 0.044318     |
| conf       | 0.829675     | 0.653230     | 0.664213     |
| cls        | 0.018781     | 0.013353     | 0.008021     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.888889     | 0.888889     |
| recall75   | 0.851852     | 0.851852     | 0.851852     |
| precision  | 0.727273     | 0.358209     | 0.134078     |
| conf_obj   | 0.858203     | 0.881740     | 0.880929     |
| conf_noobj | 0.000822     | 0.000853     | 0.000827     |
+------------+--------------+--------------+--------------+
2020-12-19 22:53:43.968 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.150755
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.862680     | 0.661123     | 0.626952     |
| x          | 0.032465     | 0.033216     | 0.064191     |
| y          | 0.022121     | 0.030578     | 0.042180     |
| w          | 0.030635     | 0.028250     | 0.023824     |
| h          | 0.062329     | 0.036022     | 0.043445     |
| conf       | 0.622631     | 0.485720     | 0.396995     |
| cls        | 0.092498     | 0.047336     | 0.056317     |
| cls_acc    | 94.59%       | 100.00%      | 97.37%       |
| recall50   | 0.756757     | 0.864865     | 0.894737     |
| recall75   | 0.621622     | 0.702703     | 0.657895     |
| precision  | 0.651163     | 0.250000     | 0.125000     |
| conf_obj   | 0.742984     | 0.833320     | 0.851733     |
| conf_noobj | 0.001351     | 0.001521     | 0.001072     |
+------------+--------------+--------------+--------------+
2020-12-19 22:54:47.826 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.577802
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.703984     | 0.493831     | 0.379987     |
| x          | 0.011812     | 0.016289     | 0.020027     |
| y          | 0.006740     | 0.015764     | 0.027991     |
| w          | 0.029055     | 0.025315     | 0.018299     |
| h          | 0.034518     | 0.051461     | 0.013607     |
| conf       | 0.555066     | 0.358778     | 0.290785     |
| cls        | 0.066792     | 0.026225     | 0.009279     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.914286     | 0.944444     | 0.972222     |
| recall75   | 0.742857     | 0.722222     | 0.861111     |
| precision  | 0.711111     | 0.373626     | 0.142857     |
| conf_obj   | 0.857957     | 0.909899     | 0.936312     |
| conf_noobj | 0.001312     | 0.001270     | 0.001128     |
+------------+--------------+--------------+--------------+
2020-12-19 22:54:51.300 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.711
2020-12-19 22:54:51.304 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 22:55:46.563 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06066   | 0.44599 | 0.10680 | 0.18776 |
| 1     | Wear_helmet | 0.34725   | 0.96354 | 0.51052 | 0.92842 |
| 2     | Total       | 0.20396   | 0.70477 | 0.30866 | 0.55809 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:55:46.566 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5580896843793389
2020-12-19 22:55:46.566 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 22:55:46.567 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.262193

2020-12-19 22:55:47.045 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 2/2, epo 3/5
2020-12-19 22:55:47.045 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 2/2, epo 3/5; time cost: 0:15:20.891161

2020-12-19 22:55:47.046 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 2/2, epo 4/5
2020-12-19 22:55:48.520 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.141701
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.394728     | 0.390987     | 0.355986     |
| x          | 0.014021     | 0.014347     | 0.024280     |
| y          | 0.006416     | 0.020468     | 0.054109     |
| w          | 0.044370     | 0.013473     | 0.023506     |
| h          | 0.023733     | 0.017105     | 0.018279     |
| conf       | 0.300065     | 0.318759     | 0.229043     |
| cls        | 0.006123     | 0.006834     | 0.006769     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 0.952381     |
| recall75   | 0.857143     | 0.857143     | 0.857143     |
| precision  | 0.488372     | 0.210526     | 0.071942     |
| conf_obj   | 0.963534     | 0.939720     | 0.966578     |
| conf_noobj | 0.001628     | 0.001457     | 0.001134     |
+------------+--------------+--------------+--------------+
2020-12-19 22:56:55.343 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.062199
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.862312     | 0.680770     | 0.519117     |
| x          | 0.009947     | 0.016190     | 0.048256     |
| y          | 0.016872     | 0.013076     | 0.037511     |
| w          | 0.011752     | 0.011745     | 0.009684     |
| h          | 0.022156     | 0.016286     | 0.013352     |
| conf       | 0.749116     | 0.597131     | 0.397886     |
| cls        | 0.052468     | 0.026342     | 0.012427     |
| cls_acc    | 93.75%       | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.875000     | 0.875000     |
| recall75   | 0.750000     | 0.812500     | 0.812500     |
| precision  | 0.333333     | 0.212121     | 0.088608     |
| conf_obj   | 0.821509     | 0.782431     | 0.886086     |
| conf_noobj | 0.001670     | 0.001013     | 0.000833     |
+------------+--------------+--------------+--------------+
2020-12-19 22:58:02.011 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.845945
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.506762     | 0.636300     | 0.702883     |
| x          | 0.019799     | 0.010475     | 0.031018     |
| y          | 0.010760     | 0.014421     | 0.016335     |
| w          | 0.033260     | 0.050353     | 0.027174     |
| h          | 0.023358     | 0.038868     | 0.015333     |
| conf       | 0.358194     | 0.480736     | 0.568245     |
| cls        | 0.061389     | 0.041447     | 0.044778     |
| cls_acc    | 97.30%       | 100.00%      | 100.00%      |
| recall50   | 0.837838     | 0.947368     | 0.900000     |
| recall75   | 0.675676     | 0.815789     | 0.775000     |
| precision  | 0.756098     | 0.467532     | 0.208092     |
| conf_obj   | 0.877420     | 0.882962     | 0.866467     |
| conf_noobj | 0.000940     | 0.000988     | 0.000863     |
+------------+--------------+--------------+--------------+
2020-12-19 22:59:07.388 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.835236
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.729474     | 0.649431     | 0.456331     |
| x          | 0.007844     | 0.028360     | 0.038478     |
| y          | 0.013270     | 0.025198     | 0.036206     |
| w          | 0.049445     | 0.015179     | 0.011175     |
| h          | 0.029054     | 0.012661     | 0.009587     |
| conf       | 0.498958     | 0.494546     | 0.337420     |
| cls        | 0.130902     | 0.073486     | 0.023464     |
| cls_acc    | 96.15%       | 96.30%       | 100.00%      |
| recall50   | 0.846154     | 0.814815     | 0.962963     |
| recall75   | 0.730769     | 0.777778     | 0.888889     |
| precision  | 0.709677     | 0.333333     | 0.146893     |
| conf_obj   | 0.843742     | 0.846041     | 0.874758     |
| conf_noobj | 0.000898     | 0.001093     | 0.000851     |
+------------+--------------+--------------+--------------+
2020-12-19 23:00:16.764 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.842761
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.675414     | 0.579146     | 0.588201     |
| x          | 0.016099     | 0.020125     | 0.027631     |
| y          | 0.011902     | 0.016307     | 0.046882     |
| w          | 0.038384     | 0.043286     | 0.032776     |
| h          | 0.056566     | 0.061068     | 0.049662     |
| conf       | 0.331613     | 0.282248     | 0.324922     |
| cls        | 0.220849     | 0.156111     | 0.106326     |
| cls_acc    | 93.33%       | 93.33%       | 93.33%       |
| recall50   | 0.866667     | 0.866667     | 0.866667     |
| recall75   | 0.500000     | 0.766667     | 0.733333     |
| precision  | 0.666667     | 0.333333     | 0.137566     |
| conf_obj   | 0.870688     | 0.905403     | 0.899859     |
| conf_noobj | 0.001113     | 0.000965     | 0.000821     |
+------------+--------------+--------------+--------------+
2020-12-19 23:01:23.726 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 2.263684
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.794130     | 0.752801     | 0.716752     |
| x          | 0.011714     | 0.010196     | 0.034636     |
| y          | 0.011749     | 0.017728     | 0.034545     |
| w          | 0.025692     | 0.015350     | 0.009791     |
| h          | 0.023821     | 0.022783     | 0.013202     |
| conf       | 0.573966     | 0.399090     | 0.337343     |
| cls        | 0.147186     | 0.287653     | 0.287236     |
| cls_acc    | 96.43%       | 92.86%       | 92.86%       |
| recall50   | 0.750000     | 0.821429     | 0.892857     |
| recall75   | 0.714286     | 0.785714     | 0.785714     |
| precision  | 0.600000     | 0.273810     | 0.135870     |
| conf_obj   | 0.811715     | 0.866395     | 0.892666     |
| conf_noobj | 0.001134     | 0.000980     | 0.000756     |
+------------+--------------+--------------+--------------+
2020-12-19 23:02:31.320 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.767271
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.698070     | 0.582665     | 0.486536     |
| x          | 0.010152     | 0.005961     | 0.036093     |
| y          | 0.042652     | 0.049602     | 0.050237     |
| w          | 0.018944     | 0.021324     | 0.009686     |
| h          | 0.024313     | 0.020915     | 0.020656     |
| conf       | 0.474066     | 0.369769     | 0.302155     |
| cls        | 0.127943     | 0.115093     | 0.067709     |
| cls_acc    | 95.45%       | 95.65%       | 100.00%      |
| recall50   | 0.863636     | 0.956522     | 0.958333     |
| recall75   | 0.727273     | 0.826087     | 0.791667     |
| precision  | 0.500000     | 0.314286     | 0.112745     |
| conf_obj   | 0.856757     | 0.857057     | 0.899540     |
| conf_noobj | 0.001461     | 0.001048     | 0.000902     |
+------------+--------------+--------------+--------------+
2020-12-19 23:03:34.029 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.866831
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.256723     | 0.303700     | 0.306407     |
| x          | 0.007018     | 0.006266     | 0.025405     |
| y          | 0.012965     | 0.020111     | 0.040523     |
| w          | 0.021641     | 0.023782     | 0.019074     |
| h          | 0.024269     | 0.015928     | 0.015928     |
| conf       | 0.184240     | 0.231868     | 0.202103     |
| cls        | 0.006591     | 0.005745     | 0.003375     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.968750     | 1.000000     |
| recall75   | 0.838710     | 0.875000     | 0.843750     |
| precision  | 0.857143     | 0.442857     | 0.173913     |
| conf_obj   | 0.945308     | 0.923776     | 0.954320     |
| conf_noobj | 0.000802     | 0.000767     | 0.000823     |
+------------+--------------+--------------+--------------+
2020-12-19 23:04:40.970 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.756466
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.233404     | 0.267098     | 0.255964     |
| x          | 0.006561     | 0.010980     | 0.012707     |
| y          | 0.005166     | 0.016322     | 0.032210     |
| w          | 0.033852     | 0.008281     | 0.009034     |
| h          | 0.021572     | 0.010472     | 0.009239     |
| conf       | 0.161914     | 0.204820     | 0.174278     |
| cls        | 0.004339     | 0.016223     | 0.018496     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.947368     | 0.947368     |
| precision  | 0.633333     | 0.237500     | 0.086758     |
| conf_obj   | 0.994304     | 0.967706     | 0.989301     |
| conf_noobj | 0.001053     | 0.001053     | 0.000949     |
+------------+--------------+--------------+--------------+
2020-12-19 23:05:44.122 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.905519
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.043818     | 0.951436     | 0.910265     |
| x          | 0.007538     | 0.020107     | 0.042205     |
| y          | 0.010019     | 0.020790     | 0.031337     |
| w          | 0.040017     | 0.029161     | 0.020533     |
| h          | 0.042264     | 0.048310     | 0.023856     |
| conf       | 0.669855     | 0.580586     | 0.549556     |
| cls        | 0.274126     | 0.252482     | 0.242779     |
| cls_acc    | 96.67%       | 96.77%       | 96.77%       |
| recall50   | 0.766667     | 0.838710     | 0.903226     |
| recall75   | 0.700000     | 0.612903     | 0.709677     |
| precision  | 0.718750     | 0.406250     | 0.167665     |
| conf_obj   | 0.808989     | 0.825625     | 0.882677     |
| conf_noobj | 0.001009     | 0.000922     | 0.000851     |
+------------+--------------+--------------+--------------+
2020-12-19 23:06:49.764 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.678161
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.212883     | 0.248197     | 0.217081     |
| x          | 0.008869     | 0.010706     | 0.009608     |
| y          | 0.011549     | 0.012300     | 0.011335     |
| w          | 0.026403     | 0.015945     | 0.005671     |
| h          | 0.027635     | 0.020129     | 0.007629     |
| conf       | 0.133876     | 0.182339     | 0.180779     |
| cls        | 0.004551     | 0.006777     | 0.002059     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 0.952381     |
| recall75   | 0.850000     | 0.952381     | 0.952381     |
| precision  | 0.769231     | 0.476190     | 0.149254     |
| conf_obj   | 0.970689     | 0.950352     | 0.960436     |
| conf_noobj | 0.000747     | 0.000624     | 0.000738     |
+------------+--------------+--------------+--------------+
2020-12-19 23:07:54.135 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.145805
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.430800     | 0.385415     | 0.329590     |
| x          | 0.007506     | 0.010875     | 0.026161     |
| y          | 0.007481     | 0.019694     | 0.037202     |
| w          | 0.013143     | 0.018216     | 0.002938     |
| h          | 0.013147     | 0.014947     | 0.007683     |
| conf       | 0.313185     | 0.227963     | 0.209284     |
| cls        | 0.076337     | 0.093719     | 0.046323     |
| cls_acc    | 95.65%       | 95.65%       | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.826087     | 0.826087     | 0.956522     |
| precision  | 0.611111     | 0.314286     | 0.138365     |
| conf_obj   | 0.899027     | 0.922105     | 0.934680     |
| conf_noobj | 0.001181     | 0.000895     | 0.000746     |
+------------+--------------+--------------+--------------+
2020-12-19 23:08:58.445 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.106087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.326705     | 0.399070     | 0.380312     |
| x          | 0.004972     | 0.012366     | 0.025273     |
| y          | 0.014535     | 0.009099     | 0.047097     |
| w          | 0.038854     | 0.014032     | 0.010933     |
| h          | 0.020602     | 0.012878     | 0.010441     |
| conf       | 0.239795     | 0.346207     | 0.280355     |
| cls        | 0.007948     | 0.004489     | 0.006214     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.956522     | 0.956522     |
| recall75   | 0.869565     | 0.913043     | 0.869565     |
| precision  | 0.840000     | 0.271605     | 0.097345     |
| conf_obj   | 0.932788     | 0.916684     | 0.934122     |
| conf_noobj | 0.001040     | 0.001049     | 0.000961     |
+------------+--------------+--------------+--------------+
2020-12-19 23:10:02.321 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.616166
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.563803     | 0.585242     | 0.467121     |
| x          | 0.014748     | 0.008530     | 0.019427     |
| y          | 0.006461     | 0.013891     | 0.024975     |
| w          | 0.035967     | 0.024377     | 0.014499     |
| h          | 0.029592     | 0.021468     | 0.012625     |
| conf       | 0.407213     | 0.439656     | 0.348555     |
| cls        | 0.069822     | 0.077320     | 0.047040     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.950000     |
| recall75   | 0.850000     | 0.850000     | 0.850000     |
| precision  | 0.600000     | 0.409091     | 0.139706     |
| conf_obj   | 0.860180     | 0.876909     | 0.912283     |
| conf_noobj | 0.001020     | 0.000733     | 0.000775     |
+------------+--------------+--------------+--------------+
2020-12-19 23:10:05.260 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.648
2020-12-19 23:10:05.265 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 23:11:02.770 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03645   | 0.48432 | 0.06780 | 0.16891 |
| 1     | Wear_helmet | 0.37528   | 0.96181 | 0.53990 | 0.92127 |
| 2     | Total       | 0.20586   | 0.72306 | 0.30385 | 0.54509 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:11:02.770 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5450901739442625
2020-12-19 23:11:02.771 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 23:11:02.771 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.505292

2020-12-19 23:11:03.290 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 2/2, epo 4/5
2020-12-19 23:11:03.290 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 2/2, epo 4/5; time cost: 0:15:16.243862

2020-12-19 23:11:03.290 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 2/2, epo 5/5
2020-12-19 23:11:04.564 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.608176
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.620716     | 0.498219     | 0.489241     |
| x          | 0.010902     | 0.008473     | 0.038146     |
| y          | 0.004812     | 0.014673     | 0.013061     |
| w          | 0.028288     | 0.007096     | 0.013408     |
| h          | 0.040246     | 0.070435     | 0.047078     |
| conf       | 0.375529     | 0.285278     | 0.281586     |
| cls        | 0.160939     | 0.112263     | 0.095961     |
| cls_acc    | 94.74%       | 95.00%       | 95.00%       |
| recall50   | 0.894737     | 0.950000     | 0.950000     |
| recall75   | 0.842105     | 0.900000     | 0.750000     |
| precision  | 0.629630     | 0.395833     | 0.127517     |
| conf_obj   | 0.875843     | 0.917089     | 0.932730     |
| conf_noobj | 0.001066     | 0.000688     | 0.000774     |
+------------+--------------+--------------+--------------+
2020-12-19 23:12:18.905 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.263960
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.466499     | 0.416462     | 0.380998     |
| x          | 0.010260     | 0.018570     | 0.036026     |
| y          | 0.006561     | 0.005370     | 0.026990     |
| w          | 0.026952     | 0.014497     | 0.008220     |
| h          | 0.036078     | 0.020492     | 0.021154     |
| conf       | 0.368633     | 0.334418     | 0.249049     |
| cls        | 0.018015     | 0.023115     | 0.039559     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.952381     | 0.952381     |
| recall75   | 0.857143     | 0.904762     | 0.904762     |
| precision  | 0.575758     | 0.229885     | 0.112994     |
| conf_obj   | 0.898791     | 0.916206     | 0.912897     |
| conf_noobj | 0.001293     | 0.001053     | 0.000730     |
+------------+--------------+--------------+--------------+
2020-12-19 23:13:28.027 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.838252
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.679517     | 0.605630     | 0.553105     |
| x          | 0.011147     | 0.013953     | 0.036786     |
| y          | 0.008682     | 0.008814     | 0.017474     |
| w          | 0.034381     | 0.028340     | 0.014269     |
| h          | 0.035261     | 0.018158     | 0.007453     |
| conf       | 0.461751     | 0.433967     | 0.436084     |
| cls        | 0.128294     | 0.102398     | 0.041040     |
| cls_acc    | 95.83%       | 91.67%       | 100.00%      |
| recall50   | 0.916667     | 0.833333     | 0.833333     |
| recall75   | 0.833333     | 0.791667     | 0.791667     |
| precision  | 0.709677     | 0.303030     | 0.160000     |
| conf_obj   | 0.861382     | 0.864206     | 0.851891     |
| conf_noobj | 0.000827     | 0.000840     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-19 23:14:32.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.351501
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.446766     | 0.450454     | 0.454282     |
| x          | 0.003600     | 0.012912     | 0.023213     |
| y          | 0.012826     | 0.015668     | 0.034172     |
| w          | 0.018079     | 0.021697     | 0.010710     |
| h          | 0.010103     | 0.012015     | 0.015113     |
| conf       | 0.387478     | 0.375490     | 0.342702     |
| cls        | 0.014681     | 0.012671     | 0.028371     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 0.958333     |
| recall75   | 0.916667     | 0.916667     | 0.875000     |
| precision  | 0.605263     | 0.359375     | 0.127778     |
| conf_obj   | 0.904325     | 0.934627     | 0.921555     |
| conf_noobj | 0.001223     | 0.000998     | 0.000857     |
+------------+--------------+--------------+--------------+
2020-12-19 23:15:32.849 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.031896
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.352472     | 0.341450     | 0.337974     |
| x          | 0.003918     | 0.013801     | 0.037184     |
| y          | 0.005623     | 0.009111     | 0.027318     |
| w          | 0.022319     | 0.023999     | 0.014893     |
| h          | 0.014401     | 0.010089     | 0.016043     |
| conf       | 0.282985     | 0.275983     | 0.234775     |
| cls        | 0.023227     | 0.008467     | 0.007762     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 0.941176     |
| recall75   | 0.882353     | 0.823529     | 0.705882     |
| precision  | 0.615385     | 0.285714     | 0.132231     |
| conf_obj   | 0.930501     | 0.925644     | 0.929666     |
| conf_noobj | 0.001234     | 0.000975     | 0.000769     |
+------------+--------------+--------------+--------------+
2020-12-19 23:16:37.967 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.747060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.656443     | 0.504561     | 0.586056     |
| x          | 0.015621     | 0.016890     | 0.043487     |
| y          | 0.007215     | 0.012578     | 0.019147     |
| w          | 0.045408     | 0.044046     | 0.039556     |
| h          | 0.033055     | 0.023712     | 0.022588     |
| conf       | 0.383569     | 0.224623     | 0.225972     |
| cls        | 0.171576     | 0.182712     | 0.235307     |
| cls_acc    | 95.65%       | 95.65%       | 91.67%       |
| recall50   | 0.869565     | 0.913043     | 0.875000     |
| recall75   | 0.739130     | 0.739130     | 0.625000     |
| precision  | 0.645161     | 0.420000     | 0.148936     |
| conf_obj   | 0.869756     | 0.929235     | 0.930992     |
| conf_noobj | 0.000970     | 0.000781     | 0.000792     |
+------------+--------------+--------------+--------------+
2020-12-19 23:17:43.788 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.197049
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.477850     | 0.440380     | 0.278819     |
| x          | 0.003342     | 0.005588     | 0.015625     |
| y          | 0.005774     | 0.008540     | 0.017824     |
| w          | 0.041360     | 0.028903     | 0.025242     |
| h          | 0.036023     | 0.031996     | 0.020037     |
| conf       | 0.362025     | 0.352310     | 0.193729     |
| cls        | 0.029326     | 0.013042     | 0.006363     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.960000     | 1.000000     |
| recall75   | 0.791667     | 0.840000     | 0.840000     |
| precision  | 0.709677     | 0.393443     | 0.155280     |
| conf_obj   | 0.870274     | 0.918289     | 0.965025     |
| conf_noobj | 0.000959     | 0.000906     | 0.000901     |
+------------+--------------+--------------+--------------+
2020-12-19 23:18:50.671 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.484647
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.583743     | 0.483649     | 0.417254     |
| x          | 0.010068     | 0.018332     | 0.020986     |
| y          | 0.007328     | 0.014766     | 0.018154     |
| w          | 0.020758     | 0.015382     | 0.018079     |
| h          | 0.022169     | 0.028700     | 0.024465     |
| conf       | 0.320164     | 0.267840     | 0.221829     |
| cls        | 0.203255     | 0.138629     | 0.113741     |
| cls_acc    | 92.00%       | 92.59%       | 93.33%       |
| recall50   | 0.920000     | 0.925926     | 0.900000     |
| recall75   | 0.720000     | 0.814815     | 0.766667     |
| precision  | 0.479167     | 0.277778     | 0.123853     |
| conf_obj   | 0.967630     | 0.955994     | 0.946351     |
| conf_noobj | 0.001549     | 0.001193     | 0.000855     |
+------------+--------------+--------------+--------------+
2020-12-19 23:19:56.428 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.808755
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.268210     | 0.261831     | 0.278713     |
| x          | 0.002617     | 0.002819     | 0.003765     |
| y          | 0.004776     | 0.006037     | 0.015319     |
| w          | 0.022158     | 0.010771     | 0.007484     |
| h          | 0.024260     | 0.013016     | 0.012923     |
| conf       | 0.125427     | 0.105856     | 0.145447     |
| cls        | 0.088972     | 0.123331     | 0.093776     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.909091     | 0.909091     | 0.954545     |
| precision  | 0.840000     | 0.396226     | 0.166667     |
| conf_obj   | 0.966472     | 0.983963     | 0.963734     |
| conf_noobj | 0.000684     | 0.000604     | 0.000603     |
+------------+--------------+--------------+--------------+
2020-12-19 23:21:02.309 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.714410
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.585453     | 0.592148     | 0.536809     |
| x          | 0.016932     | 0.014358     | 0.043513     |
| y          | 0.023248     | 0.012187     | 0.040582     |
| w          | 0.028201     | 0.009962     | 0.010552     |
| h          | 0.038934     | 0.019197     | 0.028735     |
| conf       | 0.409477     | 0.502609     | 0.351585     |
| cls        | 0.068661     | 0.033835     | 0.061842     |
| cls_acc    | 96.30%       | 100.00%      | 100.00%      |
| recall50   | 0.814815     | 0.851852     | 0.851852     |
| recall75   | 0.629630     | 0.740741     | 0.740741     |
| precision  | 0.758621     | 0.365079     | 0.141104     |
| conf_obj   | 0.843507     | 0.832632     | 0.878320     |
| conf_noobj | 0.000728     | 0.000837     | 0.000753     |
+------------+--------------+--------------+--------------+
2020-12-19 23:22:03.333 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.891475
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.729523     | 0.678735     | 0.483217     |
| x          | 0.009141     | 0.014808     | 0.035284     |
| y          | 0.020407     | 0.045413     | 0.063165     |
| w          | 0.060324     | 0.035948     | 0.009060     |
| h          | 0.068781     | 0.038810     | 0.012053     |
| conf       | 0.545552     | 0.525287     | 0.347015     |
| cls        | 0.025318     | 0.018468     | 0.016640     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.869565     | 0.913043     |
| recall75   | 0.727273     | 0.739130     | 0.782609     |
| precision  | 0.606061     | 0.294118     | 0.135484     |
| conf_obj   | 0.897509     | 0.869726     | 0.893213     |
| conf_noobj | 0.001486     | 0.001114     | 0.000908     |
+------------+--------------+--------------+--------------+
2020-12-19 23:23:02.699 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.851359
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.244561     | 0.284239     | 0.322559     |
| x          | 0.004252     | 0.016617     | 0.042109     |
| y          | 0.006615     | 0.016471     | 0.036581     |
| w          | 0.020000     | 0.008042     | 0.009616     |
| h          | 0.019960     | 0.005129     | 0.005136     |
| conf       | 0.171080     | 0.193103     | 0.194808     |
| cls        | 0.022655     | 0.044876     | 0.034309     |
| cls_acc    | 100.00%      | 94.12%       | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 0.941176     | 0.882353     | 1.000000     |
| precision  | 0.739130     | 0.275862     | 0.144068     |
| conf_obj   | 0.982845     | 0.980246     | 0.959349     |
| conf_noobj | 0.001126     | 0.000981     | 0.000770     |
+------------+--------------+--------------+--------------+
2020-12-19 23:24:05.823 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.876865
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.032317     | 0.831298     | 1.013250     |
| x          | 0.010590     | 0.030003     | 0.039579     |
| y          | 0.012029     | 0.028477     | 0.030008     |
| w          | 0.069958     | 0.048651     | 0.029945     |
| h          | 0.111332     | 0.060024     | 0.032056     |
| conf       | 0.723905     | 0.513733     | 0.698712     |
| cls        | 0.104503     | 0.150410     | 0.182950     |
| cls_acc    | 96.43%       | 92.86%       | 92.86%       |
| recall50   | 0.821429     | 0.857143     | 0.892857     |
| recall75   | 0.714286     | 0.785714     | 0.857143     |
| precision  | 0.605263     | 0.303797     | 0.120773     |
| conf_obj   | 0.796538     | 0.859968     | 0.827753     |
| conf_noobj | 0.001021     | 0.000890     | 0.000757     |
+------------+--------------+--------------+--------------+
2020-12-19 23:25:10.743 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.122000
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.789178     | 0.691725     | 0.641097     |
| x          | 0.009908     | 0.011101     | 0.018867     |
| y          | 0.007760     | 0.013372     | 0.041526     |
| w          | 0.047600     | 0.021034     | 0.014766     |
| h          | 0.063087     | 0.028597     | 0.019405     |
| conf       | 0.625267     | 0.577686     | 0.500020     |
| cls        | 0.035555     | 0.039935     | 0.046512     |
| cls_acc    | 100.00%      | 100.00%      | 96.77%       |
| recall50   | 0.903226     | 0.935484     | 0.935484     |
| recall75   | 0.806452     | 0.774194     | 0.806452     |
| precision  | 0.700000     | 0.386667     | 0.148718     |
| conf_obj   | 0.845159     | 0.876443     | 0.886946     |
| conf_noobj | 0.001500     | 0.001354     | 0.001044     |
+------------+--------------+--------------+--------------+
2020-12-19 23:25:13.514 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.564
2020-12-19 23:25:13.517 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 23:26:10.402 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04326   | 0.50523 | 0.07969 | 0.25901 |
| 1     | Wear_helmet | 0.36422   | 0.96745 | 0.52920 | 0.92974 |
| 2     | Total       | 0.20374   | 0.73634 | 0.30445 | 0.59438 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:26:10.402 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5943753717234558
2020-12-19 23:26:10.403 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 23:26:10.403 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.886186

2020-12-19 23:26:10.889 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 2/2, epo 5/5
2020-12-19 23:26:10.889 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 2/2, epo 5/5; time cost: 0:15:07.598547

2020-12-19 23:26:10.889 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 1.747
2020-12-19 23:26:11.255 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-19 23:30:28.663 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06200   | 0.64535 | 0.11314 | 0.41135 |
| 1     | Wear_helmet | 0.32255   | 0.92103 | 0.47778 | 0.85211 |
| 2     | Total       | 0.19228   | 0.78319 | 0.29546 | 0.63173 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:30:28.663 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6317298360488374
2020-12-19 23:30:28.664 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-19 23:30:28.664 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:17.408771

2020-12-19 23:31:34.852 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 6!
2020-12-19 23:31:35.039 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 2/2, epo 1/5
2020-12-19 23:31:38.745 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.486722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.541361     | 0.533361     | 0.412000     |
| x          | 0.012395     | 0.013890     | 0.029333     |
| y          | 0.013292     | 0.010768     | 0.024010     |
| w          | 0.010824     | 0.014290     | 0.018629     |
| h          | 0.016278     | 0.017921     | 0.014786     |
| conf       | 0.330627     | 0.268791     | 0.216049     |
| cls        | 0.157944     | 0.207703     | 0.109194     |
| cls_acc    | 93.75%       | 93.75%       | 93.75%       |
| recall50   | 0.875000     | 0.937500     | 0.937500     |
| recall75   | 0.750000     | 0.812500     | 0.812500     |
| precision  | 0.411765     | 0.180723     | 0.064935     |
| conf_obj   | 0.936482     | 0.942631     | 0.962170     |
| conf_noobj | 0.001430     | 0.001110     | 0.001018     |
+------------+--------------+--------------+--------------+
2020-12-19 23:32:42.328 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.754087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.625084     | 0.649439     | 0.479564     |
| x          | 0.005828     | 0.013099     | 0.017719     |
| y          | 0.012467     | 0.018607     | 0.031448     |
| w          | 0.038090     | 0.022435     | 0.019181     |
| h          | 0.026471     | 0.019257     | 0.018215     |
| conf       | 0.509615     | 0.552376     | 0.365167     |
| cls        | 0.032613     | 0.023665     | 0.027833     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.904762     | 0.904762     |
| recall75   | 0.809524     | 0.714286     | 0.809524     |
| precision  | 0.791667     | 0.463415     | 0.171171     |
| conf_obj   | 0.861948     | 0.879057     | 0.880752     |
| conf_noobj | 0.000715     | 0.000625     | 0.000669     |
+------------+--------------+--------------+--------------+
2020-12-19 23:33:45.300 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.530415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.561252     | 0.462901     | 0.506262     |
| x          | 0.015480     | 0.020559     | 0.032125     |
| y          | 0.011471     | 0.033030     | 0.025481     |
| w          | 0.029686     | 0.038302     | 0.020597     |
| h          | 0.016549     | 0.015067     | 0.008856     |
| conf       | 0.463553     | 0.317992     | 0.390049     |
| cls        | 0.024514     | 0.037951     | 0.029154     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.958333     | 0.958333     |
| recall75   | 0.708333     | 0.833333     | 0.916667     |
| precision  | 0.700000     | 0.425926     | 0.125683     |
| conf_obj   | 0.865536     | 0.916483     | 0.909232     |
| conf_noobj | 0.001017     | 0.000947     | 0.000901     |
+------------+--------------+--------------+--------------+
2020-12-19 23:34:48.366 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.404601
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.911251     | 0.847088     | 0.646262     |
| x          | 0.010059     | 0.008756     | 0.031844     |
| y          | 0.009153     | 0.013470     | 0.031108     |
| w          | 0.047941     | 0.026115     | 0.021294     |
| h          | 0.015939     | 0.018465     | 0.025840     |
| conf       | 0.686234     | 0.663551     | 0.395228     |
| cls        | 0.141924     | 0.116732     | 0.140948     |
| cls_acc    | 96.43%       | 96.55%       | 93.10%       |
| recall50   | 0.857143     | 0.827586     | 0.827586     |
| recall75   | 0.678571     | 0.758621     | 0.689655     |
| precision  | 0.558140     | 0.311688     | 0.124352     |
| conf_obj   | 0.817476     | 0.811186     | 0.875471     |
| conf_noobj | 0.001278     | 0.000997     | 0.000874     |
+------------+--------------+--------------+--------------+
2020-12-19 23:35:57.593 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.383629
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.746024     | 0.858693     | 0.778912     |
| x          | 0.010409     | 0.024186     | 0.020420     |
| y          | 0.013545     | 0.024281     | 0.032579     |
| w          | 0.020758     | 0.025786     | 0.033537     |
| h          | 0.023509     | 0.025383     | 0.025400     |
| conf       | 0.656317     | 0.714503     | 0.639362     |
| cls        | 0.021486     | 0.044552     | 0.027615     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.884615     | 0.884615     |
| recall75   | 0.807692     | 0.769231     | 0.807692     |
| precision  | 0.687500     | 0.244681     | 0.132184     |
| conf_obj   | 0.817743     | 0.813347     | 0.844262     |
| conf_noobj | 0.001418     | 0.001498     | 0.000837     |
+------------+--------------+--------------+--------------+
2020-12-19 23:37:01.049 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.415892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.579619     | 0.442787     | 0.393486     |
| x          | 0.017308     | 0.024598     | 0.032516     |
| y          | 0.014617     | 0.026411     | 0.040630     |
| w          | 0.133411     | 0.057204     | 0.063504     |
| h          | 0.094667     | 0.040187     | 0.034762     |
| conf       | 0.293808     | 0.274940     | 0.203721     |
| cls        | 0.025808     | 0.019448     | 0.018353     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.900000     | 0.950000     |
| recall75   | 0.789474     | 0.850000     | 0.850000     |
| precision  | 0.653846     | 0.352941     | 0.130137     |
| conf_obj   | 0.925141     | 0.928068     | 0.961143     |
| conf_noobj | 0.001058     | 0.001008     | 0.000877     |
+------------+--------------+--------------+--------------+
2020-12-19 23:38:09.380 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.307524
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.668015     | 0.949738     | 0.689772     |
| x          | 0.011902     | 0.033719     | 0.035808     |
| y          | 0.023907     | 0.030216     | 0.071382     |
| w          | 0.076346     | 0.026616     | 0.023663     |
| h          | 0.043365     | 0.027384     | 0.026241     |
| conf       | 0.309196     | 0.593354     | 0.360840     |
| cls        | 0.203299     | 0.238449     | 0.171838     |
| cls_acc    | 89.47%       | 89.47%       | 89.47%       |
| recall50   | 0.842105     | 0.789474     | 0.842105     |
| recall75   | 0.736842     | 0.789474     | 0.684211     |
| precision  | 0.390244     | 0.148515     | 0.061069     |
| conf_obj   | 0.953256     | 0.846196     | 0.911003     |
| conf_noobj | 0.001695     | 0.001566     | 0.001217     |
+------------+--------------+--------------+--------------+
2020-12-19 23:39:16.621 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.661642
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.638774     | 0.483545     | 0.539323     |
| x          | 0.012423     | 0.022560     | 0.028363     |
| y          | 0.013131     | 0.023567     | 0.025895     |
| w          | 0.033787     | 0.027573     | 0.020774     |
| h          | 0.026569     | 0.019025     | 0.019209     |
| conf       | 0.540431     | 0.369824     | 0.361042     |
| cls        | 0.012433     | 0.020996     | 0.084039     |
| cls_acc    | 100.00%      | 100.00%      | 96.43%       |
| recall50   | 0.925926     | 0.928571     | 0.928571     |
| recall75   | 0.814815     | 0.750000     | 0.785714     |
| precision  | 0.595238     | 0.276596     | 0.097015     |
| conf_obj   | 0.868977     | 0.897808     | 0.912534     |
| conf_noobj | 0.001491     | 0.001245     | 0.001182     |
+------------+--------------+--------------+--------------+
2020-12-19 23:40:22.100 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.610381
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.468977     | 0.612172     | 0.529232     |
| x          | 0.048855     | 0.030386     | 0.039522     |
| y          | 0.014536     | 0.018473     | 0.041780     |
| w          | 0.036828     | 0.042589     | 0.025504     |
| h          | 0.026444     | 0.038598     | 0.019903     |
| conf       | 0.315292     | 0.446348     | 0.367788     |
| cls        | 0.027022     | 0.035779     | 0.034735     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.807692     | 0.884615     |
| recall75   | 0.791667     | 0.692308     | 0.846154     |
| precision  | 0.567568     | 0.304348     | 0.122995     |
| conf_obj   | 0.924433     | 0.849598     | 0.882068     |
| conf_noobj | 0.001053     | 0.000873     | 0.000848     |
+------------+--------------+--------------+--------------+
2020-12-19 23:41:28.901 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.072319
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.703373     | 0.770956     | 0.597989     |
| x          | 0.012126     | 0.017818     | 0.018323     |
| y          | 0.010011     | 0.026629     | 0.026222     |
| w          | 0.098579     | 0.095917     | 0.047544     |
| h          | 0.091916     | 0.092140     | 0.053154     |
| conf       | 0.319664     | 0.293521     | 0.289325     |
| cls        | 0.171078     | 0.244933     | 0.163421     |
| cls_acc    | 90.48%       | 85.71%       | 90.91%       |
| recall50   | 0.857143     | 0.809524     | 0.909091     |
| recall75   | 0.666667     | 0.761905     | 0.863636     |
| precision  | 0.642857     | 0.303571     | 0.116279     |
| conf_obj   | 0.932071     | 0.941897     | 0.934412     |
| conf_noobj | 0.001214     | 0.001072     | 0.000993     |
+------------+--------------+--------------+--------------+
2020-12-19 23:42:32.955 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.329592
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.367315     | 0.488976     | 0.473300     |
| x          | 0.013290     | 0.019726     | 0.021402     |
| y          | 0.012506     | 0.019082     | 0.059462     |
| w          | 0.009331     | 0.008610     | 0.011175     |
| h          | 0.018650     | 0.009201     | 0.015293     |
| conf       | 0.261174     | 0.345162     | 0.214948     |
| cls        | 0.052363     | 0.087195     | 0.151020     |
| cls_acc    | 100.00%      | 95.24%       | 90.48%       |
| recall50   | 0.952381     | 0.857143     | 0.904762     |
| recall75   | 0.809524     | 0.809524     | 0.761905     |
| precision  | 0.714286     | 0.295082     | 0.122581     |
| conf_obj   | 0.903912     | 0.877937     | 0.943720     |
| conf_noobj | 0.000961     | 0.001034     | 0.000916     |
+------------+--------------+--------------+--------------+
2020-12-19 23:43:35.159 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.078474
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.592962     | 0.701011     | 0.784500     |
| x          | 0.012782     | 0.011923     | 0.024545     |
| y          | 0.013281     | 0.014250     | 0.033898     |
| w          | 0.031129     | 0.053995     | 0.018497     |
| h          | 0.025472     | 0.052645     | 0.021260     |
| conf       | 0.405932     | 0.514046     | 0.619460     |
| cls        | 0.104367     | 0.054152     | 0.066842     |
| cls_acc    | 96.15%       | 100.00%      | 96.30%       |
| recall50   | 0.846154     | 0.925926     | 0.851852     |
| recall75   | 0.653846     | 0.703704     | 0.703704     |
| precision  | 0.536585     | 0.280899     | 0.095436     |
| conf_obj   | 0.866154     | 0.844283     | 0.843240     |
| conf_noobj | 0.001412     | 0.001149     | 0.001097     |
+------------+--------------+--------------+--------------+
2020-12-19 23:44:38.696 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.323602
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.488781     | 0.469279     | 0.365541     |
| x          | 0.007198     | 0.015473     | 0.033642     |
| y          | 0.015122     | 0.010404     | 0.016801     |
| w          | 0.035322     | 0.029487     | 0.019621     |
| h          | 0.065874     | 0.062629     | 0.044944     |
| conf       | 0.355101     | 0.338844     | 0.231870     |
| cls        | 0.010165     | 0.012442     | 0.018663     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.954545     | 0.954545     |
| recall75   | 0.750000     | 0.772727     | 0.636364     |
| precision  | 0.782609     | 0.411765     | 0.161538     |
| conf_obj   | 0.937123     | 0.914093     | 0.933545     |
| conf_noobj | 0.000670     | 0.000753     | 0.000711     |
+------------+--------------+--------------+--------------+
2020-12-19 23:45:48.189 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.069359
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.437952     | 0.328180     | 0.303226     |
| x          | 0.007905     | 0.005513     | 0.014855     |
| y          | 0.009013     | 0.008147     | 0.019627     |
| w          | 0.103774     | 0.044873     | 0.025900     |
| h          | 0.068520     | 0.031204     | 0.014026     |
| conf       | 0.221792     | 0.221880     | 0.201161     |
| cls        | 0.026947     | 0.016564     | 0.027658     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.962963     | 1.000000     |
| recall75   | 0.769231     | 0.777778     | 0.740741     |
| precision  | 0.735294     | 0.448276     | 0.184932     |
| conf_obj   | 0.911408     | 0.923411     | 0.938863     |
| conf_noobj | 0.000812     | 0.000742     | 0.000720     |
+------------+--------------+--------------+--------------+
2020-12-19 23:45:52.025 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.665
2020-12-19 23:45:52.028 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-19 23:46:51.512 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05802   | 0.45645 | 0.10295 | 0.26417 |
| 1     | Wear_helmet | 0.39953   | 0.96918 | 0.56582 | 0.93683 |
| 2     | Total       | 0.22878   | 0.71282 | 0.33438 | 0.60050 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:46:51.513 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6004995133082045
2020-12-19 23:46:51.513 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-19 23:46:51.513 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.485483

2020-12-19 23:46:51.953 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 2/2, epo 1/5
2020-12-19 23:46:51.953 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 2/2, epo 1/5; time cost: 0:15:16.913845

2020-12-19 23:46:51.954 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 2/2, epo 2/5
2020-12-19 23:46:53.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.004554
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.785304     | 0.640920     | 0.578330     |
| x          | 0.022003     | 0.045076     | 0.051578     |
| y          | 0.029959     | 0.028002     | 0.043080     |
| w          | 0.005249     | 0.009562     | 0.017585     |
| h          | 0.012691     | 0.017307     | 0.020505     |
| conf       | 0.606210     | 0.461130     | 0.400888     |
| cls        | 0.109192     | 0.079843     | 0.044694     |
| cls_acc    | 94.74%       | 95.00%       | 100.00%      |
| recall50   | 0.894737     | 0.850000     | 0.950000     |
| recall75   | 0.842105     | 0.750000     | 0.750000     |
| precision  | 0.566667     | 0.253731     | 0.104972     |
| conf_obj   | 0.836767     | 0.869191     | 0.907277     |
| conf_noobj | 0.001305     | 0.000997     | 0.000931     |
+------------+--------------+--------------+--------------+
2020-12-19 23:48:06.951 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.687725
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.677343     | 0.486332     | 0.524050     |
| x          | 0.032736     | 0.026379     | 0.028410     |
| y          | 0.016461     | 0.022760     | 0.036948     |
| w          | 0.041507     | 0.021744     | 0.020125     |
| h          | 0.026730     | 0.008888     | 0.009649     |
| conf       | 0.378538     | 0.282538     | 0.249966     |
| cls        | 0.181369     | 0.124024     | 0.178952     |
| cls_acc    | 94.74%       | 89.47%       | 90.00%       |
| recall50   | 0.894737     | 0.842105     | 0.900000     |
| recall75   | 0.631579     | 0.684211     | 0.900000     |
| precision  | 0.607143     | 0.242424     | 0.088670     |
| conf_obj   | 0.875715     | 0.899835     | 0.924300     |
| conf_noobj | 0.000972     | 0.000861     | 0.000797     |
+------------+--------------+--------------+--------------+
2020-12-19 23:49:17.876 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.954263
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.318280     | 0.317467     | 0.318516     |
| x          | 0.006147     | 0.011258     | 0.017265     |
| y          | 0.004325     | 0.006147     | 0.022380     |
| w          | 0.017574     | 0.033275     | 0.013384     |
| h          | 0.033642     | 0.031736     | 0.027867     |
| conf       | 0.213157     | 0.194149     | 0.212446     |
| cls        | 0.043435     | 0.040903     | 0.025174     |
| cls_acc    | 95.24%       | 95.24%       | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 0.952381     |
| recall75   | 0.904762     | 0.809524     | 0.857143     |
| precision  | 0.625000     | 0.306452     | 0.149254     |
| conf_obj   | 0.954073     | 0.960397     | 0.941495     |
| conf_noobj | 0.000993     | 0.000780     | 0.000647     |
+------------+--------------+--------------+--------------+
2020-12-19 23:50:21.217 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.757104
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.325453     | 0.206072     | 0.225579     |
| x          | 0.007263     | 0.014451     | 0.021107     |
| y          | 0.003514     | 0.012891     | 0.039965     |
| w          | 0.016737     | 0.010528     | 0.007790     |
| h          | 0.009781     | 0.009646     | 0.010729     |
| conf       | 0.282460     | 0.142255     | 0.120311     |
| cls        | 0.005699     | 0.016300     | 0.025677     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 1.000000     |
| recall75   | 0.882353     | 0.888889     | 0.944444     |
| precision  | 0.727273     | 0.409091     | 0.137405     |
| conf_obj   | 0.891824     | 0.961895     | 0.989173     |
| conf_noobj | 0.000586     | 0.000535     | 0.000556     |
+------------+--------------+--------------+--------------+
2020-12-19 23:51:24.795 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.519006
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.578931     | 0.451627     | 0.488448     |
| x          | 0.011528     | 0.034615     | 0.029536     |
| y          | 0.011225     | 0.015311     | 0.049718     |
| w          | 0.048718     | 0.020224     | 0.034912     |
| h          | 0.053765     | 0.028128     | 0.030897     |
| conf       | 0.390853     | 0.268899     | 0.238682     |
| cls        | 0.062842     | 0.084450     | 0.104703     |
| cls_acc    | 100.00%      | 95.65%       | 91.67%       |
| recall50   | 0.913043     | 0.869565     | 0.916667     |
| recall75   | 0.739130     | 0.739130     | 0.708333     |
| precision  | 0.512195     | 0.263158     | 0.113990     |
| conf_obj   | 0.891444     | 0.921672     | 0.925813     |
| conf_noobj | 0.001379     | 0.000999     | 0.000886     |
+------------+--------------+--------------+--------------+
2020-12-19 23:52:34.157 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.218734
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.373890     | 0.432544     | 0.412300     |
| x          | 0.014248     | 0.009104     | 0.018264     |
| y          | 0.018435     | 0.024657     | 0.037931     |
| w          | 0.021557     | 0.022714     | 0.022043     |
| h          | 0.036785     | 0.053834     | 0.036817     |
| conf       | 0.272016     | 0.303918     | 0.275631     |
| cls        | 0.010850     | 0.018317     | 0.021614     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.952381     | 0.952381     |
| recall75   | 0.750000     | 0.809524     | 0.761905     |
| precision  | 0.529412     | 0.281690     | 0.121212     |
| conf_obj   | 0.944094     | 0.900335     | 0.906526     |
| conf_noobj | 0.001030     | 0.000865     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-19 23:53:35.767 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.112833
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.794115     | 0.714347     | 0.604370     |
| x          | 0.035065     | 0.032027     | 0.026809     |
| y          | 0.007158     | 0.017946     | 0.034798     |
| w          | 0.052025     | 0.030134     | 0.028610     |
| h          | 0.053213     | 0.037581     | 0.036882     |
| conf       | 0.485562     | 0.407542     | 0.281168     |
| cls        | 0.161093     | 0.189118     | 0.196104     |
| cls_acc    | 90.32%       | 87.50%       | 93.94%       |
| recall50   | 0.741935     | 0.718750     | 0.848485     |
| recall75   | 0.677419     | 0.593750     | 0.666667     |
| precision  | 0.469388     | 0.223301     | 0.120690     |
| conf_obj   | 0.884234     | 0.916212     | 0.935322     |
| conf_noobj | 0.001669     | 0.001417     | 0.001032     |
+------------+--------------+--------------+--------------+
2020-12-19 23:54:38.439 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 3.057434
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.382905     | 0.926542     | 0.747986     |
| x          | 0.007601     | 0.008585     | 0.021497     |
| y          | 0.014572     | 0.015658     | 0.044772     |
| w          | 0.063444     | 0.046207     | 0.021922     |
| h          | 0.071792     | 0.038908     | 0.020429     |
| conf       | 0.852140     | 0.496266     | 0.378150     |
| cls        | 0.373356     | 0.320918     | 0.261217     |
| cls_acc    | 84.62%       | 88.46%       | 96.15%       |
| recall50   | 0.692308     | 0.769231     | 0.884615     |
| recall75   | 0.615385     | 0.692308     | 0.769231     |
| precision  | 0.600000     | 0.363636     | 0.149351     |
| conf_obj   | 0.733983     | 0.803603     | 0.850282     |
| conf_noobj | 0.001320     | 0.000983     | 0.000944     |
+------------+--------------+--------------+--------------+
2020-12-19 23:55:42.742 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.961818
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.750492     | 0.728153     | 0.483173     |
| x          | 0.036016     | 0.018920     | 0.012961     |
| y          | 0.017617     | 0.023368     | 0.065595     |
| w          | 0.056612     | 0.031450     | 0.009261     |
| h          | 0.064007     | 0.031716     | 0.017576     |
| conf       | 0.402643     | 0.516336     | 0.325035     |
| cls        | 0.173597     | 0.106364     | 0.052745     |
| cls_acc    | 90.00%       | 95.24%       | 100.00%      |
| recall50   | 0.800000     | 0.809524     | 0.904762     |
| recall75   | 0.750000     | 0.666667     | 0.857143     |
| precision  | 0.400000     | 0.217949     | 0.081197     |
| conf_obj   | 0.917958     | 0.866388     | 0.899757     |
| conf_noobj | 0.001427     | 0.001193     | 0.001011     |
+------------+--------------+--------------+--------------+
2020-12-19 23:56:48.739 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.589324
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.610217     | 0.462872     | 0.516234     |
| x          | 0.030003     | 0.018878     | 0.032669     |
| y          | 0.007076     | 0.024291     | 0.036724     |
| w          | 0.018144     | 0.023286     | 0.022775     |
| h          | 0.035972     | 0.022614     | 0.015856     |
| conf       | 0.381981     | 0.297757     | 0.322492     |
| cls        | 0.137040     | 0.076046     | 0.085718     |
| cls_acc    | 89.47%       | 95.00%       | 95.00%       |
| recall50   | 0.736842     | 0.900000     | 0.900000     |
| recall75   | 0.684211     | 0.850000     | 0.750000     |
| precision  | 0.560000     | 0.305085     | 0.106509     |
| conf_obj   | 0.874821     | 0.891361     | 0.897712     |
| conf_noobj | 0.001108     | 0.000966     | 0.000848     |
+------------+--------------+--------------+--------------+
2020-12-19 23:57:52.173 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.574174
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.144073     | 0.771437     | 0.658664     |
| x          | 0.009442     | 0.012590     | 0.027576     |
| y          | 0.014266     | 0.018329     | 0.021907     |
| w          | 0.034160     | 0.026619     | 0.021894     |
| h          | 0.032259     | 0.021767     | 0.025840     |
| conf       | 0.921299     | 0.579942     | 0.494982     |
| cls        | 0.132649     | 0.112191     | 0.066466     |
| cls_acc    | 92.11%       | 95.12%       | 97.56%       |
| recall50   | 0.710526     | 0.756098     | 0.853659     |
| recall75   | 0.578947     | 0.634146     | 0.682927     |
| precision  | 0.750000     | 0.508197     | 0.222930     |
| conf_obj   | 0.715372     | 0.780234     | 0.813578     |
| conf_noobj | 0.000887     | 0.000719     | 0.000754     |
+------------+--------------+--------------+--------------+
2020-12-19 23:58:56.465 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.861691
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.653801     | 0.511783     | 0.696106     |
| x          | 0.023998     | 0.045182     | 0.047973     |
| y          | 0.006246     | 0.010893     | 0.029058     |
| w          | 0.056276     | 0.030994     | 0.027473     |
| h          | 0.075519     | 0.043631     | 0.055023     |
| conf       | 0.374865     | 0.278966     | 0.344197     |
| cls        | 0.116897     | 0.102116     | 0.192382     |
| cls_acc    | 96.55%       | 96.55%       | 90.32%       |
| recall50   | 0.931035     | 0.931035     | 0.870968     |
| recall75   | 0.758621     | 0.827586     | 0.870968     |
| precision  | 0.675000     | 0.346154     | 0.128571     |
| conf_obj   | 0.881965     | 0.930546     | 0.919458     |
| conf_noobj | 0.001446     | 0.001167     | 0.000964     |
+------------+--------------+--------------+--------------+
2020-12-19 23:59:59.708 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.400695
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.982635     | 0.725312     | 0.692748     |
| x          | 0.009550     | 0.013367     | 0.016453     |
| y          | 0.009384     | 0.009980     | 0.020044     |
| w          | 0.031113     | 0.029985     | 0.014882     |
| h          | 0.023050     | 0.018854     | 0.007642     |
| conf       | 0.342585     | 0.215281     | 0.210457     |
| cls        | 0.566952     | 0.437845     | 0.423271     |
| cls_acc    | 84.00%       | 88.46%       | 84.62%       |
| recall50   | 0.760000     | 0.884615     | 0.846154     |
| recall75   | 0.720000     | 0.807692     | 0.807692     |
| precision  | 0.527778     | 0.315068     | 0.113402     |
| conf_obj   | 0.895037     | 0.952879     | 0.965275     |
| conf_noobj | 0.001023     | 0.000897     | 0.000948     |
+------------+--------------+--------------+--------------+
2020-12-20 00:01:01.709 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.040107
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.379049     | 0.327334     | 0.333724     |
| x          | 0.012418     | 0.015916     | 0.049156     |
| y          | 0.009346     | 0.011850     | 0.023749     |
| w          | 0.024771     | 0.015503     | 0.016307     |
| h          | 0.029301     | 0.024699     | 0.012977     |
| conf       | 0.265553     | 0.225704     | 0.199033     |
| cls        | 0.037660     | 0.033662     | 0.032503     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.923077     | 1.000000     | 0.965517     |
| recall75   | 0.846154     | 0.862069     | 0.793103     |
| precision  | 0.545455     | 0.333333     | 0.116183     |
| conf_obj   | 0.951596     | 0.957548     | 0.974201     |
| conf_noobj | 0.001215     | 0.001021     | 0.000911     |
+------------+--------------+--------------+--------------+
2020-12-20 00:01:05.441 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.573
2020-12-20 00:01:05.445 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 00:02:02.047 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05170   | 0.44599 | 0.09265 | 0.22663 |
| 1     | Wear_helmet | 0.41924   | 0.96658 | 0.58482 | 0.93671 |
| 2     | Total       | 0.23547   | 0.70629 | 0.33874 | 0.58167 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:02:02.048 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5816708861924751
2020-12-20 00:02:02.048 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 00:02:02.048 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.603047

2020-12-20 00:02:02.661 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 2/2, epo 2/5
2020-12-20 00:02:02.662 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 2/2, epo 2/5; time cost: 0:15:10.707594

2020-12-20 00:02:02.662 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 2/2, epo 3/5
2020-12-20 00:02:04.490 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.637121
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.233188     | 0.228615     | 0.175319     |
| x          | 0.006379     | 0.017403     | 0.014789     |
| y          | 0.008663     | 0.006403     | 0.012507     |
| w          | 0.010680     | 0.005798     | 0.004361     |
| h          | 0.006776     | 0.009779     | 0.005237     |
| conf       | 0.193816     | 0.180637     | 0.123520     |
| cls        | 0.006873     | 0.008595     | 0.014904     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 1.000000     | 1.000000     |
| precision  | 0.500000     | 0.304348     | 0.101449     |
| conf_obj   | 0.965442     | 0.949419     | 0.992110     |
| conf_noobj | 0.001046     | 0.000719     | 0.000633     |
+------------+--------------+--------------+--------------+
2020-12-20 00:03:14.506 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.968413
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.272173     | 0.372187     | 0.324052     |
| x          | 0.017843     | 0.022246     | 0.023918     |
| y          | 0.005589     | 0.015189     | 0.035890     |
| w          | 0.028280     | 0.028197     | 0.014816     |
| h          | 0.049013     | 0.041473     | 0.026218     |
| conf       | 0.162933     | 0.253321     | 0.215592     |
| cls        | 0.008515     | 0.011761     | 0.007618     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.913043     | 0.956522     |
| recall75   | 0.857143     | 0.739130     | 0.826087     |
| precision  | 0.750000     | 0.323077     | 0.113402     |
| conf_obj   | 0.964995     | 0.937973     | 0.952859     |
| conf_noobj | 0.000763     | 0.000853     | 0.000811     |
+------------+--------------+--------------+--------------+
2020-12-20 00:04:19.416 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.851012
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.357089     | 0.242824     | 0.251099     |
| x          | 0.003155     | 0.009024     | 0.034129     |
| y          | 0.017471     | 0.017714     | 0.048884     |
| w          | 0.011703     | 0.009482     | 0.015606     |
| h          | 0.019614     | 0.011259     | 0.009486     |
| conf       | 0.298163     | 0.190278     | 0.140407     |
| cls        | 0.006984     | 0.005066     | 0.002587     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.941176     |
| precision  | 0.586207     | 0.340000     | 0.140496     |
| conf_obj   | 0.933388     | 0.957201     | 0.979378     |
| conf_noobj | 0.001137     | 0.000787     | 0.000661     |
+------------+--------------+--------------+--------------+
2020-12-20 00:05:29.741 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.952019
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.864920     | 0.652380     | 0.434718     |
| x          | 0.008013     | 0.022351     | 0.040282     |
| y          | 0.013324     | 0.027571     | 0.067652     |
| w          | 0.041629     | 0.008292     | 0.008791     |
| h          | 0.040829     | 0.016994     | 0.014479     |
| conf       | 0.602828     | 0.398147     | 0.224162     |
| cls        | 0.158297     | 0.179026     | 0.079352     |
| cls_acc    | 88.24%       | 94.12%       | 94.12%       |
| recall50   | 0.823529     | 0.705882     | 0.823529     |
| recall75   | 0.647059     | 0.705882     | 0.705882     |
| precision  | 0.482759     | 0.200000     | 0.093333     |
| conf_obj   | 0.832119     | 0.801486     | 0.912540     |
| conf_noobj | 0.000874     | 0.000632     | 0.000538     |
+------------+--------------+--------------+--------------+
2020-12-20 00:06:39.675 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.191747
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.429825     | 0.374638     | 0.387284     |
| x          | 0.003836     | 0.003109     | 0.014953     |
| y          | 0.004902     | 0.010939     | 0.041979     |
| w          | 0.035235     | 0.016058     | 0.010658     |
| h          | 0.015957     | 0.007162     | 0.015140     |
| conf       | 0.363990     | 0.331123     | 0.295438     |
| cls        | 0.005905     | 0.006246     | 0.009116     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.913043     | 0.958333     |
| recall75   | 0.913043     | 0.869565     | 0.833333     |
| precision  | 0.628571     | 0.291667     | 0.159722     |
| conf_obj   | 0.922746     | 0.905806     | 0.918298     |
| conf_noobj | 0.001186     | 0.001052     | 0.000731     |
+------------+--------------+--------------+--------------+
2020-12-20 00:07:41.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.394018
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.416950     | 0.542918     | 0.434150     |
| x          | 0.008667     | 0.009264     | 0.014750     |
| y          | 0.010922     | 0.016405     | 0.028218     |
| w          | 0.036898     | 0.022608     | 0.014872     |
| h          | 0.035205     | 0.033656     | 0.016896     |
| conf       | 0.316900     | 0.457830     | 0.352567     |
| cls        | 0.008358     | 0.003155     | 0.006847     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 0.954545     |
| recall75   | 0.750000     | 0.863636     | 0.863636     |
| precision  | 0.689655     | 0.291667     | 0.134615     |
| conf_obj   | 0.928919     | 0.907857     | 0.912002     |
| conf_noobj | 0.001318     | 0.001357     | 0.000965     |
+------------+--------------+--------------+--------------+
2020-12-20 00:08:47.429 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.909769
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.339848     | 0.303620     | 0.266301     |
| x          | 0.018818     | 0.008864     | 0.034367     |
| y          | 0.012611     | 0.011834     | 0.026565     |
| w          | 0.014720     | 0.024499     | 0.011552     |
| h          | 0.017228     | 0.021788     | 0.010143     |
| conf       | 0.270335     | 0.226738     | 0.177162     |
| cls        | 0.006136     | 0.009896     | 0.006514     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 1.000000     | 1.000000     |
| recall75   | 0.814815     | 0.964286     | 0.892857     |
| precision  | 0.694444     | 0.333333     | 0.151351     |
| conf_obj   | 0.919349     | 0.955763     | 0.963381     |
| conf_noobj | 0.000921     | 0.000984     | 0.000799     |
+------------+--------------+--------------+--------------+
2020-12-20 00:09:55.394 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.380919
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.457866     | 0.494285     | 0.428768     |
| x          | 0.007354     | 0.010995     | 0.033692     |
| y          | 0.011735     | 0.021337     | 0.044540     |
| w          | 0.042031     | 0.032441     | 0.033658     |
| h          | 0.061788     | 0.057501     | 0.043460     |
| conf       | 0.302946     | 0.336949     | 0.258369     |
| cls        | 0.032012     | 0.035062     | 0.015048     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.962963     | 0.928571     |
| recall75   | 0.730769     | 0.740741     | 0.750000     |
| precision  | 0.657895     | 0.262626     | 0.113537     |
| conf_obj   | 0.911999     | 0.928555     | 0.931743     |
| conf_noobj | 0.001376     | 0.001392     | 0.000993     |
+------------+--------------+--------------+--------------+
2020-12-20 00:10:55.752 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.265473
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.445191     | 0.484058     | 0.336223     |
| x          | 0.008578     | 0.004548     | 0.015480     |
| y          | 0.006924     | 0.016819     | 0.016479     |
| w          | 0.025135     | 0.010195     | 0.012983     |
| h          | 0.038982     | 0.013291     | 0.020257     |
| conf       | 0.304978     | 0.300082     | 0.189294     |
| cls        | 0.060595     | 0.139123     | 0.081731     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.894737     | 0.842105     | 0.947368     |
| recall75   | 0.894737     | 0.842105     | 0.842105     |
| precision  | 0.772727     | 0.271186     | 0.111801     |
| conf_obj   | 0.906235     | 0.895123     | 0.955958     |
| conf_noobj | 0.000815     | 0.000817     | 0.000775     |
+------------+--------------+--------------+--------------+
2020-12-20 00:12:00.839 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.014683
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.331442     | 0.356243     | 0.326998     |
| x          | 0.005128     | 0.009319     | 0.028691     |
| y          | 0.003615     | 0.011495     | 0.012205     |
| w          | 0.029526     | 0.028003     | 0.014156     |
| h          | 0.008903     | 0.013178     | 0.005716     |
| conf       | 0.210885     | 0.219873     | 0.198976     |
| cls        | 0.073385     | 0.074375     | 0.067254     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.954545     | 0.772727     | 0.863636     |
| precision  | 0.724138     | 0.328125     | 0.146853     |
| conf_obj   | 0.926265     | 0.933487     | 0.944273     |
| conf_noobj | 0.000720     | 0.000796     | 0.000761     |
+------------+--------------+--------------+--------------+
2020-12-20 00:13:03.183 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.233395
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.321079     | 0.365091     | 0.547225     |
| x          | 0.002787     | 0.006147     | 0.016808     |
| y          | 0.007426     | 0.032520     | 0.030083     |
| w          | 0.017945     | 0.011911     | 0.003681     |
| h          | 0.025796     | 0.017487     | 0.008223     |
| conf       | 0.251417     | 0.269109     | 0.476908     |
| cls        | 0.015708     | 0.027918     | 0.011521     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.863636     |
| recall75   | 0.954545     | 0.909091     | 0.863636     |
| precision  | 0.733333     | 0.338462     | 0.123377     |
| conf_obj   | 0.936183     | 0.942504     | 0.848076     |
| conf_noobj | 0.001110     | 0.001119     | 0.000895     |
+------------+--------------+--------------+--------------+
2020-12-20 00:14:10.247 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.046356
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.395225     | 0.317340     | 0.333792     |
| x          | 0.004462     | 0.011536     | 0.013938     |
| y          | 0.002815     | 0.007622     | 0.016726     |
| w          | 0.013271     | 0.019971     | 0.020166     |
| h          | 0.029186     | 0.032304     | 0.009857     |
| conf       | 0.332522     | 0.231554     | 0.259034     |
| cls        | 0.012969     | 0.014353     | 0.014071     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.888889     | 0.833333     |
| precision  | 0.566667     | 0.303571     | 0.111111     |
| conf_obj   | 0.913471     | 0.954963     | 0.944986     |
| conf_noobj | 0.001383     | 0.001124     | 0.000963     |
+------------+--------------+--------------+--------------+
2020-12-20 00:15:12.135 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.341494
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.582981     | 0.452694     | 0.305820     |
| x          | 0.007960     | 0.011860     | 0.025610     |
| y          | 0.010758     | 0.008784     | 0.028221     |
| w          | 0.026833     | 0.011695     | 0.013993     |
| h          | 0.053584     | 0.016714     | 0.011713     |
| conf       | 0.345334     | 0.326417     | 0.193565     |
| cls        | 0.138511     | 0.077223     | 0.032719     |
| cls_acc    | 96.30%       | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.962963     | 1.000000     |
| recall75   | 0.814815     | 0.888889     | 0.857143     |
| precision  | 0.555556     | 0.260000     | 0.138614     |
| conf_obj   | 0.907465     | 0.917181     | 0.965797     |
| conf_noobj | 0.001267     | 0.001153     | 0.000879     |
+------------+--------------+--------------+--------------+
2020-12-20 00:16:19.045 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.617271
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.698047     | 0.479989     | 0.439235     |
| x          | 0.013431     | 0.029615     | 0.033823     |
| y          | 0.010629     | 0.023541     | 0.028917     |
| w          | 0.024549     | 0.035643     | 0.028264     |
| h          | 0.026441     | 0.017256     | 0.015543     |
| conf       | 0.587259     | 0.344944     | 0.261369     |
| cls        | 0.035737     | 0.028989     | 0.071320     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 0.857143     | 0.826087     | 0.913043     |
| recall75   | 0.761905     | 0.739130     | 0.782609     |
| precision  | 0.600000     | 0.404255     | 0.140940     |
| conf_obj   | 0.827191     | 0.854849     | 0.917096     |
| conf_noobj | 0.000932     | 0.000727     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-20 00:16:22.592 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.508
2020-12-20 00:16:22.595 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 00:17:17.623 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03791   | 0.45296 | 0.06997 | 0.22766 |
| 1     | Wear_helmet | 0.45341   | 0.95877 | 0.61566 | 0.92716 |
| 2     | Total       | 0.24566   | 0.70586 | 0.34282 | 0.57741 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:17:17.624 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5774054375996619
2020-12-20 00:17:17.624 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 00:17:17.625 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.029781

2020-12-20 00:17:18.070 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 2/2, epo 3/5
2020-12-20 00:17:18.071 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 2/2, epo 3/5; time cost: 0:15:15.407835

2020-12-20 00:17:18.071 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 2/2, epo 4/5
2020-12-20 00:17:19.634 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.821099
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.297992     | 0.270332     | 0.252776     |
| x          | 0.005995     | 0.005584     | 0.011544     |
| y          | 0.015605     | 0.012884     | 0.032359     |
| w          | 0.024696     | 0.016091     | 0.006463     |
| h          | 0.019566     | 0.013115     | 0.007355     |
| conf       | 0.226432     | 0.218564     | 0.190708     |
| cls        | 0.005698     | 0.004094     | 0.004348     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.863636     | 0.909091     | 0.909091     |
| precision  | 0.700000     | 0.343750     | 0.132530     |
| conf_obj   | 0.929836     | 0.933035     | 0.941023     |
| conf_noobj | 0.000821     | 0.000780     | 0.000682     |
+------------+--------------+--------------+--------------+
2020-12-20 00:18:22.507 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.699863
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.550044     | 0.574467     | 0.575352     |
| x          | 0.006367     | 0.009003     | 0.020651     |
| y          | 0.004860     | 0.012941     | 0.038360     |
| w          | 0.034478     | 0.035884     | 0.026890     |
| h          | 0.030895     | 0.036557     | 0.034227     |
| conf       | 0.424857     | 0.455731     | 0.422255     |
| cls        | 0.048588     | 0.024351     | 0.032970     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 0.826087     | 0.913043     |
| recall75   | 0.818182     | 0.695652     | 0.695652     |
| precision  | 0.620690     | 0.311475     | 0.128049     |
| conf_obj   | 0.864609     | 0.834072     | 0.850374     |
| conf_noobj | 0.001137     | 0.000859     | 0.000862     |
+------------+--------------+--------------+--------------+
2020-12-20 00:19:22.282 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.840749
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.388587     | 0.249722     | 0.202440     |
| x          | 0.002147     | 0.008439     | 0.019451     |
| y          | 0.012833     | 0.006734     | 0.010324     |
| w          | 0.029582     | 0.015486     | 0.011602     |
| h          | 0.025493     | 0.013779     | 0.012940     |
| conf       | 0.313010     | 0.202562     | 0.144252     |
| cls        | 0.005523     | 0.002722     | 0.003872     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.947368     | 1.000000     |
| recall75   | 0.736842     | 0.894737     | 0.947368     |
| precision  | 0.666667     | 0.400000     | 0.179245     |
| conf_obj   | 0.881988     | 0.912793     | 0.946368     |
| conf_noobj | 0.000606     | 0.000467     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 00:20:26.366 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.434076
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.833282     | 0.734266     | 0.866528     |
| x          | 0.023104     | 0.036771     | 0.045934     |
| y          | 0.010171     | 0.014535     | 0.032359     |
| w          | 0.067908     | 0.038450     | 0.028567     |
| h          | 0.032195     | 0.017995     | 0.022080     |
| conf       | 0.524655     | 0.418832     | 0.579035     |
| cls        | 0.175248     | 0.207684     | 0.158553     |
| cls_acc    | 96.15%       | 96.15%       | 92.59%       |
| recall50   | 0.730769     | 0.846154     | 0.814815     |
| recall75   | 0.653846     | 0.653846     | 0.629630     |
| precision  | 0.612903     | 0.392857     | 0.159420     |
| conf_obj   | 0.786069     | 0.822340     | 0.799309     |
| conf_noobj | 0.000898     | 0.000717     | 0.000628     |
+------------+--------------+--------------+--------------+
2020-12-20 00:21:25.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.179154
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.454432     | 0.369986     | 0.354737     |
| x          | 0.024869     | 0.008112     | 0.013927     |
| y          | 0.025888     | 0.025147     | 0.022292     |
| w          | 0.037929     | 0.034121     | 0.011426     |
| h          | 0.035806     | 0.033587     | 0.019907     |
| conf       | 0.312659     | 0.241180     | 0.280656     |
| cls        | 0.017281     | 0.027840     | 0.006529     |
| cls_acc    | 100.00%      | 96.55%       | 100.00%      |
| recall50   | 0.857143     | 0.931035     | 0.965517     |
| recall75   | 0.821429     | 0.793103     | 0.862069     |
| precision  | 0.705882     | 0.450000     | 0.153846     |
| conf_obj   | 0.894152     | 0.929206     | 0.913833     |
| conf_noobj | 0.000767     | 0.000843     | 0.000804     |
+------------+--------------+--------------+--------------+
2020-12-20 00:22:25.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.465972
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.501307     | 0.477646     | 0.487019     |
| x          | 0.008264     | 0.013004     | 0.022465     |
| y          | 0.005724     | 0.013978     | 0.035630     |
| w          | 0.022367     | 0.021435     | 0.021101     |
| h          | 0.021034     | 0.021736     | 0.020244     |
| conf       | 0.394906     | 0.367154     | 0.318039     |
| cls        | 0.049013     | 0.040339     | 0.069541     |
| cls_acc    | 95.45%       | 95.65%       | 95.65%       |
| recall50   | 0.909091     | 0.913043     | 0.956522     |
| recall75   | 0.863636     | 0.739130     | 0.913043     |
| precision  | 1.000000     | 0.500000     | 0.184874     |
| conf_obj   | 0.922558     | 0.924430     | 0.917685     |
| conf_noobj | 0.000387     | 0.000629     | 0.000645     |
+------------+--------------+--------------+--------------+
2020-12-20 00:23:24.412 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.999497
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.444279     | 0.289953     | 0.265266     |
| x          | 0.010109     | 0.010877     | 0.020779     |
| y          | 0.006035     | 0.003144     | 0.010235     |
| w          | 0.025532     | 0.016977     | 0.011103     |
| h          | 0.018471     | 0.018736     | 0.009226     |
| conf       | 0.380303     | 0.238026     | 0.211509     |
| cls        | 0.003830     | 0.002192     | 0.002413     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.722222     | 0.947368     | 0.894737     |
| precision  | 0.485714     | 0.234568     | 0.111765     |
| conf_obj   | 0.906410     | 0.964875     | 0.953082     |
| conf_noobj | 0.001274     | 0.001106     | 0.000824     |
+------------+--------------+--------------+--------------+
2020-12-20 00:24:29.622 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.616662
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.445959     | 0.562450     | 0.608253     |
| x          | 0.007431     | 0.013505     | 0.026298     |
| y          | 0.007237     | 0.028087     | 0.050188     |
| w          | 0.030414     | 0.021905     | 0.013930     |
| h          | 0.017602     | 0.019217     | 0.014309     |
| conf       | 0.315848     | 0.402194     | 0.461148     |
| cls        | 0.067427     | 0.077542     | 0.042381     |
| cls_acc    | 95.83%       | 96.00%       | 96.00%       |
| recall50   | 0.916667     | 0.880000     | 0.880000     |
| recall75   | 0.833333     | 0.720000     | 0.760000     |
| precision  | 0.785714     | 0.366667     | 0.130178     |
| conf_obj   | 0.914455     | 0.915039     | 0.904904     |
| conf_noobj | 0.000748     | 0.000818     | 0.000914     |
+------------+--------------+--------------+--------------+
2020-12-20 00:25:30.767 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.154492
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.775671     | 0.710463     | 0.668358     |
| x          | 0.003907     | 0.020307     | 0.026575     |
| y          | 0.024291     | 0.007078     | 0.039385     |
| w          | 0.054028     | 0.060320     | 0.048329     |
| h          | 0.025882     | 0.022738     | 0.019599     |
| conf       | 0.467771     | 0.423162     | 0.426423     |
| cls        | 0.199793     | 0.176859     | 0.108048     |
| cls_acc    | 94.44%       | 94.44%       | 94.44%       |
| recall50   | 0.833333     | 0.833333     | 0.888889     |
| recall75   | 0.777778     | 0.777778     | 0.777778     |
| precision  | 0.833333     | 0.405405     | 0.179775     |
| conf_obj   | 0.822961     | 0.832102     | 0.868421     |
| conf_noobj | 0.000722     | 0.000718     | 0.000659     |
+------------+--------------+--------------+--------------+
2020-12-20 00:26:32.503 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.031268
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.348541     | 0.378701     | 0.304027     |
| x          | 0.009202     | 0.015725     | 0.018142     |
| y          | 0.006876     | 0.014791     | 0.037442     |
| w          | 0.084559     | 0.042491     | 0.034926     |
| h          | 0.043424     | 0.023645     | 0.030796     |
| conf       | 0.171659     | 0.200947     | 0.137806     |
| cls        | 0.032821     | 0.081102     | 0.044914     |
| cls_acc    | 100.00%      | 95.00%       | 95.00%       |
| recall50   | 1.000000     | 0.900000     | 0.900000     |
| recall75   | 0.900000     | 0.750000     | 0.850000     |
| precision  | 0.740741     | 0.339623     | 0.122449     |
| conf_obj   | 0.943338     | 0.923557     | 0.973330     |
| conf_noobj | 0.000660     | 0.000588     | 0.000566     |
+------------+--------------+--------------+--------------+
2020-12-20 00:27:43.798 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.693859
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.657814     | 0.529856     | 0.506189     |
| x          | 0.013011     | 0.021761     | 0.031715     |
| y          | 0.014359     | 0.010452     | 0.033083     |
| w          | 0.041753     | 0.024173     | 0.013122     |
| h          | 0.048187     | 0.042079     | 0.019131     |
| conf       | 0.507179     | 0.420038     | 0.399486     |
| cls        | 0.033325     | 0.011354     | 0.009652     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.843750     | 0.906250     | 0.906250     |
| recall75   | 0.687500     | 0.687500     | 0.781250     |
| precision  | 0.794118     | 0.439394     | 0.195946     |
| conf_obj   | 0.793300     | 0.848749     | 0.847750     |
| conf_noobj | 0.000974     | 0.001008     | 0.000768     |
+------------+--------------+--------------+--------------+
2020-12-20 00:28:48.969 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 2.769916
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.021806     | 0.932334     | 0.815775     |
| x          | 0.026253     | 0.012171     | 0.026247     |
| y          | 0.038331     | 0.022843     | 0.055856     |
| w          | 0.195380     | 0.166925     | 0.125282     |
| h          | 0.145282     | 0.148130     | 0.107899     |
| conf       | 0.569940     | 0.550339     | 0.456129     |
| cls        | 0.046620     | 0.031926     | 0.044362     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.809524     | 0.809524     | 0.809524     |
| recall75   | 0.761905     | 0.761905     | 0.761905     |
| precision  | 0.607143     | 0.303571     | 0.113333     |
| conf_obj   | 0.843374     | 0.852497     | 0.890070     |
| conf_noobj | 0.001309     | 0.001013     | 0.000911     |
+------------+--------------+--------------+--------------+
2020-12-20 00:29:59.659 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.048512
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.258332     | 0.470090     | 0.320091     |
| x          | 0.005570     | 0.026962     | 0.033369     |
| y          | 0.006473     | 0.023947     | 0.026330     |
| w          | 0.005133     | 0.003388     | 0.004693     |
| h          | 0.010969     | 0.009112     | 0.002025     |
| conf       | 0.226271     | 0.404735     | 0.246063     |
| cls        | 0.003915     | 0.001945     | 0.007611     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 1.000000     |
| precision  | 0.548387     | 0.271186     | 0.118056     |
| conf_obj   | 0.941209     | 0.905360     | 0.902312     |
| conf_noobj | 0.000969     | 0.000799     | 0.000735     |
+------------+--------------+--------------+--------------+
2020-12-20 00:31:07.208 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.727548
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.198873     | 0.254394     | 0.274280     |
| x          | 0.013153     | 0.014295     | 0.015724     |
| y          | 0.002979     | 0.009679     | 0.029982     |
| w          | 0.034534     | 0.018064     | 0.010387     |
| h          | 0.020990     | 0.014663     | 0.013125     |
| conf       | 0.123266     | 0.191388     | 0.198068     |
| cls        | 0.003951     | 0.006305     | 0.006995     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.894737     | 0.894737     |
| precision  | 0.782609     | 0.387755     | 0.136691     |
| conf_obj   | 0.976354     | 0.938285     | 0.937620     |
| conf_noobj | 0.000692     | 0.000661     | 0.000654     |
+------------+--------------+--------------+--------------+
2020-12-20 00:31:10.604 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.456
2020-12-20 00:31:10.607 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 00:32:04.899 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05237   | 0.48084 | 0.09446 | 0.23183 |
| 1     | Wear_helmet | 0.45945   | 0.96398 | 0.62230 | 0.93674 |
| 2     | Total       | 0.25591   | 0.72241 | 0.35838 | 0.58428 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:32:04.900 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.584284118485291
2020-12-20 00:32:04.900 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 00:32:04.901 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.293612

2020-12-20 00:32:05.398 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 2/2, epo 4/5
2020-12-20 00:32:05.398 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 2/2, epo 4/5; time cost: 0:14:47.327034

2020-12-20 00:32:05.398 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 2/2, epo 5/5
2020-12-20 00:32:06.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.652704
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.229686     | 0.214026     | 0.208992     |
| x          | 0.004936     | 0.013913     | 0.019518     |
| y          | 0.005049     | 0.009449     | 0.024860     |
| w          | 0.038024     | 0.021895     | 0.014846     |
| h          | 0.028694     | 0.011276     | 0.011461     |
| conf       | 0.146501     | 0.154378     | 0.131315     |
| cls        | 0.006481     | 0.003115     | 0.006992     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.900000     | 0.950000     |
| precision  | 0.714286     | 0.344828     | 0.166667     |
| conf_obj   | 0.963012     | 0.964607     | 0.975784     |
| conf_noobj | 0.000663     | 0.000672     | 0.000556     |
+------------+--------------+--------------+--------------+
2020-12-20 00:33:14.241 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.851417
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.314669     | 0.302656     | 0.234093     |
| x          | 0.004995     | 0.007551     | 0.016617     |
| y          | 0.004337     | 0.013097     | 0.021685     |
| w          | 0.028119     | 0.021635     | 0.011512     |
| h          | 0.034094     | 0.028764     | 0.010549     |
| conf       | 0.239794     | 0.228043     | 0.170870     |
| cls        | 0.003330     | 0.003565     | 0.002861     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.913043     | 1.000000     |
| recall75   | 0.826087     | 0.869565     | 0.956522     |
| precision  | 0.700000     | 0.323077     | 0.158621     |
| conf_obj   | 0.932707     | 0.928161     | 0.951792     |
| conf_noobj | 0.000700     | 0.000691     | 0.000613     |
+------------+--------------+--------------+--------------+
2020-12-20 00:34:15.769 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.080966
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.351368     | 0.373755     | 0.355843     |
| x          | 0.019845     | 0.020762     | 0.023989     |
| y          | 0.010063     | 0.018942     | 0.039880     |
| w          | 0.034246     | 0.025465     | 0.014614     |
| h          | 0.038411     | 0.024936     | 0.008988     |
| conf       | 0.242375     | 0.278393     | 0.259155     |
| cls        | 0.006428     | 0.005257     | 0.009217     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.920000     | 1.000000     |
| recall75   | 0.727273     | 0.800000     | 0.920000     |
| precision  | 0.740741     | 0.377049     | 0.155280     |
| conf_obj   | 0.924081     | 0.915406     | 0.912230     |
| conf_noobj | 0.000889     | 0.000862     | 0.000764     |
+------------+--------------+--------------+--------------+
2020-12-20 00:35:14.620 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.183743
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.390993     | 0.378798     | 0.413953     |
| x          | 0.007099     | 0.008878     | 0.024798     |
| y          | 0.008099     | 0.009717     | 0.020808     |
| w          | 0.028731     | 0.020323     | 0.015244     |
| h          | 0.044858     | 0.027260     | 0.007483     |
| conf       | 0.282040     | 0.252705     | 0.307020     |
| cls        | 0.020165     | 0.059914     | 0.038600     |
| cls_acc    | 100.00%      | 95.45%       | 100.00%      |
| recall50   | 0.954545     | 0.909091     | 0.954545     |
| recall75   | 0.727273     | 0.681818     | 0.818182     |
| precision  | 0.656250     | 0.377358     | 0.176471     |
| conf_obj   | 0.901384     | 0.921751     | 0.893844     |
| conf_noobj | 0.000925     | 0.000699     | 0.000558     |
+------------+--------------+--------------+--------------+
2020-12-20 00:36:15.984 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.145873
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.941851     | 0.651072     | 0.552950     |
| x          | 0.006949     | 0.006205     | 0.008615     |
| y          | 0.003083     | 0.005593     | 0.021105     |
| w          | 0.025755     | 0.016235     | 0.008404     |
| h          | 0.009349     | 0.005894     | 0.003613     |
| conf       | 0.449504     | 0.267622     | 0.130306     |
| cls        | 0.447211     | 0.349524     | 0.380907     |
| cls_acc    | 93.75%       | 93.75%       | 93.75%       |
| recall50   | 0.812500     | 0.875000     | 0.937500     |
| recall75   | 0.750000     | 0.875000     | 0.937500     |
| precision  | 0.590909     | 0.250000     | 0.131579     |
| conf_obj   | 0.858294     | 0.916866     | 0.985916     |
| conf_noobj | 0.000852     | 0.000662     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 00:37:18.392 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.468481
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.555791     | 0.455309     | 0.457380     |
| x          | 0.014677     | 0.014372     | 0.026536     |
| y          | 0.010993     | 0.019008     | 0.025016     |
| w          | 0.021335     | 0.018759     | 0.043350     |
| h          | 0.027942     | 0.019395     | 0.026171     |
| conf       | 0.374970     | 0.286553     | 0.223734     |
| cls        | 0.105874     | 0.097223     | 0.112573     |
| cls_acc    | 95.65%       | 95.83%       | 96.00%       |
| recall50   | 0.869565     | 0.875000     | 0.920000     |
| recall75   | 0.782609     | 0.791667     | 0.760000     |
| precision  | 0.526316     | 0.318182     | 0.146497     |
| conf_obj   | 0.922928     | 0.932145     | 0.931539     |
| conf_noobj | 0.001207     | 0.000819     | 0.000671     |
+------------+--------------+--------------+--------------+
2020-12-20 00:38:20.398 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.729603
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.937564     | 0.883364     | 0.908676     |
| x          | 0.007904     | 0.014447     | 0.038276     |
| y          | 0.017769     | 0.020014     | 0.032179     |
| w          | 0.031141     | 0.026909     | 0.033008     |
| h          | 0.023365     | 0.021720     | 0.024315     |
| conf       | 0.692444     | 0.510104     | 0.544151     |
| cls        | 0.164940     | 0.290170     | 0.236747     |
| cls_acc    | 95.83%       | 95.83%       | 95.83%       |
| recall50   | 0.875000     | 0.916667     | 0.916667     |
| recall75   | 0.750000     | 0.791667     | 0.666667     |
| precision  | 0.750000     | 0.407407     | 0.186441     |
| conf_obj   | 0.826540     | 0.860133     | 0.863972     |
| conf_noobj | 0.000955     | 0.000781     | 0.000636     |
+------------+--------------+--------------+--------------+
2020-12-20 00:39:26.008 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.795942
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.254207     | 0.278572     | 0.263163     |
| x          | 0.009466     | 0.008133     | 0.020583     |
| y          | 0.020708     | 0.023516     | 0.055947     |
| w          | 0.022959     | 0.008941     | 0.009382     |
| h          | 0.014915     | 0.015088     | 0.019205     |
| conf       | 0.180840     | 0.221167     | 0.156731     |
| cls        | 0.005320     | 0.001727     | 0.001314     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.962963     | 1.000000     |
| recall75   | 0.769231     | 0.925926     | 0.851852     |
| precision  | 0.800000     | 0.361111     | 0.156977     |
| conf_obj   | 0.929184     | 0.944217     | 0.978845     |
| conf_noobj | 0.000550     | 0.000880     | 0.000744     |
+------------+--------------+--------------+--------------+
2020-12-20 00:40:37.956 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.110866
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.425871     | 0.357536     | 0.327458     |
| x          | 0.007334     | 0.017214     | 0.028809     |
| y          | 0.006583     | 0.014346     | 0.025001     |
| w          | 0.018947     | 0.015629     | 0.024756     |
| h          | 0.013719     | 0.018107     | 0.030123     |
| conf       | 0.248244     | 0.246846     | 0.173946     |
| cls        | 0.131044     | 0.045395     | 0.044823     |
| cls_acc    | 92.31%       | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.923077     | 0.962963     |
| recall75   | 0.846154     | 0.769231     | 0.740741     |
| precision  | 0.718750     | 0.369231     | 0.156627     |
| conf_obj   | 0.931031     | 0.931669     | 0.959254     |
| conf_noobj | 0.000783     | 0.000744     | 0.000660     |
+------------+--------------+--------------+--------------+
2020-12-20 00:41:42.225 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.009328
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.736224     | 0.583690     | 0.689414     |
| x          | 0.006561     | 0.011324     | 0.034772     |
| y          | 0.015502     | 0.014721     | 0.043525     |
| w          | 0.042721     | 0.021512     | 0.015237     |
| h          | 0.046292     | 0.015768     | 0.014969     |
| conf       | 0.561842     | 0.468744     | 0.515701     |
| cls        | 0.063305     | 0.051622     | 0.065209     |
| cls_acc    | 94.12%       | 97.22%       | 97.30%       |
| recall50   | 0.823529     | 0.861111     | 0.864865     |
| recall75   | 0.735294     | 0.722222     | 0.810811     |
| precision  | 0.800000     | 0.430556     | 0.171123     |
| conf_obj   | 0.838506     | 0.860270     | 0.864262     |
| conf_noobj | 0.000735     | 0.000874     | 0.000755     |
+------------+--------------+--------------+--------------+
2020-12-20 00:42:43.660 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.083054
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.350347     | 0.346006     | 0.386701     |
| x          | 0.020418     | 0.037002     | 0.073755     |
| y          | 0.012761     | 0.032631     | 0.076452     |
| w          | 0.029630     | 0.019030     | 0.023681     |
| h          | 0.033362     | 0.024383     | 0.030955     |
| conf       | 0.234747     | 0.229590     | 0.180704     |
| cls        | 0.019429     | 0.003369     | 0.001155     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.800000     | 0.800000     |
| precision  | 0.500000     | 0.234375     | 0.083799     |
| conf_obj   | 0.956821     | 0.940805     | 0.967979     |
| conf_noobj | 0.001155     | 0.001044     | 0.000865     |
+------------+--------------+--------------+--------------+
2020-12-20 00:43:49.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.367269
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.537181     | 0.396781     | 0.433307     |
| x          | 0.023740     | 0.017243     | 0.028038     |
| y          | 0.015261     | 0.029449     | 0.041263     |
| w          | 0.042880     | 0.023901     | 0.016211     |
| h          | 0.031608     | 0.016430     | 0.013342     |
| conf       | 0.332920     | 0.227742     | 0.250973     |
| cls        | 0.090773     | 0.082016     | 0.083480     |
| cls_acc    | 97.14%       | 97.30%       | 97.30%       |
| recall50   | 0.885714     | 0.945946     | 0.945946     |
| recall75   | 0.628571     | 0.702703     | 0.810811     |
| precision  | 0.620000     | 0.411765     | 0.183246     |
| conf_obj   | 0.907352     | 0.956622     | 0.939330     |
| conf_noobj | 0.001200     | 0.000970     | 0.000832     |
+------------+--------------+--------------+--------------+
2020-12-20 00:45:01.071 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.464306
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.537688     | 0.475048     | 0.451570     |
| x          | 0.013713     | 0.011926     | 0.031684     |
| y          | 0.026127     | 0.015134     | 0.024240     |
| w          | 0.037947     | 0.023861     | 0.025163     |
| h          | 0.032043     | 0.020929     | 0.026091     |
| conf       | 0.303091     | 0.277730     | 0.307052     |
| cls        | 0.124766     | 0.125468     | 0.037341     |
| cls_acc    | 95.83%       | 96.00%       | 96.00%       |
| recall50   | 0.916667     | 0.920000     | 0.880000     |
| recall75   | 0.875000     | 0.880000     | 0.760000     |
| precision  | 0.647059     | 0.359375     | 0.117647     |
| conf_obj   | 0.905006     | 0.917871     | 0.920569     |
| conf_noobj | 0.001083     | 0.001009     | 0.000921     |
+------------+--------------+--------------+--------------+
2020-12-20 00:46:01.188 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 4.443244
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.363717     | 1.571600     | 1.507928     |
| x          | 0.017227     | 0.024617     | 0.038400     |
| y          | 0.010226     | 0.017610     | 0.038590     |
| w          | 0.053957     | 0.046724     | 0.074791     |
| h          | 0.031739     | 0.024033     | 0.042472     |
| conf       | 0.566637     | 0.670710     | 0.559301     |
| cls        | 0.683930     | 0.787906     | 0.754374     |
| cls_acc    | 72.73%       | 77.27%       | 81.82%       |
| recall50   | 0.681818     | 0.681818     | 0.681818     |
| recall75   | 0.590909     | 0.590909     | 0.590909     |
| precision  | 0.441176     | 0.205479     | 0.089820     |
| conf_obj   | 0.821762     | 0.792162     | 0.840068     |
| conf_noobj | 0.001129     | 0.000939     | 0.000729     |
+------------+--------------+--------------+--------------+
2020-12-20 00:46:05.067 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.379
2020-12-20 00:46:05.070 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 00:47:02.282 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02846   | 0.47735 | 0.05373 | 0.15367 |
| 1     | Wear_helmet | 0.39084   | 0.97439 | 0.55790 | 0.94404 |
| 2     | Total       | 0.20965   | 0.72587 | 0.30581 | 0.54885 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:47:02.284 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5488540643527176
2020-12-20 00:47:02.285 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 00:47:02.286 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.215317

2020-12-20 00:47:02.837 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 2/2, epo 5/5
2020-12-20 00:47:02.838 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 2/2, epo 5/5; time cost: 0:14:57.438901

2020-12-20 00:47:02.838 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 1.516
2020-12-20 00:47:03.069 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 00:51:22.492 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03826   | 0.58141 | 0.07180 | 0.32420 |
| 1     | Wear_helmet | 0.31725   | 0.93144 | 0.47329 | 0.86645 |
| 2     | Total       | 0.17775   | 0.75643 | 0.27254 | 0.59532 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:51:22.492 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5953236807124277
2020-12-20 00:51:22.493 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 00:51:22.493 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:19.424081

2020-12-20 00:52:23.594 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 7!
2020-12-20 00:52:23.743 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 2/2, epo 1/5
2020-12-20 00:52:25.904 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.539810
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.647376     | 0.421093     | 0.471342     |
| x          | 0.014785     | 0.007235     | 0.017221     |
| y          | 0.005379     | 0.010690     | 0.043324     |
| w          | 0.029962     | 0.027921     | 0.033987     |
| h          | 0.019524     | 0.020040     | 0.032310     |
| conf       | 0.553450     | 0.344411     | 0.323818     |
| cls        | 0.024275     | 0.010796     | 0.020682     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.904762     | 0.904762     |
| recall75   | 0.857143     | 0.904762     | 0.809524     |
| precision  | 0.593750     | 0.267606     | 0.100000     |
| conf_obj   | 0.863794     | 0.904555     | 0.929819     |
| conf_noobj | 0.001098     | 0.000902     | 0.000761     |
+------------+--------------+--------------+--------------+
2020-12-20 00:53:35.704 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.732527
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.512795     | 0.653278     | 0.566455     |
| x          | 0.007755     | 0.012345     | 0.024785     |
| y          | 0.006819     | 0.019366     | 0.037859     |
| w          | 0.050625     | 0.051734     | 0.041171     |
| h          | 0.076006     | 0.057050     | 0.039456     |
| conf       | 0.255740     | 0.410922     | 0.324362     |
| cls        | 0.115850     | 0.101860     | 0.098821     |
| cls_acc    | 95.83%       | 96.00%       | 96.15%       |
| recall50   | 0.916667     | 0.920000     | 0.884615     |
| recall75   | 0.791667     | 0.680000     | 0.730769     |
| precision  | 0.666667     | 0.315068     | 0.140244     |
| conf_obj   | 0.939027     | 0.939301     | 0.920603     |
| conf_noobj | 0.001275     | 0.001290     | 0.001042     |
+------------+--------------+--------------+--------------+
2020-12-20 00:54:36.179 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.272396
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.448498     | 0.445390     | 0.378508     |
| x          | 0.006713     | 0.021092     | 0.026455     |
| y          | 0.016733     | 0.032679     | 0.041195     |
| w          | 0.020685     | 0.018888     | 0.014496     |
| h          | 0.020462     | 0.011318     | 0.013796     |
| conf       | 0.342910     | 0.352426     | 0.267571     |
| cls        | 0.040996     | 0.008987     | 0.014995     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.903226     | 0.935484     |
| recall75   | 0.821429     | 0.774194     | 0.806452     |
| precision  | 0.722222     | 0.354430     | 0.156757     |
| conf_obj   | 0.922813     | 0.874035     | 0.922360     |
| conf_noobj | 0.000862     | 0.000724     | 0.000670     |
+------------+--------------+--------------+--------------+
2020-12-20 00:55:45.836 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.687147
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.696787     | 0.566836     | 0.423524     |
| x          | 0.008174     | 0.010191     | 0.029289     |
| y          | 0.006961     | 0.008008     | 0.020477     |
| w          | 0.028694     | 0.017851     | 0.017535     |
| h          | 0.026110     | 0.020346     | 0.013946     |
| conf       | 0.560474     | 0.451146     | 0.283621     |
| cls        | 0.066375     | 0.059293     | 0.058656     |
| cls_acc    | 95.24%       | 95.45%       | 95.45%       |
| recall50   | 0.857143     | 0.863636     | 0.909091     |
| recall75   | 0.714286     | 0.772727     | 0.818182     |
| precision  | 0.620690     | 0.333333     | 0.127389     |
| conf_obj   | 0.847295     | 0.874530     | 0.915148     |
| conf_noobj | 0.001227     | 0.000989     | 0.000933     |
+------------+--------------+--------------+--------------+
2020-12-20 00:56:49.855 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.041552
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.266303     | 0.326238     | 0.449012     |
| x          | 0.007153     | 0.027454     | 0.033308     |
| y          | 0.014006     | 0.013624     | 0.058865     |
| w          | 0.023677     | 0.007872     | 0.003202     |
| h          | 0.013085     | 0.010876     | 0.020443     |
| conf       | 0.204889     | 0.259450     | 0.328010     |
| cls        | 0.003493     | 0.006961     | 0.005183     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.928571     | 0.928571     |
| recall75   | 0.928571     | 0.928571     | 0.928571     |
| precision  | 0.590909     | 0.288889     | 0.097744     |
| conf_obj   | 0.968047     | 0.919970     | 0.912718     |
| conf_noobj | 0.001150     | 0.000911     | 0.000871     |
+------------+--------------+--------------+--------------+
2020-12-20 00:57:51.937 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.718866
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.666900     | 0.523844     | 0.528122     |
| x          | 0.009443     | 0.006768     | 0.015014     |
| y          | 0.011472     | 0.010496     | 0.036271     |
| w          | 0.028193     | 0.014779     | 0.015927     |
| h          | 0.026633     | 0.007037     | 0.006300     |
| conf       | 0.577839     | 0.471006     | 0.430588     |
| cls        | 0.013320     | 0.013759     | 0.024021     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.878788     | 0.939394     | 0.969697     |
| recall75   | 0.787879     | 0.939394     | 0.939394     |
| precision  | 0.828571     | 0.462687     | 0.178771     |
| conf_obj   | 0.869086     | 0.923377     | 0.946123     |
| conf_noobj | 0.000710     | 0.000733     | 0.000770     |
+------------+--------------+--------------+--------------+
2020-12-20 00:58:56.957 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.910619
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.356657     | 0.295272     | 0.258690     |
| x          | 0.014489     | 0.015017     | 0.025515     |
| y          | 0.007129     | 0.023138     | 0.021226     |
| w          | 0.025108     | 0.018380     | 0.010843     |
| h          | 0.022373     | 0.017320     | 0.017589     |
| conf       | 0.259688     | 0.204495     | 0.172123     |
| cls        | 0.027870     | 0.016922     | 0.011394     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.970588     | 1.000000     |
| recall75   | 0.848485     | 0.911765     | 0.800000     |
| precision  | 0.704545     | 0.440000     | 0.185185     |
| conf_obj   | 0.915040     | 0.946396     | 0.968246     |
| conf_noobj | 0.000906     | 0.000785     | 0.000698     |
+------------+--------------+--------------+--------------+
2020-12-20 01:00:02.196 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.774813
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.240873     | 0.274584     | 0.259356     |
| x          | 0.003100     | 0.015724     | 0.041216     |
| y          | 0.004470     | 0.013562     | 0.031642     |
| w          | 0.024449     | 0.015244     | 0.009591     |
| h          | 0.014192     | 0.008273     | 0.009394     |
| conf       | 0.189204     | 0.218258     | 0.162937     |
| cls        | 0.005458     | 0.003523     | 0.004577     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.966667     | 0.966667     | 0.900000     |
| precision  | 0.731707     | 0.361446     | 0.186335     |
| conf_obj   | 0.950486     | 0.933152     | 0.968052     |
| conf_noobj | 0.000924     | 0.000822     | 0.000676     |
+------------+--------------+--------------+--------------+
2020-12-20 01:01:03.286 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.711506
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.659533     | 0.484355     | 0.567617     |
| x          | 0.013201     | 0.026285     | 0.031917     |
| y          | 0.005957     | 0.019094     | 0.017936     |
| w          | 0.014512     | 0.011634     | 0.020734     |
| h          | 0.031850     | 0.016091     | 0.026613     |
| conf       | 0.538066     | 0.367699     | 0.421734     |
| cls        | 0.055948     | 0.043553     | 0.048682     |
| cls_acc    | 97.22%       | 97.37%       | 100.00%      |
| recall50   | 0.805556     | 0.894737     | 0.868421     |
| recall75   | 0.805556     | 0.789474     | 0.763158     |
| precision  | 0.674419     | 0.435897     | 0.162562     |
| conf_obj   | 0.843124     | 0.892814     | 0.865081     |
| conf_noobj | 0.000943     | 0.000865     | 0.000952     |
+------------+--------------+--------------+--------------+
2020-12-20 01:02:09.723 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.089481
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.336406     | 0.430774     | 0.322301     |
| x          | 0.001750     | 0.006390     | 0.025985     |
| y          | 0.004930     | 0.028814     | 0.029882     |
| w          | 0.020632     | 0.018316     | 0.018281     |
| h          | 0.017998     | 0.013279     | 0.010867     |
| conf       | 0.248789     | 0.333580     | 0.225338     |
| cls        | 0.042308     | 0.030395     | 0.011947     |
| cls_acc    | 96.30%       | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.928571     | 0.931035     |
| recall75   | 0.925926     | 0.857143     | 0.862069     |
| precision  | 0.735294     | 0.382353     | 0.166667     |
| conf_obj   | 0.925746     | 0.906987     | 0.927020     |
| conf_noobj | 0.000626     | 0.000738     | 0.000642     |
+------------+--------------+--------------+--------------+
2020-12-20 01:03:14.650 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.285265
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.441641     | 0.373642     | 0.469982     |
| x          | 0.004617     | 0.010607     | 0.018479     |
| y          | 0.024346     | 0.017927     | 0.025969     |
| w          | 0.068426     | 0.057727     | 0.038712     |
| h          | 0.045798     | 0.039387     | 0.020217     |
| conf       | 0.279287     | 0.234123     | 0.351865     |
| cls        | 0.019168     | 0.013871     | 0.014740     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.958333     | 0.833333     |
| recall75   | 0.782609     | 0.791667     | 0.791667     |
| precision  | 0.724138     | 0.418182     | 0.145985     |
| conf_obj   | 0.921452     | 0.929795     | 0.882005     |
| conf_noobj | 0.000948     | 0.000842     | 0.000844     |
+------------+--------------+--------------+--------------+
2020-12-20 01:04:18.718 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.834599
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.273232     | 0.270334     | 0.291033     |
| x          | 0.006225     | 0.004645     | 0.019233     |
| y          | 0.009763     | 0.010332     | 0.035844     |
| w          | 0.026240     | 0.030809     | 0.015977     |
| h          | 0.023675     | 0.024977     | 0.016502     |
| conf       | 0.202606     | 0.192994     | 0.196427     |
| cls        | 0.004722     | 0.006577     | 0.007050     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.840000     | 0.880000     |
| precision  | 0.638889     | 0.320513     | 0.114155     |
| conf_obj   | 0.953794     | 0.961093     | 0.972487     |
| conf_noobj | 0.001012     | 0.000885     | 0.000931     |
+------------+--------------+--------------+--------------+
2020-12-20 01:05:26.606 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.540859
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.717029     | 0.441858     | 0.381971     |
| x          | 0.041906     | 0.012859     | 0.028807     |
| y          | 0.005842     | 0.009594     | 0.033382     |
| w          | 0.032395     | 0.032544     | 0.005126     |
| h          | 0.027017     | 0.025366     | 0.009729     |
| conf       | 0.590091     | 0.335560     | 0.274515     |
| cls        | 0.019779     | 0.025934     | 0.030412     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.894737     | 0.894737     |
| recall75   | 0.777778     | 0.789474     | 0.894737     |
| precision  | 0.566667     | 0.309091     | 0.123188     |
| conf_obj   | 0.905976     | 0.896274     | 0.896468     |
| conf_noobj | 0.001224     | 0.000844     | 0.000723     |
+------------+--------------+--------------+--------------+
2020-12-20 01:06:36.392 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.944330
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.298032     | 0.351260     | 0.295038     |
| x          | 0.011242     | 0.017588     | 0.039862     |
| y          | 0.006516     | 0.009809     | 0.018132     |
| w          | 0.034581     | 0.013157     | 0.010856     |
| h          | 0.042132     | 0.014831     | 0.007745     |
| conf       | 0.184570     | 0.281400     | 0.202517     |
| cls        | 0.018991     | 0.014476     | 0.015927     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.935484     | 1.000000     |
| recall75   | 0.866667     | 0.903226     | 0.935484     |
| precision  | 0.769231     | 0.397260     | 0.145540     |
| conf_obj   | 0.968458     | 0.916409     | 0.963016     |
| conf_noobj | 0.000726     | 0.000780     | 0.000777     |
+------------+--------------+--------------+--------------+
2020-12-20 01:06:40.057 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.485
2020-12-20 01:06:40.062 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 01:07:40.550 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07249   | 0.39024 | 0.12227 | 0.23559 |
| 1     | Wear_helmet | 0.38256   | 0.97700 | 0.54983 | 0.94109 |
| 2     | Total       | 0.22753   | 0.68362 | 0.33605 | 0.58834 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:07:40.551 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5883415784758063
2020-12-20 01:07:40.552 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 01:07:40.552 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.489219

2020-12-20 01:07:41.056 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 2/2, epo 1/5
2020-12-20 01:07:41.057 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 2/2, epo 1/5; time cost: 0:15:17.312745

2020-12-20 01:07:41.057 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 2/2, epo 2/5
2020-12-20 01:07:42.537 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 2.216791
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.754154     | 0.652102     | 0.810535     |
| x          | 0.017172     | 0.019901     | 0.040394     |
| y          | 0.014060     | 0.020106     | 0.040001     |
| w          | 0.059311     | 0.028847     | 0.014409     |
| h          | 0.053342     | 0.029787     | 0.021800     |
| conf       | 0.598265     | 0.535802     | 0.669291     |
| cls        | 0.012005     | 0.017658     | 0.024639     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.911765     | 0.882353     |
| recall75   | 0.794118     | 0.823529     | 0.794118     |
| precision  | 0.588235     | 0.348315     | 0.123967     |
| conf_obj   | 0.856794     | 0.882324     | 0.871717     |
| conf_noobj | 0.001228     | 0.000928     | 0.000888     |
+------------+--------------+--------------+--------------+
2020-12-20 01:08:51.874 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.427902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.521241     | 0.490284     | 0.416377     |
| x          | 0.019596     | 0.015925     | 0.018990     |
| y          | 0.011599     | 0.005879     | 0.016488     |
| w          | 0.055798     | 0.014355     | 0.012242     |
| h          | 0.018499     | 0.009683     | 0.007137     |
| conf       | 0.296434     | 0.204344     | 0.187793     |
| cls        | 0.119314     | 0.240098     | 0.173727     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 0.904762     | 0.956522     | 0.913043     |
| recall75   | 0.761905     | 0.913043     | 0.913043     |
| precision  | 0.612903     | 0.366667     | 0.162791     |
| conf_obj   | 0.935385     | 0.961319     | 0.958576     |
| conf_noobj | 0.000955     | 0.000790     | 0.000677     |
+------------+--------------+--------------+--------------+
2020-12-20 01:09:54.626 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.698230
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.285902     | 0.193296     | 0.219032     |
| x          | 0.002157     | 0.005512     | 0.034830     |
| y          | 0.009594     | 0.009155     | 0.024675     |
| w          | 0.009548     | 0.006991     | 0.009165     |
| h          | 0.007650     | 0.006351     | 0.003886     |
| conf       | 0.239281     | 0.150630     | 0.134438     |
| cls        | 0.017671     | 0.014657     | 0.012038     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.928571     | 0.928571     |
| precision  | 0.636364     | 0.311111     | 0.114754     |
| conf_obj   | 0.975346     | 0.989576     | 0.993026     |
| conf_noobj | 0.001120     | 0.000765     | 0.000693     |
+------------+--------------+--------------+--------------+
2020-12-20 01:10:57.628 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.316933
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.561200     | 0.359054     | 0.396680     |
| x          | 0.010300     | 0.013308     | 0.028672     |
| y          | 0.006403     | 0.010471     | 0.026945     |
| w          | 0.033497     | 0.022028     | 0.023587     |
| h          | 0.027418     | 0.018622     | 0.019046     |
| conf       | 0.461846     | 0.273645     | 0.276728     |
| cls        | 0.021734     | 0.020979     | 0.021702     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.906250     | 0.971429     | 0.885714     |
| recall75   | 0.750000     | 0.828571     | 0.742857     |
| precision  | 0.674419     | 0.453333     | 0.153465     |
| conf_obj   | 0.850207     | 0.900408     | 0.913870     |
| conf_noobj | 0.001244     | 0.000879     | 0.000871     |
+------------+--------------+--------------+--------------+
2020-12-20 01:12:01.739 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.481822
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.535963     | 0.466689     | 0.479169     |
| x          | 0.005746     | 0.007525     | 0.023507     |
| y          | 0.007472     | 0.019439     | 0.036180     |
| w          | 0.006674     | 0.012556     | 0.006777     |
| h          | 0.021798     | 0.015608     | 0.016837     |
| conf       | 0.339555     | 0.292518     | 0.302045     |
| cls        | 0.154717     | 0.119044     | 0.093824     |
| cls_acc    | 96.43%       | 96.43%       | 96.43%       |
| recall50   | 0.892857     | 0.928571     | 0.928571     |
| recall75   | 0.821429     | 0.928571     | 0.892857     |
| precision  | 0.735294     | 0.400000     | 0.175676     |
| conf_obj   | 0.898988     | 0.923062     | 0.919544     |
| conf_noobj | 0.000714     | 0.000676     | 0.000590     |
+------------+--------------+--------------+--------------+
2020-12-20 01:13:08.390 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.015994
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.339803     | 0.321344     | 0.354846     |
| x          | 0.011627     | 0.016763     | 0.034506     |
| y          | 0.008233     | 0.029658     | 0.045761     |
| w          | 0.047085     | 0.041620     | 0.023923     |
| h          | 0.044532     | 0.027035     | 0.026965     |
| conf       | 0.217808     | 0.197229     | 0.208903     |
| cls        | 0.010518     | 0.009039     | 0.014788     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 0.961538     |
| recall75   | 0.760000     | 0.807692     | 0.807692     |
| precision  | 0.827586     | 0.423729     | 0.148810     |
| conf_obj   | 0.929051     | 0.941795     | 0.941734     |
| conf_noobj | 0.000940     | 0.000829     | 0.000829     |
+------------+--------------+--------------+--------------+
2020-12-20 01:14:11.898 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.742722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.242570     | 0.232426     | 0.267725     |
| x          | 0.004477     | 0.010581     | 0.041044     |
| y          | 0.008767     | 0.016987     | 0.040515     |
| w          | 0.015313     | 0.008321     | 0.009342     |
| h          | 0.023290     | 0.016923     | 0.023818     |
| conf       | 0.184063     | 0.177711     | 0.150867     |
| cls        | 0.006661     | 0.001903     | 0.002139     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.960000     | 0.840000     |
| precision  | 0.714286     | 0.352113     | 0.135135     |
| conf_obj   | 0.948454     | 0.956936     | 0.975026     |
| conf_noobj | 0.000777     | 0.000745     | 0.000677     |
+------------+--------------+--------------+--------------+
2020-12-20 01:15:20.189 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.336686
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.523471     | 0.407841     | 0.405374     |
| x          | 0.006166     | 0.009125     | 0.016461     |
| y          | 0.012909     | 0.020668     | 0.028324     |
| w          | 0.037714     | 0.015701     | 0.010662     |
| h          | 0.024566     | 0.012957     | 0.009955     |
| conf       | 0.361265     | 0.255480     | 0.247442     |
| cls        | 0.080850     | 0.093912     | 0.092529     |
| cls_acc    | 96.88%       | 96.97%       | 96.97%       |
| recall50   | 0.968750     | 0.969697     | 0.939394     |
| recall75   | 0.781250     | 0.939394     | 0.939394     |
| precision  | 0.596154     | 0.316832     | 0.130252     |
| conf_obj   | 0.919741     | 0.941494     | 0.934043     |
| conf_noobj | 0.001443     | 0.001038     | 0.000853     |
+------------+--------------+--------------+--------------+
2020-12-20 01:16:27.058 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.868082
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.302222     | 0.289569     | 0.276291     |
| x          | 0.006971     | 0.011652     | 0.024659     |
| y          | 0.006447     | 0.024181     | 0.035759     |
| w          | 0.027739     | 0.020905     | 0.018502     |
| h          | 0.023601     | 0.022876     | 0.016072     |
| conf       | 0.225700     | 0.202856     | 0.179469     |
| cls        | 0.011764     | 0.007099     | 0.001830     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.875000     | 0.791667     |
| precision  | 0.750000     | 0.375000     | 0.170213     |
| conf_obj   | 0.946309     | 0.966198     | 0.959191     |
| conf_noobj | 0.000902     | 0.000855     | 0.000635     |
+------------+--------------+--------------+--------------+
2020-12-20 01:17:28.327 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.213070
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.410822     | 0.418738     | 0.383509     |
| x          | 0.009520     | 0.017959     | 0.031046     |
| y          | 0.008578     | 0.026696     | 0.026752     |
| w          | 0.044465     | 0.053479     | 0.028734     |
| h          | 0.035579     | 0.029503     | 0.013691     |
| conf       | 0.308430     | 0.286904     | 0.281195     |
| cls        | 0.004249     | 0.004197     | 0.002092     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.875000     | 0.937500     |
| recall75   | 0.812500     | 0.875000     | 0.812500     |
| precision  | 0.576923     | 0.304348     | 0.100000     |
| conf_obj   | 0.901399     | 0.896033     | 0.900180     |
| conf_noobj | 0.001052     | 0.000753     | 0.000776     |
+------------+--------------+--------------+--------------+
2020-12-20 01:18:34.649 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.845995
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.302431     | 0.233684     | 0.309881     |
| x          | 0.004715     | 0.007105     | 0.025041     |
| y          | 0.002074     | 0.007980     | 0.025119     |
| w          | 0.035687     | 0.033574     | 0.010783     |
| h          | 0.025427     | 0.026058     | 0.013445     |
| conf       | 0.227221     | 0.153406     | 0.229110     |
| cls        | 0.007306     | 0.005560     | 0.006384     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 0.947368     |
| recall75   | 0.947368     | 0.894737     | 0.894737     |
| precision  | 0.720000     | 0.372549     | 0.125874     |
| conf_obj   | 0.912355     | 0.965715     | 0.933265     |
| conf_noobj | 0.000786     | 0.000700     | 0.000710     |
+------------+--------------+--------------+--------------+
2020-12-20 01:19:39.593 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.797130
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.264575     | 0.275399     | 0.257156     |
| x          | 0.004028     | 0.009570     | 0.022148     |
| y          | 0.008930     | 0.013795     | 0.038458     |
| w          | 0.016291     | 0.021889     | 0.014162     |
| h          | 0.015031     | 0.022615     | 0.011367     |
| conf       | 0.216123     | 0.205833     | 0.168484     |
| cls        | 0.004172     | 0.001696     | 0.002537     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.892857     | 0.965517     |
| precision  | 0.636364     | 0.354430     | 0.147208     |
| conf_obj   | 0.974387     | 0.989629     | 0.987005     |
| conf_noobj | 0.001136     | 0.001037     | 0.000852     |
+------------+--------------+--------------+--------------+
2020-12-20 01:20:42.519 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.072448
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.378733     | 0.318783     | 0.374932     |
| x          | 0.017499     | 0.025341     | 0.025374     |
| y          | 0.005295     | 0.009808     | 0.031861     |
| w          | 0.030432     | 0.015832     | 0.009658     |
| h          | 0.043507     | 0.025808     | 0.025230     |
| conf       | 0.264176     | 0.216384     | 0.169174     |
| cls        | 0.017823     | 0.025610     | 0.113635     |
| cls_acc    | 100.00%      | 100.00%      | 96.15%       |
| recall50   | 0.956522     | 0.958333     | 0.961538     |
| recall75   | 0.826087     | 0.875000     | 0.807692     |
| precision  | 0.594595     | 0.258427     | 0.121359     |
| conf_obj   | 0.955720     | 0.968871     | 0.982196     |
| conf_noobj | 0.001200     | 0.001049     | 0.000822     |
+------------+--------------+--------------+--------------+
2020-12-20 01:21:47.245 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.769660
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.259540     | 0.234360     | 0.275759     |
| x          | 0.010321     | 0.014081     | 0.032290     |
| y          | 0.002139     | 0.007796     | 0.018089     |
| w          | 0.028517     | 0.019061     | 0.026382     |
| h          | 0.028596     | 0.018387     | 0.026428     |
| conf       | 0.184873     | 0.170540     | 0.167489     |
| cls        | 0.005093     | 0.004495     | 0.005081     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.882353     | 1.000000     | 0.842105     |
| precision  | 0.680000     | 0.409091     | 0.147287     |
| conf_obj   | 0.963562     | 0.965324     | 0.965656     |
| conf_noobj | 0.000902     | 0.000719     | 0.000693     |
+------------+--------------+--------------+--------------+
2020-12-20 01:21:50.481 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.380
2020-12-20 01:21:50.484 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 01:22:50.175 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08051   | 0.37282 | 0.13243 | 0.16929 |
| 1     | Wear_helmet | 0.28055   | 0.97656 | 0.43588 | 0.92167 |
| 2     | Total       | 0.18053   | 0.67469 | 0.28415 | 0.54548 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:22:50.176 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5454797858648276
2020-12-20 01:22:50.176 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 01:22:50.177 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.692733

2020-12-20 01:22:50.709 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 2/2, epo 2/5
2020-12-20 01:22:50.709 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 2/2, epo 2/5; time cost: 0:15:09.651988

2020-12-20 01:22:50.710 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 2/2, epo 3/5
2020-12-20 01:22:51.973 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 3.074815
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.163023     | 0.924509     | 0.987283     |
| x          | 0.012141     | 0.015771     | 0.022275     |
| y          | 0.011365     | 0.018263     | 0.031026     |
| w          | 0.050620     | 0.056080     | 0.022836     |
| h          | 0.034126     | 0.037754     | 0.025642     |
| conf       | 0.845730     | 0.613536     | 0.718045     |
| cls        | 0.209041     | 0.183105     | 0.167459     |
| cls_acc    | 86.36%       | 91.30%       | 91.30%       |
| recall50   | 0.772727     | 0.826087     | 0.782609     |
| recall75   | 0.636364     | 0.782609     | 0.782609     |
| precision  | 0.548387     | 0.283582     | 0.097297     |
| conf_obj   | 0.785937     | 0.816507     | 0.791651     |
| conf_noobj | 0.001329     | 0.001164     | 0.000963     |
+------------+--------------+--------------+--------------+
2020-12-20 01:23:55.324 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.094151
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.366461     | 0.353756     | 0.373934     |
| x          | 0.012826     | 0.010881     | 0.028833     |
| y          | 0.004925     | 0.013201     | 0.041455     |
| w          | 0.039789     | 0.022067     | 0.017732     |
| h          | 0.065952     | 0.074235     | 0.084896     |
| conf       | 0.233326     | 0.218846     | 0.180820     |
| cls        | 0.009643     | 0.014527     | 0.020198     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 0.954545     |
| recall75   | 0.809524     | 0.818182     | 0.818182     |
| precision  | 0.555556     | 0.308824     | 0.103960     |
| conf_obj   | 0.940085     | 0.952130     | 0.973936     |
| conf_noobj | 0.000968     | 0.000842     | 0.000872     |
+------------+--------------+--------------+--------------+
2020-12-20 01:25:04.553 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.035989
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.362435     | 0.357164     | 0.316390     |
| x          | 0.004290     | 0.010482     | 0.028688     |
| y          | 0.021492     | 0.017475     | 0.015928     |
| w          | 0.026095     | 0.015497     | 0.020913     |
| h          | 0.027618     | 0.019324     | 0.015691     |
| conf       | 0.273885     | 0.286887     | 0.227253     |
| cls        | 0.009056     | 0.007498     | 0.007917     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.913043     | 0.958333     |
| recall75   | 0.863636     | 0.826087     | 0.833333     |
| precision  | 0.645161     | 0.259259     | 0.124324     |
| conf_obj   | 0.929918     | 0.924713     | 0.941764     |
| conf_noobj | 0.000889     | 0.000885     | 0.000669     |
+------------+--------------+--------------+--------------+
2020-12-20 01:26:12.201 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.687920
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.237444     | 0.212451     | 0.238025     |
| x          | 0.008582     | 0.022400     | 0.046374     |
| y          | 0.007413     | 0.010570     | 0.012580     |
| w          | 0.018131     | 0.027589     | 0.022530     |
| h          | 0.016805     | 0.023903     | 0.015527     |
| conf       | 0.177556     | 0.119551     | 0.138098     |
| cls        | 0.008956     | 0.008438     | 0.002917     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 0.823529     | 0.823529     |
| precision  | 0.800000     | 0.386364     | 0.128788     |
| conf_obj   | 0.932670     | 0.967049     | 0.961720     |
| conf_noobj | 0.000505     | 0.000490     | 0.000475     |
+------------+--------------+--------------+--------------+
2020-12-20 01:27:20.081 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.702937
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.261894     | 0.222252     | 0.218791     |
| x          | 0.017882     | 0.014129     | 0.034391     |
| y          | 0.005981     | 0.009581     | 0.029651     |
| w          | 0.019920     | 0.015657     | 0.009979     |
| h          | 0.046416     | 0.025027     | 0.022967     |
| conf       | 0.170792     | 0.157089     | 0.120483     |
| cls        | 0.000903     | 0.000768     | 0.001320     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 0.937500     |
| recall75   | 0.750000     | 0.875000     | 0.937500     |
| precision  | 0.800000     | 0.375000     | 0.136364     |
| conf_obj   | 0.948508     | 0.954925     | 0.985285     |
| conf_noobj | 0.000752     | 0.000581     | 0.000551     |
+------------+--------------+--------------+--------------+
2020-12-20 01:28:24.526 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.543601
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.586978     | 0.583423     | 0.373200     |
| x          | 0.009206     | 0.007880     | 0.013605     |
| y          | 0.014198     | 0.021825     | 0.023789     |
| w          | 0.046290     | 0.047118     | 0.027484     |
| h          | 0.033540     | 0.035283     | 0.016840     |
| conf       | 0.333837     | 0.273611     | 0.198017     |
| cls        | 0.149907     | 0.197707     | 0.093465     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.909091     | 0.954545     |
| recall75   | 0.727273     | 0.818182     | 0.863636     |
| precision  | 0.636364     | 0.312500     | 0.143836     |
| conf_obj   | 0.901603     | 0.918105     | 0.947197     |
| conf_noobj | 0.001089     | 0.000925     | 0.000724     |
+------------+--------------+--------------+--------------+
2020-12-20 01:29:27.623 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.240803
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.399535     | 0.498296     | 0.342973     |
| x          | 0.013983     | 0.008873     | 0.023256     |
| y          | 0.010244     | 0.021176     | 0.026298     |
| w          | 0.023567     | 0.038779     | 0.018281     |
| h          | 0.014682     | 0.020883     | 0.009449     |
| conf       | 0.236955     | 0.233533     | 0.202909     |
| cls        | 0.100105     | 0.175051     | 0.062779     |
| cls_acc    | 95.83%       | 96.30%       | 96.30%       |
| recall50   | 0.916667     | 0.925926     | 0.962963     |
| recall75   | 0.708333     | 0.777778     | 0.851852     |
| precision  | 0.758621     | 0.409836     | 0.176871     |
| conf_obj   | 0.934641     | 0.931350     | 0.943102     |
| conf_noobj | 0.000726     | 0.000797     | 0.000718     |
+------------+--------------+--------------+--------------+
2020-12-20 01:30:31.604 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.051223
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.397754     | 0.337003     | 0.316466     |
| x          | 0.005682     | 0.007611     | 0.017919     |
| y          | 0.007625     | 0.026601     | 0.057758     |
| w          | 0.013002     | 0.008864     | 0.007013     |
| h          | 0.017459     | 0.011109     | 0.011725     |
| conf       | 0.342613     | 0.251274     | 0.212936     |
| cls        | 0.011374     | 0.031544     | 0.009114     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.937500     | 0.937500     |
| precision  | 0.517241     | 0.296296     | 0.119403     |
| conf_obj   | 0.911851     | 0.926997     | 0.940915     |
| conf_noobj | 0.001347     | 0.000948     | 0.000814     |
+------------+--------------+--------------+--------------+
2020-12-20 01:31:36.320 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.046684
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.406475     | 0.352943     | 0.287266     |
| x          | 0.003921     | 0.005975     | 0.032858     |
| y          | 0.008774     | 0.025735     | 0.041708     |
| w          | 0.017881     | 0.017942     | 0.012589     |
| h          | 0.017331     | 0.010011     | 0.009870     |
| conf       | 0.267161     | 0.171031     | 0.148912     |
| cls        | 0.091407     | 0.122249     | 0.041330     |
| cls_acc    | 94.44%       | 88.89%       | 100.00%      |
| recall50   | 0.888889     | 0.888889     | 1.000000     |
| recall75   | 0.833333     | 0.888889     | 0.888889     |
| precision  | 0.533333     | 0.242424     | 0.104046     |
| conf_obj   | 0.907403     | 0.968914     | 0.985069     |
| conf_noobj | 0.000946     | 0.000786     | 0.000690     |
+------------+--------------+--------------+--------------+
2020-12-20 01:32:46.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.755111
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.923684     | 0.499551     | 0.331875     |
| x          | 0.018596     | 0.015678     | 0.030722     |
| y          | 0.019843     | 0.019162     | 0.044262     |
| w          | 0.141952     | 0.062883     | 0.014919     |
| h          | 0.090315     | 0.047061     | 0.012497     |
| conf       | 0.589940     | 0.338319     | 0.211491     |
| cls        | 0.063038     | 0.016449     | 0.017985     |
| cls_acc    | 94.12%       | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.941176     | 1.000000     |
| recall75   | 0.764706     | 0.823529     | 0.941176     |
| precision  | 0.466667     | 0.238806     | 0.095506     |
| conf_obj   | 0.811030     | 0.857720     | 0.933706     |
| conf_noobj | 0.001011     | 0.000819     | 0.000702     |
+------------+--------------+--------------+--------------+
2020-12-20 01:33:48.934 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.717262
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.314889     | 0.191048     | 0.211324     |
| x          | 0.007665     | 0.008779     | 0.017634     |
| y          | 0.003213     | 0.013983     | 0.039862     |
| w          | 0.020546     | 0.023515     | 0.010264     |
| h          | 0.024982     | 0.021094     | 0.013488     |
| conf       | 0.256660     | 0.120622     | 0.126205     |
| cls        | 0.001823     | 0.003053     | 0.003871     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.866667     | 0.800000     | 0.933333     |
| precision  | 0.483871     | 0.326087     | 0.097403     |
| conf_obj   | 0.965032     | 0.991957     | 0.984562     |
| conf_noobj | 0.001301     | 0.000694     | 0.000614     |
+------------+--------------+--------------+--------------+
2020-12-20 01:34:49.903 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.515159
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.656922     | 0.483361     | 0.374876     |
| x          | 0.003969     | 0.021881     | 0.027536     |
| y          | 0.030138     | 0.012745     | 0.061548     |
| w          | 0.058537     | 0.025353     | 0.010132     |
| h          | 0.053833     | 0.011369     | 0.015417     |
| conf       | 0.468776     | 0.393507     | 0.249124     |
| cls        | 0.041669     | 0.018507     | 0.011118     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.875000     | 0.875000     |
| recall75   | 0.812500     | 0.812500     | 0.875000     |
| precision  | 0.464286     | 0.285714     | 0.103704     |
| conf_obj   | 0.854715     | 0.883132     | 0.918361     |
| conf_noobj | 0.001127     | 0.000690     | 0.000663     |
+------------+--------------+--------------+--------------+
2020-12-20 01:36:01.735 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.157858
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.416005     | 0.377944     | 0.363909     |
| x          | 0.022468     | 0.019282     | 0.036367     |
| y          | 0.008473     | 0.014094     | 0.027484     |
| w          | 0.038520     | 0.043187     | 0.015824     |
| h          | 0.035241     | 0.033474     | 0.014024     |
| conf       | 0.305733     | 0.264331     | 0.264706     |
| cls        | 0.005572     | 0.003576     | 0.005503     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.942857     | 0.947368     | 0.973684     |
| recall75   | 0.771429     | 0.789474     | 0.894737     |
| precision  | 0.702128     | 0.400000     | 0.179612     |
| conf_obj   | 0.911797     | 0.914998     | 0.919670     |
| conf_noobj | 0.001073     | 0.000872     | 0.000708     |
+------------+--------------+--------------+--------------+
2020-12-20 01:37:05.074 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.479221
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.615795     | 0.417092     | 0.446334     |
| x          | 0.014219     | 0.024593     | 0.030475     |
| y          | 0.005121     | 0.010479     | 0.027396     |
| w          | 0.025031     | 0.021263     | 0.016761     |
| h          | 0.020204     | 0.016233     | 0.018479     |
| conf       | 0.485058     | 0.285829     | 0.261385     |
| cls        | 0.066163     | 0.058695     | 0.091838     |
| cls_acc    | 100.00%      | 100.00%      | 92.31%       |
| recall50   | 0.954545     | 0.880000     | 0.884615     |
| recall75   | 0.772727     | 0.800000     | 0.769231     |
| precision  | 0.600000     | 0.366667     | 0.130682     |
| conf_obj   | 0.894330     | 0.930934     | 0.926907     |
| conf_noobj | 0.001325     | 0.000939     | 0.000955     |
+------------+--------------+--------------+--------------+
2020-12-20 01:37:08.177 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.315
2020-12-20 01:37:08.182 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 01:38:07.552 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04222   | 0.54355 | 0.07835 | 0.25615 |
| 1     | Wear_helmet | 0.38618   | 0.97049 | 0.55251 | 0.93118 |
| 2     | Total       | 0.21420   | 0.75702 | 0.31543 | 0.59366 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:38:07.552 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5936638634456942
2020-12-20 01:38:07.552 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 01:38:07.553 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.369988

2020-12-20 01:38:08.061 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 2/2, epo 3/5
2020-12-20 01:38:08.062 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 2/2, epo 3/5; time cost: 0:15:17.351769

2020-12-20 01:38:08.062 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 2/2, epo 4/5
2020-12-20 01:38:09.322 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.833269
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.282443     | 0.248157     | 0.302669     |
| x          | 0.004607     | 0.016501     | 0.024445     |
| y          | 0.008099     | 0.011570     | 0.019477     |
| w          | 0.021098     | 0.017950     | 0.008396     |
| h          | 0.019860     | 0.010225     | 0.007822     |
| conf       | 0.217941     | 0.183944     | 0.235418     |
| cls        | 0.010838     | 0.007968     | 0.007112     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 0.961538     | 0.961538     |
| precision  | 0.666667     | 0.406250     | 0.132653     |
| conf_obj   | 0.965600     | 0.962168     | 0.925354     |
| conf_noobj | 0.000882     | 0.000721     | 0.000766     |
+------------+--------------+--------------+--------------+
2020-12-20 01:39:15.899 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.152018
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.280629     | 0.373578     | 0.497811     |
| x          | 0.009433     | 0.035483     | 0.030333     |
| y          | 0.012783     | 0.011385     | 0.027984     |
| w          | 0.027195     | 0.061190     | 0.011341     |
| h          | 0.011146     | 0.030303     | 0.007238     |
| conf       | 0.204635     | 0.226770     | 0.414038     |
| cls        | 0.015439     | 0.008446     | 0.006876     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 0.826087     |
| recall75   | 0.818182     | 0.826087     | 0.782609     |
| precision  | 0.594595     | 0.255814     | 0.089202     |
| conf_obj   | 0.980592     | 0.957951     | 0.845925     |
| conf_noobj | 0.001244     | 0.001062     | 0.000892     |
+------------+--------------+--------------+--------------+
2020-12-20 01:40:18.857 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.354836
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.503277     | 0.427226     | 0.424332     |
| x          | 0.008173     | 0.021996     | 0.029075     |
| y          | 0.006759     | 0.015298     | 0.049903     |
| w          | 0.050315     | 0.035381     | 0.010950     |
| h          | 0.032876     | 0.026438     | 0.050899     |
| conf       | 0.271923     | 0.252063     | 0.236748     |
| cls        | 0.133230     | 0.076051     | 0.046757     |
| cls_acc    | 100.00%      | 95.45%       | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 0.954545     |
| recall75   | 0.809524     | 0.772727     | 0.681818     |
| precision  | 0.714286     | 0.381818     | 0.160305     |
| conf_obj   | 0.917702     | 0.918739     | 0.925871     |
| conf_noobj | 0.000818     | 0.000814     | 0.000707     |
+------------+--------------+--------------+--------------+
2020-12-20 01:41:22.769 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 2.233768
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.702210     | 0.826773     | 0.704784     |
| x          | 0.017866     | 0.023419     | 0.023562     |
| y          | 0.010124     | 0.016935     | 0.029877     |
| w          | 0.049905     | 0.039347     | 0.028202     |
| h          | 0.021984     | 0.026150     | 0.038767     |
| conf       | 0.413086     | 0.440800     | 0.348452     |
| cls        | 0.189244     | 0.280122     | 0.235923     |
| cls_acc    | 90.32%       | 87.88%       | 90.91%       |
| recall50   | 0.806452     | 0.787879     | 0.818182     |
| recall75   | 0.741935     | 0.666667     | 0.727273     |
| precision  | 0.735294     | 0.371429     | 0.190141     |
| conf_obj   | 0.897937     | 0.919044     | 0.908637     |
| conf_noobj | 0.000746     | 0.000801     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-20 01:42:25.153 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.927761
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.331606     | 0.292542     | 0.303612     |
| x          | 0.002166     | 0.007331     | 0.032121     |
| y          | 0.006004     | 0.020601     | 0.031337     |
| w          | 0.015998     | 0.008937     | 0.011931     |
| h          | 0.011396     | 0.017668     | 0.006961     |
| conf       | 0.290562     | 0.232996     | 0.216879     |
| cls        | 0.005481     | 0.005009     | 0.004381     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 0.947368     |
| recall75   | 0.947368     | 0.894737     | 0.894737     |
| precision  | 0.692308     | 0.283582     | 0.147541     |
| conf_obj   | 0.922716     | 0.965223     | 0.946926     |
| conf_noobj | 0.001154     | 0.001123     | 0.000704     |
+------------+--------------+--------------+--------------+
2020-12-20 01:43:27.956 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.796743
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.223460     | 0.282084     | 0.291200     |
| x          | 0.008182     | 0.011871     | 0.037998     |
| y          | 0.004812     | 0.010545     | 0.044399     |
| w          | 0.018074     | 0.018299     | 0.016386     |
| h          | 0.024688     | 0.024302     | 0.022741     |
| conf       | 0.111868     | 0.152978     | 0.113270     |
| cls        | 0.055836     | 0.064089     | 0.056405     |
| cls_acc    | 95.83%       | 95.83%       | 95.83%       |
| recall50   | 0.958333     | 0.958333     | 0.958333     |
| recall75   | 0.875000     | 0.833333     | 0.875000     |
| precision  | 0.741935     | 0.460000     | 0.182540     |
| conf_obj   | 0.976740     | 0.949611     | 0.974546     |
| conf_noobj | 0.000533     | 0.000512     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 01:44:37.739 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.486553
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.152500     | 0.150312     | 0.183741     |
| x          | 0.006705     | 0.006129     | 0.020800     |
| y          | 0.005517     | 0.009492     | 0.033723     |
| w          | 0.013707     | 0.007455     | 0.009613     |
| h          | 0.021962     | 0.008244     | 0.008970     |
| conf       | 0.084718     | 0.093170     | 0.096936     |
| cls        | 0.019891     | 0.025821     | 0.013700     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 1.000000     | 1.000000     |
| precision  | 0.833333     | 0.490566     | 0.208000     |
| conf_obj   | 0.985471     | 0.986530     | 0.991070     |
| conf_noobj | 0.000560     | 0.000563     | 0.000475     |
+------------+--------------+--------------+--------------+
2020-12-20 01:45:45.314 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.149064
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.249835     | 0.485478     | 0.413750     |
| x          | 0.004857     | 0.013615     | 0.024684     |
| y          | 0.016774     | 0.025353     | 0.028824     |
| w          | 0.023386     | 0.016276     | 0.012861     |
| h          | 0.035346     | 0.011367     | 0.029350     |
| conf       | 0.167474     | 0.416687     | 0.314424     |
| cls        | 0.001999     | 0.002180     | 0.003607     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.933333     | 0.933333     |
| recall75   | 0.866667     | 0.866667     | 0.800000     |
| precision  | 0.681818     | 0.368421     | 0.133333     |
| conf_obj   | 0.964690     | 0.908570     | 0.883654     |
| conf_noobj | 0.000687     | 0.000636     | 0.000538     |
+------------+--------------+--------------+--------------+
2020-12-20 01:46:52.832 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.049587
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.379483     | 0.338392     | 0.331712     |
| x          | 0.015537     | 0.034459     | 0.042613     |
| y          | 0.006365     | 0.005464     | 0.016270     |
| w          | 0.034326     | 0.022021     | 0.013057     |
| h          | 0.020269     | 0.018357     | 0.010144     |
| conf       | 0.170919     | 0.155227     | 0.137346     |
| cls        | 0.132067     | 0.102865     | 0.112282     |
| cls_acc    | 94.12%       | 94.44%       | 94.44%       |
| recall50   | 0.941176     | 0.944444     | 0.944444     |
| recall75   | 0.764706     | 0.777778     | 0.833333     |
| precision  | 0.615385     | 0.274194     | 0.107595     |
| conf_obj   | 0.968174     | 0.977478     | 0.980606     |
| conf_noobj | 0.000897     | 0.000783     | 0.000640     |
+------------+--------------+--------------+--------------+
2020-12-20 01:47:59.566 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.322229
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.474434     | 0.410991     | 0.436805     |
| x          | 0.013842     | 0.016952     | 0.029918     |
| y          | 0.008516     | 0.010948     | 0.031214     |
| w          | 0.049264     | 0.063954     | 0.036699     |
| h          | 0.044044     | 0.052241     | 0.033726     |
| conf       | 0.259344     | 0.164547     | 0.159620     |
| cls        | 0.099424     | 0.102348     | 0.145627     |
| cls_acc    | 91.67%       | 92.86%       | 96.55%       |
| recall50   | 0.791667     | 0.928571     | 0.965517     |
| recall75   | 0.666667     | 0.678571     | 0.827586     |
| precision  | 0.633333     | 0.426230     | 0.184211     |
| conf_obj   | 0.917654     | 0.967238     | 0.963445     |
| conf_noobj | 0.000717     | 0.000709     | 0.000606     |
+------------+--------------+--------------+--------------+
2020-12-20 01:49:09.638 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.108059
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.393041     | 0.413599     | 0.301419     |
| x          | 0.005257     | 0.008980     | 0.033323     |
| y          | 0.004803     | 0.014312     | 0.048385     |
| w          | 0.010048     | 0.017057     | 0.014436     |
| h          | 0.033827     | 0.034464     | 0.016143     |
| conf       | 0.267617     | 0.243443     | 0.162862     |
| cls        | 0.071489     | 0.095343     | 0.026270     |
| cls_acc    | 94.12%       | 94.44%       | 100.00%      |
| recall50   | 0.941176     | 0.944444     | 1.000000     |
| recall75   | 0.882353     | 0.777778     | 0.888889     |
| precision  | 0.640000     | 0.326923     | 0.159292     |
| conf_obj   | 0.925817     | 0.928440     | 0.960700     |
| conf_noobj | 0.000819     | 0.000757     | 0.000614     |
+------------+--------------+--------------+--------------+
2020-12-20 01:50:11.284 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.662613
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.643903     | 0.518542     | 0.500168     |
| x          | 0.034720     | 0.015850     | 0.033567     |
| y          | 0.014292     | 0.018946     | 0.032035     |
| w          | 0.028182     | 0.019067     | 0.022472     |
| h          | 0.030325     | 0.018645     | 0.027179     |
| conf       | 0.455132     | 0.399424     | 0.350562     |
| cls        | 0.081251     | 0.046610     | 0.034353     |
| cls_acc    | 96.43%       | 96.55%       | 96.55%       |
| recall50   | 0.892857     | 0.965517     | 0.931035     |
| recall75   | 0.821429     | 0.896552     | 0.793103     |
| precision  | 0.595238     | 0.311111     | 0.137755     |
| conf_obj   | 0.895812     | 0.915034     | 0.887318     |
| conf_noobj | 0.001629     | 0.001526     | 0.001046     |
+------------+--------------+--------------+--------------+
2020-12-20 01:51:14.512 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.528095
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.692360     | 0.527337     | 0.308399     |
| x          | 0.005245     | 0.016518     | 0.026891     |
| y          | 0.011422     | 0.020278     | 0.032098     |
| w          | 0.040058     | 0.021397     | 0.013981     |
| h          | 0.022629     | 0.019203     | 0.011360     |
| conf       | 0.605922     | 0.442203     | 0.216440     |
| cls        | 0.007084     | 0.007737     | 0.007628     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.888889     | 0.944444     |
| recall75   | 0.647059     | 0.666667     | 0.722222     |
| precision  | 0.451613     | 0.231884     | 0.100000     |
| conf_obj   | 0.845373     | 0.868699     | 0.936389     |
| conf_noobj | 0.001333     | 0.000822     | 0.000628     |
+------------+--------------+--------------+--------------+
2020-12-20 01:52:17.127 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.895424
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.333337     | 0.310905     | 0.251182     |
| x          | 0.017475     | 0.026786     | 0.031134     |
| y          | 0.007836     | 0.008607     | 0.022033     |
| w          | 0.020640     | 0.029123     | 0.018702     |
| h          | 0.017142     | 0.016788     | 0.009632     |
| conf       | 0.259411     | 0.214027     | 0.151125     |
| cls        | 0.010834     | 0.015574     | 0.018556     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.727273     | 0.782609     | 0.869565     |
| precision  | 0.750000     | 0.370968     | 0.150327     |
| conf_obj   | 0.908031     | 0.938228     | 0.962100     |
| conf_noobj | 0.000733     | 0.000666     | 0.000592     |
+------------+--------------+--------------+--------------+
2020-12-20 01:52:20.513 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.299
2020-12-20 01:52:20.516 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 01:53:15.069 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07094   | 0.47387 | 0.12341 | 0.21841 |
| 1     | Wear_helmet | 0.59859   | 0.95660 | 0.73638 | 0.93709 |
| 2     | Total       | 0.33477   | 0.71523 | 0.42990 | 0.57775 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:53:15.069 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5777501736325694
2020-12-20 01:53:15.070 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 01:53:15.070 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.553205

2020-12-20 01:53:15.591 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 2/2, epo 4/5
2020-12-20 01:53:15.591 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 2/2, epo 4/5; time cost: 0:15:07.528567

2020-12-20 01:53:15.592 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 2/2, epo 5/5
2020-12-20 01:53:16.931 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.659130
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.275607     | 0.199515     | 0.184008     |
| x          | 0.008799     | 0.011685     | 0.013831     |
| y          | 0.013529     | 0.008474     | 0.013865     |
| w          | 0.021955     | 0.017706     | 0.008278     |
| h          | 0.020683     | 0.011387     | 0.010466     |
| conf       | 0.206226     | 0.142804     | 0.130454     |
| cls        | 0.004414     | 0.007459     | 0.007115     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.846154     | 1.000000     |
| precision  | 0.600000     | 0.270833     | 0.123810     |
| conf_obj   | 0.948344     | 0.966363     | 0.956965     |
| conf_noobj | 0.000843     | 0.000589     | 0.000471     |
+------------+--------------+--------------+--------------+
2020-12-20 01:54:31.223 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.005212
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.446606     | 0.277135     | 0.281471     |
| x          | 0.013798     | 0.012837     | 0.016638     |
| y          | 0.005288     | 0.010853     | 0.028359     |
| w          | 0.017125     | 0.009497     | 0.008878     |
| h          | 0.025798     | 0.019434     | 0.010741     |
| conf       | 0.381911     | 0.222640     | 0.214197     |
| cls        | 0.002685     | 0.001874     | 0.002658     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.923077     | 0.884615     | 0.884615     |
| precision  | 0.833333     | 0.409836     | 0.177305     |
| conf_obj   | 0.923296     | 0.942965     | 0.939543     |
| conf_noobj | 0.000469     | 0.000573     | 0.000531     |
+------------+--------------+--------------+--------------+
2020-12-20 01:55:40.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.946432
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.305973     | 0.322432     | 0.318027     |
| x          | 0.011290     | 0.008007     | 0.018929     |
| y          | 0.006108     | 0.007841     | 0.014348     |
| w          | 0.038191     | 0.019883     | 0.011831     |
| h          | 0.025400     | 0.008033     | 0.006322     |
| conf       | 0.185650     | 0.225916     | 0.188168     |
| cls        | 0.039335     | 0.052751     | 0.078430     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.923077     | 0.961538     | 0.961538     |
| recall75   | 0.769231     | 0.923077     | 0.923077     |
| precision  | 0.727273     | 0.373134     | 0.174825     |
| conf_obj   | 0.926217     | 0.934013     | 0.950343     |
| conf_noobj | 0.000667     | 0.000743     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 01:56:46.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.416106
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.521122     | 0.488924     | 0.406060     |
| x          | 0.004774     | 0.024796     | 0.024900     |
| y          | 0.009976     | 0.030691     | 0.029538     |
| w          | 0.050854     | 0.041095     | 0.025432     |
| h          | 0.064779     | 0.054292     | 0.021437     |
| conf       | 0.336246     | 0.239049     | 0.214500     |
| cls        | 0.054493     | 0.099001     | 0.090253     |
| cls_acc    | 95.24%       | 95.45%       | 95.45%       |
| recall50   | 0.904762     | 0.909091     | 0.954545     |
| recall75   | 0.714286     | 0.636364     | 0.727273     |
| precision  | 0.760000     | 0.363636     | 0.144828     |
| conf_obj   | 0.874394     | 0.900733     | 0.908163     |
| conf_noobj | 0.000917     | 0.000748     | 0.000601     |
+------------+--------------+--------------+--------------+
2020-12-20 01:57:52.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.119138
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.415300     | 0.402853     | 0.300985     |
| x          | 0.024828     | 0.017712     | 0.031422     |
| y          | 0.014339     | 0.017861     | 0.046854     |
| w          | 0.063637     | 0.026253     | 0.033456     |
| h          | 0.057652     | 0.023279     | 0.038338     |
| conf       | 0.246003     | 0.307324     | 0.139138     |
| cls        | 0.008842     | 0.010426     | 0.011777     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 0.956522     |
| recall75   | 0.904762     | 0.904762     | 0.826087     |
| precision  | 0.571429     | 0.338983     | 0.183333     |
| conf_obj   | 0.932034     | 0.931717     | 0.965741     |
| conf_noobj | 0.000832     | 0.000530     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 01:58:55.062 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.919609
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.415040     | 0.233393     | 0.271177     |
| x          | 0.004530     | 0.012752     | 0.020894     |
| y          | 0.007605     | 0.014775     | 0.023951     |
| w          | 0.055925     | 0.025915     | 0.012552     |
| h          | 0.061795     | 0.023577     | 0.021893     |
| conf       | 0.273581     | 0.139436     | 0.171468     |
| cls        | 0.011603     | 0.016937     | 0.020419     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 0.950000     |
| recall75   | 0.750000     | 0.800000     | 0.800000     |
| precision  | 0.600000     | 0.357143     | 0.132867     |
| conf_obj   | 0.903821     | 0.973763     | 0.949798     |
| conf_noobj | 0.000864     | 0.000634     | 0.000581     |
+------------+--------------+--------------+--------------+
2020-12-20 02:00:03.240 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.511925
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.532266     | 0.559479     | 0.420180     |
| x          | 0.011736     | 0.016397     | 0.017933     |
| y          | 0.019190     | 0.015643     | 0.033224     |
| w          | 0.055479     | 0.039186     | 0.029119     |
| h          | 0.044113     | 0.030883     | 0.022476     |
| conf       | 0.292573     | 0.292923     | 0.180240     |
| cls        | 0.109175     | 0.164447     | 0.137188     |
| cls_acc    | 96.43%       | 96.55%       | 93.10%       |
| recall50   | 0.857143     | 0.896552     | 0.931035     |
| recall75   | 0.607143     | 0.655172     | 0.793103     |
| precision  | 0.615385     | 0.376812     | 0.147541     |
| conf_obj   | 0.893008     | 0.902049     | 0.960113     |
| conf_noobj | 0.001074     | 0.000859     | 0.000694     |
+------------+--------------+--------------+--------------+
2020-12-20 02:01:07.799 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.853116
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.311820     | 0.264741     | 0.276555     |
| x          | 0.009973     | 0.011084     | 0.015871     |
| y          | 0.008788     | 0.009990     | 0.022607     |
| w          | 0.025139     | 0.026382     | 0.017426     |
| h          | 0.042847     | 0.029272     | 0.012813     |
| conf       | 0.208996     | 0.173164     | 0.175079     |
| cls        | 0.016077     | 0.014849     | 0.032759     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.961538     | 0.964286     |
| recall75   | 0.800000     | 0.807692     | 0.857143     |
| precision  | 0.793103     | 0.543478     | 0.182432     |
| conf_obj   | 0.930568     | 0.943581     | 0.963087     |
| conf_noobj | 0.000804     | 0.000614     | 0.000743     |
+------------+--------------+--------------+--------------+
2020-12-20 02:02:08.106 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.726248
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.207967     | 0.228282     | 0.289998     |
| x          | 0.003933     | 0.012730     | 0.038491     |
| y          | 0.008139     | 0.015471     | 0.029736     |
| w          | 0.025128     | 0.030277     | 0.021971     |
| h          | 0.028378     | 0.029848     | 0.024587     |
| conf       | 0.138728     | 0.135548     | 0.170111     |
| cls        | 0.003661     | 0.004408     | 0.005102     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.956522     |
| recall75   | 0.904762     | 0.826087     | 0.826087     |
| precision  | 0.840000     | 0.450980     | 0.194690     |
| conf_obj   | 0.971342     | 0.968996     | 0.954544     |
| conf_noobj | 0.000736     | 0.000667     | 0.000610     |
+------------+--------------+--------------+--------------+
2020-12-20 02:03:11.151 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.288623
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.276798     | 0.688289     | 0.323537     |
| x          | 0.017500     | 0.016930     | 0.027052     |
| y          | 0.008388     | 0.019796     | 0.024035     |
| w          | 0.026767     | 0.010717     | 0.017322     |
| h          | 0.010208     | 0.007768     | 0.014030     |
| conf       | 0.170221     | 0.619423     | 0.225661     |
| cls        | 0.043714     | 0.013655     | 0.015437     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.882353     | 0.941176     |
| recall75   | 0.750000     | 0.764706     | 0.823529     |
| precision  | 0.761905     | 0.394737     | 0.148148     |
| conf_obj   | 0.958132     | 0.876340     | 0.910554     |
| conf_noobj | 0.000719     | 0.000555     | 0.000592     |
+------------+--------------+--------------+--------------+
2020-12-20 02:04:07.908 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.121109
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.449048     | 0.342674     | 0.329388     |
| x          | 0.006453     | 0.015079     | 0.026502     |
| y          | 0.006722     | 0.016338     | 0.027256     |
| w          | 0.020996     | 0.020859     | 0.023360     |
| h          | 0.026146     | 0.021803     | 0.024265     |
| conf       | 0.375812     | 0.251734     | 0.205405     |
| cls        | 0.012918     | 0.016860     | 0.022600     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.884615     | 0.814815     | 0.777778     |
| precision  | 0.609756     | 0.360000     | 0.148352     |
| conf_obj   | 0.894080     | 0.955214     | 0.966695     |
| conf_noobj | 0.001385     | 0.001040     | 0.000905     |
+------------+--------------+--------------+--------------+
2020-12-20 02:05:15.030 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.487933
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.178756     | 0.141547     | 0.167630     |
| x          | 0.003231     | 0.007784     | 0.023777     |
| y          | 0.003977     | 0.007170     | 0.015698     |
| w          | 0.015108     | 0.010722     | 0.008093     |
| h          | 0.006776     | 0.008579     | 0.006007     |
| conf       | 0.146315     | 0.103537     | 0.112981     |
| cls        | 0.003349     | 0.003755     | 0.001074     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.954545     | 0.954545     |
| precision  | 0.687500     | 0.423077     | 0.165414     |
| conf_obj   | 0.968076     | 0.981174     | 0.981735     |
| conf_noobj | 0.000641     | 0.000449     | 0.000461     |
+------------+--------------+--------------+--------------+
2020-12-20 02:06:21.144 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.400702
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.445538     | 0.484748     | 0.470417     |
| x          | 0.008787     | 0.018953     | 0.028942     |
| y          | 0.019167     | 0.018250     | 0.027141     |
| w          | 0.029374     | 0.020793     | 0.013384     |
| h          | 0.026032     | 0.013513     | 0.011583     |
| conf       | 0.329341     | 0.376927     | 0.329493     |
| cls        | 0.032837     | 0.036312     | 0.059873     |
| cls_acc    | 100.00%      | 96.67%       | 96.67%       |
| recall50   | 0.966667     | 0.933333     | 0.900000     |
| recall75   | 0.800000     | 0.766667     | 0.800000     |
| precision  | 0.644444     | 0.304348     | 0.135000     |
| conf_obj   | 0.924624     | 0.913568     | 0.918860     |
| conf_noobj | 0.001108     | 0.000887     | 0.000701     |
+------------+--------------+--------------+--------------+
2020-12-20 02:07:24.493 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.037113
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.297173     | 0.323335     | 0.416604     |
| x          | 0.022355     | 0.019901     | 0.019475     |
| y          | 0.007459     | 0.018782     | 0.035903     |
| w          | 0.017921     | 0.019764     | 0.007231     |
| h          | 0.016942     | 0.015408     | 0.021113     |
| conf       | 0.204416     | 0.240318     | 0.311491     |
| cls        | 0.028081     | 0.009163     | 0.021391     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.869565     | 0.869565     | 0.782609     |
| precision  | 0.733333     | 0.318841     | 0.125000     |
| conf_obj   | 0.958886     | 0.940550     | 0.931385     |
| conf_noobj | 0.000830     | 0.000913     | 0.000797     |
+------------+--------------+--------------+--------------+
2020-12-20 02:07:27.660 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.238
2020-12-20 02:07:27.664 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 02:08:22.302 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08797   | 0.44599 | 0.14696 | 0.26560 |
| 1     | Wear_helmet | 0.39809   | 0.97483 | 0.56532 | 0.93560 |
| 2     | Total       | 0.24303   | 0.71041 | 0.35614 | 0.60060 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:08:22.304 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6006014876936068
2020-12-20 02:08:22.305 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 02:08:22.305 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.640244

2020-12-20 02:08:22.724 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 2/2, epo 5/5
2020-12-20 02:08:22.725 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 2/2, epo 5/5; time cost: 0:15:07.132765

2020-12-20 02:08:22.725 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 1.343
2020-12-20 02:08:22.935 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 02:12:37.509 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09564   | 0.58216 | 0.16429 | 0.40540 |
| 1     | Wear_helmet | 0.36812   | 0.93070 | 0.52757 | 0.86840 |
| 2     | Total       | 0.23188   | 0.75643 | 0.34593 | 0.63690 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:12:37.510 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6369010816604916
2020-12-20 02:12:37.511 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 02:12:37.511 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:14.575543

2020-12-20 02:13:45.273 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 8!
2020-12-20 02:13:45.418 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 2/2, epo 1/5
2020-12-20 02:13:47.168 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.144310
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.368013     | 0.383534     | 0.392763     |
| x          | 0.009448     | 0.013244     | 0.038514     |
| y          | 0.004218     | 0.012587     | 0.024241     |
| w          | 0.027558     | 0.012116     | 0.016490     |
| h          | 0.038193     | 0.021315     | 0.024531     |
| conf       | 0.218331     | 0.245128     | 0.200923     |
| cls        | 0.070264     | 0.079143     | 0.088065     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.960000     | 0.880000     | 0.880000     |
| recall75   | 0.800000     | 0.760000     | 0.760000     |
| precision  | 0.685714     | 0.309859     | 0.127168     |
| conf_obj   | 0.933933     | 0.926566     | 0.948979     |
| conf_noobj | 0.001017     | 0.000906     | 0.000780     |
+------------+--------------+--------------+--------------+
2020-12-20 02:14:51.250 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.066488
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.432461     | 0.321195     | 0.312832     |
| x          | 0.007411     | 0.003285     | 0.008784     |
| y          | 0.005782     | 0.006164     | 0.018958     |
| w          | 0.005146     | 0.007605     | 0.008639     |
| h          | 0.021695     | 0.016646     | 0.007807     |
| conf       | 0.364239     | 0.213316     | 0.206461     |
| cls        | 0.028188     | 0.074179     | 0.062183     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 1.000000     | 1.000000     |
| precision  | 0.565217     | 0.333333     | 0.149533     |
| conf_obj   | 0.887103     | 0.952450     | 0.925858     |
| conf_noobj | 0.001131     | 0.000843     | 0.000672     |
+------------+--------------+--------------+--------------+
2020-12-20 02:15:53.984 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.336889
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.534462     | 0.408348     | 0.394079     |
| x          | 0.011396     | 0.015628     | 0.027032     |
| y          | 0.005248     | 0.019801     | 0.023509     |
| w          | 0.040978     | 0.027269     | 0.011805     |
| h          | 0.027352     | 0.019333     | 0.012299     |
| conf       | 0.306199     | 0.269691     | 0.277420     |
| cls        | 0.143288     | 0.056626     | 0.042014     |
| cls_acc    | 91.67%       | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 0.960000     |
| recall75   | 0.791667     | 0.750000     | 0.880000     |
| precision  | 0.578947     | 0.307692     | 0.115942     |
| conf_obj   | 0.954779     | 0.971498     | 0.930169     |
| conf_noobj | 0.001309     | 0.001192     | 0.001063     |
+------------+--------------+--------------+--------------+
2020-12-20 02:16:56.716 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.923869
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.279638     | 0.329118     | 0.315112     |
| x          | 0.003606     | 0.014534     | 0.017496     |
| y          | 0.008878     | 0.016564     | 0.016745     |
| w          | 0.017557     | 0.015533     | 0.012607     |
| h          | 0.009773     | 0.011091     | 0.006844     |
| conf       | 0.188773     | 0.197049     | 0.193711     |
| cls        | 0.051052     | 0.074348     | 0.067710     |
| cls_acc    | 96.67%       | 96.67%       | 96.67%       |
| recall50   | 0.966667     | 0.966667     | 0.900000     |
| recall75   | 0.900000     | 0.933333     | 0.866667     |
| precision  | 0.707317     | 0.333333     | 0.156069     |
| conf_obj   | 0.955628     | 0.976403     | 0.949304     |
| conf_noobj | 0.000795     | 0.000880     | 0.000618     |
+------------+--------------+--------------+--------------+
2020-12-20 02:17:59.889 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.095872
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.388425     | 0.343938     | 0.363509     |
| x          | 0.011009     | 0.010195     | 0.015168     |
| y          | 0.026370     | 0.025413     | 0.030918     |
| w          | 0.022845     | 0.017350     | 0.010836     |
| h          | 0.037446     | 0.034122     | 0.027778     |
| conf       | 0.222614     | 0.164806     | 0.154619     |
| cls        | 0.068141     | 0.092053     | 0.124190     |
| cls_acc    | 96.67%       | 96.97%       | 96.97%       |
| recall50   | 0.900000     | 0.969697     | 0.969697     |
| recall75   | 0.666667     | 0.696970     | 0.727273     |
| precision  | 0.574468     | 0.450704     | 0.182857     |
| conf_obj   | 0.953197     | 0.959184     | 0.973989     |
| conf_noobj | 0.000947     | 0.000638     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 02:19:03.964 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.980710
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.682882     | 0.600398     | 0.697430     |
| x          | 0.020407     | 0.026000     | 0.029093     |
| y          | 0.017661     | 0.035354     | 0.044972     |
| w          | 0.019250     | 0.028900     | 0.025565     |
| h          | 0.039341     | 0.077523     | 0.077851     |
| conf       | 0.572339     | 0.420078     | 0.507355     |
| cls        | 0.013883     | 0.012545     | 0.012594     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.807692     | 0.925926     | 0.851852     |
| recall75   | 0.653846     | 0.777778     | 0.777778     |
| precision  | 0.512195     | 0.337838     | 0.150327     |
| conf_obj   | 0.814562     | 0.843745     | 0.845968     |
| conf_noobj | 0.001177     | 0.000789     | 0.000530     |
+------------+--------------+--------------+--------------+
2020-12-20 02:20:06.779 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.653066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.289952     | 0.189019     | 0.174096     |
| x          | 0.015391     | 0.007436     | 0.013180     |
| y          | 0.008477     | 0.012225     | 0.020088     |
| w          | 0.023577     | 0.027933     | 0.018454     |
| h          | 0.009159     | 0.015403     | 0.012338     |
| conf       | 0.230822     | 0.120980     | 0.105885     |
| cls        | 0.002527     | 0.005043     | 0.004150     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.875000     | 0.875000     |
| precision  | 0.482759     | 0.340426     | 0.142857     |
| conf_obj   | 0.974315     | 0.985772     | 0.988629     |
| conf_noobj | 0.001100     | 0.000561     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 02:21:13.902 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.874913
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.260265     | 0.269325     | 0.345323     |
| x          | 0.010142     | 0.016003     | 0.025212     |
| y          | 0.010451     | 0.025554     | 0.072727     |
| w          | 0.024387     | 0.012560     | 0.005521     |
| h          | 0.018416     | 0.015805     | 0.006349     |
| conf       | 0.190323     | 0.176509     | 0.169133     |
| cls        | 0.006546     | 0.022894     | 0.066382     |
| cls_acc    | 100.00%      | 100.00%      | 95.24%       |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 1.000000     | 0.904762     | 0.904762     |
| precision  | 0.677419     | 0.313433     | 0.121212     |
| conf_obj   | 0.953364     | 0.953967     | 0.951583     |
| conf_noobj | 0.000944     | 0.000770     | 0.000639     |
+------------+--------------+--------------+--------------+
2020-12-20 02:22:17.745 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 2.628770
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.858175     | 0.852130     | 0.918465     |
| x          | 0.009903     | 0.020820     | 0.042316     |
| y          | 0.003075     | 0.011942     | 0.025008     |
| w          | 0.092275     | 0.057899     | 0.031421     |
| h          | 0.092206     | 0.068629     | 0.029277     |
| conf       | 0.590748     | 0.638842     | 0.718338     |
| cls        | 0.069969     | 0.053998     | 0.072105     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.880000     | 0.840000     | 0.840000     |
| recall75   | 0.800000     | 0.760000     | 0.800000     |
| precision  | 0.709677     | 0.333333     | 0.157895     |
| conf_obj   | 0.895551     | 0.854941     | 0.848440     |
| conf_noobj | 0.001031     | 0.000852     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 02:23:19.332 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.180540
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.405798     | 0.348694     | 0.426048     |
| x          | 0.005688     | 0.009112     | 0.030971     |
| y          | 0.005540     | 0.029206     | 0.027766     |
| w          | 0.042431     | 0.024100     | 0.016068     |
| h          | 0.036211     | 0.029292     | 0.040161     |
| conf       | 0.271492     | 0.209150     | 0.282033     |
| cls        | 0.044436     | 0.047834     | 0.029050     |
| cls_acc    | 96.55%       | 96.67%       | 100.00%      |
| recall50   | 0.896552     | 0.933333     | 0.966667     |
| recall75   | 0.862069     | 0.833333     | 0.766667     |
| precision  | 0.812500     | 0.430769     | 0.167630     |
| conf_obj   | 0.908546     | 0.947682     | 0.922527     |
| conf_noobj | 0.000757     | 0.000788     | 0.000859     |
+------------+--------------+--------------+--------------+
2020-12-20 02:24:21.264 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.089136
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.808664     | 0.788649     | 0.491823     |
| x          | 0.017130     | 0.020881     | 0.031216     |
| y          | 0.022608     | 0.016730     | 0.045135     |
| w          | 0.051114     | 0.016608     | 0.014209     |
| h          | 0.066966     | 0.023338     | 0.018171     |
| conf       | 0.493596     | 0.632957     | 0.321651     |
| cls        | 0.157250     | 0.078135     | 0.061442     |
| cls_acc    | 95.45%       | 95.45%       | 95.65%       |
| recall50   | 0.772727     | 0.727273     | 0.869565     |
| recall75   | 0.681818     | 0.681818     | 0.782609     |
| precision  | 0.653846     | 0.253968     | 0.129870     |
| conf_obj   | 0.820696     | 0.748212     | 0.850511     |
| conf_noobj | 0.000891     | 0.000846     | 0.000613     |
+------------+--------------+--------------+--------------+
2020-12-20 02:25:26.506 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.951400
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.801341     | 0.601054     | 0.549005     |
| x          | 0.015314     | 0.030161     | 0.024162     |
| y          | 0.017009     | 0.017999     | 0.044074     |
| w          | 0.021284     | 0.017844     | 0.020757     |
| h          | 0.020560     | 0.024919     | 0.042029     |
| conf       | 0.718587     | 0.505161     | 0.410472     |
| cls        | 0.008586     | 0.004970     | 0.007509     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.769231     | 0.807692     | 0.846154     |
| recall75   | 0.692308     | 0.769231     | 0.692308     |
| precision  | 0.588235     | 0.221053     | 0.107317     |
| conf_obj   | 0.788478     | 0.799368     | 0.841941     |
| conf_noobj | 0.001075     | 0.001003     | 0.000816     |
+------------+--------------+--------------+--------------+
2020-12-20 02:26:33.765 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.256244
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.543188     | 0.371429     | 0.341627     |
| x          | 0.006907     | 0.011520     | 0.026619     |
| y          | 0.009846     | 0.017886     | 0.025434     |
| w          | 0.015517     | 0.014074     | 0.012480     |
| h          | 0.009680     | 0.010243     | 0.011496     |
| conf       | 0.472145     | 0.297196     | 0.245015     |
| cls        | 0.029093     | 0.020510     | 0.020583     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.961538     | 0.961538     |
| recall75   | 0.884615     | 0.884615     | 0.807692     |
| precision  | 0.631579     | 0.357143     | 0.147929     |
| conf_obj   | 0.897041     | 0.937514     | 0.926906     |
| conf_noobj | 0.001235     | 0.001005     | 0.000786     |
+------------+--------------+--------------+--------------+
2020-12-20 02:27:40.728 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.188180
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.431534     | 0.378534     | 0.378111     |
| x          | 0.005766     | 0.011279     | 0.014875     |
| y          | 0.008950     | 0.020669     | 0.043181     |
| w          | 0.039066     | 0.031728     | 0.011037     |
| h          | 0.037069     | 0.036702     | 0.014737     |
| conf       | 0.223810     | 0.208157     | 0.228132     |
| cls        | 0.116873     | 0.070000     | 0.066149     |
| cls_acc    | 94.12%       | 94.12%       | 94.12%       |
| recall50   | 0.941176     | 0.882353     | 0.882353     |
| recall75   | 0.823529     | 0.823529     | 0.764706     |
| precision  | 0.551724     | 0.272727     | 0.101351     |
| conf_obj   | 0.977850     | 0.984823     | 0.948011     |
| conf_noobj | 0.001266     | 0.001129     | 0.000915     |
+------------+--------------+--------------+--------------+
2020-12-20 02:27:43.538 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.307
2020-12-20 02:27:43.541 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 02:28:41.108 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06197   | 0.45645 | 0.10912 | 0.24860 |
| 1     | Wear_helmet | 0.44073   | 0.97786 | 0.60761 | 0.94462 |
| 2     | Total       | 0.25135   | 0.71716 | 0.35836 | 0.59661 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:28:41.109 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5966122372506074
2020-12-20 02:28:41.109 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 02:28:41.110 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.568731

2020-12-20 02:28:41.557 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 2/2, epo 1/5
2020-12-20 02:28:41.557 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 2/2, epo 1/5; time cost: 0:14:56.138653

2020-12-20 02:28:41.557 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 2/2, epo 2/5
2020-12-20 02:28:42.621 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.252833
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.407778     | 0.393391     | 0.451664     |
| x          | 0.009546     | 0.011273     | 0.012189     |
| y          | 0.011927     | 0.017284     | 0.036728     |
| w          | 0.021452     | 0.021969     | 0.008850     |
| h          | 0.019909     | 0.016079     | 0.007335     |
| conf       | 0.265835     | 0.283497     | 0.365611     |
| cls        | 0.079109     | 0.043289     | 0.020951     |
| cls_acc    | 96.00%       | 96.15%       | 100.00%      |
| recall50   | 0.880000     | 0.923077     | 0.923077     |
| recall75   | 0.840000     | 0.923077     | 0.846154     |
| precision  | 0.666667     | 0.363636     | 0.144578     |
| conf_obj   | 0.911938     | 0.928735     | 0.899650     |
| conf_noobj | 0.001015     | 0.001076     | 0.000903     |
+------------+--------------+--------------+--------------+
2020-12-20 02:29:52.810 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.154305
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.402525     | 0.392224     | 0.359557     |
| x          | 0.005310     | 0.013923     | 0.011915     |
| y          | 0.007055     | 0.019686     | 0.035885     |
| w          | 0.019998     | 0.021797     | 0.013813     |
| h          | 0.017692     | 0.015444     | 0.017643     |
| conf       | 0.316106     | 0.297865     | 0.263538     |
| cls        | 0.036363     | 0.023510     | 0.016763     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.916667     | 0.958333     |
| recall75   | 0.875000     | 0.833333     | 0.916667     |
| precision  | 0.611111     | 0.323529     | 0.169118     |
| conf_obj   | 0.934843     | 0.930658     | 0.938161     |
| conf_noobj | 0.001391     | 0.001106     | 0.000786     |
+------------+--------------+--------------+--------------+
2020-12-20 02:31:00.070 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.990702
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.339747     | 0.311254     | 0.339702     |
| x          | 0.021068     | 0.010066     | 0.023610     |
| y          | 0.012761     | 0.009036     | 0.026536     |
| w          | 0.049604     | 0.027543     | 0.036145     |
| h          | 0.021717     | 0.014300     | 0.012272     |
| conf       | 0.209333     | 0.192179     | 0.184599     |
| cls        | 0.025263     | 0.058130     | 0.056540     |
| cls_acc    | 100.00%      | 93.55%       | 96.77%       |
| recall50   | 0.965517     | 0.935484     | 0.967742     |
| recall75   | 0.862069     | 0.935484     | 0.935484     |
| precision  | 0.777778     | 0.408451     | 0.196078     |
| conf_obj   | 0.939382     | 0.966916     | 0.966534     |
| conf_noobj | 0.000839     | 0.000857     | 0.000731     |
+------------+--------------+--------------+--------------+
2020-12-20 02:32:05.342 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.213300
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.600252     | 0.290960     | 0.322088     |
| x          | 0.007385     | 0.010280     | 0.020486     |
| y          | 0.004611     | 0.015704     | 0.037805     |
| w          | 0.048199     | 0.026509     | 0.014433     |
| h          | 0.049299     | 0.031661     | 0.024556     |
| conf       | 0.466087     | 0.197801     | 0.211452     |
| cls        | 0.024671     | 0.009006     | 0.013356     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 1.000000     | 0.954545     |
| recall75   | 0.818182     | 0.772727     | 0.772727     |
| precision  | 0.526316     | 0.349206     | 0.122093     |
| conf_obj   | 0.886751     | 0.955057     | 0.944814     |
| conf_noobj | 0.001300     | 0.000795     | 0.000731     |
+------------+--------------+--------------+--------------+
2020-12-20 02:33:10.316 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.333608
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.492764     | 0.443388     | 0.397456     |
| x          | 0.013391     | 0.010887     | 0.025503     |
| y          | 0.018127     | 0.018631     | 0.057883     |
| w          | 0.027752     | 0.020831     | 0.012490     |
| h          | 0.036171     | 0.027224     | 0.012178     |
| conf       | 0.376599     | 0.343931     | 0.281043     |
| cls        | 0.020726     | 0.021884     | 0.008359     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.862069     | 0.935484     | 0.878788     |
| recall75   | 0.827586     | 0.677419     | 0.787879     |
| precision  | 0.675676     | 0.402778     | 0.169591     |
| conf_obj   | 0.891978     | 0.918959     | 0.940310     |
| conf_noobj | 0.000619     | 0.000754     | 0.000691     |
+------------+--------------+--------------+--------------+
2020-12-20 02:34:14.315 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.941469
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.401575     | 0.291353     | 0.248541     |
| x          | 0.014950     | 0.008660     | 0.026214     |
| y          | 0.022956     | 0.016912     | 0.027411     |
| w          | 0.039167     | 0.018504     | 0.017629     |
| h          | 0.029372     | 0.018945     | 0.018179     |
| conf       | 0.273085     | 0.218148     | 0.151217     |
| cls        | 0.022044     | 0.010184     | 0.007891     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.750000     | 0.916667     | 0.916667     |
| precision  | 0.536585     | 0.300000     | 0.121212     |
| conf_obj   | 0.921928     | 0.965330     | 0.980744     |
| conf_noobj | 0.001038     | 0.000941     | 0.000676     |
+------------+--------------+--------------+--------------+
2020-12-20 02:35:19.477 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.889389
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.402961     | 0.235290     | 0.251138     |
| x          | 0.004709     | 0.003002     | 0.008935     |
| y          | 0.008467     | 0.012047     | 0.027905     |
| w          | 0.032952     | 0.027311     | 0.019306     |
| h          | 0.039356     | 0.024172     | 0.027299     |
| conf       | 0.306281     | 0.161865     | 0.153806     |
| cls        | 0.011196     | 0.006893     | 0.013888     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 1.000000     | 0.960000     |
| recall75   | 0.840000     | 0.920000     | 0.880000     |
| precision  | 0.696970     | 0.431034     | 0.184615     |
| conf_obj   | 0.884557     | 0.945658     | 0.949511     |
| conf_noobj | 0.000741     | 0.000512     | 0.000459     |
+------------+--------------+--------------+--------------+
2020-12-20 02:36:26.273 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.315624
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.412455     | 0.369852     | 0.533317     |
| x          | 0.008171     | 0.023583     | 0.036542     |
| y          | 0.008596     | 0.027156     | 0.027562     |
| w          | 0.008891     | 0.014712     | 0.009165     |
| h          | 0.019627     | 0.017982     | 0.011347     |
| conf       | 0.328191     | 0.232638     | 0.347933     |
| cls        | 0.038978     | 0.053782     | 0.100767     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.950000     | 0.900000     | 0.900000     |
| recall75   | 0.950000     | 0.800000     | 0.800000     |
| precision  | 0.655172     | 0.409091     | 0.137405     |
| conf_obj   | 0.901649     | 0.933345     | 0.919136     |
| conf_noobj | 0.001408     | 0.000899     | 0.000873     |
+------------+--------------+--------------+--------------+
2020-12-20 02:37:30.993 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.930159
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.307178     | 0.368152     | 0.254829     |
| x          | 0.007717     | 0.024399     | 0.035039     |
| y          | 0.007406     | 0.014618     | 0.041870     |
| w          | 0.020162     | 0.008453     | 0.003976     |
| h          | 0.023963     | 0.009587     | 0.009150     |
| conf       | 0.235842     | 0.300014     | 0.159368     |
| cls        | 0.012088     | 0.011081     | 0.005425     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.909091     | 1.000000     |
| recall75   | 0.909091     | 0.818182     | 1.000000     |
| precision  | 0.677419     | 0.333333     | 0.164179     |
| conf_obj   | 0.936944     | 0.879991     | 0.941601     |
| conf_noobj | 0.000788     | 0.000583     | 0.000476     |
+------------+--------------+--------------+--------------+
2020-12-20 02:38:37.347 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.186751
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.849767     | 0.755368     | 0.581616     |
| x          | 0.018040     | 0.026322     | 0.039523     |
| y          | 0.007732     | 0.017999     | 0.026809     |
| w          | 0.069167     | 0.032751     | 0.027829     |
| h          | 0.028386     | 0.033837     | 0.012788     |
| conf       | 0.627480     | 0.452396     | 0.288083     |
| cls        | 0.098963     | 0.192063     | 0.186584     |
| cls_acc    | 93.75%       | 88.24%       | 94.44%       |
| recall50   | 0.875000     | 0.823529     | 0.833333     |
| recall75   | 0.750000     | 0.705882     | 0.666667     |
| precision  | 0.583333     | 0.285714     | 0.097403     |
| conf_obj   | 0.894291     | 0.916042     | 0.902509     |
| conf_noobj | 0.000997     | 0.000684     | 0.000679     |
+------------+--------------+--------------+--------------+
2020-12-20 02:39:39.288 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.476342
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.449391     | 0.450745     | 0.576206     |
| x          | 0.005245     | 0.013457     | 0.033059     |
| y          | 0.012408     | 0.034655     | 0.025502     |
| w          | 0.025372     | 0.014784     | 0.013684     |
| h          | 0.036473     | 0.018053     | 0.013112     |
| conf       | 0.368898     | 0.361311     | 0.476345     |
| cls        | 0.000996     | 0.008485     | 0.014504     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.952381     | 0.952381     |
| recall75   | 0.809524     | 0.904762     | 0.904762     |
| precision  | 0.545455     | 0.344828     | 0.153846     |
| conf_obj   | 0.887382     | 0.903541     | 0.928001     |
| conf_noobj | 0.001079     | 0.000654     | 0.000539     |
+------------+--------------+--------------+--------------+
2020-12-20 02:40:46.511 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.025023
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.280156     | 0.395643     | 0.349223     |
| x          | 0.005172     | 0.005389     | 0.016114     |
| y          | 0.007642     | 0.013327     | 0.046639     |
| w          | 0.031935     | 0.030481     | 0.015930     |
| h          | 0.035774     | 0.048775     | 0.032112     |
| conf       | 0.186880     | 0.289030     | 0.233589     |
| cls        | 0.012754     | 0.008641     | 0.004839     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 0.904762     |
| recall75   | 0.850000     | 0.857143     | 0.809524     |
| precision  | 0.625000     | 0.338983     | 0.172727     |
| conf_obj   | 0.973868     | 0.924398     | 0.907595     |
| conf_noobj | 0.000943     | 0.000643     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 02:41:53.715 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.504270
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.536926     | 0.473846     | 0.493498     |
| x          | 0.009141     | 0.008371     | 0.029630     |
| y          | 0.008908     | 0.024120     | 0.036109     |
| w          | 0.016062     | 0.018326     | 0.013612     |
| h          | 0.036231     | 0.027972     | 0.018658     |
| conf       | 0.439783     | 0.389705     | 0.374234     |
| cls        | 0.026802     | 0.005352     | 0.021255     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.920000     |
| recall75   | 0.920000     | 0.880000     | 0.800000     |
| precision  | 0.750000     | 0.369231     | 0.165468     |
| conf_obj   | 0.926378     | 0.924329     | 0.893571     |
| conf_noobj | 0.000775     | 0.000639     | 0.000513     |
+------------+--------------+--------------+--------------+
2020-12-20 02:42:59.804 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.782409
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.309828     | 0.230541     | 0.242039     |
| x          | 0.001240     | 0.005381     | 0.018427     |
| y          | 0.002151     | 0.005601     | 0.013289     |
| w          | 0.018276     | 0.014026     | 0.015275     |
| h          | 0.015750     | 0.007095     | 0.007831     |
| conf       | 0.227047     | 0.177111     | 0.161961     |
| cls        | 0.045365     | 0.021328     | 0.025255     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.954545     | 1.000000     |
| recall75   | 0.909091     | 0.954545     | 0.909091     |
| precision  | 0.689655     | 0.428571     | 0.164179     |
| conf_obj   | 0.919811     | 0.950146     | 0.948866     |
| conf_noobj | 0.000749     | 0.000560     | 0.000555     |
+------------+--------------+--------------+--------------+
2020-12-20 02:43:03.229 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.258
2020-12-20 02:43:03.232 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 02:44:02.026 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04880   | 0.39024 | 0.08675 | 0.19277 |
| 1     | Wear_helmet | 0.38942   | 0.96832 | 0.55546 | 0.93694 |
| 2     | Total       | 0.21911   | 0.67928 | 0.32111 | 0.56486 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:44:02.027 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5648557704883687
2020-12-20 02:44:02.027 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 02:44:02.027 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.795246

2020-12-20 02:44:02.530 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 2/2, epo 2/5
2020-12-20 02:44:02.530 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 2/2, epo 2/5; time cost: 0:15:20.972592

2020-12-20 02:44:02.531 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 2/2, epo 3/5
2020-12-20 02:44:04.074 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.050985
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.382462     | 0.307587     | 0.360936     |
| x          | 0.005263     | 0.015883     | 0.013219     |
| y          | 0.004425     | 0.013029     | 0.016511     |
| w          | 0.026029     | 0.028447     | 0.026570     |
| h          | 0.013855     | 0.016982     | 0.019628     |
| conf       | 0.323908     | 0.220684     | 0.273287     |
| cls        | 0.008983     | 0.012563     | 0.011721     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.931035     | 0.931035     |
| recall75   | 0.857143     | 0.862069     | 0.862069     |
| precision  | 0.675000     | 0.402985     | 0.180000     |
| conf_obj   | 0.923538     | 0.949410     | 0.922277     |
| conf_noobj | 0.001092     | 0.000824     | 0.000635     |
+------------+--------------+--------------+--------------+
2020-12-20 02:45:13.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.646829
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.674688     | 0.532187     | 0.439955     |
| x          | 0.030565     | 0.016829     | 0.028596     |
| y          | 0.013666     | 0.030253     | 0.042478     |
| w          | 0.036261     | 0.019184     | 0.030126     |
| h          | 0.035761     | 0.020596     | 0.038655     |
| conf       | 0.543224     | 0.440250     | 0.293040     |
| cls        | 0.015211     | 0.005074     | 0.007059     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.806452     | 0.937500     | 0.937500     |
| recall75   | 0.741935     | 0.843750     | 0.781250     |
| precision  | 0.641026     | 0.375000     | 0.178571     |
| conf_obj   | 0.859754     | 0.881677     | 0.897130     |
| conf_noobj | 0.001090     | 0.000993     | 0.000754     |
+------------+--------------+--------------+--------------+
2020-12-20 02:46:19.955 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.030908
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.371242     | 0.355367     | 0.304299     |
| x          | 0.011528     | 0.024866     | 0.031647     |
| y          | 0.033779     | 0.035530     | 0.036779     |
| w          | 0.023629     | 0.021517     | 0.011994     |
| h          | 0.026738     | 0.022543     | 0.011565     |
| conf       | 0.215378     | 0.215332     | 0.193048     |
| cls        | 0.060191     | 0.035580     | 0.019264     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.764706     | 0.722222     | 0.842105     |
| precision  | 0.629630     | 0.268657     | 0.096447     |
| conf_obj   | 0.933602     | 0.928141     | 0.949770     |
| conf_noobj | 0.000909     | 0.000829     | 0.000701     |
+------------+--------------+--------------+--------------+
2020-12-20 02:47:24.787 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.525596
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.499964     | 0.501459     | 0.524173     |
| x          | 0.012005     | 0.016648     | 0.033985     |
| y          | 0.027124     | 0.029358     | 0.037915     |
| w          | 0.026680     | 0.029434     | 0.009606     |
| h          | 0.033901     | 0.032580     | 0.011616     |
| conf       | 0.393802     | 0.390003     | 0.428328     |
| cls        | 0.006453     | 0.003436     | 0.002724     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.964286     | 0.857143     |
| recall75   | 0.851852     | 0.750000     | 0.821429     |
| precision  | 0.631579     | 0.290323     | 0.122449     |
| conf_obj   | 0.883636     | 0.895259     | 0.860118     |
| conf_noobj | 0.000874     | 0.000938     | 0.000689     |
+------------+--------------+--------------+--------------+
2020-12-20 02:48:31.504 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.148188
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.461408     | 0.388583     | 0.298197     |
| x          | 0.014670     | 0.020521     | 0.034480     |
| y          | 0.016259     | 0.008848     | 0.013264     |
| w          | 0.017101     | 0.022379     | 0.024498     |
| h          | 0.013635     | 0.010920     | 0.019274     |
| conf       | 0.396715     | 0.320815     | 0.203753     |
| cls        | 0.003029     | 0.005100     | 0.002928     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.962963     | 0.928571     |
| recall75   | 0.730769     | 0.888889     | 0.821429     |
| precision  | 0.628571     | 0.356164     | 0.184397     |
| conf_obj   | 0.881463     | 0.905125     | 0.934833     |
| conf_noobj | 0.001299     | 0.000971     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-20 02:49:32.714 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.482867
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.594751     | 0.457439     | 0.430677     |
| x          | 0.010620     | 0.017867     | 0.056245     |
| y          | 0.014444     | 0.016091     | 0.017671     |
| w          | 0.053374     | 0.060541     | 0.026948     |
| h          | 0.115696     | 0.089789     | 0.065744     |
| conf       | 0.355321     | 0.246411     | 0.245141     |
| cls        | 0.045296     | 0.026740     | 0.018928     |
| cls_acc    | 96.15%       | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.964286     | 0.928571     |
| recall75   | 0.769231     | 0.821429     | 0.857143     |
| precision  | 0.705882     | 0.380282     | 0.165605     |
| conf_obj   | 0.904398     | 0.933332     | 0.934366     |
| conf_noobj | 0.001150     | 0.000974     | 0.000798     |
+------------+--------------+--------------+--------------+
2020-12-20 02:50:40.004 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.514697
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.535791     | 0.500825     | 0.478081     |
| x          | 0.004310     | 0.013909     | 0.019585     |
| y          | 0.008155     | 0.017156     | 0.030793     |
| w          | 0.029881     | 0.029576     | 0.017642     |
| h          | 0.013354     | 0.014930     | 0.024771     |
| conf       | 0.421318     | 0.362080     | 0.343444     |
| cls        | 0.058773     | 0.063174     | 0.041847     |
| cls_acc    | 96.15%       | 96.30%       | 96.30%       |
| recall50   | 0.884615     | 0.888889     | 0.888889     |
| recall75   | 0.807692     | 0.814815     | 0.777778     |
| precision  | 0.638889     | 0.375000     | 0.150000     |
| conf_obj   | 0.878778     | 0.894985     | 0.892158     |
| conf_noobj | 0.001058     | 0.000924     | 0.000794     |
+------------+--------------+--------------+--------------+
2020-12-20 02:51:45.132 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.490407
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.637880     | 0.464059     | 0.388469     |
| x          | 0.009516     | 0.015429     | 0.024033     |
| y          | 0.018605     | 0.008617     | 0.032286     |
| w          | 0.038939     | 0.023315     | 0.013588     |
| h          | 0.026592     | 0.021350     | 0.018569     |
| conf       | 0.522539     | 0.374276     | 0.257681     |
| cls        | 0.021689     | 0.021072     | 0.042311     |
| cls_acc    | 100.00%      | 100.00%      | 96.97%       |
| recall50   | 0.878788     | 0.939394     | 0.939394     |
| recall75   | 0.818182     | 0.818182     | 0.818182     |
| precision  | 0.630435     | 0.387500     | 0.137168     |
| conf_obj   | 0.846311     | 0.904900     | 0.936510     |
| conf_noobj | 0.000899     | 0.000794     | 0.000756     |
+------------+--------------+--------------+--------------+
2020-12-20 02:52:50.025 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.774696
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.725420     | 0.623314     | 0.425962     |
| x          | 0.032299     | 0.044089     | 0.020220     |
| y          | 0.021253     | 0.017823     | 0.020783     |
| w          | 0.020039     | 0.015200     | 0.009340     |
| h          | 0.020908     | 0.012255     | 0.010728     |
| conf       | 0.420464     | 0.395023     | 0.258665     |
| cls        | 0.210458     | 0.138924     | 0.106225     |
| cls_acc    | 92.59%       | 96.88%       | 93.94%       |
| recall50   | 0.740741     | 0.812500     | 0.909091     |
| recall75   | 0.629630     | 0.687500     | 0.757576     |
| precision  | 0.476190     | 0.333333     | 0.156250     |
| conf_obj   | 0.905754     | 0.875113     | 0.940647     |
| conf_noobj | 0.001396     | 0.001083     | 0.000910     |
+------------+--------------+--------------+--------------+
2020-12-20 02:53:56.160 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.033588
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.394172     | 0.279680     | 0.359736     |
| x          | 0.004648     | 0.015240     | 0.044808     |
| y          | 0.007357     | 0.012506     | 0.030891     |
| w          | 0.033664     | 0.029314     | 0.021710     |
| h          | 0.030813     | 0.025824     | 0.022114     |
| conf       | 0.220423     | 0.159508     | 0.169379     |
| cls        | 0.097267     | 0.037288     | 0.070834     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.818182     | 0.727273     | 0.818182     |
| precision  | 0.583333     | 0.313433     | 0.125749     |
| conf_obj   | 0.971184     | 0.980190     | 0.967822     |
| conf_noobj | 0.000969     | 0.000701     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 02:54:58.922 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.922852
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.302484     | 0.307376     | 0.312992     |
| x          | 0.022043     | 0.029521     | 0.019457     |
| y          | 0.009426     | 0.023202     | 0.055428     |
| w          | 0.010747     | 0.013035     | 0.009492     |
| h          | 0.037944     | 0.024639     | 0.052372     |
| conf       | 0.209223     | 0.201519     | 0.167259     |
| cls        | 0.013100     | 0.015459     | 0.008984     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.952381     | 1.000000     |
| recall75   | 0.800000     | 0.857143     | 0.761905     |
| precision  | 0.692308     | 0.377358     | 0.157895     |
| conf_obj   | 0.928264     | 0.932310     | 0.951580     |
| conf_noobj | 0.000772     | 0.000750     | 0.000628     |
+------------+--------------+--------------+--------------+
2020-12-20 02:56:00.822 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.864448
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.365523     | 0.256313     | 0.242613     |
| x          | 0.010023     | 0.006300     | 0.014910     |
| y          | 0.003852     | 0.005931     | 0.023122     |
| w          | 0.012746     | 0.010129     | 0.009649     |
| h          | 0.013763     | 0.016428     | 0.011675     |
| conf       | 0.318703     | 0.211164     | 0.178420     |
| cls        | 0.006435     | 0.006361     | 0.004837     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 1.000000     |
| recall75   | 0.869565     | 0.956522     | 0.869565     |
| precision  | 0.785714     | 0.468085     | 0.182540     |
| conf_obj   | 0.891349     | 0.922984     | 0.948868     |
| conf_noobj | 0.000736     | 0.000613     | 0.000649     |
+------------+--------------+--------------+--------------+
2020-12-20 02:57:05.286 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.313849
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.628029     | 0.378812     | 0.307009     |
| x          | 0.007362     | 0.009156     | 0.014264     |
| y          | 0.008021     | 0.010183     | 0.021162     |
| w          | 0.013951     | 0.006118     | 0.003957     |
| h          | 0.010130     | 0.011553     | 0.009241     |
| conf       | 0.552897     | 0.330493     | 0.244859     |
| cls        | 0.035667     | 0.011308     | 0.013527     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.916667     | 0.958333     |
| recall75   | 0.875000     | 0.875000     | 0.916667     |
| precision  | 0.536585     | 0.282051     | 0.121053     |
| conf_obj   | 0.859010     | 0.905402     | 0.935399     |
| conf_noobj | 0.001380     | 0.000908     | 0.000750     |
+------------+--------------+--------------+--------------+
2020-12-20 02:58:11.979 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.111187
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.446647     | 0.388278     | 0.276262     |
| x          | 0.005900     | 0.014749     | 0.009299     |
| y          | 0.003975     | 0.006994     | 0.026883     |
| w          | 0.038381     | 0.041498     | 0.021629     |
| h          | 0.035173     | 0.033696     | 0.012925     |
| conf       | 0.326951     | 0.274776     | 0.177954     |
| cls        | 0.036267     | 0.016565     | 0.027573     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 0.962963     |
| recall75   | 0.800000     | 0.807692     | 0.814815     |
| precision  | 0.750000     | 0.347222     | 0.172185     |
| conf_obj   | 0.887260     | 0.929552     | 0.953819     |
| conf_noobj | 0.000959     | 0.000878     | 0.000602     |
+------------+--------------+--------------+--------------+
2020-12-20 02:58:15.724 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.199
2020-12-20 02:58:15.726 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 02:59:09.470 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12614   | 0.43206 | 0.19528 | 0.27998 |
| 1     | Wear_helmet | 0.57132   | 0.96137 | 0.71671 | 0.93823 |
| 2     | Total       | 0.34873   | 0.69671 | 0.45599 | 0.60910 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:59:09.471 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6091041522671659
2020-12-20 02:59:09.471 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 02:59:09.472 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.744834

2020-12-20 02:59:09.917 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 2/2, epo 3/5
2020-12-20 02:59:09.917 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 2/2, epo 3/5; time cost: 0:15:07.386246

2020-12-20 02:59:09.918 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 2/2, epo 4/5
2020-12-20 02:59:11.266 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.352064
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.574898     | 0.404952     | 0.372214     |
| x          | 0.014355     | 0.013725     | 0.027104     |
| y          | 0.007075     | 0.013684     | 0.036673     |
| w          | 0.082639     | 0.044196     | 0.034073     |
| h          | 0.034817     | 0.034780     | 0.034868     |
| conf       | 0.314442     | 0.235518     | 0.189482     |
| cls        | 0.121570     | 0.063047     | 0.050015     |
| cls_acc    | 96.15%       | 96.55%       | 96.55%       |
| recall50   | 0.923077     | 0.862069     | 0.931035     |
| recall75   | 0.846154     | 0.758621     | 0.689655     |
| precision  | 0.685714     | 0.324675     | 0.157895     |
| conf_obj   | 0.930597     | 0.942684     | 0.947358     |
| conf_noobj | 0.000978     | 0.000802     | 0.000657     |
+------------+--------------+--------------+--------------+
2020-12-20 03:00:22.229 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.947081
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.427131     | 0.277528     | 0.242422     |
| x          | 0.006540     | 0.009065     | 0.018911     |
| y          | 0.007608     | 0.010041     | 0.030470     |
| w          | 0.012214     | 0.007571     | 0.010520     |
| h          | 0.022716     | 0.008836     | 0.009019     |
| conf       | 0.376032     | 0.240871     | 0.172801     |
| cls        | 0.002021     | 0.001143     | 0.000700     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.958333     | 0.958333     |
| recall75   | 0.869565     | 0.916667     | 0.916667     |
| precision  | 0.647059     | 0.306667     | 0.138554     |
| conf_obj   | 0.918454     | 0.933611     | 0.957390     |
| conf_noobj | 0.000815     | 0.000806     | 0.000553     |
+------------+--------------+--------------+--------------+
2020-12-20 03:01:28.205 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.290083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.326033     | 0.447254     | 0.516797     |
| x          | 0.010518     | 0.005819     | 0.018473     |
| y          | 0.012826     | 0.023531     | 0.016804     |
| w          | 0.041364     | 0.036147     | 0.016413     |
| h          | 0.033120     | 0.021637     | 0.010572     |
| conf       | 0.189775     | 0.287001     | 0.430473     |
| cls        | 0.038430     | 0.073117     | 0.024062     |
| cls_acc    | 100.00%      | 96.30%       | 100.00%      |
| recall50   | 1.000000     | 0.962963     | 0.925926     |
| recall75   | 0.740741     | 0.814815     | 0.814815     |
| precision  | 0.794118     | 0.406250     | 0.155280     |
| conf_obj   | 0.940890     | 0.899697     | 0.890446     |
| conf_noobj | 0.000789     | 0.000731     | 0.000689     |
+------------+--------------+--------------+--------------+
2020-12-20 03:02:30.120 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.592273
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.183388     | 0.187510     | 0.221375     |
| x          | 0.006754     | 0.006924     | 0.021886     |
| y          | 0.006350     | 0.009742     | 0.021177     |
| w          | 0.024686     | 0.017089     | 0.011268     |
| h          | 0.014453     | 0.012208     | 0.004489     |
| conf       | 0.123813     | 0.136417     | 0.160907     |
| cls        | 0.007331     | 0.005130     | 0.001648     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 1.000000     |
| precision  | 0.676471     | 0.377049     | 0.122340     |
| conf_obj   | 0.992832     | 0.989981     | 0.975712     |
| conf_noobj | 0.000810     | 0.000736     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 03:03:31.863 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.232679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.489254     | 0.376579     | 0.366846     |
| x          | 0.015521     | 0.013099     | 0.017630     |
| y          | 0.006613     | 0.007521     | 0.020362     |
| w          | 0.026612     | 0.017179     | 0.020846     |
| h          | 0.019177     | 0.010198     | 0.018458     |
| conf       | 0.392412     | 0.294475     | 0.242290     |
| cls        | 0.028919     | 0.034107     | 0.047260     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.869565     | 0.923077     | 0.750000     |
| precision  | 0.534884     | 0.252427     | 0.122271     |
| conf_obj   | 0.921260     | 0.957234     | 0.938729     |
| conf_noobj | 0.001596     | 0.001368     | 0.000876     |
+------------+--------------+--------------+--------------+
2020-12-20 03:04:39.852 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.187508
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.429036     | 0.398553     | 0.359919     |
| x          | 0.015529     | 0.017012     | 0.028978     |
| y          | 0.019341     | 0.040397     | 0.030409     |
| w          | 0.035342     | 0.023788     | 0.011396     |
| h          | 0.034421     | 0.017892     | 0.010972     |
| conf       | 0.232872     | 0.181829     | 0.183232     |
| cls        | 0.091531     | 0.117635     | 0.094932     |
| cls_acc    | 95.83%       | 95.83%       | 96.00%       |
| recall50   | 0.916667     | 0.958333     | 0.960000     |
| recall75   | 0.791667     | 0.791667     | 0.880000     |
| precision  | 0.687500     | 0.389830     | 0.135593     |
| conf_obj   | 0.936975     | 0.955662     | 0.958060     |
| conf_noobj | 0.000772     | 0.000664     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-20 03:05:48.302 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.062133
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.394112     | 0.336575     | 0.331447     |
| x          | 0.027616     | 0.020158     | 0.015742     |
| y          | 0.029058     | 0.011611     | 0.019189     |
| w          | 0.011457     | 0.010685     | 0.006528     |
| h          | 0.012103     | 0.010820     | 0.010159     |
| conf       | 0.311959     | 0.281815     | 0.279253     |
| cls        | 0.001918     | 0.001486     | 0.000576     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.950000     |
| recall75   | 0.900000     | 0.900000     | 0.900000     |
| precision  | 0.642857     | 0.305085     | 0.154472     |
| conf_obj   | 0.902782     | 0.914190     | 0.939547     |
| conf_noobj | 0.000944     | 0.000887     | 0.000664     |
+------------+--------------+--------------+--------------+
2020-12-20 03:06:58.900 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 2.496568
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.737037     | 0.833246     | 0.926285     |
| x          | 0.003120     | 0.018325     | 0.023107     |
| y          | 0.006063     | 0.022975     | 0.046915     |
| w          | 0.031139     | 0.022072     | 0.013943     |
| h          | 0.020961     | 0.011198     | 0.010482     |
| conf       | 0.185877     | 0.319902     | 0.333395     |
| cls        | 0.489878     | 0.438773     | 0.498443     |
| cls_acc    | 91.30%       | 91.67%       | 91.67%       |
| recall50   | 0.869565     | 0.791667     | 0.791667     |
| recall75   | 0.739130     | 0.708333     | 0.708333     |
| precision  | 0.645161     | 0.322034     | 0.138686     |
| conf_obj   | 0.948880     | 0.906112     | 0.893314     |
| conf_noobj | 0.000566     | 0.000519     | 0.000440     |
+------------+--------------+--------------+--------------+
2020-12-20 03:08:05.619 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.629800
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.490160     | 0.553459     | 0.586181     |
| x          | 0.008391     | 0.013552     | 0.024761     |
| y          | 0.017699     | 0.030340     | 0.033742     |
| w          | 0.081565     | 0.061149     | 0.041148     |
| h          | 0.039618     | 0.040998     | 0.038658     |
| conf       | 0.250676     | 0.263126     | 0.170676     |
| cls        | 0.092212     | 0.144293     | 0.277196     |
| cls_acc    | 96.00%       | 92.31%       | 89.29%       |
| recall50   | 0.880000     | 0.846154     | 0.857143     |
| recall75   | 0.800000     | 0.730769     | 0.642857     |
| precision  | 0.666667     | 0.293333     | 0.126316     |
| conf_obj   | 0.902520     | 0.905273     | 0.950972     |
| conf_noobj | 0.000701     | 0.000723     | 0.000576     |
+------------+--------------+--------------+--------------+
2020-12-20 03:09:10.066 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.004563
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.521198     | 0.246230     | 0.237135     |
| x          | 0.016788     | 0.008805     | 0.016790     |
| y          | 0.007280     | 0.012755     | 0.027424     |
| w          | 0.024861     | 0.010080     | 0.007759     |
| h          | 0.015148     | 0.008507     | 0.004649     |
| conf       | 0.445942     | 0.194816     | 0.167149     |
| cls        | 0.011179     | 0.011267     | 0.013364     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.961538     | 0.961538     |
| precision  | 0.705882     | 0.419355     | 0.194030     |
| conf_obj   | 0.911346     | 0.943256     | 0.972695     |
| conf_noobj | 0.000966     | 0.000736     | 0.000683     |
+------------+--------------+--------------+--------------+
2020-12-20 03:10:10.569 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.017223
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.471681     | 0.293947     | 0.251594     |
| x          | 0.002509     | 0.007913     | 0.017354     |
| y          | 0.004492     | 0.007824     | 0.014903     |
| w          | 0.058112     | 0.035916     | 0.015983     |
| h          | 0.090293     | 0.076515     | 0.030444     |
| conf       | 0.313433     | 0.164189     | 0.169071     |
| cls        | 0.002842     | 0.001590     | 0.003840     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.809524     | 0.904762     |
| precision  | 0.588235     | 0.388889     | 0.132911     |
| conf_obj   | 0.924701     | 0.984511     | 0.975256     |
| conf_noobj | 0.001420     | 0.000800     | 0.000724     |
+------------+--------------+--------------+--------------+
2020-12-20 03:11:15.533 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.908250
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.384233     | 0.268783     | 0.255234     |
| x          | 0.004475     | 0.003281     | 0.011890     |
| y          | 0.004496     | 0.005476     | 0.022376     |
| w          | 0.020951     | 0.020481     | 0.011057     |
| h          | 0.008590     | 0.011645     | 0.006623     |
| conf       | 0.340448     | 0.224413     | 0.200368     |
| cls        | 0.005274     | 0.003486     | 0.002921     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 0.956522     |
| precision  | 0.589744     | 0.359375     | 0.136905     |
| conf_obj   | 0.979488     | 0.992363     | 0.987587     |
| conf_noobj | 0.001591     | 0.001052     | 0.000923     |
+------------+--------------+--------------+--------------+
2020-12-20 03:12:16.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.554100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.588437     | 0.519272     | 0.446391     |
| x          | 0.010000     | 0.018620     | 0.024983     |
| y          | 0.012726     | 0.021181     | 0.032670     |
| w          | 0.054278     | 0.052305     | 0.030038     |
| h          | 0.049676     | 0.075654     | 0.048189     |
| conf       | 0.359512     | 0.239800     | 0.238455     |
| cls        | 0.102245     | 0.111711     | 0.072055     |
| cls_acc    | 96.30%       | 96.43%       | 96.43%       |
| recall50   | 0.851852     | 0.964286     | 0.928571     |
| recall75   | 0.703704     | 0.785714     | 0.821429     |
| precision  | 0.605263     | 0.317647     | 0.138298     |
| conf_obj   | 0.879013     | 0.950533     | 0.934074     |
| conf_noobj | 0.001238     | 0.001061     | 0.000853     |
+------------+--------------+--------------+--------------+
2020-12-20 03:13:22.480 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 2.122618
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.819240     | 0.620335     | 0.683043     |
| x          | 0.029512     | 0.022471     | 0.029541     |
| y          | 0.012236     | 0.032699     | 0.044036     |
| w          | 0.036773     | 0.039560     | 0.034949     |
| h          | 0.029996     | 0.027442     | 0.025781     |
| conf       | 0.368938     | 0.206128     | 0.213229     |
| cls        | 0.341785     | 0.292035     | 0.335507     |
| cls_acc    | 83.33%       | 83.33%       | 88.89%       |
| recall50   | 0.833333     | 0.833333     | 0.888889     |
| recall75   | 0.777778     | 0.833333     | 0.833333     |
| precision  | 0.576923     | 0.326087     | 0.152381     |
| conf_obj   | 0.913780     | 0.941236     | 0.933251     |
| conf_noobj | 0.000703     | 0.000588     | 0.000500     |
+------------+--------------+--------------+--------------+
2020-12-20 03:13:25.743 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.169
2020-12-20 03:13:25.747 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 03:14:20.665 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05218   | 0.46341 | 0.09379 | 0.27348 |
| 1     | Wear_helmet | 0.54667   | 0.95833 | 0.69620 | 0.93543 |
| 2     | Total       | 0.29942   | 0.71087 | 0.39500 | 0.60446 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:14:20.666 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.604455811120082
2020-12-20 03:14:20.666 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 03:14:20.666 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.918631

2020-12-20 03:14:21.197 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 2/2, epo 4/5
2020-12-20 03:14:21.197 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 2/2, epo 4/5; time cost: 0:15:11.278952

2020-12-20 03:14:21.197 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 2/2, epo 5/5
2020-12-20 03:14:22.462 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.647823
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.175118     | 0.215912     | 0.256793     |
| x          | 0.002740     | 0.018729     | 0.034515     |
| y          | 0.006222     | 0.014679     | 0.034611     |
| w          | 0.024725     | 0.014638     | 0.017260     |
| h          | 0.017641     | 0.014009     | 0.008280     |
| conf       | 0.118619     | 0.146377     | 0.147692     |
| cls        | 0.005171     | 0.007480     | 0.014435     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.875000     | 0.823529     |
| precision  | 0.761905     | 0.355556     | 0.153153     |
| conf_obj   | 0.979858     | 0.968718     | 0.957511     |
| conf_noobj | 0.000588     | 0.000610     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 03:15:31.285 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.627157
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.208704     | 0.185414     | 0.233039     |
| x          | 0.008629     | 0.007309     | 0.021214     |
| y          | 0.003435     | 0.006436     | 0.020339     |
| w          | 0.016312     | 0.012621     | 0.020956     |
| h          | 0.021478     | 0.018519     | 0.026683     |
| conf       | 0.153077     | 0.132391     | 0.128173     |
| cls        | 0.005772     | 0.008137     | 0.015674     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 1.000000     | 0.866667     |
| precision  | 0.777778     | 0.365854     | 0.159574     |
| conf_obj   | 0.986531     | 0.980377     | 0.976286     |
| conf_noobj | 0.000742     | 0.000598     | 0.000494     |
+------------+--------------+--------------+--------------+
2020-12-20 03:16:29.013 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.716182
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.243124     | 0.216019     | 0.257038     |
| x          | 0.013292     | 0.013562     | 0.024149     |
| y          | 0.009378     | 0.007201     | 0.025823     |
| w          | 0.030384     | 0.020807     | 0.013906     |
| h          | 0.020689     | 0.018136     | 0.012596     |
| conf       | 0.151611     | 0.152933     | 0.177406     |
| cls        | 0.017770     | 0.003379     | 0.003157     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.884615     | 0.923077     |
| precision  | 0.833333     | 0.472727     | 0.224138     |
| conf_obj   | 0.953636     | 0.953071     | 0.942681     |
| conf_noobj | 0.000544     | 0.000544     | 0.000531     |
+------------+--------------+--------------+--------------+
2020-12-20 03:17:30.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 3.097083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.212605     | 0.963933     | 0.920545     |
| x          | 0.011710     | 0.016445     | 0.023589     |
| y          | 0.011989     | 0.020457     | 0.039869     |
| w          | 0.036303     | 0.022722     | 0.015954     |
| h          | 0.015548     | 0.021741     | 0.015994     |
| conf       | 0.985787     | 0.728920     | 0.758715     |
| cls        | 0.151269     | 0.153649     | 0.066424     |
| cls_acc    | 95.24%       | 95.24%       | 95.24%       |
| recall50   | 0.809524     | 0.952381     | 0.904762     |
| recall75   | 0.761905     | 0.809524     | 0.857143     |
| precision  | 0.629630     | 0.370370     | 0.131944     |
| conf_obj   | 0.825930     | 0.903834     | 0.894195     |
| conf_noobj | 0.000801     | 0.000665     | 0.000599     |
+------------+--------------+--------------+--------------+
2020-12-20 03:18:39.992 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.053663
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.474286     | 0.295602     | 0.283775     |
| x          | 0.031324     | 0.003197     | 0.013107     |
| y          | 0.008522     | 0.014696     | 0.032130     |
| w          | 0.023990     | 0.028821     | 0.020814     |
| h          | 0.022616     | 0.017948     | 0.011858     |
| conf       | 0.376517     | 0.220214     | 0.183337     |
| cls        | 0.011315     | 0.010726     | 0.022529     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.960000     | 0.960000     |
| recall75   | 0.826087     | 0.920000     | 0.880000     |
| precision  | 0.645161     | 0.387097     | 0.155844     |
| conf_obj   | 0.882172     | 0.930424     | 0.941557     |
| conf_noobj | 0.000670     | 0.000614     | 0.000535     |
+------------+--------------+--------------+--------------+
2020-12-20 03:19:45.942 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.690410
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.233220     | 0.227571     | 0.229619     |
| x          | 0.007516     | 0.019371     | 0.022338     |
| y          | 0.010214     | 0.016898     | 0.029162     |
| w          | 0.017117     | 0.024096     | 0.004697     |
| h          | 0.025412     | 0.028434     | 0.016115     |
| conf       | 0.166021     | 0.132074     | 0.151891     |
| cls        | 0.006940     | 0.006699     | 0.005416     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.769231     | 0.807692     | 0.923077     |
| precision  | 0.722222     | 0.388060     | 0.161491     |
| conf_obj   | 0.951391     | 0.978907     | 0.969823     |
| conf_noobj | 0.000686     | 0.000635     | 0.000615     |
+------------+--------------+--------------+--------------+
2020-12-20 03:20:48.532 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.352591
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.474807     | 0.425042     | 0.452741     |
| x          | 0.007652     | 0.012428     | 0.046222     |
| y          | 0.008873     | 0.009469     | 0.051697     |
| w          | 0.042511     | 0.019091     | 0.007608     |
| h          | 0.049330     | 0.027721     | 0.021662     |
| conf       | 0.213214     | 0.240809     | 0.257557     |
| cls        | 0.153228     | 0.115524     | 0.067996     |
| cls_acc    | 90.91%       | 91.30%       | 95.65%       |
| recall50   | 0.909091     | 0.869565     | 0.913043     |
| recall75   | 0.818182     | 0.826087     | 0.869565     |
| precision  | 0.526316     | 0.312500     | 0.117318     |
| conf_obj   | 0.950957     | 0.925584     | 0.936430     |
| conf_noobj | 0.000978     | 0.000695     | 0.000637     |
+------------+--------------+--------------+--------------+
2020-12-20 03:21:56.466 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.374820
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.355876     | 0.431343     | 0.587601     |
| x          | 0.018263     | 0.013186     | 0.024402     |
| y          | 0.024731     | 0.016336     | 0.023131     |
| w          | 0.024357     | 0.029952     | 0.023214     |
| h          | 0.013214     | 0.012259     | 0.020137     |
| conf       | 0.263780     | 0.354040     | 0.488591     |
| cls        | 0.011531     | 0.005569     | 0.008126     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.962963     | 0.962963     |
| recall75   | 0.769231     | 0.888889     | 0.814815     |
| precision  | 0.718750     | 0.440678     | 0.161491     |
| conf_obj   | 0.896256     | 0.928174     | 0.925911     |
| conf_noobj | 0.000724     | 0.000604     | 0.000652     |
+------------+--------------+--------------+--------------+
2020-12-20 03:23:05.632 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.093048
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.545552     | 0.337425     | 0.210071     |
| x          | 0.004333     | 0.005817     | 0.019101     |
| y          | 0.004355     | 0.008324     | 0.037950     |
| w          | 0.014878     | 0.010205     | 0.007233     |
| h          | 0.014368     | 0.012825     | 0.005796     |
| conf       | 0.505061     | 0.298427     | 0.137769     |
| cls        | 0.002557     | 0.001828     | 0.002220     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.882353     | 1.000000     |
| recall75   | 0.823529     | 0.882353     | 1.000000     |
| precision  | 0.681818     | 0.384615     | 0.186813     |
| conf_obj   | 0.841478     | 0.866781     | 0.941231     |
| conf_noobj | 0.000552     | 0.000407     | 0.000352     |
+------------+--------------+--------------+--------------+
2020-12-20 03:24:11.443 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.552771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.555229     | 0.611164     | 0.386378     |
| x          | 0.009201     | 0.017843     | 0.042861     |
| y          | 0.019313     | 0.016849     | 0.040099     |
| w          | 0.032818     | 0.025027     | 0.014446     |
| h          | 0.032433     | 0.026800     | 0.018633     |
| conf       | 0.455804     | 0.513364     | 0.261301     |
| cls        | 0.005661     | 0.011282     | 0.009038     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.920000     | 0.960000     |
| recall75   | 0.760000     | 0.840000     | 0.800000     |
| precision  | 0.511111     | 0.306667     | 0.107143     |
| conf_obj   | 0.886661     | 0.869804     | 0.923820     |
| conf_noobj | 0.001262     | 0.000874     | 0.000803     |
+------------+--------------+--------------+--------------+
2020-12-20 03:25:12.427 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.468865
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.597768     | 0.413649     | 0.457447     |
| x          | 0.004946     | 0.025404     | 0.037915     |
| y          | 0.007105     | 0.009911     | 0.023754     |
| w          | 0.058053     | 0.038883     | 0.033172     |
| h          | 0.045880     | 0.035136     | 0.034425     |
| conf       | 0.448886     | 0.288405     | 0.320638     |
| cls        | 0.032899     | 0.015911     | 0.007543     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.911765     | 0.944444     |
| recall75   | 0.812500     | 0.794118     | 0.722222     |
| precision  | 0.823529     | 0.553571     | 0.219355     |
| conf_obj   | 0.856323     | 0.892393     | 0.912164     |
| conf_noobj | 0.000785     | 0.000764     | 0.000732     |
+------------+--------------+--------------+--------------+
2020-12-20 03:26:22.712 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.459388
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.108818     | 0.176039     | 0.174532     |
| x          | 0.003829     | 0.009749     | 0.016541     |
| y          | 0.005495     | 0.007844     | 0.032648     |
| w          | 0.017379     | 0.008016     | 0.010465     |
| h          | 0.009994     | 0.012853     | 0.008054     |
| conf       | 0.068759     | 0.135974     | 0.104468     |
| cls        | 0.003361     | 0.001604     | 0.002357     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.875000     | 0.875000     |
| precision  | 0.941176     | 0.380952     | 0.145455     |
| conf_obj   | 0.977775     | 0.970759     | 0.991160     |
| conf_noobj | 0.000378     | 0.000565     | 0.000517     |
+------------+--------------+--------------+--------------+
2020-12-20 03:27:26.485 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.184324
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.752034     | 0.725173     | 0.707117     |
| x          | 0.023553     | 0.024913     | 0.046136     |
| y          | 0.011132     | 0.024077     | 0.053363     |
| w          | 0.099712     | 0.027130     | 0.027976     |
| h          | 0.083038     | 0.018867     | 0.034144     |
| conf       | 0.481719     | 0.571363     | 0.482542     |
| cls        | 0.052880     | 0.058824     | 0.062956     |
| cls_acc    | 100.00%      | 95.83%       | 95.83%       |
| recall50   | 0.954545     | 0.875000     | 0.833333     |
| recall75   | 0.636364     | 0.666667     | 0.625000     |
| precision  | 0.617647     | 0.291667     | 0.105820     |
| conf_obj   | 0.849374     | 0.860078     | 0.858845     |
| conf_noobj | 0.001071     | 0.000888     | 0.000751     |
+------------+--------------+--------------+--------------+
2020-12-20 03:28:34.999 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.768709
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.642868     | 0.600232     | 0.525609     |
| x          | 0.019067     | 0.011331     | 0.033954     |
| y          | 0.013968     | 0.010531     | 0.023383     |
| w          | 0.059416     | 0.019775     | 0.010319     |
| h          | 0.069985     | 0.030079     | 0.014862     |
| conf       | 0.293777     | 0.364455     | 0.273583     |
| cls        | 0.186655     | 0.164061     | 0.169508     |
| cls_acc    | 96.00%       | 92.31%       | 92.31%       |
| recall50   | 0.880000     | 0.884615     | 0.884615     |
| recall75   | 0.800000     | 0.846154     | 0.846154     |
| precision  | 0.647059     | 0.348485     | 0.156463     |
| conf_obj   | 0.916995     | 0.897757     | 0.924246     |
| conf_noobj | 0.001024     | 0.000877     | 0.000691     |
+------------+--------------+--------------+--------------+
2020-12-20 03:28:38.256 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.152
2020-12-20 03:28:38.260 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 03:29:32.271 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08752   | 0.46690 | 0.14741 | 0.26648 |
| 1     | Wear_helmet | 0.55769   | 0.96918 | 0.70799 | 0.93971 |
| 2     | Total       | 0.32261   | 0.71804 | 0.42770 | 0.60310 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:29:32.272 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6030956502348929
2020-12-20 03:29:32.272 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 03:29:32.272 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.011725

2020-12-20 03:29:32.821 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 2/2, epo 5/5
2020-12-20 03:29:32.821 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 2/2, epo 5/5; time cost: 0:15:11.623888

2020-12-20 03:29:32.821 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 1.217
2020-12-20 03:29:33.032 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 03:33:47.824 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10702   | 0.61115 | 0.18214 | 0.44726 |
| 1     | Wear_helmet | 0.46583   | 0.91867 | 0.61820 | 0.86783 |
| 2     | Total       | 0.28642   | 0.76491 | 0.40017 | 0.65754 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:33:47.824 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6575446181358455
2020-12-20 03:33:47.824 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 03:33:47.824 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:14.791843

2020-12-20 03:34:53.304 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 9!
2020-12-20 03:34:53.539 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 2/2, epo 1/5
2020-12-20 03:34:55.357 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.657011
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.676484     | 0.522282     | 0.458245     |
| x          | 0.014275     | 0.027689     | 0.022939     |
| y          | 0.009457     | 0.020558     | 0.031914     |
| w          | 0.027353     | 0.018601     | 0.011730     |
| h          | 0.025398     | 0.022251     | 0.013967     |
| conf       | 0.421929     | 0.361061     | 0.266841     |
| cls        | 0.178072     | 0.072122     | 0.110854     |
| cls_acc    | 95.83%       | 96.15%       | 96.15%       |
| recall50   | 0.791667     | 0.807692     | 0.846154     |
| recall75   | 0.666667     | 0.730769     | 0.730769     |
| precision  | 0.633333     | 0.280000     | 0.103774     |
| conf_obj   | 0.878464     | 0.884216     | 0.910008     |
| conf_noobj | 0.001113     | 0.000889     | 0.000767     |
+------------+--------------+--------------+--------------+
2020-12-20 03:36:06.932 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.008292
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.344922     | 0.283643     | 0.379727     |
| x          | 0.004439     | 0.014233     | 0.067975     |
| y          | 0.007145     | 0.007395     | 0.031766     |
| w          | 0.019544     | 0.009690     | 0.008666     |
| h          | 0.008704     | 0.010460     | 0.011662     |
| conf       | 0.296104     | 0.234406     | 0.251615     |
| cls        | 0.008987     | 0.007458     | 0.008043     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.947368     | 0.947368     | 0.947368     |
| precision  | 0.562500     | 0.272727     | 0.136364     |
| conf_obj   | 0.921517     | 0.925736     | 0.918347     |
| conf_noobj | 0.001033     | 0.000791     | 0.000574     |
+------------+--------------+--------------+--------------+
2020-12-20 03:37:09.665 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.629116
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.252911     | 0.177954     | 0.198250     |
| x          | 0.021707     | 0.011884     | 0.009849     |
| y          | 0.003754     | 0.004716     | 0.014759     |
| w          | 0.014709     | 0.019993     | 0.021101     |
| h          | 0.017062     | 0.009858     | 0.010454     |
| conf       | 0.191939     | 0.127468     | 0.136998     |
| cls        | 0.003740     | 0.004035     | 0.005090     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.956522     | 0.913043     |
| precision  | 0.633333     | 0.450980     | 0.193277     |
| conf_obj   | 0.967039     | 0.982425     | 0.978200     |
| conf_noobj | 0.000921     | 0.000598     | 0.000586     |
+------------+--------------+--------------+--------------+
2020-12-20 03:38:11.928 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.036547
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.418230     | 0.267479     | 0.350838     |
| x          | 0.004385     | 0.010580     | 0.032631     |
| y          | 0.006918     | 0.023414     | 0.048053     |
| w          | 0.014945     | 0.016785     | 0.005246     |
| h          | 0.010190     | 0.012548     | 0.008770     |
| conf       | 0.353866     | 0.196653     | 0.239925     |
| cls        | 0.027926     | 0.007500     | 0.016212     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.954545     | 0.909091     |
| recall75   | 0.909091     | 0.954545     | 0.863636     |
| precision  | 0.606061     | 0.344262     | 0.127389     |
| conf_obj   | 0.885975     | 0.940716     | 0.916433     |
| conf_noobj | 0.001036     | 0.000740     | 0.000647     |
+------------+--------------+--------------+--------------+
2020-12-20 03:39:21.747 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.298427
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.437331     | 0.388210     | 0.472886     |
| x          | 0.012197     | 0.025335     | 0.029296     |
| y          | 0.009434     | 0.017835     | 0.040593     |
| w          | 0.022191     | 0.018175     | 0.019164     |
| h          | 0.031774     | 0.020066     | 0.018279     |
| conf       | 0.338638     | 0.291311     | 0.358249     |
| cls        | 0.023097     | 0.015488     | 0.007305     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 0.950000     |
| recall75   | 0.850000     | 0.850000     | 0.900000     |
| precision  | 0.678571     | 0.365385     | 0.128378     |
| conf_obj   | 0.890978     | 0.915029     | 0.896742     |
| conf_noobj | 0.001107     | 0.000977     | 0.000801     |
+------------+--------------+--------------+--------------+
2020-12-20 03:40:23.236 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.981087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.371831     | 0.291156     | 0.318100     |
| x          | 0.006447     | 0.010496     | 0.010694     |
| y          | 0.003095     | 0.007295     | 0.018535     |
| w          | 0.023414     | 0.015507     | 0.005786     |
| h          | 0.020445     | 0.013476     | 0.008993     |
| conf       | 0.286496     | 0.215127     | 0.263385     |
| cls        | 0.031934     | 0.029255     | 0.010708     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 0.956522     |
| recall75   | 0.909091     | 0.909091     | 0.956522     |
| precision  | 0.656250     | 0.420000     | 0.171875     |
| conf_obj   | 0.917231     | 0.937105     | 0.932484     |
| conf_noobj | 0.001020     | 0.000757     | 0.000596     |
+------------+--------------+--------------+--------------+
2020-12-20 03:41:28.429 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.991413
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.682852     | 0.632170     | 0.676391     |
| x          | 0.011629     | 0.022394     | 0.048931     |
| y          | 0.015098     | 0.018134     | 0.035466     |
| w          | 0.060439     | 0.050516     | 0.021772     |
| h          | 0.057855     | 0.055599     | 0.038461     |
| conf       | 0.362300     | 0.349560     | 0.338139     |
| cls        | 0.175531     | 0.135967     | 0.193623     |
| cls_acc    | 94.87%       | 95.12%       | 92.68%       |
| recall50   | 0.820513     | 0.902439     | 0.878049     |
| recall75   | 0.743590     | 0.829268     | 0.756098     |
| precision  | 0.615385     | 0.402174     | 0.171429     |
| conf_obj   | 0.873524     | 0.929277     | 0.924382     |
| conf_noobj | 0.001123     | 0.000824     | 0.000749     |
+------------+--------------+--------------+--------------+
2020-12-20 03:42:38.965 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.549565
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.163592     | 0.184712     | 0.201261     |
| x          | 0.023902     | 0.022731     | 0.021188     |
| y          | 0.003341     | 0.011397     | 0.019651     |
| w          | 0.012380     | 0.014152     | 0.012563     |
| h          | 0.011914     | 0.009502     | 0.014157     |
| conf       | 0.093664     | 0.119238     | 0.128058     |
| cls        | 0.018390     | 0.007693     | 0.005644     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.954545     | 1.000000     |
| recall75   | 0.800000     | 0.863636     | 0.916667     |
| precision  | 0.703704     | 0.396226     | 0.190476     |
| conf_obj   | 0.992390     | 0.973614     | 0.979128     |
| conf_noobj | 0.000509     | 0.000486     | 0.000508     |
+------------+--------------+--------------+--------------+
2020-12-20 03:43:39.204 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.735607
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.251620     | 0.228683     | 0.255304     |
| x          | 0.004529     | 0.016151     | 0.040795     |
| y          | 0.003946     | 0.014134     | 0.036764     |
| w          | 0.018786     | 0.005581     | 0.005689     |
| h          | 0.005915     | 0.006157     | 0.005348     |
| conf       | 0.216190     | 0.184480     | 0.164486     |
| cls        | 0.002254     | 0.002180     | 0.002222     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 1.000000     |
| precision  | 0.607143     | 0.333333     | 0.121429     |
| conf_obj   | 0.960941     | 0.946971     | 0.951548     |
| conf_noobj | 0.000866     | 0.000669     | 0.000585     |
+------------+--------------+--------------+--------------+
2020-12-20 03:44:44.167 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.917460
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.645924     | 0.582969     | 0.688568     |
| x          | 0.010824     | 0.019040     | 0.051403     |
| y          | 0.008061     | 0.024540     | 0.047551     |
| w          | 0.067211     | 0.090452     | 0.054661     |
| h          | 0.034646     | 0.046274     | 0.033716     |
| conf       | 0.403517     | 0.284633     | 0.208663     |
| cls        | 0.121665     | 0.118029     | 0.292572     |
| cls_acc    | 94.74%       | 95.24%       | 90.48%       |
| recall50   | 0.894737     | 0.904762     | 0.761905     |
| recall75   | 0.789474     | 0.619048     | 0.523810     |
| precision  | 0.472222     | 0.322034     | 0.107383     |
| conf_obj   | 0.892577     | 0.905059     | 0.924062     |
| conf_noobj | 0.001244     | 0.000709     | 0.000571     |
+------------+--------------+--------------+--------------+
2020-12-20 03:45:48.604 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.549510
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.708123     | 0.455053     | 0.386333     |
| x          | 0.008607     | 0.005144     | 0.015485     |
| y          | 0.022998     | 0.019406     | 0.030062     |
| w          | 0.064562     | 0.054975     | 0.020123     |
| h          | 0.046908     | 0.030608     | 0.011065     |
| conf       | 0.497005     | 0.295836     | 0.273736     |
| cls        | 0.068042     | 0.049085     | 0.035862     |
| cls_acc    | 96.67%       | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.933333     | 0.933333     |
| recall75   | 0.766667     | 0.766667     | 0.833333     |
| precision  | 0.675676     | 0.451613     | 0.187919     |
| conf_obj   | 0.863173     | 0.913637     | 0.921031     |
| conf_noobj | 0.001089     | 0.000783     | 0.000792     |
+------------+--------------+--------------+--------------+
2020-12-20 03:46:49.993 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.198182
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.510570     | 0.358582     | 0.329030     |
| x          | 0.006664     | 0.026988     | 0.027712     |
| y          | 0.003822     | 0.007874     | 0.049956     |
| w          | 0.021505     | 0.016461     | 0.009346     |
| h          | 0.034021     | 0.023219     | 0.016157     |
| conf       | 0.345282     | 0.243034     | 0.206487     |
| cls        | 0.099276     | 0.041005     | 0.019372     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 1.000000     |
| recall75   | 0.840000     | 0.807692     | 0.777778     |
| precision  | 0.600000     | 0.304878     | 0.134328     |
| conf_obj   | 0.924525     | 0.934191     | 0.956665     |
| conf_noobj | 0.001184     | 0.000895     | 0.000823     |
+------------+--------------+--------------+--------------+
2020-12-20 03:47:52.821 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.005730
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.330343     | 0.368716     | 0.306671     |
| x          | 0.018223     | 0.015489     | 0.018412     |
| y          | 0.003521     | 0.007500     | 0.031904     |
| w          | 0.016821     | 0.009201     | 0.009331     |
| h          | 0.010144     | 0.018394     | 0.009780     |
| conf       | 0.257705     | 0.275817     | 0.208346     |
| cls        | 0.023929     | 0.042315     | 0.028897     |
| cls_acc    | 100.00%      | 95.83%       | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 1.000000     |
| recall75   | 0.954545     | 0.875000     | 0.916667     |
| precision  | 0.617647     | 0.333333     | 0.160000     |
| conf_obj   | 0.931479     | 0.922353     | 0.958113     |
| conf_noobj | 0.001030     | 0.001016     | 0.000847     |
+------------+--------------+--------------+--------------+
2020-12-20 03:48:52.434 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.883973
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.348671     | 0.236231     | 0.299072     |
| x          | 0.007186     | 0.011327     | 0.031432     |
| y          | 0.022673     | 0.012104     | 0.014746     |
| w          | 0.019675     | 0.016357     | 0.010837     |
| h          | 0.015534     | 0.017168     | 0.017439     |
| conf       | 0.281306     | 0.175978     | 0.220177     |
| cls        | 0.002297     | 0.003297     | 0.004440     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 1.000000     | 0.964286     |
| recall75   | 0.769231     | 0.821429     | 0.892857     |
| precision  | 0.718750     | 0.424242     | 0.161677     |
| conf_obj   | 0.912632     | 0.957278     | 0.924248     |
| conf_noobj | 0.000855     | 0.000735     | 0.000652     |
+------------+--------------+--------------+--------------+
2020-12-20 03:48:56.023 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.233
2020-12-20 03:48:56.027 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 03:49:59.448 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12091   | 0.46341 | 0.19178 | 0.32785 |
| 1     | Wear_helmet | 0.54789   | 0.96571 | 0.69914 | 0.94136 |
| 2     | Total       | 0.33440   | 0.71456 | 0.44546 | 0.63460 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:49:59.449 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6346028754815495
2020-12-20 03:49:59.450 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 03:49:59.450 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:03.422454

2020-12-20 03:49:59.912 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 2/2, epo 1/5
2020-12-20 03:49:59.912 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 2/2, epo 1/5; time cost: 0:15:06.372926

2020-12-20 03:49:59.912 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 2/2, epo 2/5
2020-12-20 03:50:01.276 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.076045
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.359013     | 0.323246     | 0.393786     |
| x          | 0.010961     | 0.011491     | 0.037707     |
| y          | 0.003529     | 0.015541     | 0.036399     |
| w          | 0.018237     | 0.014159     | 0.024191     |
| h          | 0.018759     | 0.014896     | 0.020860     |
| conf       | 0.269697     | 0.212070     | 0.188347     |
| cls        | 0.037830     | 0.055089     | 0.086281     |
| cls_acc    | 96.55%       | 96.67%       | 96.67%       |
| recall50   | 0.931035     | 0.966667     | 0.966667     |
| recall75   | 0.896552     | 0.866667     | 0.800000     |
| precision  | 0.710526     | 0.367089     | 0.182390     |
| conf_obj   | 0.921916     | 0.935847     | 0.949961     |
| conf_noobj | 0.000949     | 0.000780     | 0.000607     |
+------------+--------------+--------------+--------------+
2020-12-20 03:51:02.448 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.138628
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.497537     | 0.360134     | 0.280957     |
| x          | 0.004007     | 0.007093     | 0.024827     |
| y          | 0.007734     | 0.017918     | 0.040917     |
| w          | 0.047877     | 0.035030     | 0.026672     |
| h          | 0.035132     | 0.025057     | 0.015713     |
| conf       | 0.396793     | 0.266695     | 0.159217     |
| cls        | 0.005995     | 0.008341     | 0.013610     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.961538     | 0.962963     |
| recall75   | 0.791667     | 0.846154     | 0.851852     |
| precision  | 0.666667     | 0.480769     | 0.230089     |
| conf_obj   | 0.850647     | 0.889112     | 0.953903     |
| conf_noobj | 0.000856     | 0.000651     | 0.000556     |
+------------+--------------+--------------+--------------+
2020-12-20 03:52:05.232 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.946040
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.343165     | 0.316826     | 0.286049     |
| x          | 0.006462     | 0.009075     | 0.033800     |
| y          | 0.005693     | 0.012427     | 0.037876     |
| w          | 0.021795     | 0.013393     | 0.003437     |
| h          | 0.013080     | 0.007487     | 0.008785     |
| conf       | 0.283876     | 0.200244     | 0.121225     |
| cls        | 0.012260     | 0.074199     | 0.080927     |
| cls_acc    | 100.00%      | 95.83%       | 95.83%       |
| recall50   | 1.000000     | 0.958333     | 0.958333     |
| recall75   | 0.958333     | 0.958333     | 0.916667     |
| precision  | 0.600000     | 0.343284     | 0.164286     |
| conf_obj   | 0.947013     | 0.950831     | 0.978241     |
| conf_noobj | 0.001263     | 0.000720     | 0.000474     |
+------------+--------------+--------------+--------------+
2020-12-20 03:53:06.375 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.076151
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.375908     | 0.388799     | 0.311444     |
| x          | 0.012891     | 0.012847     | 0.017262     |
| y          | 0.004904     | 0.015451     | 0.024903     |
| w          | 0.036850     | 0.038967     | 0.023869     |
| h          | 0.017416     | 0.027766     | 0.016763     |
| conf       | 0.276354     | 0.265446     | 0.202958     |
| cls        | 0.027493     | 0.028323     | 0.025689     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.925926     | 0.962963     |
| recall75   | 0.807692     | 0.740741     | 0.740741     |
| precision  | 0.750000     | 0.423729     | 0.183099     |
| conf_obj   | 0.907009     | 0.923077     | 0.945091     |
| conf_noobj | 0.000878     | 0.000738     | 0.000683     |
+------------+--------------+--------------+--------------+
2020-12-20 03:54:09.225 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.523415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.452862     | 0.492446     | 0.578107     |
| x          | 0.006158     | 0.019869     | 0.037911     |
| y          | 0.016173     | 0.020834     | 0.026450     |
| w          | 0.039091     | 0.021259     | 0.018032     |
| h          | 0.034250     | 0.014142     | 0.021266     |
| conf       | 0.240513     | 0.271245     | 0.325133     |
| cls        | 0.116677     | 0.145098     | 0.149316     |
| cls_acc    | 92.31%       | 89.29%       | 89.66%       |
| recall50   | 0.846154     | 0.857143     | 0.862069     |
| recall75   | 0.807692     | 0.714286     | 0.758621     |
| precision  | 0.666667     | 0.400000     | 0.182482     |
| conf_obj   | 0.933699     | 0.929272     | 0.911938     |
| conf_noobj | 0.000712     | 0.000636     | 0.000552     |
+------------+--------------+--------------+--------------+
2020-12-20 03:55:11.442 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.375590
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.493974     | 0.398513     | 0.483102     |
| x          | 0.007035     | 0.020749     | 0.029839     |
| y          | 0.003896     | 0.014430     | 0.028444     |
| w          | 0.042765     | 0.027772     | 0.015532     |
| h          | 0.029770     | 0.020393     | 0.015714     |
| conf       | 0.341065     | 0.259902     | 0.232758     |
| cls        | 0.069443     | 0.055267     | 0.160815     |
| cls_acc    | 95.45%       | 95.45%       | 90.91%       |
| recall50   | 0.818182     | 0.909091     | 0.863636     |
| recall75   | 0.636364     | 0.772727     | 0.727273     |
| precision  | 0.692308     | 0.333333     | 0.136691     |
| conf_obj   | 0.881250     | 0.918977     | 0.931170     |
| conf_noobj | 0.000858     | 0.000916     | 0.000758     |
+------------+--------------+--------------+--------------+
2020-12-20 03:56:15.216 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.659686
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.216438     | 0.259138     | 0.184110     |
| x          | 0.005098     | 0.012398     | 0.024742     |
| y          | 0.003497     | 0.013616     | 0.031801     |
| w          | 0.015502     | 0.005383     | 0.001994     |
| h          | 0.015586     | 0.007163     | 0.003841     |
| conf       | 0.175441     | 0.219392     | 0.119786     |
| cls        | 0.001314     | 0.001186     | 0.001947     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.928571     | 1.000000     |
| recall75   | 1.000000     | 0.928571     | 1.000000     |
| precision  | 0.666667     | 0.254902     | 0.141414     |
| conf_obj   | 0.953928     | 0.915050     | 0.963205     |
| conf_noobj | 0.000734     | 0.000568     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 03:57:19.572 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.966136
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.367259     | 0.317089     | 0.281789     |
| x          | 0.016874     | 0.013992     | 0.009985     |
| y          | 0.012103     | 0.011119     | 0.031387     |
| w          | 0.015320     | 0.018612     | 0.013596     |
| h          | 0.016349     | 0.017819     | 0.014836     |
| conf       | 0.286833     | 0.246888     | 0.207784     |
| cls        | 0.019780     | 0.008659     | 0.004201     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.961538     | 0.962963     |
| recall75   | 0.708333     | 0.807692     | 0.888889     |
| precision  | 0.807692     | 0.438596     | 0.198473     |
| conf_obj   | 0.912411     | 0.937107     | 0.948658     |
| conf_noobj | 0.000748     | 0.000792     | 0.000714     |
+------------+--------------+--------------+--------------+
2020-12-20 03:58:20.321 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.803537
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.774859     | 0.464969     | 0.563709     |
| x          | 0.006997     | 0.022581     | 0.047157     |
| y          | 0.014618     | 0.023361     | 0.079439     |
| w          | 0.021288     | 0.017146     | 0.006546     |
| h          | 0.019428     | 0.012050     | 0.010647     |
| conf       | 0.697438     | 0.374758     | 0.412530     |
| cls        | 0.015089     | 0.015074     | 0.007391     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.904762     | 0.904762     |
| recall75   | 0.809524     | 0.904762     | 0.857143     |
| precision  | 0.514286     | 0.246753     | 0.098446     |
| conf_obj   | 0.815784     | 0.899101     | 0.885725     |
| conf_noobj | 0.001367     | 0.000951     | 0.000738     |
+------------+--------------+--------------+--------------+
2020-12-20 03:59:27.725 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.755914
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.355226     | 0.225885     | 0.174802     |
| x          | 0.004691     | 0.004927     | 0.011528     |
| y          | 0.006483     | 0.010244     | 0.023512     |
| w          | 0.006927     | 0.006138     | 0.004495     |
| h          | 0.005207     | 0.005696     | 0.002469     |
| conf       | 0.328341     | 0.195561     | 0.130472     |
| cls        | 0.003579     | 0.003320     | 0.002326     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 1.000000     | 0.954545     |
| precision  | 0.617647     | 0.392857     | 0.173228     |
| conf_obj   | 0.890912     | 0.952006     | 0.981674     |
| conf_noobj | 0.000996     | 0.000627     | 0.000509     |
+------------+--------------+--------------+--------------+
2020-12-20 04:00:35.388 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.146853
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.465450     | 0.328944     | 0.352459     |
| x          | 0.017101     | 0.011587     | 0.023307     |
| y          | 0.011733     | 0.007655     | 0.027745     |
| w          | 0.061671     | 0.023828     | 0.012939     |
| h          | 0.042845     | 0.011205     | 0.004901     |
| conf       | 0.214076     | 0.159648     | 0.218916     |
| cls        | 0.118025     | 0.115021     | 0.064651     |
| cls_acc    | 94.44%       | 94.74%       | 94.74%       |
| recall50   | 0.944444     | 0.947368     | 0.894737     |
| recall75   | 0.833333     | 0.842105     | 0.789474     |
| precision  | 0.607143     | 0.375000     | 0.161905     |
| conf_obj   | 0.937263     | 0.947710     | 0.939255     |
| conf_noobj | 0.000775     | 0.000546     | 0.000462     |
+------------+--------------+--------------+--------------+
2020-12-20 04:01:38.258 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.524546
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.572330     | 0.507252     | 0.444965     |
| x          | 0.020677     | 0.009610     | 0.018488     |
| y          | 0.006198     | 0.015045     | 0.022697     |
| w          | 0.032500     | 0.030905     | 0.023118     |
| h          | 0.050741     | 0.051651     | 0.036491     |
| conf       | 0.368680     | 0.333002     | 0.315144     |
| cls        | 0.093533     | 0.067039     | 0.029027     |
| cls_acc    | 96.67%       | 96.67%       | 100.00%      |
| recall50   | 0.866667     | 0.933333     | 0.966667     |
| recall75   | 0.833333     | 0.866667     | 0.900000     |
| precision  | 0.764706     | 0.437500     | 0.168605     |
| conf_obj   | 0.884271     | 0.905069     | 0.908565     |
| conf_noobj | 0.000709     | 0.000614     | 0.000619     |
+------------+--------------+--------------+--------------+
2020-12-20 04:02:47.471 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.823193
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.703021     | 0.574050     | 0.546122     |
| x          | 0.027639     | 0.021814     | 0.030719     |
| y          | 0.015661     | 0.027141     | 0.026006     |
| w          | 0.027355     | 0.016076     | 0.012451     |
| h          | 0.030301     | 0.021502     | 0.014773     |
| conf       | 0.407424     | 0.302799     | 0.343196     |
| cls        | 0.194641     | 0.184718     | 0.118977     |
| cls_acc    | 93.55%       | 93.94%       | 96.97%       |
| recall50   | 0.741935     | 0.909091     | 0.909091     |
| recall75   | 0.677419     | 0.727273     | 0.757576     |
| precision  | 0.534884     | 0.252101     | 0.107143     |
| conf_obj   | 0.883609     | 0.940916     | 0.898815     |
| conf_noobj | 0.001030     | 0.001203     | 0.000934     |
+------------+--------------+--------------+--------------+
2020-12-20 04:03:56.526 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.636142
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.242824     | 0.213512     | 0.179807     |
| x          | 0.002068     | 0.010045     | 0.020652     |
| y          | 0.004150     | 0.015402     | 0.022567     |
| w          | 0.010029     | 0.008340     | 0.007569     |
| h          | 0.018068     | 0.020045     | 0.010649     |
| conf       | 0.191359     | 0.151650     | 0.112767     |
| cls        | 0.017150     | 0.008030     | 0.005603     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.620690     | 0.310345     | 0.136364     |
| conf_obj   | 0.953213     | 0.974893     | 0.982317     |
| conf_noobj | 0.000866     | 0.000695     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-20 04:04:00.634 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.141
2020-12-20 04:04:00.637 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 04:04:54.900 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06236   | 0.57491 | 0.11251 | 0.32309 |
| 1     | Wear_helmet | 0.54242   | 0.96571 | 0.69466 | 0.94167 |
| 2     | Total       | 0.30239   | 0.77031 | 0.40359 | 0.63238 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:04:54.900 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6323789462185274
2020-12-20 04:04:54.901 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 04:04:54.901 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.264103

2020-12-20 04:04:55.363 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 2/2, epo 2/5
2020-12-20 04:04:55.364 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 2/2, epo 2/5; time cost: 0:14:55.450666

2020-12-20 04:04:55.364 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 2/2, epo 3/5
2020-12-20 04:04:56.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.110840
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.416741     | 0.310950     | 0.383149     |
| x          | 0.012004     | 0.008425     | 0.028729     |
| y          | 0.012430     | 0.019611     | 0.012530     |
| w          | 0.018178     | 0.012002     | 0.006513     |
| h          | 0.017231     | 0.009949     | 0.009373     |
| conf       | 0.319019     | 0.240188     | 0.289340     |
| cls        | 0.037878     | 0.020775     | 0.036664     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 0.956522     | 1.000000     | 0.869565     |
| recall75   | 0.913043     | 0.956522     | 0.826087     |
| precision  | 0.536585     | 0.277108     | 0.111732     |
| conf_obj   | 0.926725     | 0.952717     | 0.899081     |
| conf_noobj | 0.001288     | 0.000991     | 0.000732     |
+------------+--------------+--------------+--------------+
2020-12-20 04:06:09.296 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.427962
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.129919     | 0.139525     | 0.158518     |
| x          | 0.004776     | 0.006522     | 0.018679     |
| y          | 0.007292     | 0.007096     | 0.021114     |
| w          | 0.004788     | 0.005687     | 0.002317     |
| h          | 0.008424     | 0.011359     | 0.012040     |
| conf       | 0.103414     | 0.108117     | 0.103632     |
| cls        | 0.001225     | 0.000746     | 0.000736     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.956522     | 0.956522     |
| precision  | 0.785714     | 0.433962     | 0.198276     |
| conf_obj   | 0.983190     | 0.979898     | 0.979488     |
| conf_noobj | 0.000467     | 0.000430     | 0.000364     |
+------------+--------------+--------------+--------------+
2020-12-20 04:07:20.777 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.414534
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.476671     | 0.477359     | 0.460505     |
| x          | 0.005770     | 0.010011     | 0.039897     |
| y          | 0.015485     | 0.012098     | 0.027332     |
| w          | 0.015936     | 0.009607     | 0.011006     |
| h          | 0.016133     | 0.014121     | 0.009494     |
| conf       | 0.133572     | 0.184240     | 0.145435     |
| cls        | 0.289775     | 0.247282     | 0.227341     |
| cls_acc    | 95.45%       | 95.83%       | 95.83%       |
| recall50   | 0.954545     | 0.958333     | 0.958333     |
| recall75   | 0.772727     | 0.916667     | 0.833333     |
| precision  | 0.777778     | 0.338235     | 0.148387     |
| conf_obj   | 0.972051     | 0.954318     | 0.980640     |
| conf_noobj | 0.000577     | 0.000676     | 0.000633     |
+------------+--------------+--------------+--------------+
2020-12-20 04:08:27.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.773028
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.355438     | 0.191452     | 0.226138     |
| x          | 0.003995     | 0.008325     | 0.038029     |
| y          | 0.004630     | 0.011788     | 0.041494     |
| w          | 0.022349     | 0.011964     | 0.012993     |
| h          | 0.030885     | 0.017795     | 0.014376     |
| conf       | 0.286308     | 0.135965     | 0.103741     |
| cls        | 0.007272     | 0.005614     | 0.015505     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 0.956522     |
| recall75   | 0.869565     | 0.913043     | 0.869565     |
| precision  | 0.700000     | 0.442308     | 0.176000     |
| conf_obj   | 0.885986     | 0.953902     | 0.977475     |
| conf_noobj | 0.000614     | 0.000466     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 04:09:39.384 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.137014
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.371648     | 0.401943     | 0.363423     |
| x          | 0.010601     | 0.015140     | 0.026728     |
| y          | 0.003854     | 0.015544     | 0.026215     |
| w          | 0.019108     | 0.021313     | 0.014019     |
| h          | 0.016588     | 0.025107     | 0.016676     |
| conf       | 0.132177     | 0.123349     | 0.226062     |
| cls        | 0.189320     | 0.201488     | 0.053723     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 1.000000     | 1.000000     | 0.956522     |
| recall75   | 0.904762     | 0.863636     | 0.869565     |
| precision  | 0.777778     | 0.349206     | 0.138365     |
| conf_obj   | 0.954187     | 0.970089     | 0.941213     |
| conf_noobj | 0.000588     | 0.000557     | 0.000573     |
+------------+--------------+--------------+--------------+
2020-12-20 04:10:46.852 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.138276
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.348785     | 0.402922     | 0.386570     |
| x          | 0.004657     | 0.011537     | 0.030444     |
| y          | 0.010701     | 0.025311     | 0.017127     |
| w          | 0.023472     | 0.018084     | 0.007934     |
| h          | 0.035670     | 0.012088     | 0.012357     |
| conf       | 0.175340     | 0.225862     | 0.184897     |
| cls        | 0.098945     | 0.110039     | 0.133812     |
| cls_acc    | 100.00%      | 95.83%       | 96.00%       |
| recall50   | 0.956522     | 0.916667     | 0.920000     |
| recall75   | 0.913043     | 0.791667     | 0.920000     |
| precision  | 0.785714     | 0.379310     | 0.175573     |
| conf_obj   | 0.941381     | 0.934576     | 0.953437     |
| conf_noobj | 0.000742     | 0.000795     | 0.000627     |
+------------+--------------+--------------+--------------+
2020-12-20 04:11:51.750 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.895731
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.324628     | 0.284599     | 0.286504     |
| x          | 0.007100     | 0.006404     | 0.017697     |
| y          | 0.023284     | 0.015928     | 0.030724     |
| w          | 0.044652     | 0.020947     | 0.014948     |
| h          | 0.046869     | 0.028007     | 0.022488     |
| conf       | 0.165820     | 0.164134     | 0.165947     |
| cls        | 0.036903     | 0.049180     | 0.034699     |
| cls_acc    | 96.67%       | 96.97%       | 96.97%       |
| recall50   | 0.900000     | 0.909091     | 0.939394     |
| recall75   | 0.800000     | 0.818182     | 0.818182     |
| precision  | 0.771429     | 0.508475     | 0.190184     |
| conf_obj   | 0.947482     | 0.947071     | 0.950830     |
| conf_noobj | 0.000492     | 0.000473     | 0.000489     |
+------------+--------------+--------------+--------------+
2020-12-20 04:12:56.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.751565
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.241699     | 0.187823     | 0.322042     |
| x          | 0.004934     | 0.016574     | 0.015370     |
| y          | 0.005592     | 0.010792     | 0.018062     |
| w          | 0.017871     | 0.014830     | 0.009543     |
| h          | 0.018257     | 0.012478     | 0.011040     |
| conf       | 0.167646     | 0.107673     | 0.233778     |
| cls        | 0.027399     | 0.025476     | 0.034249     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.944444     |
| recall75   | 0.941176     | 0.888889     | 0.944444     |
| precision  | 0.708333     | 0.418605     | 0.161905     |
| conf_obj   | 0.974497     | 0.989154     | 0.892331     |
| conf_noobj | 0.000934     | 0.000626     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 04:13:59.170 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.759222
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.270217     | 0.238905     | 0.250100     |
| x          | 0.002995     | 0.011431     | 0.022864     |
| y          | 0.007224     | 0.016442     | 0.039517     |
| w          | 0.025454     | 0.012469     | 0.011208     |
| h          | 0.038484     | 0.015485     | 0.013845     |
| conf       | 0.186917     | 0.176302     | 0.159305     |
| cls        | 0.009143     | 0.006776     | 0.003361     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 1.000000     | 1.000000     |
| recall75   | 0.911765     | 0.911765     | 0.911765     |
| precision  | 0.767442     | 0.430380     | 0.206061     |
| conf_obj   | 0.939793     | 0.958060     | 0.955399     |
| conf_noobj | 0.000710     | 0.000691     | 0.000539     |
+------------+--------------+--------------+--------------+
2020-12-20 04:15:04.874 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.894847
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.347993     | 0.225145     | 0.321710     |
| x          | 0.003817     | 0.004175     | 0.009457     |
| y          | 0.006008     | 0.008352     | 0.009755     |
| w          | 0.038222     | 0.020576     | 0.020385     |
| h          | 0.046791     | 0.028222     | 0.023361     |
| conf       | 0.238404     | 0.158184     | 0.248252     |
| cls        | 0.014751     | 0.005638     | 0.010501     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 0.960000     |
| recall75   | 0.880000     | 0.880000     | 0.840000     |
| precision  | 0.827586     | 0.480769     | 0.250000     |
| conf_obj   | 0.929063     | 0.946632     | 0.917442     |
| conf_noobj | 0.000595     | 0.000446     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 04:16:09.146 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.481850
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.571271     | 0.440391     | 0.470188     |
| x          | 0.025539     | 0.026989     | 0.034251     |
| y          | 0.010264     | 0.013935     | 0.032229     |
| w          | 0.037700     | 0.025558     | 0.028769     |
| h          | 0.019378     | 0.026067     | 0.030845     |
| conf       | 0.411580     | 0.268148     | 0.261334     |
| cls        | 0.066810     | 0.079695     | 0.082760     |
| cls_acc    | 97.73%       | 97.83%       | 97.83%       |
| recall50   | 0.886364     | 0.956522     | 0.934783     |
| recall75   | 0.750000     | 0.804348     | 0.673913     |
| precision  | 0.619048     | 0.369748     | 0.177686     |
| conf_obj   | 0.897450     | 0.956992     | 0.917635     |
| conf_noobj | 0.001266     | 0.001108     | 0.000765     |
+------------+--------------+--------------+--------------+
2020-12-20 04:17:13.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.786988
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.308053     | 0.260492     | 0.218443     |
| x          | 0.006384     | 0.018256     | 0.020111     |
| y          | 0.002219     | 0.009730     | 0.007606     |
| w          | 0.023381     | 0.021175     | 0.023317     |
| h          | 0.031035     | 0.013740     | 0.016035     |
| conf       | 0.196047     | 0.161512     | 0.125929     |
| cls        | 0.048987     | 0.036079     | 0.025445     |
| cls_acc    | 96.00%       | 96.30%       | 100.00%      |
| recall50   | 0.960000     | 0.925926     | 1.000000     |
| recall75   | 0.880000     | 0.888889     | 0.925926     |
| precision  | 0.705882     | 0.454545     | 0.226891     |
| conf_obj   | 0.966371     | 0.957569     | 0.982349     |
| conf_noobj | 0.000920     | 0.000592     | 0.000551     |
+------------+--------------+--------------+--------------+
2020-12-20 04:18:18.971 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.802156
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.585303     | 0.626800     | 0.590053     |
| x          | 0.021960     | 0.018874     | 0.018120     |
| y          | 0.018093     | 0.011729     | 0.019978     |
| w          | 0.067423     | 0.041083     | 0.036198     |
| h          | 0.033615     | 0.031749     | 0.031359     |
| conf       | 0.293448     | 0.342977     | 0.307458     |
| cls        | 0.150764     | 0.180388     | 0.176941     |
| cls_acc    | 92.00%       | 92.31%       | 96.15%       |
| recall50   | 0.840000     | 0.884615     | 0.884615     |
| recall75   | 0.680000     | 0.807692     | 0.769231     |
| precision  | 0.567568     | 0.277108     | 0.132184     |
| conf_obj   | 0.926734     | 0.939929     | 0.919764     |
| conf_noobj | 0.001269     | 0.001297     | 0.000903     |
+------------+--------------+--------------+--------------+
2020-12-20 04:19:19.162 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.069735
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.400674     | 0.360357     | 0.308704     |
| x          | 0.006782     | 0.012611     | 0.027110     |
| y          | 0.014311     | 0.019794     | 0.035079     |
| w          | 0.031520     | 0.016316     | 0.009467     |
| h          | 0.033179     | 0.017060     | 0.014992     |
| conf       | 0.212461     | 0.241803     | 0.198768     |
| cls        | 0.102420     | 0.052773     | 0.023287     |
| cls_acc    | 96.88%       | 96.88%       | 100.00%      |
| recall50   | 0.968750     | 0.968750     | 1.000000     |
| recall75   | 0.781250     | 0.875000     | 0.875000     |
| precision  | 0.794872     | 0.424658     | 0.163265     |
| conf_obj   | 0.908090     | 0.926430     | 0.965372     |
| conf_noobj | 0.000555     | 0.000822     | 0.000810     |
+------------+--------------+--------------+--------------+
2020-12-20 04:19:22.300 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.079
2020-12-20 04:19:22.304 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 04:20:18.110 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10048   | 0.43554 | 0.16329 | 0.25329 |
| 1     | Wear_helmet | 0.60755   | 0.96354 | 0.74522 | 0.93907 |
| 2     | Total       | 0.35402   | 0.69954 | 0.45425 | 0.59618 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:20:18.112 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5961804143135139
2020-12-20 04:20:18.112 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 04:20:18.112 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.807845

2020-12-20 04:20:18.557 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 2/2, epo 3/5
2020-12-20 04:20:18.558 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 2/2, epo 3/5; time cost: 0:15:23.193099

2020-12-20 04:20:18.558 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 2/2, epo 4/5
2020-12-20 04:20:20.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.249771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.383309     | 0.485944     | 0.380518     |
| x          | 0.029643     | 0.021857     | 0.010003     |
| y          | 0.008038     | 0.015175     | 0.016487     |
| w          | 0.019019     | 0.015345     | 0.026139     |
| h          | 0.020613     | 0.014009     | 0.012150     |
| conf       | 0.139686     | 0.328909     | 0.190692     |
| cls        | 0.166311     | 0.090650     | 0.125047     |
| cls_acc    | 96.00%       | 96.43%       | 96.43%       |
| recall50   | 0.960000     | 0.892857     | 0.928571     |
| recall75   | 0.720000     | 0.785714     | 0.785714     |
| precision  | 0.774194     | 0.438596     | 0.189781     |
| conf_obj   | 0.973727     | 0.931703     | 0.955940     |
| conf_noobj | 0.000615     | 0.000663     | 0.000577     |
+------------+--------------+--------------+--------------+
2020-12-20 04:21:33.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.661189
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.262105     | 0.208037     | 0.191047     |
| x          | 0.002166     | 0.009879     | 0.035728     |
| y          | 0.002291     | 0.003784     | 0.007087     |
| w          | 0.026254     | 0.021507     | 0.012092     |
| h          | 0.011935     | 0.008065     | 0.008152     |
| conf       | 0.217529     | 0.164318     | 0.127740     |
| cls        | 0.001929     | 0.000484     | 0.000248     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.678571     | 0.395833     | 0.206522     |
| conf_obj   | 0.967492     | 0.963743     | 0.976225     |
| conf_noobj | 0.000929     | 0.000651     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 04:22:33.792 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.079964
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.347958     | 0.251310     | 0.480696     |
| x          | 0.003445     | 0.013609     | 0.035414     |
| y          | 0.017248     | 0.020190     | 0.046656     |
| w          | 0.039282     | 0.019294     | 0.015747     |
| h          | 0.020769     | 0.021643     | 0.020240     |
| conf       | 0.237368     | 0.160411     | 0.342055     |
| cls        | 0.029846     | 0.016163     | 0.020582     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.928571     | 0.931035     |
| recall75   | 0.760000     | 0.857143     | 0.758621     |
| precision  | 0.733333     | 0.530612     | 0.201493     |
| conf_obj   | 0.908749     | 0.940289     | 0.901221     |
| conf_noobj | 0.000589     | 0.000537     | 0.000569     |
+------------+--------------+--------------+--------------+
2020-12-20 04:23:39.262 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.261108
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.475598     | 0.443351     | 0.342158     |
| x          | 0.001719     | 0.005313     | 0.034264     |
| y          | 0.005646     | 0.018900     | 0.041579     |
| w          | 0.018191     | 0.011587     | 0.006511     |
| h          | 0.019081     | 0.013645     | 0.012241     |
| conf       | 0.283009     | 0.159890     | 0.107739     |
| cls        | 0.147952     | 0.234017     | 0.139824     |
| cls_acc    | 94.12%       | 88.24%       | 94.12%       |
| recall50   | 0.882353     | 0.882353     | 0.941176     |
| recall75   | 0.823529     | 0.823529     | 0.882353     |
| precision  | 0.714286     | 0.333333     | 0.168421     |
| conf_obj   | 0.918875     | 0.956777     | 0.979643     |
| conf_noobj | 0.000571     | 0.000552     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 04:24:46.482 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.679940
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.580445     | 0.594929     | 0.504567     |
| x          | 0.013283     | 0.027179     | 0.052489     |
| y          | 0.012875     | 0.016301     | 0.027926     |
| w          | 0.060361     | 0.049307     | 0.015384     |
| h          | 0.013201     | 0.022606     | 0.023661     |
| conf       | 0.469130     | 0.469853     | 0.363537     |
| cls        | 0.011596     | 0.009683     | 0.021570     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.846154     | 0.923077     |
| recall75   | 0.800000     | 0.730769     | 0.846154     |
| precision  | 0.666667     | 0.360656     | 0.177778     |
| conf_obj   | 0.832804     | 0.846037     | 0.876975     |
| conf_noobj | 0.000875     | 0.000623     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 04:25:51.677 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.217764
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.447637     | 0.405411     | 0.364716     |
| x          | 0.004959     | 0.016413     | 0.034244     |
| y          | 0.007794     | 0.017581     | 0.021155     |
| w          | 0.021690     | 0.015178     | 0.013047     |
| h          | 0.024014     | 0.014714     | 0.018753     |
| conf       | 0.301074     | 0.236886     | 0.181356     |
| cls        | 0.088107     | 0.104640     | 0.096161     |
| cls_acc    | 100.00%      | 96.77%       | 93.75%       |
| recall50   | 0.935484     | 0.935484     | 0.937500     |
| recall75   | 0.870968     | 0.838710     | 0.843750     |
| precision  | 0.690476     | 0.353659     | 0.159574     |
| conf_obj   | 0.919169     | 0.945113     | 0.953848     |
| conf_noobj | 0.000987     | 0.000865     | 0.000627     |
+------------+--------------+--------------+--------------+
2020-12-20 04:27:04.993 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.808442
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.312873     | 0.246958     | 0.248612     |
| x          | 0.005413     | 0.014734     | 0.036721     |
| y          | 0.003974     | 0.019760     | 0.039966     |
| w          | 0.014574     | 0.016248     | 0.007636     |
| h          | 0.020091     | 0.015289     | 0.011505     |
| conf       | 0.266114     | 0.179393     | 0.151101     |
| cls        | 0.002707     | 0.001534     | 0.001683     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.944444     |
| precision  | 0.620690     | 0.260870     | 0.111801     |
| conf_obj   | 0.918357     | 0.958544     | 0.970611     |
| conf_noobj | 0.000887     | 0.000713     | 0.000576     |
+------------+--------------+--------------+--------------+
2020-12-20 04:28:15.909 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.223230
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.517783     | 0.338302     | 0.367146     |
| x          | 0.010154     | 0.019664     | 0.038846     |
| y          | 0.007777     | 0.015504     | 0.039412     |
| w          | 0.024685     | 0.017899     | 0.015111     |
| h          | 0.020812     | 0.022023     | 0.014295     |
| conf       | 0.438908     | 0.251287     | 0.251057     |
| cls        | 0.015446     | 0.011925     | 0.008425     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.966667     | 0.900000     |
| recall75   | 0.758621     | 0.766667     | 0.766667     |
| precision  | 0.650000     | 0.376623     | 0.166667     |
| conf_obj   | 0.869386     | 0.954153     | 0.930056     |
| conf_noobj | 0.001101     | 0.000939     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 04:29:18.263 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.943039
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.366482     | 0.304895     | 0.271662     |
| x          | 0.008228     | 0.019209     | 0.023437     |
| y          | 0.005324     | 0.015877     | 0.032215     |
| w          | 0.023185     | 0.028242     | 0.009405     |
| h          | 0.007282     | 0.012913     | 0.011899     |
| conf       | 0.311947     | 0.215834     | 0.183860     |
| cls        | 0.010516     | 0.012820     | 0.010845     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.952381     | 1.000000     |
| recall75   | 0.857143     | 0.857143     | 0.863636     |
| precision  | 0.655172     | 0.303030     | 0.153846     |
| conf_obj   | 0.896953     | 0.939386     | 0.943440     |
| conf_noobj | 0.000779     | 0.000676     | 0.000520     |
+------------+--------------+--------------+--------------+
2020-12-20 04:30:28.075 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.820070
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.616606     | 0.602063     | 0.601401     |
| x          | 0.006690     | 0.012493     | 0.032763     |
| y          | 0.006780     | 0.009931     | 0.032204     |
| w          | 0.014308     | 0.014817     | 0.040480     |
| h          | 0.019965     | 0.013439     | 0.030682     |
| conf       | 0.488687     | 0.446037     | 0.342490     |
| cls        | 0.080177     | 0.105346     | 0.122783     |
| cls_acc    | 91.67%       | 87.50%       | 92.00%       |
| recall50   | 0.833333     | 0.875000     | 0.840000     |
| recall75   | 0.750000     | 0.833333     | 0.680000     |
| precision  | 0.714286     | 0.420000     | 0.194444     |
| conf_obj   | 0.875795     | 0.916999     | 0.916511     |
| conf_noobj | 0.000903     | 0.000786     | 0.000612     |
+------------+--------------+--------------+--------------+
2020-12-20 04:31:27.658 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.604472
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.496895     | 0.658693     | 0.448884     |
| x          | 0.028255     | 0.027071     | 0.024782     |
| y          | 0.013709     | 0.020332     | 0.032889     |
| w          | 0.032328     | 0.024631     | 0.023569     |
| h          | 0.064758     | 0.031462     | 0.028249     |
| conf       | 0.314439     | 0.522144     | 0.302892     |
| cls        | 0.043406     | 0.033054     | 0.036503     |
| cls_acc    | 96.77%       | 100.00%      | 100.00%      |
| recall50   | 0.838710     | 0.861111     | 0.894737     |
| recall75   | 0.612903     | 0.694444     | 0.684211     |
| precision  | 0.787879     | 0.476923     | 0.263566     |
| conf_obj   | 0.870911     | 0.851973     | 0.896156     |
| conf_noobj | 0.000780     | 0.000760     | 0.000601     |
+------------+--------------+--------------+--------------+
2020-12-20 04:32:29.602 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.225859
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.525976     | 0.357603     | 0.342281     |
| x          | 0.014216     | 0.029611     | 0.022745     |
| y          | 0.010715     | 0.011452     | 0.027692     |
| w          | 0.034665     | 0.024055     | 0.015869     |
| h          | 0.027374     | 0.020574     | 0.013190     |
| conf       | 0.293278     | 0.226255     | 0.211742     |
| cls        | 0.145728     | 0.045655     | 0.051041     |
| cls_acc    | 88.46%       | 100.00%      | 96.55%       |
| recall50   | 0.807692     | 0.931035     | 0.931035     |
| recall75   | 0.730769     | 0.793103     | 0.793103     |
| precision  | 0.636364     | 0.380282     | 0.177632     |
| conf_obj   | 0.903843     | 0.946180     | 0.947210     |
| conf_noobj | 0.000960     | 0.000795     | 0.000665     |
+------------+--------------+--------------+--------------+
2020-12-20 04:33:32.138 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.217334
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.435468     | 0.438747     | 0.343118     |
| x          | 0.008938     | 0.016138     | 0.018014     |
| y          | 0.010866     | 0.015326     | 0.029627     |
| w          | 0.028601     | 0.018144     | 0.011555     |
| h          | 0.023852     | 0.019207     | 0.012661     |
| conf       | 0.356524     | 0.365148     | 0.266374     |
| cls        | 0.006688     | 0.004784     | 0.004887     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.914286     | 0.916667     | 0.972222     |
| recall75   | 0.771429     | 0.805556     | 0.861111     |
| precision  | 0.744186     | 0.289474     | 0.156250     |
| conf_obj   | 0.895440     | 0.896969     | 0.918037     |
| conf_noobj | 0.000897     | 0.001294     | 0.000851     |
+------------+--------------+--------------+--------------+
2020-12-20 04:34:37.267 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.419664
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.481729     | 0.446573     | 0.491362     |
| x          | 0.003483     | 0.014566     | 0.013775     |
| y          | 0.013231     | 0.010246     | 0.033026     |
| w          | 0.019529     | 0.029053     | 0.022245     |
| h          | 0.020831     | 0.023006     | 0.028137     |
| conf       | 0.240876     | 0.241825     | 0.255422     |
| cls        | 0.183779     | 0.127877     | 0.138757     |
| cls_acc    | 88.46%       | 92.59%       | 92.59%       |
| recall50   | 0.846154     | 0.851852     | 0.888889     |
| recall75   | 0.846154     | 0.740741     | 0.740741     |
| precision  | 0.594595     | 0.319444     | 0.108597     |
| conf_obj   | 0.929665     | 0.923697     | 0.922643     |
| conf_noobj | 0.000853     | 0.000838     | 0.000804     |
+------------+--------------+--------------+--------------+
2020-12-20 04:34:40.936 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.073
2020-12-20 04:34:40.941 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 04:35:34.623 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08573   | 0.50871 | 0.14673 | 0.27202 |
| 1     | Wear_helmet | 0.45768   | 0.95747 | 0.61931 | 0.93303 |
| 2     | Total       | 0.27170   | 0.73309 | 0.38302 | 0.60252 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:35:34.624 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6025222871625845
2020-12-20 04:35:34.624 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 04:35:34.624 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.683320

2020-12-20 04:35:35.228 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 2/2, epo 4/5
2020-12-20 04:35:35.229 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 2/2, epo 4/5; time cost: 0:15:16.670489

2020-12-20 04:35:35.229 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 2/2, epo 5/5
2020-12-20 04:35:36.548 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.048301
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.390028     | 0.335437     | 0.322836     |
| x          | 0.003088     | 0.008318     | 0.019094     |
| y          | 0.005096     | 0.014847     | 0.032030     |
| w          | 0.046045     | 0.024478     | 0.024933     |
| h          | 0.034219     | 0.023037     | 0.021683     |
| conf       | 0.289761     | 0.246691     | 0.208524     |
| cls        | 0.011819     | 0.018066     | 0.016572     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 0.961538     |
| recall75   | 0.833333     | 0.800000     | 0.730769     |
| precision  | 0.741935     | 0.375000     | 0.171233     |
| conf_obj   | 0.939031     | 0.946908     | 0.951831     |
| conf_noobj | 0.000672     | 0.000617     | 0.000568     |
+------------+--------------+--------------+--------------+
2020-12-20 04:36:45.927 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.676454
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.239446     | 0.228354     | 0.208654     |
| x          | 0.003683     | 0.009290     | 0.030865     |
| y          | 0.003727     | 0.014859     | 0.031124     |
| w          | 0.017852     | 0.009158     | 0.005170     |
| h          | 0.017664     | 0.008233     | 0.006630     |
| conf       | 0.194851     | 0.184979     | 0.133257     |
| cls        | 0.001670     | 0.001835     | 0.001608     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 1.000000     | 1.000000     |
| recall75   | 0.789474     | 1.000000     | 1.000000     |
| precision  | 0.708333     | 0.351852     | 0.157025     |
| conf_obj   | 0.919582     | 0.928799     | 0.965133     |
| conf_noobj | 0.000536     | 0.000578     | 0.000498     |
+------------+--------------+--------------+--------------+
2020-12-20 04:37:50.209 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 2.125543
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.726629     | 0.694906     | 0.704007     |
| x          | 0.032551     | 0.034919     | 0.070876     |
| y          | 0.023555     | 0.014408     | 0.046435     |
| w          | 0.029540     | 0.020917     | 0.029332     |
| h          | 0.047183     | 0.032644     | 0.050441     |
| conf       | 0.533458     | 0.525065     | 0.472645     |
| cls        | 0.060342     | 0.066953     | 0.034278     |
| cls_acc    | 100.00%      | 95.65%       | 100.00%      |
| recall50   | 0.761905     | 0.782609     | 0.840000     |
| recall75   | 0.476190     | 0.608696     | 0.640000     |
| precision  | 0.533333     | 0.260870     | 0.115385     |
| conf_obj   | 0.805668     | 0.824041     | 0.860931     |
| conf_noobj | 0.001027     | 0.000765     | 0.000677     |
+------------+--------------+--------------+--------------+
2020-12-20 04:38:51.867 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.821822
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.451620     | 0.196113     | 0.174089     |
| x          | 0.002709     | 0.004987     | 0.013825     |
| y          | 0.006750     | 0.014726     | 0.040039     |
| w          | 0.023947     | 0.004783     | 0.005019     |
| h          | 0.015382     | 0.002865     | 0.003195     |
| conf       | 0.399810     | 0.167204     | 0.102586     |
| cls        | 0.003022     | 0.001549     | 0.009424     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 1.000000     | 1.000000     |
| precision  | 0.523810     | 0.272727     | 0.129032     |
| conf_obj   | 0.876778     | 0.947478     | 0.982945     |
| conf_noobj | 0.000834     | 0.000561     | 0.000447     |
+------------+--------------+--------------+--------------+
2020-12-20 04:40:00.600 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.924437
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.360109     | 0.253842     | 0.310485     |
| x          | 0.028577     | 0.020985     | 0.031237     |
| y          | 0.010418     | 0.015520     | 0.028151     |
| w          | 0.015990     | 0.010431     | 0.007821     |
| h          | 0.028780     | 0.025519     | 0.016282     |
| conf       | 0.247584     | 0.158555     | 0.191537     |
| cls        | 0.028761     | 0.022832     | 0.035457     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.909091     | 0.909091     |
| recall75   | 0.650000     | 0.772727     | 0.863636     |
| precision  | 0.692308     | 0.487805     | 0.181818     |
| conf_obj   | 0.903124     | 0.949261     | 0.947665     |
| conf_noobj | 0.000634     | 0.000472     | 0.000443     |
+------------+--------------+--------------+--------------+
2020-12-20 04:41:04.739 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.960854
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.432210     | 0.314540     | 0.214103     |
| x          | 0.014212     | 0.010176     | 0.022264     |
| y          | 0.011694     | 0.013099     | 0.019954     |
| w          | 0.015099     | 0.010998     | 0.007486     |
| h          | 0.012569     | 0.008093     | 0.006379     |
| conf       | 0.375184     | 0.263106     | 0.151765     |
| cls        | 0.003453     | 0.009068     | 0.006254     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.827586     | 0.875000     | 1.000000     |
| recall75   | 0.724138     | 0.843750     | 1.000000     |
| precision  | 0.727273     | 0.466667     | 0.191617     |
| conf_obj   | 0.852905     | 0.886541     | 0.967563     |
| conf_noobj | 0.000610     | 0.000560     | 0.000585     |
+------------+--------------+--------------+--------------+
2020-12-20 04:42:12.518 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.244457
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.444408     | 0.487926     | 0.312123     |
| x          | 0.025087     | 0.020857     | 0.029988     |
| y          | 0.006333     | 0.013741     | 0.036001     |
| w          | 0.042799     | 0.019508     | 0.007018     |
| h          | 0.034352     | 0.017247     | 0.007466     |
| conf       | 0.286450     | 0.365350     | 0.189105     |
| cls        | 0.049386     | 0.051223     | 0.042545     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 1.000000     |
| recall75   | 0.888889     | 0.833333     | 1.000000     |
| precision  | 0.548387     | 0.298246     | 0.147541     |
| conf_obj   | 0.890245     | 0.898729     | 0.931927     |
| conf_noobj | 0.000916     | 0.000738     | 0.000556     |
+------------+--------------+--------------+--------------+
2020-12-20 04:43:18.246 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.576781
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.214595     | 0.175698     | 0.186488     |
| x          | 0.004380     | 0.006004     | 0.025064     |
| y          | 0.002132     | 0.008597     | 0.016357     |
| w          | 0.061770     | 0.039463     | 0.011295     |
| h          | 0.024243     | 0.028978     | 0.013435     |
| conf       | 0.116390     | 0.089277     | 0.117448     |
| cls        | 0.005681     | 0.003379     | 0.002890     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.909091     | 0.954545     |
| precision  | 0.700000     | 0.458333     | 0.158273     |
| conf_obj   | 0.976614     | 0.988431     | 0.976580     |
| conf_noobj | 0.000550     | 0.000411     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 04:44:22.190 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.878383
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.340242     | 0.279472     | 0.258669     |
| x          | 0.006212     | 0.014185     | 0.019687     |
| y          | 0.008877     | 0.008945     | 0.018445     |
| w          | 0.016456     | 0.019804     | 0.013849     |
| h          | 0.015348     | 0.016399     | 0.011685     |
| conf       | 0.290648     | 0.215107     | 0.190517     |
| cls        | 0.002701     | 0.005033     | 0.004486     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.914286     | 0.971429     | 1.000000     |
| recall75   | 0.885714     | 0.971429     | 0.971429     |
| precision  | 0.695652     | 0.390805     | 0.197740     |
| conf_obj   | 0.913545     | 0.952557     | 0.946633     |
| conf_noobj | 0.000986     | 0.000842     | 0.000648     |
+------------+--------------+--------------+--------------+
2020-12-20 04:45:31.856 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.301680
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.538664     | 0.442151     | 0.320864     |
| x          | 0.015393     | 0.012049     | 0.019959     |
| y          | 0.006419     | 0.014255     | 0.033267     |
| w          | 0.033510     | 0.045573     | 0.022134     |
| h          | 0.033494     | 0.045714     | 0.018599     |
| conf       | 0.420962     | 0.299710     | 0.209129     |
| cls        | 0.028887     | 0.024850     | 0.017775     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.937500     | 0.968750     |
| recall75   | 0.718750     | 0.750000     | 0.781250     |
| precision  | 0.682927     | 0.370370     | 0.175141     |
| conf_obj   | 0.869757     | 0.920412     | 0.941320     |
| conf_noobj | 0.000808     | 0.000767     | 0.000590     |
+------------+--------------+--------------+--------------+
2020-12-20 04:46:39.381 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.666368
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.205390     | 0.232378     | 0.228599     |
| x          | 0.002904     | 0.018426     | 0.038558     |
| y          | 0.004839     | 0.012004     | 0.021446     |
| w          | 0.014914     | 0.010183     | 0.007251     |
| h          | 0.011123     | 0.013344     | 0.009361     |
| conf       | 0.162852     | 0.170689     | 0.143101     |
| cls        | 0.008757     | 0.007733     | 0.008882     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.960000     | 0.920000     |
| precision  | 0.750000     | 0.316456     | 0.156250     |
| conf_obj   | 0.946386     | 0.953268     | 0.967664     |
| conf_noobj | 0.000613     | 0.000635     | 0.000512     |
+------------+--------------+--------------+--------------+
2020-12-20 04:47:41.694 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.501709
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.402348     | 0.571206     | 0.528155     |
| x          | 0.019558     | 0.008634     | 0.017692     |
| y          | 0.005798     | 0.010261     | 0.017671     |
| w          | 0.015062     | 0.010076     | 0.020112     |
| h          | 0.016243     | 0.010780     | 0.010497     |
| conf       | 0.188094     | 0.266451     | 0.223988     |
| cls        | 0.157592     | 0.265004     | 0.238196     |
| cls_acc    | 96.15%       | 92.59%       | 92.59%       |
| recall50   | 0.884615     | 0.925926     | 0.925926     |
| recall75   | 0.807692     | 0.851852     | 0.851852     |
| precision  | 0.676471     | 0.409836     | 0.186567     |
| conf_obj   | 0.945744     | 0.925082     | 0.930127     |
| conf_noobj | 0.000713     | 0.000587     | 0.000486     |
+------------+--------------+--------------+--------------+
2020-12-20 04:48:44.369 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.086013
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.291932     | 0.401574     | 0.392508     |
| x          | 0.003614     | 0.007800     | 0.025015     |
| y          | 0.009192     | 0.022008     | 0.082368     |
| w          | 0.041210     | 0.011952     | 0.021650     |
| h          | 0.028488     | 0.017036     | 0.013065     |
| conf       | 0.167739     | 0.244287     | 0.187375     |
| cls        | 0.041689     | 0.098491     | 0.063035     |
| cls_acc    | 95.00%       | 95.00%       | 95.24%       |
| recall50   | 0.950000     | 0.950000     | 0.857143     |
| recall75   | 0.850000     | 0.800000     | 0.857143     |
| precision  | 0.703704     | 0.345455     | 0.202247     |
| conf_obj   | 0.950023     | 0.933589     | 0.925725     |
| conf_noobj | 0.000596     | 0.000578     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 04:49:42.857 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.039871
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.457066     | 0.311038     | 0.271767     |
| x          | 0.016522     | 0.016579     | 0.028249     |
| y          | 0.018880     | 0.011304     | 0.021061     |
| w          | 0.022363     | 0.014427     | 0.006616     |
| h          | 0.083080     | 0.047361     | 0.069185     |
| conf       | 0.303373     | 0.218483     | 0.140078     |
| cls        | 0.012848     | 0.002884     | 0.006578     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.950000     | 0.950000     |
| recall75   | 0.842105     | 0.700000     | 0.900000     |
| precision  | 0.566667     | 0.292308     | 0.128378     |
| conf_obj   | 0.896247     | 0.940200     | 0.975445     |
| conf_noobj | 0.000932     | 0.000721     | 0.000560     |
+------------+--------------+--------------+--------------+
2020-12-20 04:49:46.580 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.074
2020-12-20 04:49:46.583 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 04:50:40.453 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11553   | 0.43554 | 0.18262 | 0.27503 |
| 1     | Wear_helmet | 0.62136   | 0.96441 | 0.75578 | 0.94386 |
| 2     | Total       | 0.36845   | 0.69997 | 0.46920 | 0.60945 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:50:40.453 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6094498850508974
2020-12-20 04:50:40.454 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 04:50:40.454 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.871226

2020-12-20 04:50:41.062 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 2/2, epo 5/5
2020-12-20 04:50:41.062 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 2/2, epo 5/5; time cost: 0:15:05.833071

2020-12-20 04:50:41.063 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 1.120
2020-12-20 04:50:41.301 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 04:54:50.456 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14893   | 0.57323 | 0.23643 | 0.42668 |
| 1     | Wear_helmet | 0.52916   | 0.92685 | 0.67370 | 0.88590 |
| 2     | Total       | 0.33904   | 0.75004 | 0.45506 | 0.65629 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:54:50.457 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6562884781635978
2020-12-20 04:54:50.457 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 04:54:50.457 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:09.155668

2020-12-20 04:55:48.394 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 10!
2020-12-20 04:55:48.585 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 2/2, epo 1/5
2020-12-20 04:55:49.729 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.069388
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.442905     | 0.320901     | 0.305581     |
| x          | 0.006559     | 0.011814     | 0.019889     |
| y          | 0.003718     | 0.009674     | 0.027006     |
| w          | 0.051323     | 0.045658     | 0.035838     |
| h          | 0.069148     | 0.073198     | 0.067388     |
| conf       | 0.292836     | 0.158818     | 0.137534     |
| cls        | 0.019322     | 0.021739     | 0.017926     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 0.941176     |
| recall75   | 0.882353     | 0.823529     | 0.764706     |
| precision  | 0.640000     | 0.425000     | 0.139130     |
| conf_obj   | 0.909155     | 0.969139     | 0.979427     |
| conf_noobj | 0.000961     | 0.000664     | 0.000565     |
+------------+--------------+--------------+--------------+
2020-12-20 04:56:57.857 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.330403
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.410637     | 0.413480     | 0.506286     |
| x          | 0.005321     | 0.009923     | 0.018284     |
| y          | 0.010547     | 0.021543     | 0.019481     |
| w          | 0.058208     | 0.040496     | 0.014542     |
| h          | 0.049382     | 0.023147     | 0.010208     |
| conf       | 0.134668     | 0.162111     | 0.326184     |
| cls        | 0.152510     | 0.156259     | 0.117587     |
| cls_acc    | 95.65%       | 95.83%       | 92.00%       |
| recall50   | 0.956522     | 0.916667     | 0.840000     |
| recall75   | 0.826087     | 0.833333     | 0.840000     |
| precision  | 0.846154     | 0.550000     | 0.201923     |
| conf_obj   | 0.938794     | 0.941854     | 0.857276     |
| conf_noobj | 0.000447     | 0.000483     | 0.000473     |
+------------+--------------+--------------+--------------+
2020-12-20 04:57:53.125 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.879242
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.367696     | 0.258132     | 0.253414     |
| x          | 0.020583     | 0.014738     | 0.039575     |
| y          | 0.004374     | 0.015184     | 0.024910     |
| w          | 0.037293     | 0.025594     | 0.014923     |
| h          | 0.036042     | 0.025119     | 0.014657     |
| conf       | 0.262970     | 0.171018     | 0.151302     |
| cls        | 0.006433     | 0.006478     | 0.008047     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.740741     | 0.857143     | 0.857143     |
| precision  | 0.729730     | 0.383562     | 0.176101     |
| conf_obj   | 0.906004     | 0.969165     | 0.967025     |
| conf_noobj | 0.000957     | 0.000755     | 0.000527     |
+------------+--------------+--------------+--------------+
2020-12-20 04:58:57.818 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.174240
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.394616     | 0.440977     | 0.338647     |
| x          | 0.004904     | 0.015068     | 0.026871     |
| y          | 0.005559     | 0.009865     | 0.019823     |
| w          | 0.026471     | 0.031169     | 0.012381     |
| h          | 0.012444     | 0.015761     | 0.014465     |
| conf       | 0.268876     | 0.262516     | 0.186863     |
| cls        | 0.076362     | 0.106597     | 0.078245     |
| cls_acc    | 94.44%       | 88.89%       | 94.44%       |
| recall50   | 0.944444     | 0.833333     | 0.944444     |
| recall75   | 0.888889     | 0.666667     | 0.833333     |
| precision  | 0.500000     | 0.230769     | 0.103659     |
| conf_obj   | 0.949934     | 0.942095     | 0.954162     |
| conf_noobj | 0.001123     | 0.000885     | 0.000655     |
+------------+--------------+--------------+--------------+
2020-12-20 04:59:59.050 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.035272
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.431019     | 0.294888     | 0.309365     |
| x          | 0.014615     | 0.006132     | 0.016732     |
| y          | 0.014575     | 0.012726     | 0.022029     |
| w          | 0.019543     | 0.028519     | 0.011784     |
| h          | 0.021418     | 0.020129     | 0.021604     |
| conf       | 0.323178     | 0.213735     | 0.225207     |
| cls        | 0.037689     | 0.013647     | 0.012009     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.961538     | 0.961538     |
| recall75   | 0.739130     | 0.769231     | 0.807692     |
| precision  | 0.612903     | 0.390625     | 0.183824     |
| conf_obj   | 0.899024     | 0.938619     | 0.933852     |
| conf_noobj | 0.000928     | 0.000782     | 0.000682     |
+------------+--------------+--------------+--------------+
2020-12-20 05:01:02.597 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.224673
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.429305     | 0.416360     | 0.379008     |
| x          | 0.007148     | 0.015266     | 0.027019     |
| y          | 0.016687     | 0.022337     | 0.035682     |
| w          | 0.040528     | 0.022597     | 0.022964     |
| h          | 0.032809     | 0.021930     | 0.026645     |
| conf       | 0.309094     | 0.323608     | 0.258935     |
| cls        | 0.023039     | 0.010622     | 0.007763     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.913043     | 0.840000     |
| recall75   | 0.782609     | 0.826087     | 0.800000     |
| precision  | 0.700000     | 0.396226     | 0.175000     |
| conf_obj   | 0.903490     | 0.891410     | 0.898589     |
| conf_noobj | 0.000749     | 0.000593     | 0.000486     |
+------------+--------------+--------------+--------------+
2020-12-20 05:02:02.334 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.947084
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.297310     | 0.285189     | 0.364586     |
| x          | 0.013979     | 0.016232     | 0.024071     |
| y          | 0.004119     | 0.008910     | 0.038676     |
| w          | 0.008874     | 0.008376     | 0.005013     |
| h          | 0.015155     | 0.012623     | 0.009505     |
| conf       | 0.160568     | 0.140508     | 0.151463     |
| cls        | 0.094615     | 0.098540     | 0.135857     |
| cls_acc    | 100.00%      | 96.15%       | 96.15%       |
| recall50   | 0.960000     | 0.961538     | 0.923077     |
| recall75   | 0.920000     | 0.923077     | 0.884615     |
| precision  | 0.727273     | 0.409836     | 0.188976     |
| conf_obj   | 0.961409     | 0.970445     | 0.951929     |
| conf_noobj | 0.000650     | 0.000562     | 0.000464     |
+------------+--------------+--------------+--------------+
2020-12-20 05:03:05.214 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.078995
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.340885     | 0.307980     | 0.430130     |
| x          | 0.025983     | 0.017496     | 0.020319     |
| y          | 0.006147     | 0.011831     | 0.026690     |
| w          | 0.031919     | 0.018199     | 0.025404     |
| h          | 0.021532     | 0.017938     | 0.020986     |
| conf       | 0.243052     | 0.231021     | 0.321145     |
| cls        | 0.012252     | 0.011494     | 0.015587     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.971429     | 0.944444     |
| recall75   | 0.818182     | 0.685714     | 0.777778     |
| precision  | 0.756098     | 0.430380     | 0.212500     |
| conf_obj   | 0.913449     | 0.929384     | 0.922698     |
| conf_noobj | 0.000787     | 0.000814     | 0.000609     |
+------------+--------------+--------------+--------------+
2020-12-20 05:04:09.184 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.002647
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.291567     | 0.371754     | 0.339326     |
| x          | 0.003793     | 0.006900     | 0.013695     |
| y          | 0.002089     | 0.009427     | 0.016486     |
| w          | 0.050238     | 0.026494     | 0.019054     |
| h          | 0.019162     | 0.015813     | 0.010754     |
| conf       | 0.193104     | 0.289429     | 0.276127     |
| cls        | 0.023182     | 0.023691     | 0.003211     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 0.952381     |
| recall75   | 0.904762     | 0.904762     | 0.904762     |
| precision  | 0.769231     | 0.476190     | 0.188679     |
| conf_obj   | 0.946220     | 0.925038     | 0.940950     |
| conf_noobj | 0.000722     | 0.000527     | 0.000504     |
+------------+--------------+--------------+--------------+
2020-12-20 05:05:12.425 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.878822
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.300716     | 0.295441     | 0.282665     |
| x          | 0.009236     | 0.010936     | 0.035594     |
| y          | 0.005885     | 0.010463     | 0.026240     |
| w          | 0.026370     | 0.035501     | 0.026006     |
| h          | 0.032105     | 0.036935     | 0.022943     |
| conf       | 0.214033     | 0.195725     | 0.165360     |
| cls        | 0.013087     | 0.005881     | 0.006521     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.925926     | 0.750000     | 0.821429     |
| precision  | 0.634146     | 0.354430     | 0.165680     |
| conf_obj   | 0.939286     | 0.952994     | 0.962613     |
| conf_noobj | 0.000921     | 0.000728     | 0.000598     |
+------------+--------------+--------------+--------------+
2020-12-20 05:06:16.440 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.903161
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.376427     | 0.273090     | 0.253644     |
| x          | 0.004172     | 0.008113     | 0.027809     |
| y          | 0.017133     | 0.014743     | 0.027128     |
| w          | 0.032236     | 0.026662     | 0.019684     |
| h          | 0.032516     | 0.032993     | 0.018759     |
| conf       | 0.284837     | 0.187483     | 0.154435     |
| cls        | 0.005533     | 0.003096     | 0.005827     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.739130     | 0.739130     |
| precision  | 0.567568     | 0.410714     | 0.167883     |
| conf_obj   | 0.936030     | 0.953356     | 0.968173     |
| conf_noobj | 0.001199     | 0.000737     | 0.000607     |
+------------+--------------+--------------+--------------+
2020-12-20 05:07:20.152 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.107432
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.410418     | 0.393634     | 0.303380     |
| x          | 0.019194     | 0.015446     | 0.018764     |
| y          | 0.007145     | 0.010859     | 0.029087     |
| w          | 0.025494     | 0.021619     | 0.026085     |
| h          | 0.018272     | 0.022975     | 0.027031     |
| conf       | 0.311907     | 0.302996     | 0.182397     |
| cls        | 0.028405     | 0.019738     | 0.020016     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.903226     | 1.000000     |
| recall75   | 0.785714     | 0.806452     | 0.806452     |
| precision  | 0.657895     | 0.430769     | 0.231343     |
| conf_obj   | 0.917776     | 0.909271     | 0.955475     |
| conf_noobj | 0.001223     | 0.000831     | 0.000648     |
+------------+--------------+--------------+--------------+
2020-12-20 05:08:27.664 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.342070
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.606506     | 0.414105     | 0.321459     |
| x          | 0.003784     | 0.008595     | 0.010635     |
| y          | 0.007626     | 0.009169     | 0.015052     |
| w          | 0.047410     | 0.019816     | 0.015378     |
| h          | 0.028253     | 0.023109     | 0.015748     |
| conf       | 0.516416     | 0.349689     | 0.259046     |
| cls        | 0.003017     | 0.003727     | 0.005600     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.954545     | 0.913043     |
| recall75   | 0.772727     | 0.818182     | 0.913043     |
| precision  | 0.606061     | 0.333333     | 0.153285     |
| conf_obj   | 0.887604     | 0.906462     | 0.910612     |
| conf_noobj | 0.001222     | 0.000891     | 0.000656     |
+------------+--------------+--------------+--------------+
2020-12-20 05:09:31.630 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.479898
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.393720     | 0.613806     | 0.472372     |
| x          | 0.003608     | 0.013014     | 0.035725     |
| y          | 0.003564     | 0.021448     | 0.026488     |
| w          | 0.028853     | 0.029719     | 0.011933     |
| h          | 0.012928     | 0.018172     | 0.006548     |
| conf       | 0.324033     | 0.524369     | 0.384769     |
| cls        | 0.020733     | 0.007084     | 0.006909     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.863636     | 0.954545     |
| recall75   | 0.857143     | 0.636364     | 0.909091     |
| precision  | 0.714286     | 0.365385     | 0.145833     |
| conf_obj   | 0.898782     | 0.831826     | 0.910842     |
| conf_noobj | 0.001110     | 0.000880     | 0.000767     |
+------------+--------------+--------------+--------------+
2020-12-20 05:09:34.603 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.125
2020-12-20 05:09:34.605 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 05:10:32.307 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05667   | 0.48432 | 0.10146 | 0.26442 |
| 1     | Wear_helmet | 0.48909   | 0.97266 | 0.65089 | 0.93932 |
| 2     | Total       | 0.27288   | 0.72849 | 0.37617 | 0.60187 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:10:32.309 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6018710757139492
2020-12-20 05:10:32.309 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 05:10:32.310 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.704015

2020-12-20 05:10:32.863 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 2/2, epo 1/5
2020-12-20 05:10:32.864 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 2/2, epo 1/5; time cost: 0:14:44.277955

2020-12-20 05:10:32.864 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 2/2, epo 2/5
2020-12-20 05:10:33.986 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.974804
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.398586     | 0.297315     | 0.278903     |
| x          | 0.009306     | 0.018560     | 0.014198     |
| y          | 0.008299     | 0.016478     | 0.020765     |
| w          | 0.043508     | 0.026944     | 0.016102     |
| h          | 0.038968     | 0.023479     | 0.012857     |
| conf       | 0.287540     | 0.194901     | 0.202771     |
| cls        | 0.010964     | 0.016953     | 0.012209     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 1.000000     | 1.000000     |
| recall75   | 0.766667     | 0.812500     | 0.937500     |
| precision  | 0.763158     | 0.500000     | 0.230216     |
| conf_obj   | 0.911090     | 0.956372     | 0.945669     |
| conf_noobj | 0.000949     | 0.000763     | 0.000666     |
+------------+--------------+--------------+--------------+
2020-12-20 05:11:36.054 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.709075
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.838951     | 0.522952     | 0.347171     |
| x          | 0.017799     | 0.019803     | 0.021961     |
| y          | 0.011525     | 0.025123     | 0.045097     |
| w          | 0.024180     | 0.019102     | 0.023870     |
| h          | 0.019727     | 0.017121     | 0.015062     |
| conf       | 0.714174     | 0.393977     | 0.195892     |
| cls        | 0.051546     | 0.047826     | 0.045289     |
| cls_acc    | 100.00%      | 96.67%       | 96.77%       |
| recall50   | 0.785714     | 0.800000     | 0.935484     |
| recall75   | 0.714286     | 0.733333     | 0.741935     |
| precision  | 0.550000     | 0.342857     | 0.207143     |
| conf_obj   | 0.789233     | 0.840098     | 0.925373     |
| conf_noobj | 0.001058     | 0.000722     | 0.000511     |
+------------+--------------+--------------+--------------+
2020-12-20 05:12:39.128 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.574259
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.553788     | 0.489109     | 0.531362     |
| x          | 0.023270     | 0.011236     | 0.017446     |
| y          | 0.009451     | 0.010605     | 0.017558     |
| w          | 0.036192     | 0.030082     | 0.022476     |
| h          | 0.048627     | 0.031967     | 0.021834     |
| conf       | 0.292796     | 0.327851     | 0.397184     |
| cls        | 0.143453     | 0.077367     | 0.054864     |
| cls_acc    | 94.12%       | 94.59%       | 94.59%       |
| recall50   | 0.882353     | 0.891892     | 0.918919     |
| recall75   | 0.705882     | 0.702703     | 0.783784     |
| precision  | 0.681818     | 0.388235     | 0.149780     |
| conf_obj   | 0.919823     | 0.917516     | 0.898658     |
| conf_noobj | 0.001100     | 0.001031     | 0.000956     |
+------------+--------------+--------------+--------------+
2020-12-20 05:13:37.021 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.713702
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.240761     | 0.223318     | 0.249624     |
| x          | 0.007356     | 0.014764     | 0.024776     |
| y          | 0.005297     | 0.012996     | 0.023401     |
| w          | 0.013232     | 0.009439     | 0.006969     |
| h          | 0.018457     | 0.015171     | 0.010031     |
| conf       | 0.189456     | 0.168221     | 0.180854     |
| cls        | 0.006964     | 0.002727     | 0.003593     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.967742     |
| recall75   | 0.965517     | 0.935484     | 0.870968     |
| precision  | 0.763158     | 0.508197     | 0.263158     |
| conf_obj   | 0.954777     | 0.963757     | 0.952422     |
| conf_noobj | 0.000872     | 0.000695     | 0.000546     |
+------------+--------------+--------------+--------------+
2020-12-20 05:14:38.814 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.858781
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.271579     | 0.254057     | 0.333144     |
| x          | 0.010696     | 0.022984     | 0.020617     |
| y          | 0.007310     | 0.018819     | 0.023056     |
| w          | 0.032316     | 0.015864     | 0.027397     |
| h          | 0.018129     | 0.013298     | 0.015150     |
| conf       | 0.191016     | 0.167506     | 0.225987     |
| cls        | 0.012111     | 0.015585     | 0.020937     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.954545     | 0.909091     |
| recall75   | 0.800000     | 0.863636     | 0.772727     |
| precision  | 0.760000     | 0.466667     | 0.150376     |
| conf_obj   | 0.932422     | 0.957309     | 0.938408     |
| conf_noobj | 0.000693     | 0.000642     | 0.000657     |
+------------+--------------+--------------+--------------+
2020-12-20 05:15:46.078 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.810034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.298611     | 0.244237     | 0.267187     |
| x          | 0.007388     | 0.006332     | 0.020070     |
| y          | 0.008499     | 0.032053     | 0.039727     |
| w          | 0.040892     | 0.043265     | 0.041439     |
| h          | 0.027380     | 0.035168     | 0.026718     |
| conf       | 0.200925     | 0.116701     | 0.130190     |
| cls        | 0.013528     | 0.010718     | 0.009043     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.800000     | 0.800000     |
| precision  | 0.791667     | 0.512821     | 0.202020     |
| conf_obj   | 0.929701     | 0.964924     | 0.961188     |
| conf_noobj | 0.000689     | 0.000411     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 05:16:53.209 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.271306
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.487538     | 0.392251     | 0.391517     |
| x          | 0.008935     | 0.015601     | 0.031726     |
| y          | 0.007854     | 0.016074     | 0.041967     |
| w          | 0.035059     | 0.016644     | 0.011287     |
| h          | 0.011046     | 0.011098     | 0.009346     |
| conf       | 0.334705     | 0.302609     | 0.267116     |
| cls        | 0.089941     | 0.030224     | 0.030075     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.958333     | 0.916667     |
| recall75   | 0.791667     | 0.875000     | 0.833333     |
| precision  | 0.567568     | 0.283951     | 0.133333     |
| conf_obj   | 0.883614     | 0.920335     | 0.918208     |
| conf_noobj | 0.001016     | 0.000867     | 0.000580     |
+------------+--------------+--------------+--------------+
2020-12-20 05:17:59.378 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.887246
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.268336     | 0.308480     | 0.310430     |
| x          | 0.004996     | 0.010264     | 0.025547     |
| y          | 0.004639     | 0.009643     | 0.026662     |
| w          | 0.021788     | 0.017033     | 0.014538     |
| h          | 0.009529     | 0.010421     | 0.017012     |
| conf       | 0.205467     | 0.222456     | 0.192087     |
| cls        | 0.021917     | 0.038663     | 0.034584     |
| cls_acc    | 100.00%      | 100.00%      | 96.97%       |
| recall50   | 0.967742     | 0.937500     | 0.939394     |
| recall75   | 0.903226     | 0.875000     | 0.787879     |
| precision  | 0.750000     | 0.389610     | 0.187879     |
| conf_obj   | 0.945948     | 0.944242     | 0.950197     |
| conf_noobj | 0.000757     | 0.000763     | 0.000632     |
+------------+--------------+--------------+--------------+
2020-12-20 05:19:02.055 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.734511
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.202311     | 0.249846     | 0.282354     |
| x          | 0.006860     | 0.019894     | 0.022156     |
| y          | 0.007569     | 0.012467     | 0.035250     |
| w          | 0.027330     | 0.018853     | 0.018430     |
| h          | 0.038504     | 0.042466     | 0.031988     |
| conf       | 0.113672     | 0.133516     | 0.152895     |
| cls        | 0.008376     | 0.022650     | 0.021635     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.894737     | 0.894737     |
| precision  | 0.760000     | 0.395833     | 0.125000     |
| conf_obj   | 0.983901     | 0.980974     | 0.971087     |
| conf_noobj | 0.000663     | 0.000630     | 0.000618     |
+------------+--------------+--------------+--------------+
2020-12-20 05:20:12.422 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.729087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.649469     | 0.525793     | 0.553825     |
| x          | 0.012466     | 0.008296     | 0.024615     |
| y          | 0.005661     | 0.011908     | 0.031286     |
| w          | 0.031140     | 0.020281     | 0.016922     |
| h          | 0.018435     | 0.018728     | 0.008884     |
| conf       | 0.355134     | 0.310292     | 0.281354     |
| cls        | 0.226631     | 0.156288     | 0.190765     |
| cls_acc    | 90.62%       | 93.75%       | 93.75%       |
| recall50   | 0.843750     | 0.875000     | 0.875000     |
| recall75   | 0.812500     | 0.812500     | 0.812500     |
| precision  | 0.710526     | 0.358974     | 0.153846     |
| conf_obj   | 0.869914     | 0.891828     | 0.904109     |
| conf_noobj | 0.000859     | 0.000650     | 0.000564     |
+------------+--------------+--------------+--------------+
2020-12-20 05:21:21.727 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.125097
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.560476     | 0.373990     | 0.190631     |
| x          | 0.001268     | 0.004060     | 0.011108     |
| y          | 0.004559     | 0.006323     | 0.019718     |
| w          | 0.015962     | 0.012303     | 0.006253     |
| h          | 0.019637     | 0.015008     | 0.007124     |
| conf       | 0.512721     | 0.334819     | 0.145983     |
| cls        | 0.006329     | 0.001476     | 0.000445     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.944444     | 0.944444     |
| precision  | 0.695652     | 0.566667     | 0.212500     |
| conf_obj   | 0.865449     | 0.913822     | 0.938678     |
| conf_noobj | 0.000477     | 0.000224     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 05:22:26.682 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.388029
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.577843     | 0.439267     | 0.370919     |
| x          | 0.005588     | 0.025474     | 0.045411     |
| y          | 0.008251     | 0.015401     | 0.035698     |
| w          | 0.025361     | 0.030938     | 0.034835     |
| h          | 0.023937     | 0.025483     | 0.024462     |
| conf       | 0.489310     | 0.321062     | 0.180484     |
| cls        | 0.025396     | 0.020909     | 0.050028     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.863636     | 0.909091     | 0.913043     |
| recall75   | 0.818182     | 0.818182     | 0.739130     |
| precision  | 0.655172     | 0.322581     | 0.153285     |
| conf_obj   | 0.848342     | 0.904181     | 0.931892     |
| conf_noobj | 0.000635     | 0.000605     | 0.000461     |
+------------+--------------+--------------+--------------+
2020-12-20 05:23:31.383 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.998580
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.692297     | 0.639395     | 0.666889     |
| x          | 0.008125     | 0.020760     | 0.040195     |
| y          | 0.006012     | 0.021720     | 0.016222     |
| w          | 0.017241     | 0.026491     | 0.044626     |
| h          | 0.014461     | 0.020330     | 0.011251     |
| conf       | 0.642556     | 0.541365     | 0.549443     |
| cls        | 0.003902     | 0.008729     | 0.005151     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.882353     | 0.941176     |
| recall75   | 0.823529     | 0.823529     | 0.882353     |
| precision  | 0.583333     | 0.333333     | 0.125984     |
| conf_obj   | 0.802446     | 0.846024     | 0.861709     |
| conf_noobj | 0.000665     | 0.000469     | 0.000448     |
+------------+--------------+--------------+--------------+
2020-12-20 05:24:34.766 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.139742
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.398643     | 0.419343     | 0.321756     |
| x          | 0.013050     | 0.016098     | 0.044614     |
| y          | 0.014292     | 0.025155     | 0.040094     |
| w          | 0.026105     | 0.012096     | 0.011024     |
| h          | 0.032626     | 0.006448     | 0.012518     |
| conf       | 0.307546     | 0.357094     | 0.211023     |
| cls        | 0.005024     | 0.002452     | 0.002483     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.840000     | 1.000000     |
| recall75   | 0.875000     | 0.800000     | 0.920000     |
| precision  | 0.621622     | 0.308824     | 0.157233     |
| conf_obj   | 0.887665     | 0.862202     | 0.917887     |
| conf_noobj | 0.000754     | 0.000634     | 0.000528     |
+------------+--------------+--------------+--------------+
2020-12-20 05:24:38.496 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.050
2020-12-20 05:24:38.499 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 05:25:33.653 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04835   | 0.53659 | 0.08871 | 0.28423 |
| 1     | Wear_helmet | 0.43556   | 0.96658 | 0.60051 | 0.94035 |
| 2     | Total       | 0.24195   | 0.75158 | 0.34461 | 0.61229 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:25:33.654 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6122890951352398
2020-12-20 05:25:33.655 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 05:25:33.655 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.155798

2020-12-20 05:25:34.084 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 2/2, epo 2/5
2020-12-20 05:25:34.084 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 2/2, epo 2/5; time cost: 0:15:01.219257

2020-12-20 05:25:34.084 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 2/2, epo 3/5
2020-12-20 05:25:35.877 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.092277
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.291652     | 0.371475     | 0.429150     |
| x          | 0.007226     | 0.013576     | 0.027280     |
| y          | 0.009311     | 0.013616     | 0.028102     |
| w          | 0.030054     | 0.022670     | 0.024459     |
| h          | 0.030823     | 0.029148     | 0.023157     |
| conf       | 0.203271     | 0.269177     | 0.301696     |
| cls        | 0.010967     | 0.023287     | 0.024456     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.935484     | 0.968750     |
| recall75   | 0.900000     | 0.870968     | 0.906250     |
| precision  | 0.743590     | 0.446154     | 0.136564     |
| conf_obj   | 0.931816     | 0.902655     | 0.891092     |
| conf_noobj | 0.000744     | 0.000635     | 0.000737     |
+------------+--------------+--------------+--------------+
2020-12-20 05:26:43.699 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.714082
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.180647     | 0.232699     | 0.300736     |
| x          | 0.006136     | 0.020253     | 0.030216     |
| y          | 0.004942     | 0.015877     | 0.037555     |
| w          | 0.019200     | 0.016307     | 0.013048     |
| h          | 0.018154     | 0.013389     | 0.010046     |
| conf       | 0.119047     | 0.156363     | 0.202050     |
| cls        | 0.013168     | 0.010510     | 0.007821     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 0.958333     |
| recall75   | 0.913043     | 0.875000     | 0.875000     |
| precision  | 0.920000     | 0.450980     | 0.221154     |
| conf_obj   | 0.954366     | 0.943059     | 0.911535     |
| conf_noobj | 0.000511     | 0.000501     | 0.000391     |
+------------+--------------+--------------+--------------+
2020-12-20 05:27:52.358 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.043493
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.329959     | 0.316967     | 0.396568     |
| x          | 0.005297     | 0.028409     | 0.025695     |
| y          | 0.010746     | 0.013824     | 0.006987     |
| w          | 0.028398     | 0.013720     | 0.021493     |
| h          | 0.028171     | 0.019207     | 0.016181     |
| conf       | 0.249217     | 0.232674     | 0.324176     |
| cls        | 0.008129     | 0.009133     | 0.002036     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.869565     |
| recall75   | 0.869565     | 0.869565     | 0.869565     |
| precision  | 0.814815     | 0.488889     | 0.190476     |
| conf_obj   | 0.934709     | 0.938112     | 0.892523     |
| conf_noobj | 0.000556     | 0.000460     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 05:28:55.244 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.451034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.170938     | 0.123239     | 0.156856     |
| x          | 0.003541     | 0.007643     | 0.015641     |
| y          | 0.003083     | 0.005232     | 0.018969     |
| w          | 0.025828     | 0.021467     | 0.013083     |
| h          | 0.018415     | 0.012617     | 0.007887     |
| conf       | 0.114357     | 0.073771     | 0.099412     |
| cls        | 0.005715     | 0.002511     | 0.001864     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.875000     | 0.552632     | 0.201923     |
| conf_obj   | 0.956966     | 0.978870     | 0.981972     |
| conf_noobj | 0.000427     | 0.000312     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 05:29:59.445 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.861020
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.305432     | 0.346984     | 0.208604     |
| x          | 0.004038     | 0.006519     | 0.012558     |
| y          | 0.006628     | 0.010617     | 0.019499     |
| w          | 0.025684     | 0.022402     | 0.017614     |
| h          | 0.025128     | 0.018192     | 0.012286     |
| conf       | 0.242002     | 0.287935     | 0.145412     |
| cls        | 0.001953     | 0.001319     | 0.001235     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.962963     | 1.000000     |
| recall75   | 0.851852     | 0.814815     | 0.888889     |
| precision  | 0.710526     | 0.393939     | 0.194245     |
| conf_obj   | 0.923403     | 0.934100     | 0.977578     |
| conf_noobj | 0.000791     | 0.000718     | 0.000547     |
+------------+--------------+--------------+--------------+
2020-12-20 05:31:04.407 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.877195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.249041     | 0.402896     | 0.225259     |
| x          | 0.004792     | 0.016363     | 0.021497     |
| y          | 0.003293     | 0.007977     | 0.020734     |
| w          | 0.020012     | 0.005966     | 0.007842     |
| h          | 0.016831     | 0.011383     | 0.008076     |
| conf       | 0.155942     | 0.262794     | 0.142928     |
| cls        | 0.048171     | 0.098413     | 0.024181     |
| cls_acc    | 100.00%      | 94.12%       | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 0.941176     | 0.882353     | 0.941176     |
| precision  | 0.680000     | 0.307692     | 0.140496     |
| conf_obj   | 0.956618     | 0.900919     | 0.950549     |
| conf_noobj | 0.000625     | 0.000553     | 0.000381     |
+------------+--------------+--------------+--------------+
2020-12-20 05:32:10.049 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.858192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.331228     | 0.254469     | 0.272495     |
| x          | 0.003968     | 0.007302     | 0.014246     |
| y          | 0.002556     | 0.007162     | 0.021651     |
| w          | 0.021978     | 0.017884     | 0.010500     |
| h          | 0.021615     | 0.012194     | 0.005641     |
| conf       | 0.204286     | 0.143585     | 0.159964     |
| cls        | 0.076824     | 0.066342     | 0.060492     |
| cls_acc    | 96.15%       | 96.15%       | 96.30%       |
| recall50   | 0.961538     | 0.961538     | 0.925926     |
| recall75   | 0.923077     | 0.846154     | 0.888889     |
| precision  | 0.806452     | 0.480769     | 0.233645     |
| conf_obj   | 0.933299     | 0.961137     | 0.945041     |
| conf_noobj | 0.000527     | 0.000495     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 05:33:14.753 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.704234
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.239614     | 0.245960     | 0.218661     |
| x          | 0.002229     | 0.008278     | 0.013487     |
| y          | 0.002989     | 0.006317     | 0.016441     |
| w          | 0.008951     | 0.009920     | 0.009751     |
| h          | 0.017420     | 0.012658     | 0.019160     |
| conf       | 0.203611     | 0.199797     | 0.155521     |
| cls        | 0.004414     | 0.008990     | 0.004300     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.954545     | 0.956522     |
| precision  | 0.687500     | 0.343750     | 0.172932     |
| conf_obj   | 0.961997     | 0.956817     | 0.981187     |
| conf_noobj | 0.000941     | 0.000747     | 0.000575     |
+------------+--------------+--------------+--------------+
2020-12-20 05:34:17.876 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.202507
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.487468     | 0.309943     | 0.405096     |
| x          | 0.008974     | 0.023904     | 0.015311     |
| y          | 0.009794     | 0.008903     | 0.024706     |
| w          | 0.026972     | 0.026540     | 0.019775     |
| h          | 0.031679     | 0.026621     | 0.028594     |
| conf       | 0.399465     | 0.215693     | 0.310542     |
| cls        | 0.010583     | 0.008282     | 0.006168     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.897436     | 0.950000     | 0.950000     |
| recall75   | 0.794872     | 0.850000     | 0.825000     |
| precision  | 0.795455     | 0.487179     | 0.211111     |
| conf_obj   | 0.855184     | 0.934822     | 0.926696     |
| conf_noobj | 0.000931     | 0.000728     | 0.000689     |
+------------+--------------+--------------+--------------+
2020-12-20 05:35:18.939 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.278334
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.372135     | 0.480989     | 0.425209     |
| x          | 0.009518     | 0.006568     | 0.019791     |
| y          | 0.014095     | 0.008563     | 0.014476     |
| w          | 0.060552     | 0.043213     | 0.031205     |
| h          | 0.045602     | 0.033119     | 0.022307     |
| conf       | 0.213231     | 0.361656     | 0.314156     |
| cls        | 0.029137     | 0.027869     | 0.023274     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.777778     | 0.777778     |
| precision  | 0.772727     | 0.404762     | 0.158879     |
| conf_obj   | 0.928049     | 0.918958     | 0.913212     |
| conf_noobj | 0.000683     | 0.000567     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 05:36:22.508 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 2.609931
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.053078     | 0.796852     | 0.760002     |
| x          | 0.007187     | 0.007112     | 0.017992     |
| y          | 0.005098     | 0.006166     | 0.016659     |
| w          | 0.022795     | 0.011948     | 0.010221     |
| h          | 0.019339     | 0.013595     | 0.014426     |
| conf       | 0.603910     | 0.311735     | 0.193398     |
| cls        | 0.394747     | 0.446295     | 0.507306     |
| cls_acc    | 92.31%       | 85.19%       | 81.48%       |
| recall50   | 0.769231     | 0.814815     | 0.814815     |
| recall75   | 0.653846     | 0.777778     | 0.740741     |
| precision  | 0.555556     | 0.309859     | 0.153846     |
| conf_obj   | 0.840737     | 0.920527     | 0.959639     |
| conf_noobj | 0.001372     | 0.000999     | 0.000721     |
+------------+--------------+--------------+--------------+
2020-12-20 05:37:26.036 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.774676
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.295268     | 0.249784     | 0.229624     |
| x          | 0.003383     | 0.006724     | 0.027759     |
| y          | 0.006481     | 0.008008     | 0.022441     |
| w          | 0.046796     | 0.061089     | 0.026683     |
| h          | 0.040728     | 0.038096     | 0.016091     |
| conf       | 0.191272     | 0.128911     | 0.129218     |
| cls        | 0.006608     | 0.006956     | 0.007433     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 0.884615     | 0.923077     |
| precision  | 0.764706     | 0.419355     | 0.204724     |
| conf_obj   | 0.949733     | 0.986520     | 0.975984     |
| conf_noobj | 0.000617     | 0.000554     | 0.000486     |
+------------+--------------+--------------+--------------+
2020-12-20 05:38:30.672 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.696647
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.229008     | 0.224911     | 0.242729     |
| x          | 0.004573     | 0.005873     | 0.017165     |
| y          | 0.011017     | 0.027245     | 0.063623     |
| w          | 0.018774     | 0.008118     | 0.005786     |
| h          | 0.021042     | 0.006541     | 0.006658     |
| conf       | 0.172737     | 0.176570     | 0.147874     |
| cls        | 0.000865     | 0.000564     | 0.001624     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.586207     | 0.253731     | 0.151786     |
| conf_obj   | 0.969512     | 0.973925     | 0.959316     |
| conf_noobj | 0.000889     | 0.000799     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 05:39:33.268 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.788486
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.276522     | 0.276717     | 0.235247     |
| x          | 0.010968     | 0.013267     | 0.025164     |
| y          | 0.005442     | 0.005806     | 0.022235     |
| w          | 0.035445     | 0.026330     | 0.014005     |
| h          | 0.012862     | 0.015924     | 0.013348     |
| conf       | 0.183101     | 0.190070     | 0.129692     |
| cls        | 0.028704     | 0.025320     | 0.030805     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.928571     | 1.000000     |
| recall75   | 0.740741     | 0.785714     | 0.821429     |
| precision  | 0.838710     | 0.481481     | 0.207407     |
| conf_obj   | 0.946354     | 0.936468     | 0.969945     |
| conf_noobj | 0.000573     | 0.000522     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 05:39:36.298 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.045
2020-12-20 05:39:36.301 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 05:40:32.650 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09215   | 0.49477 | 0.15536 | 0.29688 |
| 1     | Wear_helmet | 0.59335   | 0.96832 | 0.73582 | 0.94541 |
| 2     | Total       | 0.34275   | 0.73154 | 0.44559 | 0.62114 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:40:32.651 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6211449671176477
2020-12-20 05:40:32.651 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 05:40:32.652 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.350498

2020-12-20 05:40:33.137 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 2/2, epo 3/5
2020-12-20 05:40:33.137 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 2/2, epo 3/5; time cost: 0:14:59.052805

2020-12-20 05:40:33.138 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 2/2, epo 4/5
2020-12-20 05:40:34.238 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.067829
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.450750     | 0.378953     | 0.238127     |
| x          | 0.017234     | 0.005314     | 0.011875     |
| y          | 0.005796     | 0.005384     | 0.024216     |
| w          | 0.019661     | 0.018833     | 0.015190     |
| h          | 0.014662     | 0.013229     | 0.014555     |
| conf       | 0.389956     | 0.335395     | 0.171113     |
| cls        | 0.003440     | 0.000798     | 0.001178     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.928571     | 1.000000     |
| recall75   | 0.857143     | 0.928571     | 0.892857     |
| precision  | 0.694444     | 0.464286     | 0.235294     |
| conf_obj   | 0.882604     | 0.908745     | 0.949628     |
| conf_noobj | 0.000917     | 0.000699     | 0.000524     |
+------------+--------------+--------------+--------------+
2020-12-20 05:41:39.764 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.131719
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.437824     | 0.386235     | 0.307660     |
| x          | 0.003707     | 0.014956     | 0.022455     |
| y          | 0.003953     | 0.012045     | 0.040192     |
| w          | 0.009282     | 0.023374     | 0.016878     |
| h          | 0.017338     | 0.035572     | 0.022812     |
| conf       | 0.385332     | 0.277286     | 0.175058     |
| cls        | 0.018212     | 0.023003     | 0.030265     |
| cls_acc    | 100.00%      | 100.00%      | 96.15%       |
| recall50   | 0.884615     | 0.923077     | 0.923077     |
| recall75   | 0.884615     | 0.884615     | 0.884615     |
| precision  | 0.741935     | 0.375000     | 0.184615     |
| conf_obj   | 0.888490     | 0.917209     | 0.948357     |
| conf_noobj | 0.000723     | 0.000706     | 0.000514     |
+------------+--------------+--------------+--------------+
2020-12-20 05:42:47.125 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.847498
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.373124     | 0.246388     | 0.227986     |
| x          | 0.007053     | 0.017110     | 0.021132     |
| y          | 0.023585     | 0.006454     | 0.025499     |
| w          | 0.021115     | 0.011100     | 0.006977     |
| h          | 0.025810     | 0.013200     | 0.004162     |
| conf       | 0.254719     | 0.176364     | 0.159067     |
| cls        | 0.040842     | 0.022160     | 0.011148     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 1.000000     | 1.000000     |
| recall75   | 0.863636     | 0.863636     | 0.913043     |
| precision  | 0.588235     | 0.385965     | 0.154362     |
| conf_obj   | 0.962130     | 0.969339     | 0.972584     |
| conf_noobj | 0.001057     | 0.000770     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 05:43:57.254 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.535755
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.488730     | 0.529067     | 0.517959     |
| x          | 0.015764     | 0.023034     | 0.016545     |
| y          | 0.023676     | 0.026831     | 0.024402     |
| w          | 0.057127     | 0.031580     | 0.016826     |
| h          | 0.054624     | 0.040938     | 0.028026     |
| conf       | 0.249038     | 0.247295     | 0.223369     |
| cls        | 0.088501     | 0.159390     | 0.208791     |
| cls_acc    | 93.10%       | 96.77%       | 93.55%       |
| recall50   | 0.793103     | 0.870968     | 0.903226     |
| recall75   | 0.724138     | 0.741935     | 0.741935     |
| precision  | 0.560976     | 0.300000     | 0.130841     |
| conf_obj   | 0.944824     | 0.940308     | 0.942283     |
| conf_noobj | 0.001006     | 0.000893     | 0.000710     |
+------------+--------------+--------------+--------------+
2020-12-20 05:45:04.344 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 2.007640
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.594866     | 0.647881     | 0.764893     |
| x          | 0.015382     | 0.027693     | 0.032760     |
| y          | 0.018930     | 0.015670     | 0.037826     |
| w          | 0.030447     | 0.030274     | 0.014738     |
| h          | 0.028814     | 0.035813     | 0.012542     |
| conf       | 0.316602     | 0.262904     | 0.400079     |
| cls        | 0.184691     | 0.275528     | 0.266947     |
| cls_acc    | 96.43%       | 93.10%       | 93.10%       |
| recall50   | 0.928571     | 0.931035     | 0.931035     |
| recall75   | 0.928571     | 0.896552     | 0.862069     |
| precision  | 0.565217     | 0.300000     | 0.139175     |
| conf_obj   | 0.935203     | 0.932721     | 0.925884     |
| conf_noobj | 0.001293     | 0.000889     | 0.000691     |
+------------+--------------+--------------+--------------+
2020-12-20 05:46:04.694 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.614552
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.263311     | 0.181507     | 0.169734     |
| x          | 0.012629     | 0.009145     | 0.010981     |
| y          | 0.002912     | 0.003906     | 0.015938     |
| w          | 0.014197     | 0.019438     | 0.011048     |
| h          | 0.017995     | 0.019114     | 0.016528     |
| conf       | 0.212274     | 0.123006     | 0.100255     |
| cls        | 0.003304     | 0.006898     | 0.014983     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.900000     | 0.900000     |
| precision  | 0.680000     | 0.487805     | 0.190476     |
| conf_obj   | 0.945317     | 0.963589     | 0.983866     |
| conf_noobj | 0.000686     | 0.000392     | 0.000415     |
+------------+--------------+--------------+--------------+
2020-12-20 05:47:11.269 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.588832
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.914191     | 0.907099     | 0.767541     |
| x          | 0.009833     | 0.008294     | 0.011221     |
| y          | 0.010786     | 0.013139     | 0.051179     |
| w          | 0.091753     | 0.039594     | 0.031774     |
| h          | 0.081963     | 0.054011     | 0.031136     |
| conf       | 0.585087     | 0.720715     | 0.576350     |
| cls        | 0.134769     | 0.071347     | 0.065882     |
| cls_acc    | 93.94%       | 97.06%       | 97.06%       |
| recall50   | 0.818182     | 0.823529     | 0.794118     |
| recall75   | 0.757576     | 0.735294     | 0.764706     |
| precision  | 0.900000     | 0.400000     | 0.197080     |
| conf_obj   | 0.832149     | 0.841277     | 0.835868     |
| conf_noobj | 0.000632     | 0.000877     | 0.000702     |
+------------+--------------+--------------+--------------+
2020-12-20 05:48:19.339 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.482891
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.139469     | 0.156672     | 0.186749     |
| x          | 0.031257     | 0.028365     | 0.027087     |
| y          | 0.004701     | 0.007207     | 0.018363     |
| w          | 0.015280     | 0.016917     | 0.014856     |
| h          | 0.009273     | 0.011866     | 0.010797     |
| conf       | 0.078222     | 0.091797     | 0.114565     |
| cls        | 0.000737     | 0.000520     | 0.001080     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.850000     | 0.950000     |
| precision  | 0.809524     | 0.487805     | 0.219780     |
| conf_obj   | 0.973752     | 0.974689     | 0.965917     |
| conf_noobj | 0.000369     | 0.000387     | 0.000394     |
+------------+--------------+--------------+--------------+
2020-12-20 05:49:24.588 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.975978
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.309851     | 0.337034     | 0.329094     |
| x          | 0.007357     | 0.019259     | 0.032680     |
| y          | 0.013281     | 0.013493     | 0.027111     |
| w          | 0.012046     | 0.015554     | 0.005652     |
| h          | 0.020937     | 0.013311     | 0.012424     |
| conf       | 0.246990     | 0.269385     | 0.246712     |
| cls        | 0.009241     | 0.006032     | 0.004514     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.846154     | 0.923077     | 0.961538     |
| precision  | 0.625000     | 0.328947     | 0.153374     |
| conf_obj   | 0.941303     | 0.933052     | 0.935130     |
| conf_noobj | 0.000908     | 0.000679     | 0.000533     |
+------------+--------------+--------------+--------------+
2020-12-20 05:50:27.796 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.634037
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.219016     | 0.206967     | 0.208053     |
| x          | 0.012199     | 0.013533     | 0.013741     |
| y          | 0.006840     | 0.014605     | 0.038326     |
| w          | 0.011054     | 0.009120     | 0.006179     |
| h          | 0.008441     | 0.008191     | 0.006666     |
| conf       | 0.179313     | 0.160044     | 0.141590     |
| cls        | 0.001169     | 0.001474     | 0.001552     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 0.925926     | 1.000000     |
| precision  | 0.702703     | 0.350649     | 0.177632     |
| conf_obj   | 0.963468     | 0.962395     | 0.972680     |
| conf_noobj | 0.000812     | 0.000648     | 0.000534     |
+------------+--------------+--------------+--------------+
2020-12-20 05:51:26.060 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.211734
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.407673     | 0.471356     | 0.332705     |
| x          | 0.011583     | 0.008790     | 0.033997     |
| y          | 0.001479     | 0.009268     | 0.015834     |
| w          | 0.020245     | 0.009908     | 0.009035     |
| h          | 0.018888     | 0.011271     | 0.008340     |
| conf       | 0.300902     | 0.334698     | 0.230032     |
| cls        | 0.054575     | 0.097420     | 0.035466     |
| cls_acc    | 94.74%       | 95.00%       | 100.00%      |
| recall50   | 0.894737     | 0.900000     | 0.950000     |
| recall75   | 0.842105     | 0.900000     | 0.900000     |
| precision  | 0.739130     | 0.461538     | 0.165217     |
| conf_obj   | 0.941826     | 0.926388     | 0.933524     |
| conf_noobj | 0.000483     | 0.000433     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 05:52:26.148 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.558874
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.229383     | 0.151981     | 0.177511     |
| x          | 0.001478     | 0.003084     | 0.017954     |
| y          | 0.005921     | 0.016007     | 0.020356     |
| w          | 0.016887     | 0.007711     | 0.010841     |
| h          | 0.017323     | 0.009614     | 0.011817     |
| conf       | 0.182067     | 0.111536     | 0.114291     |
| cls        | 0.005707     | 0.004030     | 0.002251     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.916667     |
| precision  | 0.666667     | 0.324324     | 0.130435     |
| conf_obj   | 0.953597     | 0.979408     | 0.967951     |
| conf_noobj | 0.000696     | 0.000493     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 05:53:27.617 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.807684
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.265990     | 0.267082     | 0.274612     |
| x          | 0.008671     | 0.009463     | 0.029432     |
| y          | 0.008419     | 0.012683     | 0.037377     |
| w          | 0.033952     | 0.013490     | 0.010144     |
| h          | 0.024206     | 0.016290     | 0.012068     |
| conf       | 0.179717     | 0.212074     | 0.183108     |
| cls        | 0.011025     | 0.003082     | 0.002483     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.965517     | 0.931035     |
| recall75   | 0.892857     | 0.965517     | 0.793103     |
| precision  | 0.843750     | 0.417910     | 0.170886     |
| conf_obj   | 0.936727     | 0.934576     | 0.948035     |
| conf_noobj | 0.000562     | 0.000628     | 0.000529     |
+------------+--------------+--------------+--------------+
2020-12-20 05:54:36.588 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.672933
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.269750     | 0.201224     | 0.201959     |
| x          | 0.005822     | 0.007657     | 0.018287     |
| y          | 0.007760     | 0.009800     | 0.015246     |
| w          | 0.021984     | 0.012856     | 0.014663     |
| h          | 0.017437     | 0.014128     | 0.018101     |
| conf       | 0.211779     | 0.154631     | 0.129471     |
| cls        | 0.004968     | 0.002152     | 0.006191     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.916667     | 0.958333     |
| precision  | 0.638889     | 0.363636     | 0.154839     |
| conf_obj   | 0.953848     | 0.985774     | 0.984849     |
| conf_noobj | 0.000912     | 0.000720     | 0.000564     |
+------------+--------------+--------------+--------------+
2020-12-20 05:54:39.971 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.988
2020-12-20 05:54:39.974 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 05:55:33.030 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09068   | 0.50871 | 0.15393 | 0.33573 |
| 1     | Wear_helmet | 0.66257   | 0.95877 | 0.78361 | 0.94081 |
| 2     | Total       | 0.37663   | 0.73374 | 0.46877 | 0.63827 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:55:33.030 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6382686387094971
2020-12-20 05:55:33.031 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 05:55:33.031 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.057063

2020-12-20 05:55:33.481 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 2/2, epo 4/5
2020-12-20 05:55:33.481 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 2/2, epo 4/5; time cost: 0:15:00.343077

2020-12-20 05:55:33.481 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 2/2, epo 5/5
2020-12-20 05:55:34.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.987877
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.338509     | 0.295313     | 0.354054     |
| x          | 0.007298     | 0.016112     | 0.049314     |
| y          | 0.006591     | 0.023836     | 0.027184     |
| w          | 0.037103     | 0.038322     | 0.007755     |
| h          | 0.030909     | 0.030178     | 0.009569     |
| conf       | 0.238436     | 0.172935     | 0.241783     |
| cls        | 0.018172     | 0.013931     | 0.018449     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.777778     | 0.944444     |
| precision  | 0.607143     | 0.333333     | 0.151786     |
| conf_obj   | 0.933141     | 0.936497     | 0.915111     |
| conf_noobj | 0.000792     | 0.000532     | 0.000435     |
+------------+--------------+--------------+--------------+
2020-12-20 05:56:49.702 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.033166
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.337078     | 0.386089     | 0.309999     |
| x          | 0.021340     | 0.035542     | 0.021342     |
| y          | 0.020784     | 0.022585     | 0.023327     |
| w          | 0.034294     | 0.022497     | 0.023872     |
| h          | 0.027333     | 0.021148     | 0.016534     |
| conf       | 0.211942     | 0.223908     | 0.159501     |
| cls        | 0.021385     | 0.060409     | 0.065423     |
| cls_acc    | 100.00%      | 96.77%       | 96.88%       |
| recall50   | 0.857143     | 0.903226     | 0.968750     |
| recall75   | 0.535714     | 0.806452     | 0.812500     |
| precision  | 0.750000     | 0.368421     | 0.192547     |
| conf_obj   | 0.915968     | 0.955325     | 0.972523     |
| conf_noobj | 0.000531     | 0.000774     | 0.000582     |
+------------+--------------+--------------+--------------+
2020-12-20 05:57:57.224 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.894976
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.291039     | 0.306018     | 0.297919     |
| x          | 0.004108     | 0.011235     | 0.026302     |
| y          | 0.016349     | 0.020469     | 0.050122     |
| w          | 0.037643     | 0.025104     | 0.020882     |
| h          | 0.032154     | 0.021070     | 0.020838     |
| conf       | 0.189457     | 0.201515     | 0.169947     |
| cls        | 0.011330     | 0.026625     | 0.009827     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.961538     | 0.923077     |
| recall75   | 0.920000     | 0.846154     | 0.769231     |
| precision  | 0.766667     | 0.378788     | 0.186047     |
| conf_obj   | 0.923887     | 0.941337     | 0.945330     |
| conf_noobj | 0.000560     | 0.000579     | 0.000457     |
+------------+--------------+--------------+--------------+
2020-12-20 05:59:03.430 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.908365
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.235421     | 0.395280     | 0.277665     |
| x          | 0.006420     | 0.022078     | 0.039191     |
| y          | 0.005050     | 0.011628     | 0.028771     |
| w          | 0.013983     | 0.013640     | 0.025515     |
| h          | 0.011465     | 0.015371     | 0.014226     |
| conf       | 0.197743     | 0.331980     | 0.168948     |
| cls        | 0.000759     | 0.000582     | 0.001014     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.894737     | 0.947368     |
| recall75   | 0.944444     | 0.842105     | 0.736842     |
| precision  | 0.666667     | 0.369565     | 0.178218     |
| conf_obj   | 0.941957     | 0.904790     | 0.942027     |
| conf_noobj | 0.000664     | 0.000401     | 0.000306     |
+------------+--------------+--------------+--------------+
2020-12-20 06:00:05.331 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.724115
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.255448     | 0.246333     | 0.222334     |
| x          | 0.002831     | 0.011148     | 0.023234     |
| y          | 0.005071     | 0.021160     | 0.059867     |
| w          | 0.012748     | 0.008719     | 0.003255     |
| h          | 0.007263     | 0.007670     | 0.009991     |
| conf       | 0.213783     | 0.162492     | 0.106474     |
| cls        | 0.013751     | 0.035144     | 0.019513     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.947368     | 1.000000     |
| recall75   | 0.894737     | 0.947368     | 1.000000     |
| precision  | 0.772727     | 0.360000     | 0.188119     |
| conf_obj   | 0.916179     | 0.938623     | 0.964469     |
| conf_noobj | 0.000489     | 0.000437     | 0.000320     |
+------------+--------------+--------------+--------------+
2020-12-20 06:01:06.953 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.248283
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.411051     | 0.365911     | 0.471321     |
| x          | 0.004853     | 0.004853     | 0.036731     |
| y          | 0.013346     | 0.012067     | 0.040167     |
| w          | 0.013891     | 0.010733     | 0.008913     |
| h          | 0.025346     | 0.022361     | 0.019127     |
| conf       | 0.305261     | 0.254565     | 0.292961     |
| cls        | 0.048354     | 0.061333     | 0.073423     |
| cls_acc    | 94.74%       | 94.74%       | 95.00%       |
| recall50   | 0.894737     | 0.894737     | 0.900000     |
| recall75   | 0.789474     | 0.894737     | 0.850000     |
| precision  | 0.629630     | 0.320755     | 0.136364     |
| conf_obj   | 0.914892     | 0.931698     | 0.921406     |
| conf_noobj | 0.000987     | 0.000756     | 0.000685     |
+------------+--------------+--------------+--------------+
2020-12-20 06:02:05.379 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.110205
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.444406     | 0.383145     | 0.282653     |
| x          | 0.005147     | 0.018343     | 0.050883     |
| y          | 0.005580     | 0.008435     | 0.042353     |
| w          | 0.019644     | 0.012377     | 0.013302     |
| h          | 0.010020     | 0.012745     | 0.009901     |
| conf       | 0.227082     | 0.214851     | 0.123808     |
| cls        | 0.176934     | 0.116394     | 0.042406     |
| cls_acc    | 94.12%       | 88.89%       | 100.00%      |
| recall50   | 0.882353     | 0.888889     | 1.000000     |
| recall75   | 0.882353     | 0.888889     | 1.000000     |
| precision  | 0.789474     | 0.320000     | 0.176471     |
| conf_obj   | 0.939774     | 0.926421     | 0.988275     |
| conf_noobj | 0.000594     | 0.000632     | 0.000531     |
+------------+--------------+--------------+--------------+
2020-12-20 06:03:08.381 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.852977
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.908181     | 0.529898     | 0.414898     |
| x          | 0.021293     | 0.019886     | 0.025782     |
| y          | 0.014464     | 0.011405     | 0.020075     |
| w          | 0.050711     | 0.018354     | 0.020677     |
| h          | 0.070185     | 0.039590     | 0.043129     |
| conf       | 0.660008     | 0.376085     | 0.257273     |
| cls        | 0.091520     | 0.064579     | 0.047962     |
| cls_acc    | 96.30%       | 96.55%       | 96.55%       |
| recall50   | 0.777778     | 0.793103     | 0.931035     |
| recall75   | 0.666667     | 0.724138     | 0.827586     |
| precision  | 0.636364     | 0.396552     | 0.169811     |
| conf_obj   | 0.828548     | 0.872677     | 0.928322     |
| conf_noobj | 0.001053     | 0.000640     | 0.000738     |
+------------+--------------+--------------+--------------+
2020-12-20 06:04:12.964 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.886449
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.183623     | 0.287719     | 0.415107     |
| x          | 0.004628     | 0.028232     | 0.066204     |
| y          | 0.005436     | 0.014950     | 0.036040     |
| w          | 0.024464     | 0.011983     | 0.019857     |
| h          | 0.025508     | 0.010543     | 0.008594     |
| conf       | 0.113087     | 0.166749     | 0.108166     |
| cls        | 0.010499     | 0.055263     | 0.176246     |
| cls_acc    | 100.00%      | 94.12%       | 94.12%       |
| recall50   | 1.000000     | 0.941176     | 0.941176     |
| recall75   | 0.941176     | 0.882353     | 0.823529     |
| precision  | 0.894737     | 0.333333     | 0.202532     |
| conf_obj   | 0.989320     | 0.963013     | 0.978291     |
| conf_noobj | 0.000609     | 0.000700     | 0.000427     |
+------------+--------------+--------------+--------------+
2020-12-20 06:05:17.970 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.772811
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.339376     | 0.253947     | 0.179487     |
| x          | 0.005394     | 0.009042     | 0.022266     |
| y          | 0.007807     | 0.025095     | 0.021602     |
| w          | 0.019959     | 0.010536     | 0.005021     |
| h          | 0.027275     | 0.017324     | 0.010714     |
| conf       | 0.262448     | 0.176013     | 0.111504     |
| cls        | 0.016493     | 0.015937     | 0.008379     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 1.000000     |
| recall75   | 0.818182     | 0.916667     | 0.916667     |
| precision  | 0.636364     | 0.377049     | 0.170213     |
| conf_obj   | 0.935189     | 0.946327     | 0.983964     |
| conf_noobj | 0.000885     | 0.000547     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 06:06:25.318 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.079311
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.318290     | 0.333041     | 0.427980     |
| x          | 0.012645     | 0.009054     | 0.026277     |
| y          | 0.015024     | 0.020977     | 0.023327     |
| w          | 0.022685     | 0.014077     | 0.009903     |
| h          | 0.024664     | 0.025454     | 0.022838     |
| conf       | 0.242004     | 0.260497     | 0.336497     |
| cls        | 0.001269     | 0.002982     | 0.009137     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.931035     | 0.896552     |
| recall75   | 0.888889     | 0.862069     | 0.896552     |
| precision  | 0.757576     | 0.375000     | 0.179310     |
| conf_obj   | 0.933122     | 0.912319     | 0.897640     |
| conf_noobj | 0.000475     | 0.000607     | 0.000470     |
+------------+--------------+--------------+--------------+
2020-12-20 06:07:33.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.144457
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.490632     | 0.333361     | 0.320464     |
| x          | 0.005842     | 0.008787     | 0.014595     |
| y          | 0.007950     | 0.012950     | 0.015091     |
| w          | 0.018374     | 0.013085     | 0.013233     |
| h          | 0.022097     | 0.016462     | 0.015716     |
| conf       | 0.337976     | 0.267172     | 0.223836     |
| cls        | 0.098393     | 0.014904     | 0.037993     |
| cls_acc    | 95.45%       | 100.00%      | 95.45%       |
| recall50   | 0.863636     | 0.909091     | 0.909091     |
| recall75   | 0.818182     | 0.909091     | 0.863636     |
| precision  | 0.678571     | 0.344828     | 0.144928     |
| conf_obj   | 0.877458     | 0.913068     | 0.933117     |
| conf_noobj | 0.000913     | 0.000756     | 0.000601     |
+------------+--------------+--------------+--------------+
2020-12-20 06:08:36.772 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.489233
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.420777     | 0.604056     | 0.464400     |
| x          | 0.016785     | 0.010811     | 0.031584     |
| y          | 0.040088     | 0.011625     | 0.023272     |
| w          | 0.031326     | 0.022332     | 0.028524     |
| h          | 0.041814     | 0.019538     | 0.012103     |
| conf       | 0.269385     | 0.425192     | 0.229965     |
| cls        | 0.021380     | 0.114556     | 0.138952     |
| cls_acc    | 100.00%      | 92.59%       | 92.86%       |
| recall50   | 0.880000     | 0.888889     | 0.857143     |
| recall75   | 0.760000     | 0.777778     | 0.750000     |
| precision  | 0.628571     | 0.406780     | 0.187500     |
| conf_obj   | 0.931634     | 0.892310     | 0.924241     |
| conf_noobj | 0.000970     | 0.000752     | 0.000608     |
+------------+--------------+--------------+--------------+
2020-12-20 06:09:41.904 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.104173
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.368643     | 0.381641     | 0.353890     |
| x          | 0.005043     | 0.023328     | 0.054080     |
| y          | 0.010921     | 0.022894     | 0.074843     |
| w          | 0.014987     | 0.020044     | 0.009129     |
| h          | 0.043871     | 0.045527     | 0.017461     |
| conf       | 0.273732     | 0.255768     | 0.179317     |
| cls        | 0.020090     | 0.014079     | 0.019060     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.950000     | 0.952381     |
| recall75   | 0.850000     | 0.850000     | 0.809524     |
| precision  | 0.692308     | 0.345455     | 0.186916     |
| conf_obj   | 0.920854     | 0.910391     | 0.944394     |
| conf_noobj | 0.000812     | 0.000621     | 0.000449     |
+------------+--------------+--------------+--------------+
2020-12-20 06:09:45.021 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.964
2020-12-20 06:09:45.025 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 06:10:37.583 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07556   | 0.47387 | 0.13033 | 0.30661 |
| 1     | Wear_helmet | 0.67385   | 0.96398 | 0.79321 | 0.94477 |
| 2     | Total       | 0.37470   | 0.71892 | 0.46177 | 0.62569 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:10:37.583 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.625691502621355
2020-12-20 06:10:37.584 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 06:10:37.584 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:52.558331

2020-12-20 06:10:38.066 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 2/2, epo 5/5
2020-12-20 06:10:38.066 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 2/2, epo 5/5; time cost: 0:15:04.584576

2020-12-20 06:10:38.066 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 1.034
2020-12-20 06:10:38.386 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 06:14:39.614 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12283   | 0.52045 | 0.19875 | 0.36704 |
| 1     | Wear_helmet | 0.58205   | 0.92301 | 0.71391 | 0.88494 |
| 2     | Total       | 0.35244   | 0.72173 | 0.45633 | 0.62599 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:14:39.615 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6259866181348073
2020-12-20 06:14:39.615 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 06:14:39.615 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:01.229017

2020-12-20 06:16:14.470 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 11!
2020-12-20 06:16:14.615 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 2/2, epo 1/5
2020-12-20 06:16:17.145 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.836694
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.314169     | 0.269843     | 0.252682     |
| x          | 0.015179     | 0.006459     | 0.023888     |
| y          | 0.009069     | 0.013240     | 0.028625     |
| w          | 0.014602     | 0.021010     | 0.015561     |
| h          | 0.006445     | 0.010123     | 0.005743     |
| conf       | 0.262052     | 0.208467     | 0.174338     |
| cls        | 0.006822     | 0.010544     | 0.004526     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.750000     | 0.888889     | 0.944444     |
| precision  | 0.571429     | 0.310345     | 0.115385     |
| conf_obj   | 0.970529     | 0.960564     | 0.968212     |
| conf_noobj | 0.001114     | 0.000854     | 0.000713     |
+------------+--------------+--------------+--------------+
2020-12-20 06:17:18.329 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.192522
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.426182     | 0.379974     | 0.386366     |
| x          | 0.006962     | 0.017696     | 0.020631     |
| y          | 0.006348     | 0.019933     | 0.046757     |
| w          | 0.020278     | 0.010088     | 0.005378     |
| h          | 0.017565     | 0.013807     | 0.014140     |
| conf       | 0.285761     | 0.244359     | 0.207840     |
| cls        | 0.089268     | 0.074092     | 0.091620     |
| cls_acc    | 95.24%       | 95.45%       | 95.45%       |
| recall50   | 0.904762     | 0.909091     | 0.909091     |
| recall75   | 0.809524     | 0.818182     | 0.818182     |
| precision  | 0.678571     | 0.317460     | 0.139860     |
| conf_obj   | 0.890518     | 0.900431     | 0.940845     |
| conf_noobj | 0.000694     | 0.000640     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 06:18:26.871 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.906583
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.287817     | 0.325373     | 0.293393     |
| x          | 0.027211     | 0.009618     | 0.029905     |
| y          | 0.006288     | 0.019804     | 0.036373     |
| w          | 0.024015     | 0.011232     | 0.006247     |
| h          | 0.014277     | 0.010770     | 0.012193     |
| conf       | 0.192105     | 0.218034     | 0.198255     |
| cls        | 0.023921     | 0.055915     | 0.010419     |
| cls_acc    | 100.00%      | 96.00%       | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.960000     |
| recall75   | 0.920000     | 0.880000     | 0.840000     |
| precision  | 0.750000     | 0.311688     | 0.148148     |
| conf_obj   | 0.950811     | 0.947395     | 0.955701     |
| conf_noobj | 0.000884     | 0.000856     | 0.000651     |
+------------+--------------+--------------+--------------+
2020-12-20 06:19:31.044 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.165444
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.378946     | 0.386405     | 0.400092     |
| x          | 0.010899     | 0.030510     | 0.022692     |
| y          | 0.009816     | 0.016286     | 0.044866     |
| w          | 0.014742     | 0.012505     | 0.014848     |
| h          | 0.015171     | 0.019632     | 0.015770     |
| conf       | 0.201233     | 0.213008     | 0.203015     |
| cls        | 0.127085     | 0.094465     | 0.098901     |
| cls_acc    | 95.65%       | 96.00%       | 96.00%       |
| recall50   | 0.913043     | 0.880000     | 0.960000     |
| recall75   | 0.826087     | 0.800000     | 0.800000     |
| precision  | 0.724138     | 0.379310     | 0.164384     |
| conf_obj   | 0.928655     | 0.918493     | 0.934421     |
| conf_noobj | 0.000676     | 0.000586     | 0.000559     |
+------------+--------------+--------------+--------------+
2020-12-20 06:20:34.267 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.093310
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.387912     | 0.361315     | 0.344084     |
| x          | 0.007987     | 0.016307     | 0.024799     |
| y          | 0.008855     | 0.026343     | 0.023735     |
| w          | 0.047174     | 0.032274     | 0.022843     |
| h          | 0.035615     | 0.030223     | 0.020986     |
| conf       | 0.283394     | 0.253304     | 0.244678     |
| cls        | 0.004886     | 0.002864     | 0.007043     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.970588     | 0.972973     |
| recall75   | 0.812500     | 0.764706     | 0.891892     |
| precision  | 0.695652     | 0.402439     | 0.215569     |
| conf_obj   | 0.933144     | 0.937290     | 0.932293     |
| conf_noobj | 0.001090     | 0.000881     | 0.000613     |
+------------+--------------+--------------+--------------+
2020-12-20 06:21:39.742 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.532164
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.150105     | 0.152127     | 0.229932     |
| x          | 0.003038     | 0.012620     | 0.046490     |
| y          | 0.006578     | 0.010851     | 0.050623     |
| w          | 0.013398     | 0.007702     | 0.007880     |
| h          | 0.015625     | 0.006054     | 0.009541     |
| conf       | 0.101773     | 0.108746     | 0.110632     |
| cls        | 0.009693     | 0.006154     | 0.004765     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.950000     | 0.900000     |
| precision  | 0.769231     | 0.400000     | 0.188679     |
| conf_obj   | 0.986932     | 0.985584     | 0.989534     |
| conf_noobj | 0.000523     | 0.000439     | 0.000396     |
+------------+--------------+--------------+--------------+
2020-12-20 06:22:38.760 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.556290
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.214243     | 0.163351     | 0.178696     |
| x          | 0.014723     | 0.014131     | 0.026102     |
| y          | 0.002827     | 0.004006     | 0.013033     |
| w          | 0.016093     | 0.008998     | 0.008062     |
| h          | 0.012350     | 0.009423     | 0.013226     |
| conf       | 0.150883     | 0.110682     | 0.106890     |
| cls        | 0.017366     | 0.016110     | 0.011383     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 0.947368     | 0.947368     |
| precision  | 0.680000     | 0.487179     | 0.161017     |
| conf_obj   | 0.960841     | 0.978392     | 0.983596     |
| conf_noobj | 0.000615     | 0.000489     | 0.000520     |
+------------+--------------+--------------+--------------+
2020-12-20 06:23:44.573 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.901951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.379055     | 0.283183     | 0.239714     |
| x          | 0.005960     | 0.010928     | 0.023239     |
| y          | 0.014062     | 0.012422     | 0.021408     |
| w          | 0.038684     | 0.036551     | 0.028519     |
| h          | 0.026032     | 0.021013     | 0.018663     |
| conf       | 0.290589     | 0.199301     | 0.142445     |
| cls        | 0.003728     | 0.002966     | 0.005440     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.809524     | 0.761905     | 0.857143     |
| precision  | 0.567568     | 0.304348     | 0.128834     |
| conf_obj   | 0.914423     | 0.952638     | 0.964931     |
| conf_noobj | 0.000893     | 0.000677     | 0.000526     |
+------------+--------------+--------------+--------------+
2020-12-20 06:24:47.760 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.540828
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.179532     | 0.165343     | 0.195954     |
| x          | 0.004622     | 0.010880     | 0.027162     |
| y          | 0.006788     | 0.015070     | 0.016515     |
| w          | 0.005583     | 0.005904     | 0.009066     |
| h          | 0.014931     | 0.010637     | 0.011494     |
| conf       | 0.145032     | 0.121154     | 0.129796     |
| cls        | 0.002577     | 0.001698     | 0.001921     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.937500     | 0.882353     |
| precision  | 0.695652     | 0.333333     | 0.132812     |
| conf_obj   | 0.995414     | 0.987782     | 0.980951     |
| conf_noobj | 0.000936     | 0.000684     | 0.000585     |
+------------+--------------+--------------+--------------+
2020-12-20 06:25:49.662 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.807525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.666061     | 0.554177     | 0.587288     |
| x          | 0.026141     | 0.033824     | 0.023924     |
| y          | 0.003460     | 0.021524     | 0.027213     |
| w          | 0.025135     | 0.036925     | 0.014221     |
| h          | 0.021787     | 0.038420     | 0.023072     |
| conf       | 0.354102     | 0.250899     | 0.263312     |
| cls        | 0.235436     | 0.172585     | 0.235546     |
| cls_acc    | 83.33%       | 95.24%       | 85.71%       |
| recall50   | 0.666667     | 0.809524     | 0.809524     |
| recall75   | 0.666667     | 0.523810     | 0.619048     |
| precision  | 0.500000     | 0.395349     | 0.173469     |
| conf_obj   | 0.848387     | 0.886806     | 0.893776     |
| conf_noobj | 0.000955     | 0.000608     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 06:26:52.791 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.878947
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.346416     | 0.262365     | 0.270166     |
| x          | 0.010497     | 0.010281     | 0.025467     |
| y          | 0.007208     | 0.009797     | 0.037037     |
| w          | 0.024882     | 0.024259     | 0.021675     |
| h          | 0.043978     | 0.018497     | 0.021036     |
| conf       | 0.235712     | 0.187280     | 0.153696     |
| cls        | 0.024140     | 0.012251     | 0.011255     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 1.000000     | 1.000000     |
| recall75   | 0.758621     | 0.870968     | 0.818182     |
| precision  | 0.794118     | 0.424658     | 0.230769     |
| conf_obj   | 0.902882     | 0.952407     | 0.958183     |
| conf_noobj | 0.000631     | 0.000721     | 0.000551     |
+------------+--------------+--------------+--------------+
2020-12-20 06:28:02.617 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.140938
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.450132     | 0.385030     | 0.305777     |
| x          | 0.005193     | 0.008110     | 0.017182     |
| y          | 0.006445     | 0.010338     | 0.020587     |
| w          | 0.044069     | 0.023845     | 0.014520     |
| h          | 0.025749     | 0.018724     | 0.009343     |
| conf       | 0.365390     | 0.322355     | 0.242492     |
| cls        | 0.003286     | 0.001658     | 0.001653     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.956522     | 0.913043     |
| recall75   | 0.826087     | 0.826087     | 0.869565     |
| precision  | 0.677419     | 0.400000     | 0.148936     |
| conf_obj   | 0.896807     | 0.925124     | 0.912350     |
| conf_noobj | 0.000606     | 0.000562     | 0.000489     |
+------------+--------------+--------------+--------------+
2020-12-20 06:29:10.563 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.793129
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.281741     | 0.252807     | 0.258581     |
| x          | 0.003431     | 0.007265     | 0.022732     |
| y          | 0.007416     | 0.032414     | 0.071040     |
| w          | 0.010836     | 0.010421     | 0.006950     |
| h          | 0.032592     | 0.029466     | 0.017300     |
| conf       | 0.225368     | 0.172361     | 0.139154     |
| cls        | 0.002098     | 0.000880     | 0.001405     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.833333     | 0.833333     |
| precision  | 0.769231     | 0.434783     | 0.229008     |
| conf_obj   | 0.947509     | 0.965425     | 0.975636     |
| conf_noobj | 0.000832     | 0.000640     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 06:30:12.598 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.094358
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.351806     | 0.359189     | 0.383363     |
| x          | 0.012995     | 0.013915     | 0.020523     |
| y          | 0.010876     | 0.009212     | 0.018063     |
| w          | 0.028051     | 0.016146     | 0.025991     |
| h          | 0.020030     | 0.009367     | 0.014716     |
| conf       | 0.158511     | 0.195263     | 0.186992     |
| cls        | 0.121344     | 0.115286     | 0.117078     |
| cls_acc    | 96.43%       | 96.67%       | 96.67%       |
| recall50   | 0.892857     | 0.900000     | 0.966667     |
| recall75   | 0.785714     | 0.866667     | 0.866667     |
| precision  | 0.714286     | 0.442623     | 0.198630     |
| conf_obj   | 0.946440     | 0.936322     | 0.935830     |
| conf_noobj | 0.000672     | 0.000647     | 0.000558     |
+------------+--------------+--------------+--------------+
2020-12-20 06:30:15.611 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.024
2020-12-20 06:30:15.615 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 06:31:13.662 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07046   | 0.50523 | 0.12367 | 0.26906 |
| 1     | Wear_helmet | 0.46931   | 0.96918 | 0.63240 | 0.93687 |
| 2     | Total       | 0.26989   | 0.73721 | 0.37803 | 0.60296 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:31:13.664 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6029638498719385
2020-12-20 06:31:13.665 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 06:31:13.666 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.049631

2020-12-20 06:31:14.170 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 2/2, epo 1/5
2020-12-20 06:31:14.171 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 2/2, epo 1/5; time cost: 0:14:59.555507

2020-12-20 06:31:14.171 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 2/2, epo 2/5
2020-12-20 06:31:15.429 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.986389
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.324515     | 0.321485     | 0.340389     |
| x          | 0.004703     | 0.007265     | 0.015244     |
| y          | 0.004005     | 0.011707     | 0.022921     |
| w          | 0.014505     | 0.028130     | 0.030115     |
| h          | 0.031368     | 0.017492     | 0.017254     |
| conf       | 0.190071     | 0.161758     | 0.148819     |
| cls        | 0.079863     | 0.095133     | 0.106036     |
| cls_acc    | 96.67%       | 96.77%       | 93.55%       |
| recall50   | 0.933333     | 0.967742     | 0.935484     |
| recall75   | 0.866667     | 0.838710     | 0.870968     |
| precision  | 0.777778     | 0.384615     | 0.192053     |
| conf_obj   | 0.944067     | 0.973822     | 0.970057     |
| conf_noobj | 0.000730     | 0.000707     | 0.000567     |
+------------+--------------+--------------+--------------+
2020-12-20 06:32:18.899 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.989833
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.413073     | 0.332996     | 0.243765     |
| x          | 0.008253     | 0.018095     | 0.036023     |
| y          | 0.007719     | 0.010081     | 0.031460     |
| w          | 0.015226     | 0.008969     | 0.015283     |
| h          | 0.011744     | 0.009803     | 0.008580     |
| conf       | 0.355673     | 0.278687     | 0.141724     |
| cls        | 0.014458     | 0.007360     | 0.010695     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.880000     | 1.000000     |
| recall75   | 0.880000     | 0.840000     | 0.960000     |
| precision  | 0.621622     | 0.343750     | 0.187970     |
| conf_obj   | 0.895710     | 0.898996     | 0.955658     |
| conf_noobj | 0.000954     | 0.000655     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 06:33:25.528 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.195944
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.495405     | 0.321580     | 0.378959     |
| x          | 0.007155     | 0.009391     | 0.017028     |
| y          | 0.009991     | 0.010833     | 0.032198     |
| w          | 0.030944     | 0.030254     | 0.022036     |
| h          | 0.023917     | 0.029997     | 0.035782     |
| conf       | 0.384101     | 0.203275     | 0.169160     |
| cls        | 0.039297     | 0.037830     | 0.102754     |
| cls_acc    | 100.00%      | 100.00%      | 93.10%       |
| recall50   | 0.862069     | 0.965517     | 0.896552     |
| recall75   | 0.827586     | 0.758621     | 0.793103     |
| precision  | 0.657895     | 0.509091     | 0.176871     |
| conf_obj   | 0.889975     | 0.924872     | 0.948771     |
| conf_noobj | 0.000877     | 0.000532     | 0.000520     |
+------------+--------------+--------------+--------------+
2020-12-20 06:34:30.973 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.075095
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.305086     | 0.336130     | 0.433879     |
| x          | 0.007912     | 0.016296     | 0.025068     |
| y          | 0.007774     | 0.019898     | 0.038442     |
| w          | 0.028859     | 0.032239     | 0.014499     |
| h          | 0.031930     | 0.035724     | 0.013106     |
| conf       | 0.225142     | 0.230168     | 0.337754     |
| cls        | 0.003470     | 0.001805     | 0.005011     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.880000     | 0.960000     |
| recall75   | 0.913043     | 0.840000     | 0.800000     |
| precision  | 0.666667     | 0.379310     | 0.161074     |
| conf_obj   | 0.904246     | 0.899169     | 0.938169     |
| conf_noobj | 0.000691     | 0.000539     | 0.000504     |
+------------+--------------+--------------+--------------+
2020-12-20 06:35:35.170 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.836639
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.377411     | 0.210799     | 0.248429     |
| x          | 0.017480     | 0.010118     | 0.025457     |
| y          | 0.007836     | 0.009206     | 0.021726     |
| w          | 0.058699     | 0.013276     | 0.013003     |
| h          | 0.058464     | 0.013867     | 0.019802     |
| conf       | 0.226223     | 0.155076     | 0.165311     |
| cls        | 0.008709     | 0.009256     | 0.003131     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.958333     | 1.000000     |
| recall75   | 0.782609     | 0.916667     | 0.833333     |
| precision  | 0.758621     | 0.479167     | 0.176471     |
| conf_obj   | 0.915881     | 0.963778     | 0.965695     |
| conf_noobj | 0.000530     | 0.000576     | 0.000602     |
+------------+--------------+--------------+--------------+
2020-12-20 06:36:35.947 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.652823
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.144927     | 0.267094     | 0.240802     |
| x          | 0.001929     | 0.002928     | 0.016082     |
| y          | 0.005204     | 0.017679     | 0.035810     |
| w          | 0.011665     | 0.005569     | 0.005308     |
| h          | 0.011821     | 0.012248     | 0.002705     |
| conf       | 0.100415     | 0.209941     | 0.156793     |
| cls        | 0.013893     | 0.018728     | 0.024104     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 0.941176     |
| recall75   | 1.000000     | 0.941176     | 0.941176     |
| precision  | 0.772727     | 0.340426     | 0.205128     |
| conf_obj   | 0.961453     | 0.920444     | 0.942290     |
| conf_noobj | 0.000365     | 0.000453     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 06:37:41.421 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.598229
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.153091     | 0.163448     | 0.281690     |
| x          | 0.004022     | 0.012577     | 0.020349     |
| y          | 0.007227     | 0.024106     | 0.046374     |
| w          | 0.020431     | 0.011626     | 0.013239     |
| h          | 0.013899     | 0.010715     | 0.005935     |
| conf       | 0.106654     | 0.103692     | 0.195173     |
| cls        | 0.000858     | 0.000732     | 0.000620     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.952381     | 0.952381     | 0.904762     |
| precision  | 0.750000     | 0.344262     | 0.200000     |
| conf_obj   | 0.974797     | 0.986988     | 0.942693     |
| conf_noobj | 0.000450     | 0.000484     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 06:38:48.517 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.564734
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.208316     | 0.163248     | 0.193171     |
| x          | 0.002452     | 0.006027     | 0.025587     |
| y          | 0.006246     | 0.007271     | 0.020938     |
| w          | 0.023569     | 0.013586     | 0.009638     |
| h          | 0.013554     | 0.012493     | 0.009419     |
| conf       | 0.159381     | 0.122909     | 0.125153     |
| cls        | 0.003113     | 0.000962     | 0.002436     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.923077     | 0.961538     |
| precision  | 0.806452     | 0.464286     | 0.180556     |
| conf_obj   | 0.944224     | 0.964281     | 0.976405     |
| conf_noobj | 0.000535     | 0.000457     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 06:39:52.115 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.891125
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.305886     | 0.293168     | 0.292071     |
| x          | 0.004734     | 0.014264     | 0.023843     |
| y          | 0.003886     | 0.013121     | 0.032407     |
| w          | 0.039179     | 0.030426     | 0.021272     |
| h          | 0.028871     | 0.018537     | 0.018596     |
| conf       | 0.204470     | 0.186148     | 0.152883     |
| cls        | 0.024747     | 0.030672     | 0.043070     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 0.964286     |
| recall75   | 0.888889     | 0.857143     | 0.857143     |
| precision  | 0.764706     | 0.417910     | 0.180000     |
| conf_obj   | 0.926179     | 0.957124     | 0.966195     |
| conf_noobj | 0.000680     | 0.000651     | 0.000561     |
+------------+--------------+--------------+--------------+
2020-12-20 06:41:00.843 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.861483
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.707374     | 0.554842     | 0.599266     |
| x          | 0.011729     | 0.008564     | 0.027213     |
| y          | 0.007983     | 0.012462     | 0.029437     |
| w          | 0.027428     | 0.020319     | 0.015050     |
| h          | 0.015534     | 0.016933     | 0.015136     |
| conf       | 0.427340     | 0.254094     | 0.316086     |
| cls        | 0.217359     | 0.242470     | 0.196344     |
| cls_acc    | 93.55%       | 93.94%       | 93.94%       |
| recall50   | 0.870968     | 0.939394     | 0.939394     |
| recall75   | 0.741935     | 0.818182     | 0.757576     |
| precision  | 0.692308     | 0.418919     | 0.205298     |
| conf_obj   | 0.887715     | 0.917538     | 0.920117     |
| conf_noobj | 0.000857     | 0.000670     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 06:42:04.770 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.379881
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.515048     | 0.390580     | 0.474253     |
| x          | 0.031152     | 0.022973     | 0.023633     |
| y          | 0.019082     | 0.013955     | 0.030663     |
| w          | 0.054862     | 0.026377     | 0.011324     |
| h          | 0.067663     | 0.041609     | 0.028706     |
| conf       | 0.289500     | 0.221829     | 0.316262     |
| cls        | 0.052789     | 0.063838     | 0.063665     |
| cls_acc    | 96.15%       | 96.43%       | 96.43%       |
| recall50   | 0.846154     | 0.928571     | 0.892857     |
| recall75   | 0.653846     | 0.750000     | 0.714286     |
| precision  | 0.733333     | 0.400000     | 0.179856     |
| conf_obj   | 0.880127     | 0.946047     | 0.898132     |
| conf_noobj | 0.000573     | 0.000648     | 0.000512     |
+------------+--------------+--------------+--------------+
2020-12-20 06:43:11.944 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.416636
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.485144     | 0.399029     | 0.532462     |
| x          | 0.014309     | 0.024828     | 0.049074     |
| y          | 0.005056     | 0.005899     | 0.024639     |
| w          | 0.023494     | 0.020842     | 0.018354     |
| h          | 0.030023     | 0.030876     | 0.021210     |
| conf       | 0.279890     | 0.190843     | 0.214587     |
| cls        | 0.132372     | 0.125742     | 0.204598     |
| cls_acc    | 92.59%       | 89.66%       | 90.00%       |
| recall50   | 0.888889     | 0.862069     | 0.833333     |
| recall75   | 0.777778     | 0.793103     | 0.666667     |
| precision  | 0.648649     | 0.384615     | 0.196850     |
| conf_obj   | 0.919837     | 0.930844     | 0.938694     |
| conf_noobj | 0.000591     | 0.000457     | 0.000375     |
+------------+--------------+--------------+--------------+
2020-12-20 06:44:20.039 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.623590
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.275712     | 0.171149     | 0.176729     |
| x          | 0.002126     | 0.006137     | 0.018513     |
| y          | 0.015597     | 0.005369     | 0.013059     |
| w          | 0.039894     | 0.024947     | 0.026803     |
| h          | 0.036887     | 0.017842     | 0.018238     |
| conf       | 0.165427     | 0.110997     | 0.093225     |
| cls        | 0.015780     | 0.005857     | 0.006892     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.954545     | 0.909091     |
| precision  | 0.606061     | 0.423077     | 0.171875     |
| conf_obj   | 0.982624     | 0.993973     | 0.992845     |
| conf_noobj | 0.000712     | 0.000507     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 06:45:29.955 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.977963
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.427421     | 0.305537     | 0.245006     |
| x          | 0.005003     | 0.007826     | 0.026372     |
| y          | 0.005382     | 0.008235     | 0.022467     |
| w          | 0.052378     | 0.028200     | 0.011892     |
| h          | 0.032884     | 0.007857     | 0.012417     |
| conf       | 0.309107     | 0.239320     | 0.147096     |
| cls        | 0.022667     | 0.014098     | 0.024762     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 1.000000     |
| recall75   | 0.850000     | 0.850000     | 0.850000     |
| precision  | 0.730769     | 0.372549     | 0.206186     |
| conf_obj   | 0.914825     | 0.927703     | 0.955982     |
| conf_noobj | 0.000861     | 0.000710     | 0.000502     |
+------------+--------------+--------------+--------------+
2020-12-20 06:45:33.134 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.974
2020-12-20 06:45:33.138 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 06:46:32.597 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06604   | 0.53659 | 0.11760 | 0.28128 |
| 1     | Wear_helmet | 0.51317   | 0.96398 | 0.66978 | 0.93877 |
| 2     | Total       | 0.28960   | 0.75028 | 0.39369 | 0.61003 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:46:32.598 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6100267769534288
2020-12-20 06:46:32.598 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 06:46:32.598 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.460606

2020-12-20 06:46:33.070 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 2/2, epo 2/5
2020-12-20 06:46:33.070 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 2/2, epo 2/5; time cost: 0:15:18.899051

2020-12-20 06:46:33.071 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 2/2, epo 3/5
2020-12-20 06:46:34.136 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.941778
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.367958     | 0.297793     | 0.276027     |
| x          | 0.015747     | 0.012849     | 0.033789     |
| y          | 0.003773     | 0.007593     | 0.017121     |
| w          | 0.042324     | 0.035281     | 0.021296     |
| h          | 0.031012     | 0.025654     | 0.011116     |
| conf       | 0.256070     | 0.197142     | 0.172943     |
| cls        | 0.019031     | 0.019275     | 0.019763     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 0.950000     |
| recall75   | 0.789474     | 0.789474     | 0.800000     |
| precision  | 0.782609     | 0.375000     | 0.169643     |
| conf_obj   | 0.935471     | 0.950225     | 0.956037     |
| conf_noobj | 0.000736     | 0.000662     | 0.000540     |
+------------+--------------+--------------+--------------+
2020-12-20 06:47:44.664 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.594620
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.257253     | 0.169358     | 0.168009     |
| x          | 0.002658     | 0.006451     | 0.014303     |
| y          | 0.003427     | 0.008495     | 0.028462     |
| w          | 0.048391     | 0.030070     | 0.015505     |
| h          | 0.036891     | 0.016269     | 0.012704     |
| conf       | 0.162784     | 0.104753     | 0.091826     |
| cls        | 0.003100     | 0.003320     | 0.005209     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.894737     | 1.000000     |
| precision  | 0.703704     | 0.431818     | 0.215909     |
| conf_obj   | 0.967441     | 0.986135     | 0.989800     |
| conf_noobj | 0.000729     | 0.000489     | 0.000390     |
+------------+--------------+--------------+--------------+
2020-12-20 06:48:50.601 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.789777
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.348843     | 0.229537     | 0.211398     |
| x          | 0.007802     | 0.009858     | 0.020696     |
| y          | 0.010232     | 0.012399     | 0.029745     |
| w          | 0.030934     | 0.016205     | 0.010705     |
| h          | 0.026447     | 0.015044     | 0.011418     |
| conf       | 0.269777     | 0.173032     | 0.136072     |
| cls        | 0.003651     | 0.002998     | 0.002761     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 0.965517     |
| recall75   | 0.807692     | 0.862069     | 0.896552     |
| precision  | 0.694444     | 0.453125     | 0.247788     |
| conf_obj   | 0.938951     | 0.974089     | 0.966995     |
| conf_noobj | 0.000955     | 0.000712     | 0.000465     |
+------------+--------------+--------------+--------------+
2020-12-20 06:49:54.600 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.538235
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.168674     | 0.173540     | 0.196021     |
| x          | 0.002463     | 0.007011     | 0.015472     |
| y          | 0.004676     | 0.007045     | 0.017141     |
| w          | 0.022322     | 0.007020     | 0.009255     |
| h          | 0.012740     | 0.007198     | 0.009292     |
| conf       | 0.122803     | 0.141892     | 0.138877     |
| cls        | 0.003670     | 0.003374     | 0.005984     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 1.000000     | 0.954545     |
| precision  | 0.758621     | 0.415094     | 0.159420     |
| conf_obj   | 0.977703     | 0.985019     | 0.992726     |
| conf_noobj | 0.000618     | 0.000733     | 0.000631     |
+------------+--------------+--------------+--------------+
2020-12-20 06:50:58.299 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.484119
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.118188     | 0.164696     | 0.201235     |
| x          | 0.003688     | 0.006869     | 0.019411     |
| y          | 0.003885     | 0.012500     | 0.052308     |
| w          | 0.011950     | 0.009916     | 0.013672     |
| h          | 0.022298     | 0.015163     | 0.018969     |
| conf       | 0.072834     | 0.117106     | 0.095721     |
| cls        | 0.003534     | 0.003142     | 0.001154     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.947368     | 0.894737     |
| precision  | 0.826087     | 0.345455     | 0.169643     |
| conf_obj   | 0.984241     | 0.984697     | 0.991112     |
| conf_noobj | 0.000405     | 0.000567     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 06:52:00.850 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.644832
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.188251     | 0.233538     | 0.223043     |
| x          | 0.002259     | 0.003636     | 0.025650     |
| y          | 0.008457     | 0.015415     | 0.031798     |
| w          | 0.013065     | 0.014587     | 0.014455     |
| h          | 0.015926     | 0.016668     | 0.011581     |
| conf       | 0.132483     | 0.163221     | 0.137669     |
| cls        | 0.016062     | 0.020011     | 0.001889     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.967742     | 1.000000     |
| recall75   | 1.000000     | 0.967742     | 0.968750     |
| precision  | 0.794872     | 0.454545     | 0.219178     |
| conf_obj   | 0.950399     | 0.943057     | 0.956422     |
| conf_noobj | 0.000493     | 0.000469     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 06:53:03.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.021142
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.474911     | 0.327446     | 0.218785     |
| x          | 0.005008     | 0.009854     | 0.014476     |
| y          | 0.003833     | 0.012786     | 0.032404     |
| w          | 0.011999     | 0.011177     | 0.008611     |
| h          | 0.015386     | 0.015534     | 0.010882     |
| conf       | 0.437493     | 0.277021     | 0.150901     |
| cls        | 0.001192     | 0.001075     | 0.001512     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.950000     | 0.950000     |
| precision  | 0.515152     | 0.270270     | 0.153846     |
| conf_obj   | 0.872458     | 0.919947     | 0.953699     |
| conf_noobj | 0.001174     | 0.000980     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 06:54:00.610 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.168343
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.472055     | 0.313076     | 0.383212     |
| x          | 0.006368     | 0.008487     | 0.013308     |
| y          | 0.009267     | 0.018465     | 0.015144     |
| w          | 0.043233     | 0.043296     | 0.037763     |
| h          | 0.025609     | 0.026575     | 0.019611     |
| conf       | 0.385709     | 0.211881     | 0.289153     |
| cls        | 0.001868     | 0.004373     | 0.008233     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.925926     | 0.925926     |
| recall75   | 0.703704     | 0.703704     | 0.777778     |
| precision  | 0.774194     | 0.480769     | 0.229358     |
| conf_obj   | 0.850456     | 0.919649     | 0.877385     |
| conf_noobj | 0.000678     | 0.000572     | 0.000441     |
+------------+--------------+--------------+--------------+
2020-12-20 06:55:04.852 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.110972
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.285794     | 0.388491     | 0.436687     |
| x          | 0.002760     | 0.008096     | 0.031550     |
| y          | 0.009041     | 0.030123     | 0.034330     |
| w          | 0.017252     | 0.016267     | 0.009580     |
| h          | 0.021715     | 0.016202     | 0.013108     |
| conf       | 0.146666     | 0.206252     | 0.246786     |
| cls        | 0.088361     | 0.111552     | 0.101333     |
| cls_acc    | 96.43%       | 96.43%       | 96.55%       |
| recall50   | 0.928571     | 0.892857     | 0.896552     |
| recall75   | 0.928571     | 0.821429     | 0.896552     |
| precision  | 0.722222     | 0.362319     | 0.141304     |
| conf_obj   | 0.958463     | 0.936850     | 0.925181     |
| conf_noobj | 0.000640     | 0.000637     | 0.000595     |
+------------+--------------+--------------+--------------+
2020-12-20 06:56:10.048 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.118941
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.484434     | 0.329436     | 0.305070     |
| x          | 0.009288     | 0.010339     | 0.022474     |
| y          | 0.006522     | 0.013433     | 0.049797     |
| w          | 0.013365     | 0.016142     | 0.015981     |
| h          | 0.011378     | 0.018297     | 0.013513     |
| conf       | 0.441373     | 0.269722     | 0.200710     |
| cls        | 0.002507     | 0.001504     | 0.002596     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.921053     | 0.948718     | 0.974359     |
| recall75   | 0.894737     | 0.846154     | 0.846154     |
| precision  | 0.795455     | 0.385417     | 0.200000     |
| conf_obj   | 0.879852     | 0.917291     | 0.937567     |
| conf_noobj | 0.000636     | 0.000761     | 0.000616     |
+------------+--------------+--------------+--------------+
2020-12-20 06:57:15.546 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.179033
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.371234     | 0.398476     | 0.409323     |
| x          | 0.024065     | 0.009700     | 0.020119     |
| y          | 0.009685     | 0.014524     | 0.024348     |
| w          | 0.026587     | 0.031759     | 0.029150     |
| h          | 0.024920     | 0.031242     | 0.021454     |
| conf       | 0.210901     | 0.215383     | 0.216281     |
| cls        | 0.075076     | 0.095868     | 0.097972     |
| cls_acc    | 91.30%       | 96.30%       | 96.43%       |
| recall50   | 0.826087     | 0.888889     | 0.892857     |
| recall75   | 0.695652     | 0.666667     | 0.678571     |
| precision  | 0.703704     | 0.489796     | 0.192308     |
| conf_obj   | 0.909147     | 0.924066     | 0.927117     |
| conf_noobj | 0.000509     | 0.000467     | 0.000416     |
+------------+--------------+--------------+--------------+
2020-12-20 06:58:20.133 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.903721
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.366853     | 0.281433     | 0.255435     |
| x          | 0.006580     | 0.014890     | 0.028817     |
| y          | 0.010260     | 0.019072     | 0.026781     |
| w          | 0.017261     | 0.020502     | 0.016032     |
| h          | 0.008768     | 0.015236     | 0.020348     |
| conf       | 0.310820     | 0.206673     | 0.158570     |
| cls        | 0.013164     | 0.005060     | 0.004888     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.960000     | 0.960000     |
| recall75   | 0.863636     | 0.760000     | 0.800000     |
| precision  | 0.714286     | 0.393443     | 0.187500     |
| conf_obj   | 0.902987     | 0.932117     | 0.951902     |
| conf_noobj | 0.000753     | 0.000598     | 0.000504     |
+------------+--------------+--------------+--------------+
2020-12-20 06:59:29.272 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.459206
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.559405     | 0.510491     | 0.389309     |
| x          | 0.003408     | 0.032425     | 0.018704     |
| y          | 0.003105     | 0.014883     | 0.024632     |
| w          | 0.039060     | 0.026860     | 0.021179     |
| h          | 0.050273     | 0.037905     | 0.019573     |
| conf       | 0.437905     | 0.348618     | 0.245287     |
| cls        | 0.025653     | 0.049799     | 0.059935     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 0.952381     | 0.809524     | 0.904762     |
| recall75   | 0.904762     | 0.761905     | 0.857143     |
| precision  | 0.526316     | 0.288136     | 0.123377     |
| conf_obj   | 0.880761     | 0.876957     | 0.928237     |
| conf_noobj | 0.001018     | 0.000629     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 07:00:32.366 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.442730
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.152020     | 0.138385     | 0.152326     |
| x          | 0.003776     | 0.004316     | 0.014572     |
| y          | 0.004349     | 0.010945     | 0.032915     |
| w          | 0.019787     | 0.010759     | 0.005526     |
| h          | 0.020194     | 0.011948     | 0.011907     |
| conf       | 0.103237     | 0.099370     | 0.087147     |
| cls        | 0.000675     | 0.001048     | 0.000259     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 0.875000     |
| precision  | 0.727273     | 0.390244     | 0.179775     |
| conf_obj   | 0.978553     | 0.981379     | 0.985536     |
| conf_noobj | 0.000550     | 0.000483     | 0.000375     |
+------------+--------------+--------------+--------------+
2020-12-20 07:00:35.395 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.958
2020-12-20 07:00:35.398 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 07:01:35.306 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04383   | 0.49477 | 0.08052 | 0.25273 |
| 1     | Wear_helmet | 0.33706   | 0.96788 | 0.50000 | 0.91284 |
| 2     | Total       | 0.19044   | 0.73133 | 0.29026 | 0.58279 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:01:35.307 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5827863451265918
2020-12-20 07:01:35.308 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 07:01:35.308 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.909368

2020-12-20 07:01:35.777 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 2/2, epo 3/5
2020-12-20 07:01:35.777 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 2/2, epo 3/5; time cost: 0:15:02.706085

2020-12-20 07:01:35.778 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 2/2, epo 4/5
2020-12-20 07:01:36.997 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.765816
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.642567     | 0.732759     | 0.390490     |
| x          | 0.001761     | 0.006517     | 0.004349     |
| y          | 0.034764     | 0.007822     | 0.016788     |
| w          | 0.068025     | 0.035625     | 0.016438     |
| h          | 0.043815     | 0.019585     | 0.011684     |
| conf       | 0.185943     | 0.389848     | 0.183820     |
| cls        | 0.308260     | 0.273362     | 0.157410     |
| cls_acc    | 93.33%       | 93.33%       | 93.33%       |
| recall50   | 0.933333     | 0.933333     | 0.933333     |
| recall75   | 0.933333     | 0.933333     | 0.933333     |
| precision  | 0.666667     | 0.318182     | 0.153846     |
| conf_obj   | 0.965906     | 0.912780     | 0.943959     |
| conf_noobj | 0.000827     | 0.000639     | 0.000475     |
+------------+--------------+--------------+--------------+
2020-12-20 07:02:43.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.305116
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.530739     | 0.415663     | 0.358714     |
| x          | 0.006607     | 0.014572     | 0.022449     |
| y          | 0.005822     | 0.011809     | 0.020813     |
| w          | 0.018867     | 0.012747     | 0.018804     |
| h          | 0.016655     | 0.017047     | 0.021133     |
| conf       | 0.248960     | 0.198754     | 0.171143     |
| cls        | 0.233828     | 0.160734     | 0.104372     |
| cls_acc    | 93.75%       | 94.12%       | 97.06%       |
| recall50   | 0.937500     | 0.941176     | 0.970588     |
| recall75   | 0.781250     | 0.823529     | 0.735294     |
| precision  | 0.697674     | 0.415584     | 0.210191     |
| conf_obj   | 0.935299     | 0.951651     | 0.952268     |
| conf_noobj | 0.000981     | 0.000832     | 0.000572     |
+------------+--------------+--------------+--------------+
2020-12-20 07:03:51.534 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.078038
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.320790     | 0.384195     | 0.373053     |
| x          | 0.012259     | 0.008844     | 0.019866     |
| y          | 0.003102     | 0.019511     | 0.031156     |
| w          | 0.018033     | 0.030562     | 0.021463     |
| h          | 0.010035     | 0.009472     | 0.004285     |
| conf       | 0.223555     | 0.177358     | 0.131635     |
| cls        | 0.053806     | 0.138449     | 0.164648     |
| cls_acc    | 95.83%       | 93.10%       | 93.10%       |
| recall50   | 0.875000     | 0.896552     | 0.931035     |
| recall75   | 0.750000     | 0.793103     | 0.724138     |
| precision  | 0.750000     | 0.406250     | 0.214286     |
| conf_obj   | 0.930724     | 0.959059     | 0.976972     |
| conf_noobj | 0.000574     | 0.000570     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 07:04:56.612 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.081306
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.430483     | 0.349092     | 0.301731     |
| x          | 0.008747     | 0.012033     | 0.026791     |
| y          | 0.012714     | 0.016776     | 0.031082     |
| w          | 0.037444     | 0.017533     | 0.017351     |
| h          | 0.021008     | 0.008271     | 0.017250     |
| conf       | 0.340179     | 0.283704     | 0.199960     |
| cls        | 0.010391     | 0.010775     | 0.009297     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.864865     | 0.891892     | 1.000000     |
| recall75   | 0.729730     | 0.783784     | 0.783784     |
| precision  | 0.744186     | 0.445946     | 0.196809     |
| conf_obj   | 0.849261     | 0.889267     | 0.936179     |
| conf_noobj | 0.000667     | 0.000639     | 0.000595     |
+------------+--------------+--------------+--------------+
2020-12-20 07:06:00.597 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.319900
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.448477     | 0.432339     | 0.439083     |
| x          | 0.008123     | 0.014705     | 0.031546     |
| y          | 0.011912     | 0.010931     | 0.026773     |
| w          | 0.021744     | 0.023096     | 0.019210     |
| h          | 0.018870     | 0.017164     | 0.010400     |
| conf       | 0.358473     | 0.344959     | 0.296400     |
| cls        | 0.029356     | 0.021483     | 0.054753     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 0.911111     | 0.911111     | 0.913043     |
| recall75   | 0.800000     | 0.800000     | 0.804348     |
| precision  | 0.820000     | 0.450549     | 0.251497     |
| conf_obj   | 0.857493     | 0.894849     | 0.919789     |
| conf_noobj | 0.000863     | 0.001035     | 0.000738     |
+------------+--------------+--------------+--------------+
2020-12-20 07:07:00.631 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.698927
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.261380     | 0.209877     | 0.227669     |
| x          | 0.004796     | 0.010193     | 0.029376     |
| y          | 0.003875     | 0.011858     | 0.022458     |
| w          | 0.013201     | 0.012629     | 0.010571     |
| h          | 0.011557     | 0.012418     | 0.012691     |
| conf       | 0.223766     | 0.158667     | 0.149991     |
| cls        | 0.004186     | 0.004112     | 0.002582     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 0.956522     |
| precision  | 0.676471     | 0.359375     | 0.172932     |
| conf_obj   | 0.959685     | 0.961021     | 0.960945     |
| conf_noobj | 0.000767     | 0.000555     | 0.000453     |
+------------+--------------+--------------+--------------+
2020-12-20 07:08:03.219 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.621336
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.185872     | 0.228890     | 0.206574     |
| x          | 0.005598     | 0.011652     | 0.019485     |
| y          | 0.001845     | 0.004337     | 0.009129     |
| w          | 0.027605     | 0.025577     | 0.027230     |
| h          | 0.013182     | 0.016193     | 0.023750     |
| conf       | 0.132043     | 0.168608     | 0.125491     |
| cls        | 0.005598     | 0.002524     | 0.001488     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.846154     |
| precision  | 0.684211     | 0.419355     | 0.171053     |
| conf_obj   | 0.969191     | 0.940797     | 0.960865     |
| conf_noobj | 0.000677     | 0.000477     | 0.000413     |
+------------+--------------+--------------+--------------+
2020-12-20 07:09:12.862 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.859044
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.436202     | 0.197897     | 0.224945     |
| x          | 0.028074     | 0.006659     | 0.009053     |
| y          | 0.007254     | 0.016679     | 0.021941     |
| w          | 0.005391     | 0.004374     | 0.008191     |
| h          | 0.007937     | 0.006803     | 0.005268     |
| conf       | 0.386650     | 0.161975     | 0.179474     |
| cls        | 0.000896     | 0.001406     | 0.001017     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 0.937500     | 0.937500     |
| recall75   | 0.866667     | 0.937500     | 0.937500     |
| precision  | 0.481481     | 0.319149     | 0.154639     |
| conf_obj   | 0.911660     | 0.952025     | 0.941937     |
| conf_noobj | 0.000731     | 0.000490     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 07:10:19.491 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.853554
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.211832     | 0.265813     | 0.375909     |
| x          | 0.007314     | 0.016710     | 0.029322     |
| y          | 0.007574     | 0.016657     | 0.046735     |
| w          | 0.026257     | 0.027054     | 0.010715     |
| h          | 0.017063     | 0.018931     | 0.009950     |
| conf       | 0.107456     | 0.128642     | 0.214434     |
| cls        | 0.046168     | 0.057818     | 0.064752     |
| cls_acc    | 96.77%       | 96.97%       | 93.94%       |
| recall50   | 0.967742     | 0.969697     | 0.878788     |
| recall75   | 0.935484     | 0.878788     | 0.818182     |
| precision  | 0.857143     | 0.516129     | 0.181250     |
| conf_obj   | 0.959942     | 0.965317     | 0.931486     |
| conf_noobj | 0.000431     | 0.000520     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-20 07:11:23.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.494476
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.114733     | 0.229740     | 0.150003     |
| x          | 0.003153     | 0.005263     | 0.018294     |
| y          | 0.004549     | 0.010175     | 0.013459     |
| w          | 0.012388     | 0.012001     | 0.004127     |
| h          | 0.010394     | 0.012186     | 0.008639     |
| conf       | 0.081175     | 0.188823     | 0.103174     |
| cls        | 0.003074     | 0.001292     | 0.002310     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 1.000000     |
| recall75   | 1.000000     | 0.916667     | 0.958333     |
| precision  | 0.827586     | 0.418182     | 0.226415     |
| conf_obj   | 0.990398     | 0.932776     | 0.970552     |
| conf_noobj | 0.000464     | 0.000468     | 0.000321     |
+------------+--------------+--------------+--------------+
2020-12-20 07:12:33.108 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.554068
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.212394     | 0.165828     | 0.175846     |
| x          | 0.002081     | 0.005223     | 0.021393     |
| y          | 0.002958     | 0.007206     | 0.022829     |
| w          | 0.015412     | 0.016199     | 0.006538     |
| h          | 0.009603     | 0.008555     | 0.004774     |
| conf       | 0.151932     | 0.112149     | 0.109191     |
| cls        | 0.030408     | 0.016495     | 0.011121     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.652174     | 0.405405     | 0.154639     |
| conf_obj   | 0.972192     | 0.991110     | 0.990258     |
| conf_noobj | 0.000660     | 0.000480     | 0.000407     |
+------------+--------------+--------------+--------------+
2020-12-20 07:13:37.182 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.920730
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.387825     | 0.281222     | 0.251683     |
| x          | 0.034373     | 0.011630     | 0.021794     |
| y          | 0.027579     | 0.008032     | 0.025779     |
| w          | 0.046518     | 0.027250     | 0.023149     |
| h          | 0.036567     | 0.025913     | 0.020325     |
| conf       | 0.226020     | 0.189156     | 0.151752     |
| cls        | 0.016767     | 0.019242     | 0.008885     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.954545     | 1.000000     |
| recall75   | 0.809524     | 0.954545     | 0.818182     |
| precision  | 0.791667     | 0.396226     | 0.181818     |
| conf_obj   | 0.908789     | 0.944645     | 0.966157     |
| conf_noobj | 0.000584     | 0.000649     | 0.000541     |
+------------+--------------+--------------+--------------+
2020-12-20 07:14:42.525 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.058071
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.383646     | 0.439955     | 0.234471     |
| x          | 0.005519     | 0.010341     | 0.015434     |
| y          | 0.015589     | 0.027918     | 0.047354     |
| w          | 0.031637     | 0.020848     | 0.008074     |
| h          | 0.040163     | 0.023603     | 0.004536     |
| conf       | 0.289748     | 0.356370     | 0.158102     |
| cls        | 0.000990     | 0.000874     | 0.000971     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.941176     | 0.941176     |
| recall75   | 0.812500     | 0.764706     | 0.823529     |
| precision  | 0.625000     | 0.355556     | 0.131148     |
| conf_obj   | 0.887650     | 0.881391     | 0.955118     |
| conf_noobj | 0.000833     | 0.000667     | 0.000567     |
+------------+--------------+--------------+--------------+
2020-12-20 07:15:47.232 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.621738
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.258685     | 0.178862     | 0.184191     |
| x          | 0.009588     | 0.011159     | 0.022397     |
| y          | 0.005764     | 0.018029     | 0.027344     |
| w          | 0.011051     | 0.014239     | 0.013921     |
| h          | 0.017807     | 0.016506     | 0.014031     |
| conf       | 0.207713     | 0.115392     | 0.096493     |
| cls        | 0.006761     | 0.003536     | 0.010004     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.789474     | 0.947368     |
| precision  | 0.666667     | 0.404255     | 0.177570     |
| conf_obj   | 0.960448     | 0.979312     | 0.985978     |
| conf_noobj | 0.000819     | 0.000505     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 07:15:50.127 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.936
2020-12-20 07:15:50.133 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 07:16:43.628 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12398   | 0.42509 | 0.19197 | 0.28185 |
| 1     | Wear_helmet | 0.64927   | 0.96658 | 0.77677 | 0.94148 |
| 2     | Total       | 0.38663   | 0.69583 | 0.48437 | 0.61167 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:16:43.630 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6116651834365001
2020-12-20 07:16:43.631 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 07:16:43.631 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.498131

2020-12-20 07:16:44.106 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 2/2, epo 4/5
2020-12-20 07:16:44.107 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 2/2, epo 4/5; time cost: 0:15:08.328433

2020-12-20 07:16:44.107 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 2/2, epo 5/5
2020-12-20 07:16:45.656 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.536116
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.159914     | 0.186969     | 0.189233     |
| x          | 0.007262     | 0.010617     | 0.018889     |
| y          | 0.004960     | 0.007962     | 0.019240     |
| w          | 0.019445     | 0.018873     | 0.008340     |
| h          | 0.018483     | 0.032001     | 0.021568     |
| conf       | 0.108621     | 0.117111     | 0.119075     |
| cls        | 0.001143     | 0.000406     | 0.002121     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.964286     | 1.000000     |
| recall75   | 0.884615     | 0.857143     | 0.857143     |
| precision  | 0.833333     | 0.519231     | 0.217054     |
| conf_obj   | 0.977915     | 0.972816     | 0.974616     |
| conf_noobj | 0.000418     | 0.000427     | 0.000437     |
+------------+--------------+--------------+--------------+
2020-12-20 07:17:54.367 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.786103
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.313542     | 0.248168     | 0.224393     |
| x          | 0.009638     | 0.014116     | 0.015175     |
| y          | 0.003121     | 0.010073     | 0.016914     |
| w          | 0.016937     | 0.010401     | 0.007811     |
| h          | 0.013810     | 0.008221     | 0.007732     |
| conf       | 0.263310     | 0.200448     | 0.175428     |
| cls        | 0.006726     | 0.004909     | 0.001333     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.964286     | 1.000000     |
| recall75   | 0.923077     | 0.964286     | 0.964286     |
| precision  | 0.774194     | 0.409091     | 0.218750     |
| conf_obj   | 0.922237     | 0.926661     | 0.924555     |
| conf_noobj | 0.000475     | 0.000450     | 0.000387     |
+------------+--------------+--------------+--------------+
2020-12-20 07:18:56.987 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.699971
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.290118     | 0.202052     | 0.207801     |
| x          | 0.003629     | 0.009358     | 0.017944     |
| y          | 0.005660     | 0.015380     | 0.041405     |
| w          | 0.024213     | 0.016219     | 0.018329     |
| h          | 0.029192     | 0.018092     | 0.015517     |
| conf       | 0.220045     | 0.139532     | 0.111303     |
| cls        | 0.007379     | 0.003471     | 0.003304     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 0.962963     |
| recall75   | 0.851852     | 0.740741     | 0.740741     |
| precision  | 0.742857     | 0.435484     | 0.208000     |
| conf_obj   | 0.916628     | 0.976925     | 0.986622     |
| conf_noobj | 0.000704     | 0.000548     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 07:19:57.781 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.630535
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.221117     | 0.186400     | 0.223019     |
| x          | 0.002910     | 0.009555     | 0.030319     |
| y          | 0.004702     | 0.012155     | 0.035168     |
| w          | 0.021959     | 0.015340     | 0.005825     |
| h          | 0.016992     | 0.016065     | 0.011872     |
| conf       | 0.156466     | 0.097494     | 0.115242     |
| cls        | 0.018089     | 0.035791     | 0.024592     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.916667     | 0.840000     |
| precision  | 0.774194     | 0.421053     | 0.182482     |
| conf_obj   | 0.965252     | 0.986727     | 0.981092     |
| conf_noobj | 0.000546     | 0.000467     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 07:21:07.785 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.838015
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.294998     | 0.321743     | 0.221274     |
| x          | 0.008926     | 0.009085     | 0.031923     |
| y          | 0.009827     | 0.015004     | 0.032553     |
| w          | 0.018410     | 0.011907     | 0.008942     |
| h          | 0.012165     | 0.011733     | 0.011737     |
| conf       | 0.237558     | 0.272925     | 0.134811     |
| cls        | 0.008112     | 0.001089     | 0.001308     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.939394     | 1.000000     |
| recall75   | 0.878788     | 0.878788     | 0.939394     |
| precision  | 0.720930     | 0.310000     | 0.181319     |
| conf_obj   | 0.928015     | 0.930094     | 0.983667     |
| conf_noobj | 0.000672     | 0.000817     | 0.000522     |
+------------+--------------+--------------+--------------+
2020-12-20 07:22:10.388 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.690550
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.865426     | 0.420128     | 0.404996     |
| x          | 0.008290     | 0.014732     | 0.027746     |
| y          | 0.008521     | 0.021030     | 0.039346     |
| w          | 0.020332     | 0.021692     | 0.024978     |
| h          | 0.021450     | 0.018050     | 0.016142     |
| conf       | 0.804646     | 0.342240     | 0.290677     |
| cls        | 0.002187     | 0.002384     | 0.006107     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.772727     | 0.863636     | 0.909091     |
| recall75   | 0.681818     | 0.727273     | 0.863636     |
| precision  | 0.586207     | 0.316667     | 0.175439     |
| conf_obj   | 0.766224     | 0.870575     | 0.874886     |
| conf_noobj | 0.000951     | 0.000704     | 0.000521     |
+------------+--------------+--------------+--------------+
2020-12-20 07:23:11.731 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.808363
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.306068     | 0.273022     | 0.229273     |
| x          | 0.002427     | 0.005332     | 0.008569     |
| y          | 0.002479     | 0.009084     | 0.019756     |
| w          | 0.017615     | 0.019932     | 0.010875     |
| h          | 0.018971     | 0.017350     | 0.009192     |
| conf       | 0.263699     | 0.221103     | 0.180551     |
| cls        | 0.000878     | 0.000219     | 0.000329     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.965517     | 0.965517     |
| recall75   | 0.931035     | 0.931035     | 0.931035     |
| precision  | 0.818182     | 0.500000     | 0.245614     |
| conf_obj   | 0.919182     | 0.919882     | 0.946221     |
| conf_noobj | 0.000621     | 0.000498     | 0.000436     |
+------------+--------------+--------------+--------------+
2020-12-20 07:24:19.733 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.859818
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.270988     | 0.288676     | 0.300154     |
| x          | 0.004432     | 0.008291     | 0.031795     |
| y          | 0.003530     | 0.004765     | 0.030398     |
| w          | 0.012663     | 0.022940     | 0.008709     |
| h          | 0.017602     | 0.027106     | 0.018830     |
| conf       | 0.207499     | 0.188679     | 0.152892     |
| cls        | 0.025263     | 0.036895     | 0.057530     |
| cls_acc    | 100.00%      | 100.00%      | 96.00%       |
| recall50   | 0.956522     | 1.000000     | 0.920000     |
| recall75   | 0.913043     | 0.916667     | 0.840000     |
| precision  | 0.647059     | 0.363636     | 0.181102     |
| conf_obj   | 0.933761     | 0.933231     | 0.940971     |
| conf_noobj | 0.000655     | 0.000540     | 0.000372     |
+------------+--------------+--------------+--------------+
2020-12-20 07:25:19.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.988357
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.304020     | 0.262375     | 0.421961     |
| x          | 0.008269     | 0.013734     | 0.014273     |
| y          | 0.011838     | 0.015280     | 0.026660     |
| w          | 0.015000     | 0.016215     | 0.016718     |
| h          | 0.017852     | 0.014899     | 0.027861     |
| conf       | 0.201232     | 0.184685     | 0.298120     |
| cls        | 0.049829     | 0.017562     | 0.038329     |
| cls_acc    | 97.30%       | 100.00%      | 97.50%       |
| recall50   | 0.918919     | 0.948718     | 0.900000     |
| recall75   | 0.810811     | 0.820513     | 0.800000     |
| precision  | 0.850000     | 0.528571     | 0.213018     |
| conf_obj   | 0.921843     | 0.942871     | 0.892951     |
| conf_noobj | 0.000443     | 0.000518     | 0.000536     |
+------------+--------------+--------------+--------------+
2020-12-20 07:26:20.491 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.849519
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.209722     | 0.172197     | 0.467600     |
| x          | 0.003128     | 0.005362     | 0.021170     |
| y          | 0.001745     | 0.014822     | 0.024218     |
| w          | 0.027032     | 0.015939     | 0.012587     |
| h          | 0.025523     | 0.015203     | 0.009256     |
| conf       | 0.149004     | 0.118269     | 0.397430     |
| cls        | 0.003290     | 0.002602     | 0.002939     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.904762     |
| recall75   | 0.950000     | 0.904762     | 0.904762     |
| precision  | 0.769231     | 0.488372     | 0.211111     |
| conf_obj   | 0.954977     | 0.963999     | 0.918094     |
| conf_noobj | 0.000488     | 0.000392     | 0.000301     |
+------------+--------------+--------------+--------------+
2020-12-20 07:27:22.110 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.745673
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.257861     | 0.230297     | 0.257516     |
| x          | 0.027456     | 0.021326     | 0.029710     |
| y          | 0.004717     | 0.015505     | 0.043259     |
| w          | 0.019895     | 0.017108     | 0.008014     |
| h          | 0.014762     | 0.021378     | 0.011234     |
| conf       | 0.184901     | 0.151429     | 0.163381     |
| cls        | 0.006131     | 0.003551     | 0.001917     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.914286     | 0.971429     |
| precision  | 0.756757     | 0.507246     | 0.209581     |
| conf_obj   | 0.960001     | 0.966486     | 0.955956     |
| conf_noobj | 0.000611     | 0.000600     | 0.000543     |
+------------+--------------+--------------+--------------+
2020-12-20 07:28:31.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.935962
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.403364     | 0.332552     | 0.200047     |
| x          | 0.008420     | 0.012715     | 0.005012     |
| y          | 0.007978     | 0.005212     | 0.019393     |
| w          | 0.016539     | 0.009022     | 0.011681     |
| h          | 0.012461     | 0.012459     | 0.013487     |
| conf       | 0.353740     | 0.288771     | 0.148282     |
| cls        | 0.004226     | 0.004373     | 0.002191     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.944444     | 1.000000     |
| recall75   | 0.941176     | 0.888889     | 0.944444     |
| precision  | 0.571429     | 0.340000     | 0.135338     |
| conf_obj   | 0.908815     | 0.908816     | 0.953881     |
| conf_noobj | 0.000891     | 0.000543     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 07:29:40.101 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.062413
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.274382     | 0.398525     | 0.389506     |
| x          | 0.014313     | 0.018556     | 0.051196     |
| y          | 0.011888     | 0.011093     | 0.033664     |
| w          | 0.022082     | 0.020881     | 0.018867     |
| h          | 0.017019     | 0.015740     | 0.012291     |
| conf       | 0.178941     | 0.258399     | 0.166587     |
| cls        | 0.030139     | 0.073856     | 0.106901     |
| cls_acc    | 100.00%      | 96.15%       | 96.15%       |
| recall50   | 0.916667     | 0.961538     | 0.923077     |
| recall75   | 0.791667     | 0.846154     | 0.807692     |
| precision  | 0.666667     | 0.342466     | 0.162162     |
| conf_obj   | 0.949040     | 0.925081     | 0.956514     |
| conf_noobj | 0.000688     | 0.000735     | 0.000534     |
+------------+--------------+--------------+--------------+
2020-12-20 07:30:46.235 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.762430
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.209275     | 0.308856     | 0.244299     |
| x          | 0.009976     | 0.011297     | 0.017374     |
| y          | 0.005245     | 0.012426     | 0.034939     |
| w          | 0.009927     | 0.010361     | 0.006298     |
| h          | 0.014235     | 0.004395     | 0.008697     |
| conf       | 0.159616     | 0.262155     | 0.165436     |
| cls        | 0.010276     | 0.008222     | 0.011556     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 1.000000     |
| precision  | 0.809524     | 0.313726     | 0.168317     |
| conf_obj   | 0.959065     | 0.911782     | 0.941242     |
| conf_noobj | 0.000747     | 0.000732     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 07:30:49.720 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.920
2020-12-20 07:30:49.723 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 07:31:43.193 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05761   | 0.54704 | 0.10425 | 0.25299 |
| 1     | Wear_helmet | 0.55729   | 0.95833 | 0.70476 | 0.93197 |
| 2     | Total       | 0.30745   | 0.75269 | 0.40450 | 0.59248 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:31:43.194 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5924794933858112
2020-12-20 07:31:43.194 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 07:31:43.194 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.471380

2020-12-20 07:31:43.624 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 2/2, epo 5/5
2020-12-20 07:31:43.624 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 2/2, epo 5/5; time cost: 0:14:59.516786

2020-12-20 07:31:43.625 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.962
2020-12-20 07:31:43.883 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 07:35:59.174 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08711   | 0.64535 | 0.15351 | 0.41661 |
| 1     | Wear_helmet | 0.51058   | 0.91520 | 0.65548 | 0.86618 |
| 2     | Total       | 0.29885   | 0.78028 | 0.40449 | 0.64140 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:35:59.174 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.641399156421037
2020-12-20 07:35:59.174 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 07:35:59.175 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:15.291900

2020-12-20 07:37:04.548 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 12!
2020-12-20 07:37:04.694 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 2/2, epo 1/5
2020-12-20 07:37:06.337 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.240083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.531921     | 0.385452     | 0.322711     |
| x          | 0.007047     | 0.009463     | 0.011993     |
| y          | 0.006534     | 0.014777     | 0.030296     |
| w          | 0.013573     | 0.016567     | 0.008108     |
| h          | 0.037282     | 0.025512     | 0.021038     |
| conf       | 0.385373     | 0.250336     | 0.196890     |
| cls        | 0.082111     | 0.068796     | 0.054386     |
| cls_acc    | 96.43%       | 96.43%       | 96.43%       |
| recall50   | 0.928571     | 0.928571     | 0.928571     |
| recall75   | 0.785714     | 0.750000     | 0.857143     |
| precision  | 0.590909     | 0.361111     | 0.147727     |
| conf_obj   | 0.919809     | 0.950247     | 0.966108     |
| conf_noobj | 0.001452     | 0.000987     | 0.000836     |
+------------+--------------+--------------+--------------+
2020-12-20 07:38:05.847 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.719506
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.234942     | 0.229417     | 0.255147     |
| x          | 0.010830     | 0.022726     | 0.022133     |
| y          | 0.005655     | 0.021204     | 0.040081     |
| w          | 0.021577     | 0.015331     | 0.009495     |
| h          | 0.010181     | 0.014666     | 0.009637     |
| conf       | 0.184898     | 0.155044     | 0.173197     |
| cls        | 0.001799     | 0.000446     | 0.000604     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 0.950000     |
| recall75   | 0.833333     | 0.894737     | 0.850000     |
| precision  | 0.607143     | 0.345455     | 0.154472     |
| conf_obj   | 0.963721     | 0.972116     | 0.955019     |
| conf_noobj | 0.000826     | 0.000594     | 0.000458     |
+------------+--------------+--------------+--------------+
2020-12-20 07:39:06.763 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.676068
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.259932     | 0.234206     | 0.181931     |
| x          | 0.002120     | 0.012257     | 0.016917     |
| y          | 0.006721     | 0.010800     | 0.027208     |
| w          | 0.021941     | 0.020257     | 0.018742     |
| h          | 0.010202     | 0.006711     | 0.005833     |
| conf       | 0.217427     | 0.182177     | 0.110924     |
| cls        | 0.001520     | 0.002004     | 0.002307     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.833333     | 0.944444     |
| precision  | 0.600000     | 0.367347     | 0.181818     |
| conf_obj   | 0.950362     | 0.957010     | 0.986716     |
| conf_noobj | 0.000942     | 0.000629     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 07:40:13.710 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.644977
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.255019     | 0.194005     | 0.195954     |
| x          | 0.005969     | 0.007312     | 0.017648     |
| y          | 0.004034     | 0.006108     | 0.027651     |
| w          | 0.019016     | 0.009494     | 0.004254     |
| h          | 0.008756     | 0.008871     | 0.008201     |
| conf       | 0.211097     | 0.160096     | 0.136202     |
| cls        | 0.006147     | 0.002125     | 0.001997     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 1.000000     | 1.000000     |
| precision  | 0.666667     | 0.361111     | 0.152941     |
| conf_obj   | 0.971309     | 0.983834     | 0.991294     |
| conf_noobj | 0.000930     | 0.000737     | 0.000606     |
+------------+--------------+--------------+--------------+
2020-12-20 07:41:21.067 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.908769
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.334909     | 0.276125     | 0.297736     |
| x          | 0.007246     | 0.012730     | 0.029034     |
| y          | 0.007429     | 0.009195     | 0.019878     |
| w          | 0.020757     | 0.016982     | 0.017995     |
| h          | 0.022492     | 0.014635     | 0.015862     |
| conf       | 0.219086     | 0.188858     | 0.177654     |
| cls        | 0.057898     | 0.033726     | 0.037312     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.961538     | 1.000000     |
| recall75   | 0.875000     | 0.923077     | 0.807692     |
| precision  | 0.733333     | 0.352113     | 0.161491     |
| conf_obj   | 0.935075     | 0.967784     | 0.963777     |
| conf_noobj | 0.000653     | 0.000779     | 0.000609     |
+------------+--------------+--------------+--------------+
2020-12-20 07:42:27.617 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.584183
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.237880     | 0.177463     | 0.168840     |
| x          | 0.002177     | 0.006310     | 0.011572     |
| y          | 0.001753     | 0.006012     | 0.026852     |
| w          | 0.010423     | 0.013615     | 0.006782     |
| h          | 0.010869     | 0.016002     | 0.011375     |
| conf       | 0.210880     | 0.134407     | 0.110228     |
| cls        | 0.001780     | 0.001118     | 0.002030     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.958333     | 0.916667     |
| precision  | 0.814815     | 0.510638     | 0.228571     |
| conf_obj   | 0.921933     | 0.959419     | 0.982725     |
| conf_noobj | 0.000560     | 0.000408     | 0.000375     |
+------------+--------------+--------------+--------------+
2020-12-20 07:43:34.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.010369
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.210744     | 0.438267     | 0.361358     |
| x          | 0.004829     | 0.007818     | 0.024899     |
| y          | 0.001677     | 0.008663     | 0.023015     |
| w          | 0.039207     | 0.041399     | 0.027538     |
| h          | 0.045128     | 0.051143     | 0.025340     |
| conf       | 0.076411     | 0.230759     | 0.186340     |
| cls        | 0.043491     | 0.098485     | 0.074226     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 1.000000     | 0.904762     | 0.857143     |
| recall75   | 0.950000     | 0.857143     | 0.761905     |
| precision  | 0.740741     | 0.395833     | 0.185567     |
| conf_obj   | 0.989290     | 0.932720     | 0.939415     |
| conf_noobj | 0.000424     | 0.000443     | 0.000341     |
+------------+--------------+--------------+--------------+
2020-12-20 07:44:36.882 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.713453
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.276160     | 0.211325     | 0.225968     |
| x          | 0.004820     | 0.018359     | 0.020754     |
| y          | 0.002949     | 0.007419     | 0.017529     |
| w          | 0.026573     | 0.021793     | 0.023308     |
| h          | 0.016522     | 0.009767     | 0.013407     |
| conf       | 0.218206     | 0.149662     | 0.148538     |
| cls        | 0.007090     | 0.004324     | 0.002431     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.888889     |
| precision  | 0.708333     | 0.400000     | 0.193548     |
| conf_obj   | 0.947943     | 0.964739     | 0.953194     |
| conf_noobj | 0.000772     | 0.000621     | 0.000466     |
+------------+--------------+--------------+--------------+
2020-12-20 07:45:39.116 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.463415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.090168     | 0.214522     | 0.158724     |
| x          | 0.004641     | 0.011516     | 0.034523     |
| y          | 0.002855     | 0.007612     | 0.014952     |
| w          | 0.017097     | 0.007743     | 0.005793     |
| h          | 0.016921     | 0.010749     | 0.008263     |
| conf       | 0.047746     | 0.175535     | 0.094000     |
| cls        | 0.000909     | 0.001366     | 0.001192     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.956522     | 0.869565     | 0.913043     |
| precision  | 0.884615     | 0.400000     | 0.194915     |
| conf_obj   | 0.990482     | 0.947283     | 0.984600     |
| conf_noobj | 0.000307     | 0.000467     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 07:46:46.444 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.941781
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.330511     | 0.321688     | 0.289582     |
| x          | 0.007460     | 0.009461     | 0.020802     |
| y          | 0.010018     | 0.018194     | 0.025053     |
| w          | 0.021592     | 0.013221     | 0.017505     |
| h          | 0.020235     | 0.018158     | 0.020545     |
| conf       | 0.268966     | 0.260910     | 0.202150     |
| cls        | 0.002239     | 0.001745     | 0.003526     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.967742     | 0.967742     |
| recall75   | 0.931035     | 0.741935     | 0.838710     |
| precision  | 0.823529     | 0.500000     | 0.232558     |
| conf_obj   | 0.910263     | 0.937851     | 0.939027     |
| conf_noobj | 0.000629     | 0.000551     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 07:47:48.666 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.606557
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.174466     | 0.221510     | 0.210582     |
| x          | 0.001972     | 0.004707     | 0.014429     |
| y          | 0.005385     | 0.005118     | 0.017613     |
| w          | 0.012288     | 0.010094     | 0.011321     |
| h          | 0.007959     | 0.010939     | 0.008116     |
| conf       | 0.140461     | 0.187522     | 0.151084     |
| cls        | 0.006400     | 0.003130     | 0.008018     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 0.960000     |
| recall75   | 0.956522     | 0.960000     | 0.840000     |
| precision  | 0.718750     | 0.400000     | 0.216216     |
| conf_obj   | 0.972124     | 0.947183     | 0.956190     |
| conf_noobj | 0.000641     | 0.000575     | 0.000416     |
+------------+--------------+--------------+--------------+
2020-12-20 07:48:58.570 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.316136
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.457087     | 0.387259     | 0.471790     |
| x          | 0.027255     | 0.027852     | 0.021992     |
| y          | 0.003016     | 0.008964     | 0.026083     |
| w          | 0.057681     | 0.048574     | 0.042509     |
| h          | 0.029707     | 0.030243     | 0.024201     |
| conf       | 0.293686     | 0.262335     | 0.346392     |
| cls        | 0.045742     | 0.009292     | 0.010613     |
| cls_acc    | 97.06%       | 100.00%      | 100.00%      |
| recall50   | 0.911765     | 0.911765     | 0.916667     |
| recall75   | 0.764706     | 0.676471     | 0.722222     |
| precision  | 0.738095     | 0.449275     | 0.189655     |
| conf_obj   | 0.907609     | 0.927937     | 0.888164     |
| conf_noobj | 0.000770     | 0.000650     | 0.000579     |
+------------+--------------+--------------+--------------+
2020-12-20 07:50:04.989 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.760172
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.287918     | 0.229281     | 0.242973     |
| x          | 0.012637     | 0.022520     | 0.015993     |
| y          | 0.005304     | 0.017084     | 0.037850     |
| w          | 0.012223     | 0.012550     | 0.005479     |
| h          | 0.018822     | 0.014436     | 0.017292     |
| conf       | 0.236493     | 0.159836     | 0.161662     |
| cls        | 0.002439     | 0.002855     | 0.004696     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.850000     | 0.900000     |
| precision  | 0.666667     | 0.363636     | 0.145985     |
| conf_obj   | 0.966987     | 0.982104     | 0.966925     |
| conf_noobj | 0.000828     | 0.000708     | 0.000589     |
+------------+--------------+--------------+--------------+
2020-12-20 07:51:10.300 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.186806
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.480931     | 0.338018     | 0.367856     |
| x          | 0.017849     | 0.024248     | 0.034969     |
| y          | 0.014126     | 0.015823     | 0.025961     |
| w          | 0.033743     | 0.017218     | 0.014266     |
| h          | 0.019132     | 0.012997     | 0.013205     |
| conf       | 0.213744     | 0.183921     | 0.178312     |
| cls        | 0.182338     | 0.083812     | 0.101144     |
| cls_acc    | 96.30%       | 96.43%       | 93.55%       |
| recall50   | 0.925926     | 0.964286     | 0.935484     |
| recall75   | 0.703704     | 0.714286     | 0.741935     |
| precision  | 0.581395     | 0.350649     | 0.157609     |
| conf_obj   | 0.962863     | 0.971664     | 0.956822     |
| conf_noobj | 0.000903     | 0.000763     | 0.000599     |
+------------+--------------+--------------+--------------+
2020-12-20 07:51:14.108 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.944
2020-12-20 07:51:14.113 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 07:52:15.080 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04417   | 0.58188 | 0.08210 | 0.34731 |
| 1     | Wear_helmet | 0.42569   | 0.96094 | 0.59001 | 0.93617 |
| 2     | Total       | 0.23493   | 0.77141 | 0.33606 | 0.64174 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:52:15.082 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.641741064738687
2020-12-20 07:52:15.083 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 07:52:15.083 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.969982

2020-12-20 07:52:15.565 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 2/2, epo 1/5
2020-12-20 07:52:15.566 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 2/2, epo 1/5; time cost: 0:15:10.871120

2020-12-20 07:52:15.566 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 2/2, epo 2/5
2020-12-20 07:52:17.117 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.941902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.417858     | 0.279230     | 0.244814     |
| x          | 0.003476     | 0.004746     | 0.014384     |
| y          | 0.004378     | 0.008375     | 0.019425     |
| w          | 0.063700     | 0.058311     | 0.041962     |
| h          | 0.052357     | 0.054401     | 0.050747     |
| conf       | 0.273058     | 0.143096     | 0.109116     |
| cls        | 0.020890     | 0.010300     | 0.009180     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.863636     | 1.000000     | 1.000000     |
| recall75   | 0.818182     | 0.954545     | 0.818182     |
| precision  | 0.655172     | 0.385965     | 0.184874     |
| conf_obj   | 0.889782     | 0.956001     | 0.975238     |
| conf_noobj | 0.000620     | 0.000506     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 07:53:22.817 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.358774
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.606513     | 0.372974     | 0.379286     |
| x          | 0.009951     | 0.010460     | 0.016232     |
| y          | 0.005951     | 0.018634     | 0.035753     |
| w          | 0.023216     | 0.012158     | 0.013225     |
| h          | 0.027066     | 0.014006     | 0.011522     |
| conf       | 0.448932     | 0.180210     | 0.161489     |
| cls        | 0.091397     | 0.137507     | 0.141065     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.863636     | 0.954545     | 0.954545     |
| recall75   | 0.863636     | 0.954545     | 0.909091     |
| precision  | 0.612903     | 0.328125     | 0.159091     |
| conf_obj   | 0.842981     | 0.944361     | 0.941382     |
| conf_noobj | 0.000861     | 0.000656     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 07:54:33.336 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.871427
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.303361     | 0.281324     | 0.286742     |
| x          | 0.004084     | 0.008584     | 0.023950     |
| y          | 0.004425     | 0.012159     | 0.022344     |
| w          | 0.021393     | 0.023315     | 0.023724     |
| h          | 0.016354     | 0.014981     | 0.023852     |
| conf       | 0.230463     | 0.187385     | 0.145866     |
| cls        | 0.026641     | 0.034900     | 0.047006     |
| cls_acc    | 100.00%      | 96.43%       | 96.55%       |
| recall50   | 0.964286     | 0.928571     | 0.931035     |
| recall75   | 0.892857     | 0.892857     | 0.862069     |
| precision  | 0.710526     | 0.376812     | 0.197080     |
| conf_obj   | 0.932946     | 0.954443     | 0.966942     |
| conf_noobj | 0.000628     | 0.000665     | 0.000473     |
+------------+--------------+--------------+--------------+
2020-12-20 07:55:37.138 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.223350
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.504152     | 0.398650     | 0.320549     |
| x          | 0.004736     | 0.009228     | 0.015944     |
| y          | 0.006231     | 0.011079     | 0.031818     |
| w          | 0.016888     | 0.018883     | 0.013669     |
| h          | 0.020854     | 0.017328     | 0.015017     |
| conf       | 0.319883     | 0.294423     | 0.198659     |
| cls        | 0.135559     | 0.047709     | 0.045443     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.875000     | 0.937500     |
| recall75   | 0.793103     | 0.781250     | 0.843750     |
| precision  | 0.634146     | 0.383562     | 0.201342     |
| conf_obj   | 0.918438     | 0.884539     | 0.927267     |
| conf_noobj | 0.000733     | 0.000554     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 07:56:39.634 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.279495
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.365371     | 0.449508     | 0.464616     |
| x          | 0.016187     | 0.014439     | 0.028040     |
| y          | 0.013579     | 0.010911     | 0.025535     |
| w          | 0.019697     | 0.011668     | 0.010392     |
| h          | 0.023244     | 0.022387     | 0.015846     |
| conf       | 0.232690     | 0.316105     | 0.289153     |
| cls        | 0.059974     | 0.073998     | 0.095649     |
| cls_acc    | 95.83%       | 96.30%       | 96.30%       |
| recall50   | 0.875000     | 0.962963     | 0.925926     |
| recall75   | 0.750000     | 0.851852     | 0.851852     |
| precision  | 0.636364     | 0.472727     | 0.193798     |
| conf_obj   | 0.921167     | 0.903828     | 0.922821     |
| conf_noobj | 0.000762     | 0.000508     | 0.000482     |
+------------+--------------+--------------+--------------+
2020-12-20 07:57:42.297 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.897925
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.300462     | 0.266283     | 0.331180     |
| x          | 0.003302     | 0.008367     | 0.015277     |
| y          | 0.005720     | 0.023153     | 0.031189     |
| w          | 0.030549     | 0.026668     | 0.023549     |
| h          | 0.035696     | 0.029174     | 0.025494     |
| conf       | 0.211945     | 0.172111     | 0.231867     |
| cls        | 0.013249     | 0.006809     | 0.003804     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.965517     | 0.933333     |
| recall75   | 0.896552     | 0.896552     | 0.833333     |
| precision  | 0.800000     | 0.451613     | 0.243478     |
| conf_obj   | 0.936380     | 0.973244     | 0.932889     |
| conf_noobj | 0.000756     | 0.000745     | 0.000519     |
+------------+--------------+--------------+--------------+
2020-12-20 07:58:47.590 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.327096
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.345902     | 0.551359     | 0.429835     |
| x          | 0.003841     | 0.009316     | 0.019364     |
| y          | 0.014176     | 0.005721     | 0.015470     |
| w          | 0.023333     | 0.008487     | 0.015100     |
| h          | 0.022831     | 0.005279     | 0.009223     |
| conf       | 0.136560     | 0.398212     | 0.233890     |
| cls        | 0.145161     | 0.124343     | 0.136788     |
| cls_acc    | 93.33%       | 93.33%       | 93.33%       |
| recall50   | 0.933333     | 0.866667     | 0.933333     |
| recall75   | 0.866667     | 0.866667     | 0.933333     |
| precision  | 0.636364     | 0.351351     | 0.170732     |
| conf_obj   | 0.962270     | 0.875036     | 0.920062     |
| conf_noobj | 0.000499     | 0.000356     | 0.000312     |
+------------+--------------+--------------+--------------+
2020-12-20 07:59:52.863 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.048837
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.260799     | 0.336553     | 0.451484     |
| x          | 0.016150     | 0.020071     | 0.016925     |
| y          | 0.003712     | 0.008743     | 0.054691     |
| w          | 0.027786     | 0.012990     | 0.015729     |
| h          | 0.020749     | 0.013350     | 0.014268     |
| conf       | 0.169918     | 0.269005     | 0.336438     |
| cls        | 0.022485     | 0.012395     | 0.013433     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 0.947368     |
| recall75   | 0.894737     | 0.842105     | 0.789474     |
| precision  | 0.655172     | 0.327273     | 0.127660     |
| conf_obj   | 0.936440     | 0.886076     | 0.915608     |
| conf_noobj | 0.000614     | 0.000626     | 0.000459     |
+------------+--------------+--------------+--------------+
2020-12-20 08:00:58.286 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.377171
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.096247     | 0.127717     | 0.153206     |
| x          | 0.003632     | 0.016434     | 0.015869     |
| y          | 0.004718     | 0.006797     | 0.018959     |
| w          | 0.018719     | 0.008348     | 0.008498     |
| h          | 0.015540     | 0.008837     | 0.017696     |
| conf       | 0.052800     | 0.086206     | 0.090610     |
| cls        | 0.000838     | 0.001096     | 0.001575     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.857143     | 0.866667     |
| precision  | 0.875000     | 0.451613     | 0.200000     |
| conf_obj   | 0.982416     | 0.983846     | 0.979403     |
| conf_noobj | 0.000265     | 0.000381     | 0.000347     |
+------------+--------------+--------------+--------------+
2020-12-20 08:02:04.022 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 2.023492
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.717725     | 0.669979     | 0.635788     |
| x          | 0.004315     | 0.012308     | 0.030076     |
| y          | 0.019971     | 0.020767     | 0.047156     |
| w          | 0.015850     | 0.012310     | 0.021412     |
| h          | 0.052203     | 0.015465     | 0.017442     |
| conf       | 0.486215     | 0.592513     | 0.503996     |
| cls        | 0.139171     | 0.016616     | 0.015705     |
| cls_acc    | 93.75%       | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.875000     | 0.937500     |
| recall75   | 0.750000     | 0.812500     | 0.750000     |
| precision  | 0.538462     | 0.285714     | 0.166667     |
| conf_obj   | 0.851958     | 0.849201     | 0.880964     |
| conf_noobj | 0.000633     | 0.000472     | 0.000276     |
+------------+--------------+--------------+--------------+
2020-12-20 08:03:12.668 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.131687
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.518001     | 0.349685     | 0.264001     |
| x          | 0.007019     | 0.010563     | 0.016329     |
| y          | 0.012690     | 0.008019     | 0.015749     |
| w          | 0.051641     | 0.036029     | 0.025500     |
| h          | 0.024280     | 0.019441     | 0.022626     |
| conf       | 0.308257     | 0.237444     | 0.150920     |
| cls        | 0.114115     | 0.038189     | 0.032877     |
| cls_acc    | 95.00%       | 95.45%       | 100.00%      |
| recall50   | 0.850000     | 0.863636     | 1.000000     |
| recall75   | 0.600000     | 0.772727     | 0.869565     |
| precision  | 0.629630     | 0.395833     | 0.194915     |
| conf_obj   | 0.878658     | 0.909254     | 0.961238     |
| conf_noobj | 0.000787     | 0.000531     | 0.000498     |
+------------+--------------+--------------+--------------+
2020-12-20 08:04:10.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.944984
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.408792     | 0.236193     | 0.299999     |
| x          | 0.005104     | 0.008919     | 0.027067     |
| y          | 0.006025     | 0.019571     | 0.023793     |
| w          | 0.026797     | 0.017460     | 0.008755     |
| h          | 0.040720     | 0.028645     | 0.010036     |
| conf       | 0.327686     | 0.159799     | 0.227477     |
| cls        | 0.002461     | 0.001799     | 0.002871     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 0.941176     |
| recall75   | 0.882353     | 0.882353     | 0.882353     |
| precision  | 0.571429     | 0.404762     | 0.131148     |
| conf_obj   | 0.910338     | 0.966564     | 0.926993     |
| conf_noobj | 0.000948     | 0.000566     | 0.000542     |
+------------+--------------+--------------+--------------+
2020-12-20 08:05:14.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.856948
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.350540     | 0.255510     | 0.250899     |
| x          | 0.002821     | 0.007469     | 0.006666     |
| y          | 0.007055     | 0.016506     | 0.053496     |
| w          | 0.013965     | 0.008130     | 0.009454     |
| h          | 0.011537     | 0.017769     | 0.015073     |
| conf       | 0.314053     | 0.203186     | 0.164109     |
| cls        | 0.001109     | 0.002449     | 0.002099     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.923077     | 0.923077     |
| recall75   | 0.846154     | 0.846154     | 0.923077     |
| precision  | 0.600000     | 0.363636     | 0.162162     |
| conf_obj   | 0.893055     | 0.917976     | 0.927475     |
| conf_noobj | 0.000696     | 0.000352     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 08:06:19.505 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.101218
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.410696     | 0.365313     | 0.325209     |
| x          | 0.017412     | 0.018492     | 0.021611     |
| y          | 0.005297     | 0.007097     | 0.013986     |
| w          | 0.033761     | 0.028689     | 0.014370     |
| h          | 0.025259     | 0.024179     | 0.014226     |
| conf       | 0.272011     | 0.211019     | 0.176178     |
| cls        | 0.056956     | 0.075836     | 0.084837     |
| cls_acc    | 100.00%      | 97.14%       | 97.14%       |
| recall50   | 0.870968     | 0.971429     | 0.971429     |
| recall75   | 0.709677     | 0.885714     | 0.942857     |
| precision  | 0.771429     | 0.576271     | 0.217949     |
| conf_obj   | 0.899541     | 0.916838     | 0.954198     |
| conf_noobj | 0.000729     | 0.000542     | 0.000570     |
+------------+--------------+--------------+--------------+
2020-12-20 08:06:22.933 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.959
2020-12-20 08:06:22.939 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 08:07:22.339 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15259   | 0.39024 | 0.21939 | 0.25049 |
| 1     | Wear_helmet | 0.49375   | 0.97656 | 0.65588 | 0.94684 |
| 2     | Total       | 0.32317   | 0.68340 | 0.43764 | 0.59866 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:07:22.339 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5986644740398384
2020-12-20 08:07:22.339 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 08:07:22.340 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.400753

2020-12-20 08:07:22.818 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 2/2, epo 2/5
2020-12-20 08:07:22.819 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 2/2, epo 2/5; time cost: 0:15:07.252330

2020-12-20 08:07:22.819 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 2/2, epo 3/5
2020-12-20 08:07:24.045 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.062242
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.451941     | 0.330651     | 0.279649     |
| x          | 0.005945     | 0.012717     | 0.023728     |
| y          | 0.005703     | 0.011353     | 0.033900     |
| w          | 0.032532     | 0.014183     | 0.009710     |
| h          | 0.023282     | 0.017674     | 0.014685     |
| conf       | 0.351399     | 0.251322     | 0.193765     |
| cls        | 0.033079     | 0.023403     | 0.003862     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.965517     | 0.965517     |
| recall75   | 0.750000     | 0.793103     | 0.827586     |
| precision  | 0.750000     | 0.500000     | 0.202899     |
| conf_obj   | 0.872041     | 0.899962     | 0.949508     |
| conf_noobj | 0.000877     | 0.000589     | 0.000549     |
+------------+--------------+--------------+--------------+
2020-12-20 08:08:34.313 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.556175
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.624742     | 0.426649     | 0.504785     |
| x          | 0.005245     | 0.011475     | 0.014360     |
| y          | 0.009540     | 0.008653     | 0.016996     |
| w          | 0.012356     | 0.013897     | 0.011200     |
| h          | 0.014871     | 0.010304     | 0.019020     |
| conf       | 0.357213     | 0.196628     | 0.167230     |
| cls        | 0.225518     | 0.185692     | 0.275979     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.880000     | 0.920000     | 0.960000     |
| recall75   | 0.800000     | 0.840000     | 0.840000     |
| precision  | 0.523810     | 0.323944     | 0.158940     |
| conf_obj   | 0.918209     | 0.961375     | 0.952947     |
| conf_noobj | 0.001022     | 0.000656     | 0.000460     |
+------------+--------------+--------------+--------------+
2020-12-20 08:09:35.568 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.661492
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.185456     | 0.241990     | 0.234046     |
| x          | 0.008386     | 0.008974     | 0.024848     |
| y          | 0.005030     | 0.011370     | 0.035481     |
| w          | 0.021659     | 0.015770     | 0.016539     |
| h          | 0.018530     | 0.012963     | 0.012385     |
| conf       | 0.124471     | 0.187304     | 0.141811     |
| cls        | 0.007379     | 0.005609     | 0.002984     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.956522     | 1.000000     |
| recall75   | 0.818182     | 0.869565     | 0.869565     |
| precision  | 0.807692     | 0.407407     | 0.221154     |
| conf_obj   | 0.953539     | 0.934862     | 0.951621     |
| conf_noobj | 0.000453     | 0.000533     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 08:10:39.241 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.768476
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.285017     | 0.282901     | 0.200558     |
| x          | 0.005981     | 0.022746     | 0.016923     |
| y          | 0.009713     | 0.021765     | 0.028964     |
| w          | 0.023940     | 0.013963     | 0.007951     |
| h          | 0.023225     | 0.024011     | 0.008910     |
| conf       | 0.210728     | 0.195578     | 0.132301     |
| cls        | 0.011429     | 0.004837     | 0.005509     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.900000     | 1.000000     |
| recall75   | 0.894737     | 0.800000     | 1.000000     |
| precision  | 0.655172     | 0.367347     | 0.135714     |
| conf_obj   | 0.932157     | 0.927538     | 0.976366     |
| conf_noobj | 0.000705     | 0.000517     | 0.000479     |
+------------+--------------+--------------+--------------+
2020-12-20 08:11:43.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.620345
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.274287     | 0.173408     | 0.172650     |
| x          | 0.009530     | 0.005794     | 0.020873     |
| y          | 0.001926     | 0.005823     | 0.022202     |
| w          | 0.026391     | 0.015186     | 0.008157     |
| h          | 0.028692     | 0.024239     | 0.018816     |
| conf       | 0.190450     | 0.107019     | 0.077122     |
| cls        | 0.017298     | 0.015346     | 0.025481     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.947368     | 0.894737     |
| precision  | 0.692308     | 0.413043     | 0.193878     |
| conf_obj   | 0.918735     | 0.962862     | 0.986821     |
| conf_noobj | 0.000390     | 0.000315     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 08:12:45.510 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.487425
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.157938     | 0.166951     | 0.162536     |
| x          | 0.004172     | 0.011440     | 0.014053     |
| y          | 0.003855     | 0.011057     | 0.024815     |
| w          | 0.019058     | 0.013171     | 0.013207     |
| h          | 0.021373     | 0.015881     | 0.011061     |
| conf       | 0.078563     | 0.094648     | 0.094495     |
| cls        | 0.030917     | 0.020754     | 0.004905     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.967742     | 1.000000     |
| recall75   | 0.933333     | 0.935484     | 0.935484     |
| precision  | 0.966667     | 0.600000     | 0.246032     |
| conf_obj   | 0.966255     | 0.965208     | 0.982776     |
| conf_noobj | 0.000232     | 0.000264     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 08:13:45.385 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.762890
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.292985     | 0.216733     | 0.253172     |
| x          | 0.007646     | 0.007684     | 0.012334     |
| y          | 0.004752     | 0.011946     | 0.023227     |
| w          | 0.032550     | 0.018585     | 0.006469     |
| h          | 0.019540     | 0.014648     | 0.006135     |
| conf       | 0.223878     | 0.162556     | 0.198546     |
| cls        | 0.004619     | 0.001313     | 0.006462     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 0.952381     |
| recall75   | 0.904762     | 0.904762     | 0.904762     |
| precision  | 0.769231     | 0.357143     | 0.180180     |
| conf_obj   | 0.941777     | 0.962460     | 0.937244     |
| conf_noobj | 0.000654     | 0.000589     | 0.000444     |
+------------+--------------+--------------+--------------+
2020-12-20 08:14:49.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.784192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.285194     | 0.278966     | 0.220032     |
| x          | 0.002595     | 0.005501     | 0.015849     |
| y          | 0.005880     | 0.011928     | 0.028654     |
| w          | 0.016804     | 0.020679     | 0.012649     |
| h          | 0.026221     | 0.027099     | 0.015194     |
| conf       | 0.229042     | 0.211321     | 0.145754     |
| cls        | 0.004652     | 0.002438     | 0.001931     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.909091     | 1.000000     |
| recall75   | 0.909091     | 0.863636     | 0.863636     |
| precision  | 0.724138     | 0.425532     | 0.217822     |
| conf_obj   | 0.933051     | 0.917124     | 0.948269     |
| conf_noobj | 0.000513     | 0.000359     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 08:15:51.305 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.584491
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.148879     | 0.248012     | 0.187600     |
| x          | 0.006948     | 0.013253     | 0.014717     |
| y          | 0.004154     | 0.010757     | 0.051346     |
| w          | 0.029962     | 0.015634     | 0.016092     |
| h          | 0.005512     | 0.009917     | 0.007786     |
| conf       | 0.097951     | 0.197901     | 0.093956     |
| cls        | 0.004351     | 0.000550     | 0.003703     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 0.866667     | 0.875000     | 0.875000     |
| precision  | 0.833333     | 0.416667     | 0.200000     |
| conf_obj   | 0.989806     | 0.936978     | 0.989429     |
| conf_noobj | 0.000417     | 0.000414     | 0.000370     |
+------------+--------------+--------------+--------------+
2020-12-20 08:16:56.240 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.037822
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.376119     | 0.371131     | 0.290572     |
| x          | 0.021913     | 0.045258     | 0.056701     |
| y          | 0.016673     | 0.012228     | 0.044335     |
| w          | 0.010986     | 0.023306     | 0.007586     |
| h          | 0.018701     | 0.005966     | 0.013817     |
| conf       | 0.298166     | 0.271064     | 0.134618     |
| cls        | 0.009680     | 0.013309     | 0.033515     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.923077     | 1.000000     |
| recall75   | 0.846154     | 0.846154     | 0.923077     |
| precision  | 0.523810     | 0.255319     | 0.106557     |
| conf_obj   | 0.859543     | 0.860838     | 0.954021     |
| conf_noobj | 0.000662     | 0.000491     | 0.000415     |
+------------+--------------+--------------+--------------+
2020-12-20 08:17:58.763 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.636461
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.243844     | 0.207699     | 0.184918     |
| x          | 0.003350     | 0.007253     | 0.018425     |
| y          | 0.004549     | 0.006594     | 0.024865     |
| w          | 0.015434     | 0.013415     | 0.007487     |
| h          | 0.029057     | 0.017466     | 0.011192     |
| conf       | 0.178076     | 0.154322     | 0.115051     |
| cls        | 0.013377     | 0.008650     | 0.007898     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 1.000000     |
| recall75   | 0.913043     | 0.913043     | 0.826087     |
| precision  | 0.785714     | 0.468085     | 0.221154     |
| conf_obj   | 0.960358     | 0.966342     | 0.978624     |
| conf_noobj | 0.000842     | 0.000655     | 0.000450     |
+------------+--------------+--------------+--------------+
2020-12-20 08:19:02.017 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.353542
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.096010     | 0.135528     | 0.122004     |
| x          | 0.003687     | 0.004537     | 0.011513     |
| y          | 0.001997     | 0.002117     | 0.010880     |
| w          | 0.012120     | 0.006694     | 0.008640     |
| h          | 0.025409     | 0.010666     | 0.013283     |
| conf       | 0.051740     | 0.110092     | 0.076831     |
| cls        | 0.001057     | 0.001421     | 0.000859     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 1.000000     | 0.950000     |
| precision  | 0.952381     | 0.465116     | 0.270270     |
| conf_obj   | 0.989142     | 0.976057     | 0.983665     |
| conf_noobj | 0.000334     | 0.000459     | 0.000303     |
+------------+--------------+--------------+--------------+
2020-12-20 08:20:13.536 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.840191
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.266115     | 0.315012     | 0.259064     |
| x          | 0.006585     | 0.016354     | 0.023575     |
| y          | 0.004285     | 0.010536     | 0.018150     |
| w          | 0.009223     | 0.010197     | 0.014432     |
| h          | 0.021924     | 0.022955     | 0.014684     |
| conf       | 0.190886     | 0.210673     | 0.135648     |
| cls        | 0.033212     | 0.044298     | 0.052574     |
| cls_acc    | 96.00%       | 96.30%       | 96.43%       |
| recall50   | 0.920000     | 0.925926     | 0.964286     |
| recall75   | 0.840000     | 0.777778     | 0.821429     |
| precision  | 0.657143     | 0.373134     | 0.168750     |
| conf_obj   | 0.954327     | 0.935460     | 0.971005     |
| conf_noobj | 0.000642     | 0.000508     | 0.000467     |
+------------+--------------+--------------+--------------+
2020-12-20 08:21:19.949 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.117851
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.449929     | 0.394833     | 0.273089     |
| x          | 0.011903     | 0.005340     | 0.016050     |
| y          | 0.006601     | 0.013501     | 0.030436     |
| w          | 0.021107     | 0.007618     | 0.015504     |
| h          | 0.031296     | 0.016237     | 0.011164     |
| conf       | 0.375022     | 0.343754     | 0.197225     |
| cls        | 0.003999     | 0.008383     | 0.002709     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.962963     | 0.962963     |
| recall75   | 0.840000     | 0.925926     | 0.851852     |
| precision  | 0.758621     | 0.440678     | 0.185714     |
| conf_obj   | 0.888381     | 0.924200     | 0.950513     |
| conf_noobj | 0.000825     | 0.000654     | 0.000560     |
+------------+--------------+--------------+--------------+
2020-12-20 08:21:23.091 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.891
2020-12-20 08:21:23.094 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 08:22:16.007 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07740   | 0.51916 | 0.13472 | 0.26527 |
| 1     | Wear_helmet | 0.52797   | 0.97483 | 0.68496 | 0.95178 |
| 2     | Total       | 0.30269   | 0.74700 | 0.40984 | 0.60853 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:22:16.008 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6085264464019913
2020-12-20 08:22:16.008 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 08:22:16.009 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:52.913967

2020-12-20 08:22:16.501 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 2/2, epo 3/5
2020-12-20 08:22:16.502 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 2/2, epo 3/5; time cost: 0:14:53.682311

2020-12-20 08:22:16.502 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 2/2, epo 4/5
2020-12-20 08:22:17.610 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.207754
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.431188     | 0.394228     | 0.382338     |
| x          | 0.003775     | 0.008167     | 0.019619     |
| y          | 0.010277     | 0.015007     | 0.015667     |
| w          | 0.016704     | 0.015717     | 0.014666     |
| h          | 0.008284     | 0.015037     | 0.008409     |
| conf       | 0.290135     | 0.230613     | 0.216981     |
| cls        | 0.102012     | 0.109687     | 0.106997     |
| cls_acc    | 95.83%       | 96.15%       | 100.00%      |
| recall50   | 0.958333     | 0.961538     | 0.961538     |
| recall75   | 0.875000     | 0.807692     | 0.846154     |
| precision  | 0.696970     | 0.390625     | 0.185185     |
| conf_obj   | 0.909402     | 0.927574     | 0.950140     |
| conf_noobj | 0.000880     | 0.000769     | 0.000628     |
+------------+--------------+--------------+--------------+
2020-12-20 08:23:28.204 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.854410
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.359126     | 0.291311     | 0.203973     |
| x          | 0.008883     | 0.020435     | 0.012401     |
| y          | 0.002323     | 0.006722     | 0.014795     |
| w          | 0.029008     | 0.024351     | 0.011687     |
| h          | 0.022988     | 0.017592     | 0.015381     |
| conf       | 0.232098     | 0.205621     | 0.139000     |
| cls        | 0.063826     | 0.016590     | 0.010710     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.807692     | 0.888889     |
| precision  | 0.666667     | 0.393939     | 0.174194     |
| conf_obj   | 0.957397     | 0.934793     | 0.967342     |
| conf_noobj | 0.000839     | 0.000580     | 0.000472     |
+------------+--------------+--------------+--------------+
2020-12-20 08:24:38.973 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.880712
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.371789     | 0.257157     | 0.251766     |
| x          | 0.007956     | 0.009140     | 0.017244     |
| y          | 0.009787     | 0.011240     | 0.028475     |
| w          | 0.027326     | 0.015340     | 0.014890     |
| h          | 0.011161     | 0.013941     | 0.009154     |
| conf       | 0.285826     | 0.199583     | 0.164668     |
| cls        | 0.029732     | 0.007912     | 0.017336     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.967742     | 1.000000     |
| recall75   | 0.866667     | 0.903226     | 0.935484     |
| precision  | 0.771429     | 0.483871     | 0.219858     |
| conf_obj   | 0.904168     | 0.937785     | 0.959446     |
| conf_noobj | 0.000708     | 0.000654     | 0.000510     |
+------------+--------------+--------------+--------------+
2020-12-20 08:25:46.501 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.956901
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.210630     | 0.428986     | 0.317285     |
| x          | 0.004395     | 0.020120     | 0.047857     |
| y          | 0.006714     | 0.021780     | 0.028719     |
| w          | 0.025574     | 0.006343     | 0.010776     |
| h          | 0.028300     | 0.038674     | 0.015212     |
| conf       | 0.102875     | 0.136905     | 0.108368     |
| cls        | 0.042771     | 0.205164     | 0.106355     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.947368     | 0.894737     | 0.894737     |
| precision  | 0.666667     | 0.268657     | 0.134328     |
| conf_obj   | 0.980675     | 0.967487     | 0.983893     |
| conf_noobj | 0.000527     | 0.000579     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 08:26:54.599 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.886904
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.327543     | 0.241820     | 0.317540     |
| x          | 0.005402     | 0.012171     | 0.023800     |
| y          | 0.019103     | 0.020778     | 0.031857     |
| w          | 0.025183     | 0.023683     | 0.004530     |
| h          | 0.016159     | 0.013814     | 0.005920     |
| conf       | 0.259272     | 0.169907     | 0.250151     |
| cls        | 0.002424     | 0.001467     | 0.001281     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 0.900000     |
| recall75   | 0.950000     | 0.900000     | 0.900000     |
| precision  | 0.760000     | 0.431818     | 0.142857     |
| conf_obj   | 0.914206     | 0.943970     | 0.886574     |
| conf_noobj | 0.000439     | 0.000457     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 08:27:57.520 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.248101
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.562078     | 0.348914     | 0.337109     |
| x          | 0.013990     | 0.008495     | 0.021278     |
| y          | 0.017412     | 0.007359     | 0.016502     |
| w          | 0.043562     | 0.010226     | 0.005661     |
| h          | 0.032422     | 0.020408     | 0.024059     |
| conf       | 0.280160     | 0.171666     | 0.204052     |
| cls        | 0.174533     | 0.130760     | 0.065556     |
| cls_acc    | 92.59%       | 96.43%       | 96.43%       |
| recall50   | 0.851852     | 0.928571     | 0.892857     |
| recall75   | 0.740741     | 0.821429     | 0.785714     |
| precision  | 0.821429     | 0.590909     | 0.260417     |
| conf_obj   | 0.898002     | 0.933308     | 0.923471     |
| conf_noobj | 0.000511     | 0.000406     | 0.000392     |
+------------+--------------+--------------+--------------+
2020-12-20 08:29:00.771 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 2.894800
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.246930     | 0.852383     | 0.795487     |
| x          | 0.015654     | 0.010210     | 0.021949     |
| y          | 0.004240     | 0.010465     | 0.018935     |
| w          | 0.014594     | 0.009027     | 0.007754     |
| h          | 0.017951     | 0.009321     | 0.015769     |
| conf       | 0.683207     | 0.384583     | 0.285945     |
| cls        | 0.511283     | 0.428777     | 0.445136     |
| cls_acc    | 93.75%       | 93.75%       | 93.75%       |
| recall50   | 0.812500     | 0.875000     | 0.875000     |
| recall75   | 0.812500     | 0.875000     | 0.875000     |
| precision  | 0.684211     | 0.304348     | 0.177215     |
| conf_obj   | 0.819277     | 0.875546     | 0.921677     |
| conf_noobj | 0.000523     | 0.000517     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 08:30:07.278 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.404965
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.171978     | 0.115935     | 0.117051     |
| x          | 0.005844     | 0.005305     | 0.008316     |
| y          | 0.011221     | 0.003414     | 0.014469     |
| w          | 0.015768     | 0.012552     | 0.013421     |
| h          | 0.012167     | 0.008168     | 0.009906     |
| conf       | 0.113449     | 0.080665     | 0.065793     |
| cls        | 0.013529     | 0.005832     | 0.005145     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 1.000000     | 1.000000     |
| precision  | 0.772727     | 0.500000     | 0.217949     |
| conf_obj   | 0.973140     | 0.981971     | 0.993674     |
| conf_noobj | 0.000453     | 0.000320     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 08:31:09.521 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.542094
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.598961     | 0.456197     | 0.486936     |
| x          | 0.011425     | 0.011990     | 0.034154     |
| y          | 0.011155     | 0.005684     | 0.017002     |
| w          | 0.035004     | 0.016342     | 0.021619     |
| h          | 0.032024     | 0.024563     | 0.019585     |
| conf       | 0.493195     | 0.384951     | 0.355923     |
| cls        | 0.016157     | 0.012666     | 0.038653     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.904762     | 0.952381     |
| recall75   | 0.800000     | 0.904762     | 0.904762     |
| precision  | 0.739130     | 0.452381     | 0.147059     |
| conf_obj   | 0.893575     | 0.904418     | 0.926698     |
| conf_noobj | 0.000406     | 0.000333     | 0.000396     |
+------------+--------------+--------------+--------------+
2020-12-20 08:32:14.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.700540
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.242383     | 0.229604     | 0.228553     |
| x          | 0.003769     | 0.012952     | 0.023687     |
| y          | 0.004924     | 0.014256     | 0.027725     |
| w          | 0.023561     | 0.016194     | 0.005289     |
| h          | 0.031113     | 0.019599     | 0.014919     |
| conf       | 0.171648     | 0.157143     | 0.147826     |
| cls        | 0.007367     | 0.009460     | 0.009108     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.894737     | 0.947368     |
| precision  | 0.655172     | 0.296875     | 0.140741     |
| conf_obj   | 0.964582     | 0.979149     | 0.972562     |
| conf_noobj | 0.000807     | 0.000708     | 0.000601     |
+------------+--------------+--------------+--------------+
2020-12-20 08:33:20.418 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.749052
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.302903     | 0.230441     | 0.215709     |
| x          | 0.008859     | 0.009109     | 0.028519     |
| y          | 0.006969     | 0.010033     | 0.027333     |
| w          | 0.041751     | 0.028344     | 0.027016     |
| h          | 0.032786     | 0.033709     | 0.018655     |
| conf       | 0.210851     | 0.146006     | 0.111613     |
| cls        | 0.001686     | 0.003240     | 0.002573     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.960000     |
| recall75   | 0.800000     | 0.800000     | 0.760000     |
| precision  | 0.806452     | 0.490196     | 0.240000     |
| conf_obj   | 0.933090     | 0.954651     | 0.986151     |
| conf_noobj | 0.000605     | 0.000502     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 08:34:28.173 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.662852
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.246393     | 0.233273     | 0.183186     |
| x          | 0.005156     | 0.004965     | 0.022569     |
| y          | 0.004382     | 0.007914     | 0.022907     |
| w          | 0.023947     | 0.013197     | 0.007566     |
| h          | 0.013855     | 0.010798     | 0.005841     |
| conf       | 0.198013     | 0.195637     | 0.123344     |
| cls        | 0.001040     | 0.000762     | 0.000958     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.966667     | 1.000000     |
| recall75   | 0.931035     | 0.900000     | 0.966667     |
| precision  | 0.800000     | 0.391892     | 0.181818     |
| conf_obj   | 0.946043     | 0.951674     | 0.983514     |
| conf_noobj | 0.000541     | 0.000596     | 0.000487     |
+------------+--------------+--------------+--------------+
2020-12-20 08:35:34.846 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.911839
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.375480     | 0.258575     | 0.277784     |
| x          | 0.005329     | 0.012083     | 0.025386     |
| y          | 0.007572     | 0.012181     | 0.041418     |
| w          | 0.018515     | 0.015124     | 0.004934     |
| h          | 0.018662     | 0.028404     | 0.021002     |
| conf       | 0.323322     | 0.189991     | 0.184089     |
| cls        | 0.002080     | 0.000792     | 0.000954     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.958333     |
| recall75   | 0.913043     | 0.826087     | 0.916667     |
| precision  | 0.814815     | 0.468085     | 0.181102     |
| conf_obj   | 0.934447     | 0.934792     | 0.940433     |
| conf_noobj | 0.000448     | 0.000424     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 08:36:39.514 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.098475
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.435937     | 0.301687     | 0.360850     |
| x          | 0.011539     | 0.010080     | 0.013486     |
| y          | 0.008995     | 0.010423     | 0.016183     |
| w          | 0.044584     | 0.024521     | 0.015186     |
| h          | 0.030676     | 0.019843     | 0.013653     |
| conf       | 0.329255     | 0.226892     | 0.296337     |
| cls        | 0.010889     | 0.009927     | 0.006005     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 0.958333     |
| recall75   | 0.818182     | 0.875000     | 0.833333     |
| precision  | 0.636364     | 0.377049     | 0.156463     |
| conf_obj   | 0.915274     | 0.940727     | 0.937008     |
| conf_noobj | 0.001098     | 0.000679     | 0.000614     |
+------------+--------------+--------------+--------------+
2020-12-20 08:36:42.577 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.863
2020-12-20 08:36:42.580 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 08:37:34.782 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12705   | 0.43206 | 0.19636 | 0.30397 |
| 1     | Wear_helmet | 0.67970   | 0.95790 | 0.79517 | 0.93536 |
| 2     | Total       | 0.40338   | 0.69498 | 0.49576 | 0.61966 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:37:34.783 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6196612938816701
2020-12-20 08:37:34.783 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 08:37:34.783 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:52.202839

2020-12-20 08:37:35.205 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 2/2, epo 4/5
2020-12-20 08:37:35.205 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 2/2, epo 4/5; time cost: 0:15:18.703175

2020-12-20 08:37:35.205 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 2/2, epo 5/5
2020-12-20 08:37:36.355 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.716020
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.239246     | 0.174046     | 0.302728     |
| x          | 0.004095     | 0.007217     | 0.023104     |
| y          | 0.003237     | 0.006948     | 0.027891     |
| w          | 0.022581     | 0.022113     | 0.016053     |
| h          | 0.013798     | 0.014206     | 0.017364     |
| conf       | 0.194672     | 0.122813     | 0.217301     |
| cls        | 0.000862     | 0.000749     | 0.001015     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.939394     |
| recall75   | 0.931035     | 0.866667     | 0.878788     |
| precision  | 0.805556     | 0.508475     | 0.221429     |
| conf_obj   | 0.950747     | 0.983895     | 0.932109     |
| conf_noobj | 0.000700     | 0.000561     | 0.000540     |
+------------+--------------+--------------+--------------+
2020-12-20 08:38:45.032 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 2.429777
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.918198     | 0.802771     | 0.708807     |
| x          | 0.003350     | 0.008454     | 0.018507     |
| y          | 0.006968     | 0.010612     | 0.022909     |
| w          | 0.042757     | 0.036347     | 0.022570     |
| h          | 0.024830     | 0.017436     | 0.011409     |
| conf       | 0.252014     | 0.244062     | 0.182121     |
| cls        | 0.588280     | 0.485860     | 0.451292     |
| cls_acc    | 90.00%       | 90.48%       | 90.48%       |
| recall50   | 0.850000     | 0.809524     | 0.904762     |
| recall75   | 0.750000     | 0.666667     | 0.761905     |
| precision  | 0.739130     | 0.414634     | 0.191919     |
| conf_obj   | 0.935003     | 0.913044     | 0.924807     |
| conf_noobj | 0.000425     | 0.000375     | 0.000406     |
+------------+--------------+--------------+--------------+
2020-12-20 08:39:50.757 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.129892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.473075     | 0.294730     | 0.362087     |
| x          | 0.006748     | 0.006142     | 0.023356     |
| y          | 0.012899     | 0.027747     | 0.024448     |
| w          | 0.018267     | 0.018903     | 0.013731     |
| h          | 0.029063     | 0.017528     | 0.011499     |
| conf       | 0.403747     | 0.221639     | 0.277938     |
| cls        | 0.002352     | 0.002772     | 0.011115     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.920000     | 0.920000     |
| recall75   | 0.708333     | 0.840000     | 0.880000     |
| precision  | 0.800000     | 0.418182     | 0.216981     |
| conf_obj   | 0.857491     | 0.922881     | 0.915306     |
| conf_noobj | 0.000528     | 0.000568     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 08:40:54.405 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.391138
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.579366     | 0.463506     | 0.348265     |
| x          | 0.013215     | 0.031028     | 0.037474     |
| y          | 0.004543     | 0.009927     | 0.030624     |
| w          | 0.015903     | 0.011768     | 0.018412     |
| h          | 0.022357     | 0.013095     | 0.011898     |
| conf       | 0.507374     | 0.386702     | 0.221178     |
| cls        | 0.015973     | 0.010987     | 0.028680     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.920000     | 0.960000     |
| recall75   | 0.880000     | 0.840000     | 0.800000     |
| precision  | 0.709677     | 0.410714     | 0.192000     |
| conf_obj   | 0.883403     | 0.883702     | 0.918442     |
| conf_noobj | 0.000720     | 0.000732     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 08:41:55.542 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.548979
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.186181     | 0.157497     | 0.205301     |
| x          | 0.008907     | 0.004313     | 0.019776     |
| y          | 0.003906     | 0.009366     | 0.023433     |
| w          | 0.013591     | 0.006930     | 0.005329     |
| h          | 0.015096     | 0.012330     | 0.010571     |
| conf       | 0.139256     | 0.121195     | 0.143021     |
| cls        | 0.005425     | 0.003364     | 0.003171     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.952381     | 1.000000     |
| precision  | 0.807692     | 0.428571     | 0.170732     |
| conf_obj   | 0.958934     | 0.980249     | 0.973361     |
| conf_noobj | 0.000575     | 0.000530     | 0.000512     |
+------------+--------------+--------------+--------------+
2020-12-20 08:42:58.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.573996
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.673113     | 0.443244     | 0.457639     |
| x          | 0.015775     | 0.017478     | 0.033806     |
| y          | 0.003553     | 0.011768     | 0.015653     |
| w          | 0.021038     | 0.014471     | 0.020186     |
| h          | 0.008486     | 0.012816     | 0.016744     |
| conf       | 0.342556     | 0.172781     | 0.145246     |
| cls        | 0.281705     | 0.213930     | 0.226004     |
| cls_acc    | 94.44%       | 94.74%       | 94.74%       |
| recall50   | 0.944444     | 0.947368     | 0.947368     |
| recall75   | 0.833333     | 0.894737     | 0.842105     |
| precision  | 0.653846     | 0.450000     | 0.156522     |
| conf_obj   | 0.916418     | 0.964799     | 0.983394     |
| conf_noobj | 0.000924     | 0.000574     | 0.000551     |
+------------+--------------+--------------+--------------+
2020-12-20 08:44:03.970 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.547415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.192917     | 0.187511     | 0.166987     |
| x          | 0.004286     | 0.009162     | 0.020977     |
| y          | 0.010309     | 0.012882     | 0.023512     |
| w          | 0.011275     | 0.009791     | 0.008813     |
| h          | 0.009725     | 0.008318     | 0.007470     |
| conf       | 0.155868     | 0.146446     | 0.105272     |
| cls        | 0.001455     | 0.000912     | 0.000944     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.964286     | 1.000000     | 0.965517     |
| precision  | 0.777778     | 0.367089     | 0.223077     |
| conf_obj   | 0.964687     | 0.974460     | 0.983526     |
| conf_noobj | 0.000755     | 0.000642     | 0.000406     |
+------------+--------------+--------------+--------------+
2020-12-20 08:45:09.456 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.497488
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.166065     | 0.155585     | 0.175839     |
| x          | 0.002885     | 0.004800     | 0.020043     |
| y          | 0.004159     | 0.008509     | 0.023413     |
| w          | 0.022042     | 0.011871     | 0.010479     |
| h          | 0.021144     | 0.017562     | 0.011169     |
| conf       | 0.115411     | 0.112180     | 0.110094     |
| cls        | 0.000425     | 0.000663     | 0.000641     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 0.952381     |
| precision  | 0.777778     | 0.396226     | 0.142857     |
| conf_obj   | 0.982139     | 0.984085     | 0.991474     |
| conf_noobj | 0.000620     | 0.000519     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 08:46:13.941 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.784589
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.252076     | 0.226347     | 0.306165     |
| x          | 0.005555     | 0.017811     | 0.027362     |
| y          | 0.008772     | 0.022095     | 0.043438     |
| w          | 0.026755     | 0.028434     | 0.018358     |
| h          | 0.038240     | 0.034586     | 0.032392     |
| conf       | 0.170672     | 0.119541     | 0.178702     |
| cls        | 0.002083     | 0.003881     | 0.005913     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 0.909091     |
| recall75   | 0.809524     | 0.714286     | 0.772727     |
| precision  | 0.625000     | 0.375000     | 0.148148     |
| conf_obj   | 0.941548     | 0.971213     | 0.930770     |
| conf_noobj | 0.000594     | 0.000486     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 08:47:21.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.016070
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.320672     | 0.296127     | 0.399271     |
| x          | 0.004507     | 0.008681     | 0.023283     |
| y          | 0.005916     | 0.010635     | 0.032299     |
| w          | 0.021173     | 0.021983     | 0.025781     |
| h          | 0.024801     | 0.023392     | 0.024414     |
| conf       | 0.223273     | 0.188806     | 0.237320     |
| cls        | 0.041001     | 0.042629     | 0.056174     |
| cls_acc    | 96.67%       | 96.67%       | 96.77%       |
| recall50   | 0.933333     | 0.933333     | 0.903226     |
| recall75   | 0.833333     | 0.833333     | 0.806452     |
| precision  | 0.717949     | 0.444444     | 0.224000     |
| conf_obj   | 0.933835     | 0.948195     | 0.930908     |
| conf_noobj | 0.000925     | 0.000587     | 0.000425     |
+------------+--------------+--------------+--------------+
2020-12-20 08:48:26.809 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.443190
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.500335     | 0.447282     | 0.495573     |
| x          | 0.005163     | 0.012019     | 0.041260     |
| y          | 0.022831     | 0.033276     | 0.098497     |
| w          | 0.019019     | 0.004371     | 0.012395     |
| h          | 0.027202     | 0.007579     | 0.019162     |
| conf       | 0.421127     | 0.377543     | 0.286018     |
| cls        | 0.004992     | 0.012494     | 0.038241     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.888889     | 0.888889     |
| recall75   | 0.888889     | 0.777778     | 0.777778     |
| precision  | 0.629630     | 0.307692     | 0.115108     |
| conf_obj   | 0.876576     | 0.856674     | 0.920673     |
| conf_noobj | 0.000839     | 0.000624     | 0.000524     |
+------------+--------------+--------------+--------------+
2020-12-20 08:49:36.514 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.578393
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.198920     | 0.183444     | 0.196029     |
| x          | 0.003716     | 0.010321     | 0.015053     |
| y          | 0.005425     | 0.012337     | 0.022714     |
| w          | 0.020530     | 0.026975     | 0.008720     |
| h          | 0.011606     | 0.014441     | 0.006022     |
| conf       | 0.137768     | 0.113028     | 0.139417     |
| cls        | 0.019874     | 0.006342     | 0.004102     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 0.956522     |
| precision  | 0.880000     | 0.448980     | 0.184000     |
| conf_obj   | 0.943268     | 0.974896     | 0.966164     |
| conf_noobj | 0.000480     | 0.000464     | 0.000466     |
+------------+--------------+--------------+--------------+
2020-12-20 08:50:37.235 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.774607
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.731593     | 0.579888     | 0.463125     |
| x          | 0.026231     | 0.021646     | 0.036905     |
| y          | 0.011958     | 0.016411     | 0.048704     |
| w          | 0.058631     | 0.047897     | 0.039684     |
| h          | 0.052700     | 0.046977     | 0.042306     |
| conf       | 0.504966     | 0.384315     | 0.236514     |
| cls        | 0.077107     | 0.062642     | 0.059013     |
| cls_acc    | 93.55%       | 97.37%       | 100.00%      |
| recall50   | 0.774194     | 0.868421     | 0.809524     |
| recall75   | 0.677419     | 0.605263     | 0.595238     |
| precision  | 0.600000     | 0.523810     | 0.203593     |
| conf_obj   | 0.893927     | 0.877246     | 0.915216     |
| conf_noobj | 0.000832     | 0.000544     | 0.000560     |
+------------+--------------+--------------+--------------+
2020-12-20 08:51:42.433 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.159795
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.347118     | 0.452117     | 0.360560     |
| x          | 0.010285     | 0.006199     | 0.017900     |
| y          | 0.008713     | 0.012518     | 0.016941     |
| w          | 0.020014     | 0.023779     | 0.012486     |
| h          | 0.030545     | 0.025959     | 0.013756     |
| conf       | 0.207589     | 0.322004     | 0.241341     |
| cls        | 0.069973     | 0.061658     | 0.058136     |
| cls_acc    | 95.00%       | 100.00%      | 95.65%       |
| recall50   | 0.900000     | 0.913043     | 0.869565     |
| recall75   | 0.800000     | 0.869565     | 0.826087     |
| precision  | 0.692308     | 0.512195     | 0.224719     |
| conf_obj   | 0.919482     | 0.866904     | 0.896216     |
| conf_noobj | 0.000618     | 0.000532     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 08:51:45.430 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.875
2020-12-20 08:51:45.435 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 08:52:45.442 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03185   | 0.36585 | 0.05859 | 0.16079 |
| 1     | Wear_helmet | 0.20171   | 0.98047 | 0.33459 | 0.91308 |
| 2     | Total       | 0.11678   | 0.67316 | 0.19659 | 0.53694 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:52:45.442 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.536937345920948
2020-12-20 08:52:45.443 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 08:52:45.443 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.007978

2020-12-20 08:52:45.830 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 2/2, epo 5/5
2020-12-20 08:52:45.831 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 2/2, epo 5/5; time cost: 0:15:10.624521

2020-12-20 08:52:45.831 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.907
2020-12-20 08:52:46.085 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 08:57:09.779 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04967   | 0.50706 | 0.09048 | 0.30665 |
| 1     | Wear_helmet | 0.19392   | 0.93491 | 0.32121 | 0.81413 |
| 2     | Total       | 0.12179   | 0.72099 | 0.20584 | 0.56039 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:57:09.779 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5603856577902759
2020-12-20 08:57:09.780 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 08:57:09.780 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:23.694535

2020-12-20 08:57:55.215 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 13!
2020-12-20 08:57:55.445 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 2/2, epo 1/5
2020-12-20 08:57:57.103 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.885287
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.385783     | 0.304040     | 0.195463     |
| x          | 0.003111     | 0.008197     | 0.014224     |
| y          | 0.010150     | 0.004725     | 0.017924     |
| w          | 0.027572     | 0.021882     | 0.011137     |
| h          | 0.012739     | 0.014224     | 0.009780     |
| conf       | 0.307055     | 0.227657     | 0.114337     |
| cls        | 0.025157     | 0.027354     | 0.028061     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.956522     | 1.000000     |
| recall75   | 0.818182     | 0.869565     | 0.956522     |
| precision  | 0.740741     | 0.478261     | 0.225490     |
| conf_obj   | 0.902977     | 0.933261     | 0.978771     |
| conf_noobj | 0.000706     | 0.000473     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 08:58:57.635 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.672848
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.293108     | 0.166546     | 0.213195     |
| x          | 0.004085     | 0.007003     | 0.019804     |
| y          | 0.008745     | 0.009795     | 0.023207     |
| w          | 0.054408     | 0.021913     | 0.022452     |
| h          | 0.060580     | 0.014815     | 0.012125     |
| conf       | 0.156256     | 0.105586     | 0.126787     |
| cls        | 0.009034     | 0.007433     | 0.008819     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.958333     | 0.875000     |
| precision  | 0.741935     | 0.444444     | 0.195122     |
| conf_obj   | 0.959083     | 0.974910     | 0.969368     |
| conf_noobj | 0.000481     | 0.000387     | 0.000391     |
+------------+--------------+--------------+--------------+
2020-12-20 09:00:00.743 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.758317
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.267017     | 0.243369     | 0.247931     |
| x          | 0.006389     | 0.012275     | 0.028554     |
| y          | 0.004092     | 0.008333     | 0.032785     |
| w          | 0.018573     | 0.020247     | 0.006491     |
| h          | 0.018168     | 0.023846     | 0.011137     |
| conf       | 0.202410     | 0.164165     | 0.157413     |
| cls        | 0.017385     | 0.014502     | 0.011551     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 0.846154     | 0.925926     |
| precision  | 0.764706     | 0.433333     | 0.167702     |
| conf_obj   | 0.944361     | 0.960951     | 0.957938     |
| conf_noobj | 0.000748     | 0.000589     | 0.000551     |
+------------+--------------+--------------+--------------+
2020-12-20 09:01:01.580 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.917148
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.344571     | 0.335290     | 0.237287     |
| x          | 0.013907     | 0.008142     | 0.015286     |
| y          | 0.005806     | 0.007537     | 0.028694     |
| w          | 0.017512     | 0.028798     | 0.024190     |
| h          | 0.017636     | 0.014827     | 0.016979     |
| conf       | 0.285359     | 0.273941     | 0.148804     |
| cls        | 0.004350     | 0.002044     | 0.003333     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.960000     | 0.962963     |
| recall75   | 0.869565     | 0.800000     | 0.740741     |
| precision  | 0.567568     | 0.375000     | 0.181818     |
| conf_obj   | 0.928346     | 0.945291     | 0.968155     |
| conf_noobj | 0.000923     | 0.000614     | 0.000511     |
+------------+--------------+--------------+--------------+
2020-12-20 09:02:06.643 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.976637
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.310420     | 0.298763     | 0.367455     |
| x          | 0.009523     | 0.011136     | 0.035137     |
| y          | 0.012075     | 0.018575     | 0.031708     |
| w          | 0.029855     | 0.031841     | 0.028494     |
| h          | 0.019396     | 0.019427     | 0.022343     |
| conf       | 0.230230     | 0.207021     | 0.244007     |
| cls        | 0.009340     | 0.010764     | 0.005765     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 1.000000     | 0.960000     |
| recall75   | 0.791667     | 0.840000     | 0.880000     |
| precision  | 0.636364     | 0.416667     | 0.149068     |
| conf_obj   | 0.940017     | 0.937689     | 0.917516     |
| conf_noobj | 0.000820     | 0.000662     | 0.000616     |
+------------+--------------+--------------+--------------+
2020-12-20 09:03:10.906 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.637560
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.247835     | 0.214345     | 0.175380     |
| x          | 0.003520     | 0.009523     | 0.028730     |
| y          | 0.003320     | 0.006812     | 0.013457     |
| w          | 0.033263     | 0.012479     | 0.006751     |
| h          | 0.018641     | 0.011928     | 0.009282     |
| conf       | 0.187625     | 0.171224     | 0.115069     |
| cls        | 0.001466     | 0.002378     | 0.002090     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.894737     | 1.000000     |
| recall75   | 0.842105     | 0.842105     | 0.947368     |
| precision  | 0.818182     | 0.485714     | 0.193878     |
| conf_obj   | 0.911866     | 0.921274     | 0.963175     |
| conf_noobj | 0.000306     | 0.000287     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 09:04:13.361 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.953621
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.392833     | 0.262474     | 0.298314     |
| x          | 0.009661     | 0.013776     | 0.027461     |
| y          | 0.007789     | 0.013862     | 0.019786     |
| w          | 0.031910     | 0.020556     | 0.016463     |
| h          | 0.038567     | 0.025113     | 0.016861     |
| conf       | 0.303962     | 0.188698     | 0.216066     |
| cls        | 0.000944     | 0.000469     | 0.001677     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 0.914286     |
| recall75   | 0.812500     | 0.852941     | 0.828571     |
| precision  | 0.681818     | 0.459459     | 0.222222     |
| conf_obj   | 0.915769     | 0.953389     | 0.938684     |
| conf_noobj | 0.000855     | 0.000593     | 0.000487     |
+------------+--------------+--------------+--------------+
2020-12-20 09:05:18.250 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.764651
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.277412     | 0.260121     | 0.227117     |
| x          | 0.012220     | 0.015150     | 0.006846     |
| y          | 0.006348     | 0.005865     | 0.011618     |
| w          | 0.015770     | 0.012201     | 0.019938     |
| h          | 0.014084     | 0.012000     | 0.017789     |
| conf       | 0.227345     | 0.213610     | 0.169611     |
| cls        | 0.001645     | 0.001295     | 0.001316     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.956522     | 0.956522     |
| recall75   | 0.863636     | 0.913043     | 0.869565     |
| precision  | 0.645161     | 0.360656     | 0.194690     |
| conf_obj   | 0.932533     | 0.926663     | 0.932078     |
| conf_noobj | 0.000606     | 0.000483     | 0.000346     |
+------------+--------------+--------------+--------------+
2020-12-20 09:06:22.261 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.014581
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.283471     | 0.317359     | 0.413751     |
| x          | 0.004847     | 0.006078     | 0.028250     |
| y          | 0.007650     | 0.035596     | 0.042617     |
| w          | 0.012581     | 0.007029     | 0.008694     |
| h          | 0.030636     | 0.018950     | 0.010824     |
| conf       | 0.146650     | 0.126530     | 0.237562     |
| cls        | 0.081108     | 0.123176     | 0.085805     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.950000     | 0.950000     | 0.900000     |
| recall75   | 0.900000     | 0.850000     | 0.850000     |
| precision  | 0.703704     | 0.404255     | 0.187500     |
| conf_obj   | 0.963224     | 0.969809     | 0.915404     |
| conf_noobj | 0.000590     | 0.000461     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 09:07:30.033 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.029688
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.241830     | 0.459433     | 0.328425     |
| x          | 0.006737     | 0.016285     | 0.017686     |
| y          | 0.006582     | 0.011875     | 0.029396     |
| w          | 0.019002     | 0.023046     | 0.025979     |
| h          | 0.035277     | 0.012926     | 0.018825     |
| conf       | 0.109714     | 0.343199     | 0.184440     |
| cls        | 0.064518     | 0.052103     | 0.052099     |
| cls_acc    | 94.74%       | 94.74%       | 95.00%       |
| recall50   | 0.947368     | 0.842105     | 0.900000     |
| recall75   | 0.789474     | 0.736842     | 0.850000     |
| precision  | 0.720000     | 0.355556     | 0.197802     |
| conf_obj   | 0.978875     | 0.885336     | 0.918160     |
| conf_noobj | 0.000473     | 0.000533     | 0.000350     |
+------------+--------------+--------------+--------------+
2020-12-20 09:08:37.393 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.645158
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.236451     | 0.205812     | 0.202895     |
| x          | 0.008397     | 0.008162     | 0.020450     |
| y          | 0.004128     | 0.010810     | 0.013255     |
| w          | 0.026763     | 0.017435     | 0.014609     |
| h          | 0.017465     | 0.011411     | 0.013468     |
| conf       | 0.176567     | 0.152713     | 0.135077     |
| cls        | 0.003130     | 0.005281     | 0.006036     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 0.956522     |
| recall75   | 0.909091     | 0.869565     | 0.869565     |
| precision  | 0.807692     | 0.442308     | 0.183333     |
| conf_obj   | 0.939899     | 0.967986     | 0.977463     |
| conf_noobj | 0.000647     | 0.000605     | 0.000501     |
+------------+--------------+--------------+--------------+
2020-12-20 09:09:43.604 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.740264
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.213238     | 0.277968     | 0.249057     |
| x          | 0.002192     | 0.007802     | 0.022957     |
| y          | 0.004476     | 0.016126     | 0.036350     |
| w          | 0.012826     | 0.011293     | 0.009941     |
| h          | 0.016433     | 0.016825     | 0.017547     |
| conf       | 0.163302     | 0.215863     | 0.153942     |
| cls        | 0.014010     | 0.010059     | 0.008319     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.954545     | 0.913043     | 0.913043     |
| precision  | 0.733333     | 0.392857     | 0.200000     |
| conf_obj   | 0.963609     | 0.930904     | 0.940655     |
| conf_noobj | 0.000530     | 0.000478     | 0.000358     |
+------------+--------------+--------------+--------------+
2020-12-20 09:10:54.760 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.194313
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.439912     | 0.352056     | 0.402345     |
| x          | 0.004377     | 0.008805     | 0.022236     |
| y          | 0.005008     | 0.007546     | 0.022164     |
| w          | 0.031044     | 0.021542     | 0.011763     |
| h          | 0.053059     | 0.039548     | 0.022614     |
| conf       | 0.219154     | 0.170704     | 0.175749     |
| cls        | 0.127270     | 0.103910     | 0.147820     |
| cls_acc    | 96.55%       | 96.55%       | 96.55%       |
| recall50   | 0.931035     | 0.931035     | 0.931035     |
| recall75   | 0.862069     | 0.724138     | 0.827586     |
| precision  | 0.794118     | 0.428571     | 0.176471     |
| conf_obj   | 0.952209     | 0.964871     | 0.954513     |
| conf_noobj | 0.000824     | 0.000624     | 0.000547     |
+------------+--------------+--------------+--------------+
2020-12-20 09:12:01.969 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.847890
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.345663     | 0.241957     | 0.260270     |
| x          | 0.005963     | 0.011953     | 0.038474     |
| y          | 0.006282     | 0.013753     | 0.042717     |
| w          | 0.014739     | 0.018273     | 0.006715     |
| h          | 0.025416     | 0.015434     | 0.016922     |
| conf       | 0.287068     | 0.176733     | 0.150328     |
| cls        | 0.006195     | 0.005811     | 0.005114     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.916667     | 0.958333     |
| precision  | 0.724138     | 0.375000     | 0.206897     |
| conf_obj   | 0.884555     | 0.929691     | 0.943205     |
| conf_noobj | 0.000581     | 0.000487     | 0.000381     |
+------------+--------------+--------------+--------------+
2020-12-20 09:12:05.748 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.917
2020-12-20 09:12:05.750 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 09:13:03.444 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14271   | 0.49826 | 0.22188 | 0.32720 |
| 1     | Wear_helmet | 0.76826   | 0.95399 | 0.85111 | 0.93958 |
| 2     | Total       | 0.45549   | 0.72613 | 0.53650 | 0.63339 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:13:03.445 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6333885309070743
2020-12-20 09:13:03.445 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 09:13:03.445 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.694881

2020-12-20 09:13:03.956 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 2/2, epo 1/5
2020-12-20 09:13:03.956 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 2/2, epo 1/5; time cost: 0:15:08.510792

2020-12-20 09:13:03.956 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 2/2, epo 2/5
2020-12-20 09:13:05.731 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.635892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.219421     | 0.189543     | 0.226928     |
| x          | 0.004596     | 0.005378     | 0.021922     |
| y          | 0.005779     | 0.017394     | 0.065290     |
| w          | 0.013090     | 0.013510     | 0.006902     |
| h          | 0.013881     | 0.007298     | 0.016837     |
| conf       | 0.180862     | 0.145578     | 0.114796     |
| cls        | 0.001213     | 0.000385     | 0.001182     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 1.000000     | 0.833333     |
| precision  | 0.766667     | 0.387097     | 0.187500     |
| conf_obj   | 0.934793     | 0.961066     | 0.977140     |
| conf_noobj | 0.000466     | 0.000513     | 0.000397     |
+------------+--------------+--------------+--------------+
2020-12-20 09:14:06.083 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.748451
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.285328     | 0.223735     | 0.239388     |
| x          | 0.004496     | 0.011677     | 0.038233     |
| y          | 0.004184     | 0.007224     | 0.021047     |
| w          | 0.009941     | 0.008781     | 0.007655     |
| h          | 0.008879     | 0.009742     | 0.007009     |
| conf       | 0.253851     | 0.183814     | 0.150792     |
| cls        | 0.003977     | 0.002498     | 0.014651     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 1.000000     | 0.923077     |
| precision  | 0.666667     | 0.412698     | 0.188406     |
| conf_obj   | 0.952070     | 0.981561     | 0.975299     |
| conf_noobj | 0.000975     | 0.000740     | 0.000559     |
+------------+--------------+--------------+--------------+
2020-12-20 09:15:11.617 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.737687
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.250530     | 0.248879     | 0.238277     |
| x          | 0.006792     | 0.013106     | 0.018790     |
| y          | 0.010733     | 0.008970     | 0.016849     |
| w          | 0.024695     | 0.017222     | 0.017144     |
| h          | 0.028449     | 0.026921     | 0.021028     |
| conf       | 0.175939     | 0.172272     | 0.144132     |
| cls        | 0.003922     | 0.010387     | 0.020334     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.961538     | 1.000000     |
| recall75   | 0.833333     | 0.846154     | 0.807692     |
| precision  | 0.741935     | 0.403226     | 0.184397     |
| conf_obj   | 0.950411     | 0.967407     | 0.975378     |
| conf_noobj | 0.000590     | 0.000687     | 0.000518     |
+------------+--------------+--------------+--------------+
2020-12-20 09:16:20.306 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.633368
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.253139     | 0.186429     | 0.193800     |
| x          | 0.002094     | 0.009468     | 0.023695     |
| y          | 0.005783     | 0.014051     | 0.026049     |
| w          | 0.011922     | 0.004703     | 0.004781     |
| h          | 0.010326     | 0.006018     | 0.005452     |
| conf       | 0.222773     | 0.151763     | 0.133079     |
| cls        | 0.000241     | 0.000425     | 0.000745     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.960000     |
| precision  | 0.694444     | 0.342466     | 0.172414     |
| conf_obj   | 0.929319     | 0.964057     | 0.963857     |
| conf_noobj | 0.000681     | 0.000568     | 0.000395     |
+------------+--------------+--------------+--------------+
2020-12-20 09:17:22.272 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.503319
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.183179     | 0.164847     | 0.155293     |
| x          | 0.016126     | 0.012447     | 0.026751     |
| y          | 0.007162     | 0.009784     | 0.018389     |
| w          | 0.015384     | 0.014963     | 0.012063     |
| h          | 0.016235     | 0.016749     | 0.012024     |
| conf       | 0.111603     | 0.092330     | 0.080661     |
| cls        | 0.016668     | 0.018574     | 0.005405     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.888889     | 0.833333     |
| precision  | 0.782609     | 0.473684     | 0.206897     |
| conf_obj   | 0.960603     | 0.967287     | 0.985847     |
| conf_noobj | 0.000458     | 0.000350     | 0.000332     |
+------------+--------------+--------------+--------------+
2020-12-20 09:18:26.183 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.585657
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.209165     | 0.204466     | 0.172025     |
| x          | 0.024877     | 0.003614     | 0.018825     |
| y          | 0.004606     | 0.007167     | 0.018772     |
| w          | 0.013093     | 0.019124     | 0.008897     |
| h          | 0.009678     | 0.012969     | 0.008262     |
| conf       | 0.152900     | 0.158592     | 0.114863     |
| cls        | 0.004011     | 0.003000     | 0.002408     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.960000     | 0.960000     |
| precision  | 0.800000     | 0.347222     | 0.215517     |
| conf_obj   | 0.949520     | 0.975265     | 0.982088     |
| conf_noobj | 0.000510     | 0.000637     | 0.000395     |
+------------+--------------+--------------+--------------+
2020-12-20 09:19:31.056 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.648460
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.631579     | 0.556448     | 0.460433     |
| x          | 0.008735     | 0.011829     | 0.030239     |
| y          | 0.016255     | 0.023203     | 0.052981     |
| w          | 0.018904     | 0.023593     | 0.012571     |
| h          | 0.021220     | 0.020162     | 0.014852     |
| conf       | 0.493877     | 0.406647     | 0.275095     |
| cls        | 0.072589     | 0.071014     | 0.074695     |
| cls_acc    | 96.97%       | 97.14%       | 94.29%       |
| recall50   | 0.848485     | 0.857143     | 0.857143     |
| recall75   | 0.727273     | 0.742857     | 0.742857     |
| precision  | 0.756757     | 0.370370     | 0.184049     |
| conf_obj   | 0.854560     | 0.875590     | 0.909451     |
| conf_noobj | 0.000555     | 0.000697     | 0.000542     |
+------------+--------------+--------------+--------------+
2020-12-20 09:20:33.558 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.758639
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.286909     | 0.239204     | 0.232526     |
| x          | 0.013822     | 0.022573     | 0.033261     |
| y          | 0.013404     | 0.015781     | 0.019547     |
| w          | 0.023710     | 0.015944     | 0.014051     |
| h          | 0.019240     | 0.020871     | 0.019472     |
| conf       | 0.212469     | 0.162339     | 0.143864     |
| cls        | 0.004264     | 0.001696     | 0.002333     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.782609     | 0.875000     | 0.916667     |
| precision  | 0.600000     | 0.369231     | 0.187500     |
| conf_obj   | 0.942506     | 0.978883     | 0.968405     |
| conf_noobj | 0.000714     | 0.000662     | 0.000443     |
+------------+--------------+--------------+--------------+
2020-12-20 09:21:39.535 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.934393
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.361862     | 0.273617     | 0.298913     |
| x          | 0.008488     | 0.011651     | 0.021473     |
| y          | 0.004794     | 0.013603     | 0.046830     |
| w          | 0.017304     | 0.011566     | 0.008731     |
| h          | 0.013117     | 0.016459     | 0.015580     |
| conf       | 0.269927     | 0.214183     | 0.174145     |
| cls        | 0.048232     | 0.006155     | 0.032155     |
| cls_acc    | 96.55%       | 100.00%      | 96.88%       |
| recall50   | 0.931035     | 1.000000     | 0.968750     |
| recall75   | 0.896552     | 0.903226     | 0.906250     |
| precision  | 0.642857     | 0.340659     | 0.144860     |
| conf_obj   | 0.935204     | 0.953397     | 0.965672     |
| conf_noobj | 0.000827     | 0.000825     | 0.000661     |
+------------+--------------+--------------+--------------+
2020-12-20 09:22:45.773 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.385525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.442377     | 0.424874     | 0.518274     |
| x          | 0.006319     | 0.010542     | 0.026054     |
| y          | 0.011839     | 0.039546     | 0.047889     |
| w          | 0.033422     | 0.023988     | 0.031502     |
| h          | 0.060497     | 0.038355     | 0.023434     |
| conf       | 0.207239     | 0.188538     | 0.261898     |
| cls        | 0.123061     | 0.123906     | 0.127497     |
| cls_acc    | 94.12%       | 94.74%       | 92.31%       |
| recall50   | 0.911765     | 0.894737     | 0.846154     |
| recall75   | 0.735294     | 0.763158     | 0.717949     |
| precision  | 0.794872     | 0.485714     | 0.194118     |
| conf_obj   | 0.926470     | 0.951894     | 0.913674     |
| conf_noobj | 0.000685     | 0.000697     | 0.000711     |
+------------+--------------+--------------+--------------+
2020-12-20 09:23:52.025 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.305650
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.420122     | 0.541848     | 0.343680     |
| x          | 0.019954     | 0.023650     | 0.026771     |
| y          | 0.007227     | 0.017182     | 0.042713     |
| w          | 0.073353     | 0.030172     | 0.022935     |
| h          | 0.071231     | 0.028452     | 0.039495     |
| conf       | 0.214656     | 0.355137     | 0.154816     |
| cls        | 0.033702     | 0.087256     | 0.056951     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 0.947368     | 0.809524     | 0.952381     |
| recall75   | 0.736842     | 0.619048     | 0.714286     |
| precision  | 0.620690     | 0.283333     | 0.138889     |
| conf_obj   | 0.945331     | 0.875440     | 0.955594     |
| conf_noobj | 0.000612     | 0.000647     | 0.000481     |
+------------+--------------+--------------+--------------+
2020-12-20 09:24:53.113 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.905147
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.259200     | 0.325702     | 0.320245     |
| x          | 0.004454     | 0.011606     | 0.026895     |
| y          | 0.009188     | 0.012495     | 0.024211     |
| w          | 0.030204     | 0.033647     | 0.024031     |
| h          | 0.022453     | 0.036233     | 0.020846     |
| conf       | 0.187572     | 0.217374     | 0.215467     |
| cls        | 0.005329     | 0.014346     | 0.008794     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 0.952381     |
| recall75   | 0.809524     | 0.809524     | 0.904762     |
| precision  | 0.740741     | 0.413043     | 0.172414     |
| conf_obj   | 0.941416     | 0.923337     | 0.922975     |
| conf_noobj | 0.000604     | 0.000572     | 0.000571     |
+------------+--------------+--------------+--------------+
2020-12-20 09:26:00.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.327081
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.430770     | 0.442578     | 0.453733     |
| x          | 0.004555     | 0.008378     | 0.010449     |
| y          | 0.004572     | 0.016114     | 0.023091     |
| w          | 0.016213     | 0.015619     | 0.012102     |
| h          | 0.008880     | 0.012970     | 0.006506     |
| conf       | 0.143888     | 0.107629     | 0.172573     |
| cls        | 0.252662     | 0.281869     | 0.229011     |
| cls_acc    | 89.47%       | 94.74%       | 89.47%       |
| recall50   | 0.894737     | 0.947368     | 0.842105     |
| recall75   | 0.789474     | 0.894737     | 0.789474     |
| precision  | 0.586207     | 0.333333     | 0.115942     |
| conf_obj   | 0.991643     | 0.994026     | 0.948361     |
| conf_noobj | 0.000811     | 0.000518     | 0.000447     |
+------------+--------------+--------------+--------------+
2020-12-20 09:27:08.210 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.620826
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.208521     | 0.214832     | 0.197473     |
| x          | 0.003061     | 0.006645     | 0.015004     |
| y          | 0.003188     | 0.007127     | 0.029214     |
| w          | 0.011971     | 0.013132     | 0.008653     |
| h          | 0.025466     | 0.016148     | 0.013051     |
| conf       | 0.164286     | 0.171517     | 0.131125     |
| cls        | 0.000549     | 0.000264     | 0.000425     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.909091     | 1.000000     |
| precision  | 0.758621     | 0.379310     | 0.196429     |
| conf_obj   | 0.968681     | 0.973661     | 0.977932     |
| conf_noobj | 0.000653     | 0.000656     | 0.000499     |
+------------+--------------+--------------+--------------+
2020-12-20 09:27:11.272 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.868
2020-12-20 09:27:11.275 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 09:28:07.251 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13056   | 0.45993 | 0.20339 | 0.28046 |
| 1     | Wear_helmet | 0.66757   | 0.96484 | 0.78914 | 0.94691 |
| 2     | Total       | 0.39907   | 0.71239 | 0.49626 | 0.61369 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:28:07.251 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6136851371405594
2020-12-20 09:28:07.252 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 09:28:07.252 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.976663

2020-12-20 09:28:07.822 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 2/2, epo 2/5
2020-12-20 09:28:07.822 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 2/2, epo 2/5; time cost: 0:15:03.865279

2020-12-20 09:28:07.823 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 2/2, epo 3/5
2020-12-20 09:28:08.963 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.869698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.267090     | 0.309512     | 0.293095     |
| x          | 0.002853     | 0.006276     | 0.015661     |
| y          | 0.002520     | 0.005867     | 0.012808     |
| w          | 0.015093     | 0.023817     | 0.009005     |
| h          | 0.014570     | 0.011625     | 0.010008     |
| conf       | 0.115537     | 0.137236     | 0.120735     |
| cls        | 0.116518     | 0.124690     | 0.124878     |
| cls_acc    | 96.67%       | 96.77%       | 96.77%       |
| recall50   | 0.966667     | 0.935484     | 0.967742     |
| recall75   | 0.966667     | 0.870968     | 0.903226     |
| precision  | 0.852941     | 0.591837     | 0.252101     |
| conf_obj   | 0.962139     | 0.953524     | 0.970124     |
| conf_noobj | 0.000322     | 0.000370     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 09:29:17.656 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.620978
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.229146     | 0.200724     | 0.191108     |
| x          | 0.006493     | 0.007920     | 0.006397     |
| y          | 0.003397     | 0.008369     | 0.021863     |
| w          | 0.015154     | 0.013761     | 0.020865     |
| h          | 0.037232     | 0.023451     | 0.019667     |
| conf       | 0.162542     | 0.145755     | 0.121384     |
| cls        | 0.004327     | 0.001469     | 0.000931     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 0.884615     | 0.925926     |
| precision  | 0.833333     | 0.456140     | 0.187500     |
| conf_obj   | 0.946702     | 0.954986     | 0.976068     |
| conf_noobj | 0.000430     | 0.000441     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 09:30:21.307 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.771221
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.360245     | 0.205958     | 0.205017     |
| x          | 0.006030     | 0.016087     | 0.027922     |
| y          | 0.003566     | 0.003981     | 0.027388     |
| w          | 0.015123     | 0.013659     | 0.015458     |
| h          | 0.017362     | 0.015767     | 0.018533     |
| conf       | 0.316775     | 0.155682     | 0.114915     |
| cls        | 0.001388     | 0.000783     | 0.000801     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 1.000000     | 0.916667     |
| precision  | 0.605263     | 0.489796     | 0.220183     |
| conf_obj   | 0.921093     | 0.972083     | 0.982239     |
| conf_noobj | 0.001126     | 0.000590     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 09:31:22.872 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.638557
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.262382     | 0.186723     | 0.189452     |
| x          | 0.027876     | 0.012598     | 0.035752     |
| y          | 0.024603     | 0.003434     | 0.018914     |
| w          | 0.032202     | 0.021435     | 0.018365     |
| h          | 0.014820     | 0.007672     | 0.010605     |
| conf       | 0.158456     | 0.139861     | 0.103955     |
| cls        | 0.004426     | 0.001722     | 0.001860     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.812500     | 1.000000     | 0.875000     |
| precision  | 0.833333     | 0.363636     | 0.181818     |
| conf_obj   | 0.945451     | 0.969519     | 0.989045     |
| conf_noobj | 0.000503     | 0.000536     | 0.000407     |
+------------+--------------+--------------+--------------+
2020-12-20 09:32:28.031 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.972315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.233381     | 0.415308     | 0.323626     |
| x          | 0.007477     | 0.012828     | 0.026802     |
| y          | 0.003279     | 0.009478     | 0.028217     |
| w          | 0.011595     | 0.011876     | 0.005678     |
| h          | 0.014876     | 0.011995     | 0.007908     |
| conf       | 0.193917     | 0.367863     | 0.253983     |
| cls        | 0.002238     | 0.001268     | 0.001038     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 0.960000     |
| recall75   | 0.875000     | 0.880000     | 0.880000     |
| precision  | 0.821429     | 0.369231     | 0.184615     |
| conf_obj   | 0.938182     | 0.933913     | 0.945389     |
| conf_noobj | 0.000474     | 0.000534     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 09:33:31.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.718987
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.306192     | 0.226881     | 0.185914     |
| x          | 0.002691     | 0.006716     | 0.020082     |
| y          | 0.016821     | 0.028764     | 0.014755     |
| w          | 0.023249     | 0.021056     | 0.023081     |
| h          | 0.017698     | 0.012673     | 0.014744     |
| conf       | 0.243765     | 0.157020     | 0.112052     |
| cls        | 0.001968     | 0.000652     | 0.001201     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.960000     | 0.920000     |
| precision  | 0.793103     | 0.568182     | 0.263158     |
| conf_obj   | 0.899866     | 0.929166     | 0.966364     |
| conf_noobj | 0.000516     | 0.000340     | 0.000328     |
+------------+--------------+--------------+--------------+
2020-12-20 09:34:34.592 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.758673
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.326120     | 0.200531     | 0.232022     |
| x          | 0.004477     | 0.006010     | 0.016542     |
| y          | 0.003735     | 0.008703     | 0.022516     |
| w          | 0.016022     | 0.013682     | 0.012229     |
| h          | 0.019034     | 0.011855     | 0.009458     |
| conf       | 0.282056     | 0.160021     | 0.170745     |
| cls        | 0.000796     | 0.000259     | 0.000532     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.954545     | 0.954545     |
| recall75   | 0.909091     | 0.954545     | 0.909091     |
| precision  | 0.800000     | 0.512195     | 0.210000     |
| conf_obj   | 0.902617     | 0.949386     | 0.951154     |
| conf_noobj | 0.000546     | 0.000375     | 0.000336     |
+------------+--------------+--------------+--------------+
2020-12-20 09:35:43.178 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.828899
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.326796     | 0.274004     | 0.228098     |
| x          | 0.003022     | 0.006307     | 0.025734     |
| y          | 0.004146     | 0.014103     | 0.046465     |
| w          | 0.024530     | 0.015792     | 0.009767     |
| h          | 0.018090     | 0.016289     | 0.015365     |
| conf       | 0.276493     | 0.220709     | 0.130460     |
| cls        | 0.000515     | 0.000805     | 0.000307     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 1.000000     |
| recall75   | 0.869565     | 0.913043     | 0.913043     |
| precision  | 0.611111     | 0.273810     | 0.161972     |
| conf_obj   | 0.924324     | 0.957749     | 0.983005     |
| conf_noobj | 0.001002     | 0.000855     | 0.000511     |
+------------+--------------+--------------+--------------+
2020-12-20 09:36:47.222 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.545247
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.129352     | 0.201687     | 0.214208     |
| x          | 0.002144     | 0.020137     | 0.020868     |
| y          | 0.010918     | 0.015566     | 0.017630     |
| w          | 0.009876     | 0.013608     | 0.010300     |
| h          | 0.010995     | 0.009328     | 0.007214     |
| conf       | 0.093769     | 0.142534     | 0.155704     |
| cls        | 0.001649     | 0.000513     | 0.002491     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 0.900000     |
| recall75   | 1.000000     | 0.950000     | 0.900000     |
| precision  | 0.769231     | 0.387755     | 0.193548     |
| conf_obj   | 0.972956     | 0.943436     | 0.935235     |
| conf_noobj | 0.000413     | 0.000393     | 0.000314     |
+------------+--------------+--------------+--------------+
2020-12-20 09:37:53.057 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.661757
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.303557     | 0.200325     | 0.157874     |
| x          | 0.001717     | 0.006243     | 0.028156     |
| y          | 0.003843     | 0.014490     | 0.036573     |
| w          | 0.009247     | 0.006428     | 0.007829     |
| h          | 0.010900     | 0.006731     | 0.006078     |
| conf       | 0.277184     | 0.166101     | 0.078840     |
| cls        | 0.000667     | 0.000331     | 0.000399     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 1.000000     | 1.000000     |
| precision  | 0.666667     | 0.320755     | 0.212500     |
| conf_obj   | 0.903345     | 0.940583     | 0.981828     |
| conf_noobj | 0.000608     | 0.000419     | 0.000259     |
+------------+--------------+--------------+--------------+
2020-12-20 09:38:54.928 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.537199
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.158403     | 0.180586     | 0.198210     |
| x          | 0.003179     | 0.005945     | 0.017277     |
| y          | 0.010437     | 0.007202     | 0.025737     |
| w          | 0.020052     | 0.018140     | 0.012337     |
| h          | 0.018600     | 0.010974     | 0.013416     |
| conf       | 0.082196     | 0.123902     | 0.124972     |
| cls        | 0.023940     | 0.014422     | 0.004471     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 0.950000     |
| recall75   | 0.894737     | 0.950000     | 0.950000     |
| precision  | 0.826087     | 0.422222     | 0.195876     |
| conf_obj   | 0.989142     | 0.965956     | 0.960332     |
| conf_noobj | 0.000429     | 0.000421     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 09:39:59.483 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.418790
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.104616     | 0.151900     | 0.162275     |
| x          | 0.002039     | 0.014916     | 0.031887     |
| y          | 0.004187     | 0.014427     | 0.026930     |
| w          | 0.004257     | 0.013726     | 0.004902     |
| h          | 0.011714     | 0.014815     | 0.008332     |
| conf       | 0.078483     | 0.091740     | 0.088891     |
| cls        | 0.003937     | 0.002275     | 0.001332     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.928571     |
| recall75   | 1.000000     | 0.785714     | 0.857143     |
| precision  | 0.736842     | 0.451613     | 0.166667     |
| conf_obj   | 0.985604     | 0.973057     | 0.976786     |
| conf_noobj | 0.000426     | 0.000311     | 0.000291     |
+------------+--------------+--------------+--------------+
2020-12-20 09:41:05.025 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 2.296698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.829370     | 0.660275     | 0.807052     |
| x          | 0.005348     | 0.015441     | 0.038033     |
| y          | 0.009114     | 0.025088     | 0.042265     |
| w          | 0.040191     | 0.018722     | 0.018123     |
| h          | 0.024829     | 0.022293     | 0.015863     |
| conf       | 0.555030     | 0.366921     | 0.391843     |
| cls        | 0.194857     | 0.211810     | 0.300926     |
| cls_acc    | 100.00%      | 96.97%       | 88.24%       |
| recall50   | 0.875000     | 0.909091     | 0.823529     |
| recall75   | 0.781250     | 0.818182     | 0.764706     |
| precision  | 0.800000     | 0.461538     | 0.198582     |
| conf_obj   | 0.861431     | 0.911452     | 0.901993     |
| conf_noobj | 0.000768     | 0.000689     | 0.000573     |
+------------+--------------+--------------+--------------+
2020-12-20 09:42:12.751 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.209860
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.450468     | 0.439075     | 0.320318     |
| x          | 0.015122     | 0.012370     | 0.018316     |
| y          | 0.006988     | 0.014795     | 0.025424     |
| w          | 0.025942     | 0.017792     | 0.011106     |
| h          | 0.017115     | 0.016515     | 0.010954     |
| conf       | 0.334203     | 0.335790     | 0.249904     |
| cls        | 0.051099     | 0.041812     | 0.004613     |
| cls_acc    | 95.83%       | 95.83%       | 100.00%      |
| recall50   | 0.916667     | 0.916667     | 0.875000     |
| recall75   | 0.833333     | 0.833333     | 0.791667     |
| precision  | 0.758621     | 0.379310     | 0.170732     |
| conf_obj   | 0.923768     | 0.920889     | 0.905998     |
| conf_noobj | 0.000470     | 0.000434     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 09:42:16.426 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.867
2020-12-20 09:42:16.431 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 09:43:09.926 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06780   | 0.55749 | 0.12089 | 0.32223 |
| 1     | Wear_helmet | 0.61168   | 0.95443 | 0.74555 | 0.93566 |
| 2     | Total       | 0.33974   | 0.75596 | 0.43322 | 0.62895 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:43:09.927 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.628945695285041
2020-12-20 09:43:09.927 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 09:43:09.927 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.496628

2020-12-20 09:43:10.468 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 2/2, epo 3/5
2020-12-20 09:43:10.468 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 2/2, epo 3/5; time cost: 0:15:02.645247

2020-12-20 09:43:10.468 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 2/2, epo 4/5
2020-12-20 09:43:12.104 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.586278
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.189097     | 0.161504     | 0.235676     |
| x          | 0.009231     | 0.005821     | 0.019909     |
| y          | 0.004721     | 0.013561     | 0.043137     |
| w          | 0.020099     | 0.016930     | 0.011379     |
| h          | 0.011729     | 0.018532     | 0.008628     |
| conf       | 0.142342     | 0.105984     | 0.151219     |
| cls        | 0.000974     | 0.000677     | 0.001404     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.956522     | 0.869565     |
| precision  | 0.741935     | 0.410714     | 0.160839     |
| conf_obj   | 0.953813     | 0.977642     | 0.949551     |
| conf_noobj | 0.000496     | 0.000406     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 09:44:25.016 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.503038
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.133361     | 0.188235     | 0.181442     |
| x          | 0.004871     | 0.008549     | 0.015132     |
| y          | 0.002923     | 0.006544     | 0.016541     |
| w          | 0.014778     | 0.009506     | 0.015822     |
| h          | 0.013946     | 0.008263     | 0.006976     |
| conf       | 0.093157     | 0.146261     | 0.112006     |
| cls        | 0.003685     | 0.009112     | 0.014965     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.928571     | 0.966667     |
| precision  | 0.875000     | 0.430769     | 0.265487     |
| conf_obj   | 0.975453     | 0.969370     | 0.980093     |
| conf_noobj | 0.000488     | 0.000602     | 0.000395     |
+------------+--------------+--------------+--------------+
2020-12-20 09:45:28.665 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.683575
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.140387     | 0.321707     | 0.221480     |
| x          | 0.004701     | 0.009020     | 0.019657     |
| y          | 0.003459     | 0.005654     | 0.031230     |
| w          | 0.019541     | 0.015525     | 0.011643     |
| h          | 0.012713     | 0.007492     | 0.003882     |
| conf       | 0.098066     | 0.283150     | 0.153699     |
| cls        | 0.001906     | 0.000866     | 0.001369     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.900000     | 1.000000     |
| recall75   | 0.950000     | 0.850000     | 0.850000     |
| precision  | 0.869565     | 0.418605     | 0.266667     |
| conf_obj   | 0.967153     | 0.915292     | 0.936144     |
| conf_noobj | 0.000356     | 0.000431     | 0.000307     |
+------------+--------------+--------------+--------------+
2020-12-20 09:46:31.813 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.124943
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.482312     | 0.352657     | 0.289974     |
| x          | 0.008133     | 0.013195     | 0.027880     |
| y          | 0.003696     | 0.008062     | 0.024233     |
| w          | 0.015177     | 0.012376     | 0.007296     |
| h          | 0.017345     | 0.019086     | 0.021634     |
| conf       | 0.429557     | 0.292034     | 0.201612     |
| cls        | 0.008404     | 0.007904     | 0.007319     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 1.000000     |
| recall75   | 0.866667     | 0.833333     | 0.900000     |
| precision  | 0.736842     | 0.373333     | 0.184049     |
| conf_obj   | 0.890119     | 0.927159     | 0.951669     |
| conf_noobj | 0.001021     | 0.000962     | 0.000712     |
+------------+--------------+--------------+--------------+
2020-12-20 09:47:37.660 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.696801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.262238     | 0.231336     | 0.203227     |
| x          | 0.004977     | 0.011961     | 0.023835     |
| y          | 0.007031     | 0.010725     | 0.033024     |
| w          | 0.015040     | 0.015169     | 0.009121     |
| h          | 0.016266     | 0.016820     | 0.013025     |
| conf       | 0.192709     | 0.170964     | 0.119043     |
| cls        | 0.026216     | 0.005696     | 0.005179     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.958333     | 0.958333     |
| recall75   | 0.869565     | 0.916667     | 0.875000     |
| precision  | 0.880000     | 0.522727     | 0.223301     |
| conf_obj   | 0.916362     | 0.938356     | 0.969219     |
| conf_noobj | 0.000354     | 0.000393     | 0.000364     |
+------------+--------------+--------------+--------------+
2020-12-20 09:48:40.260 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.592431
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.250535     | 0.158120     | 0.183776     |
| x          | 0.002374     | 0.010556     | 0.014147     |
| y          | 0.002972     | 0.010245     | 0.026721     |
| w          | 0.020849     | 0.013403     | 0.006403     |
| h          | 0.021023     | 0.014982     | 0.012651     |
| conf       | 0.200325     | 0.107727     | 0.122605     |
| cls        | 0.002992     | 0.001207     | 0.001249     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 0.961538     |
| recall75   | 0.923077     | 0.961538     | 0.923077     |
| precision  | 0.714286     | 0.472727     | 0.215517     |
| conf_obj   | 0.940815     | 0.979627     | 0.963310     |
| conf_noobj | 0.000631     | 0.000452     | 0.000348     |
+------------+--------------+--------------+--------------+
2020-12-20 09:49:45.358 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.377000
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.486074     | 0.510953     | 0.379973     |
| x          | 0.021445     | 0.055652     | 0.040073     |
| y          | 0.005784     | 0.021210     | 0.025948     |
| w          | 0.055226     | 0.046129     | 0.032977     |
| h          | 0.044326     | 0.038380     | 0.023636     |
| conf       | 0.342872     | 0.317305     | 0.233271     |
| cls        | 0.016422     | 0.032277     | 0.024068     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.818182     | 0.954545     |
| recall75   | 0.863636     | 0.772727     | 0.909091     |
| precision  | 0.617647     | 0.272727     | 0.140000     |
| conf_obj   | 0.887435     | 0.887792     | 0.905266     |
| conf_noobj | 0.000982     | 0.000650     | 0.000505     |
+------------+--------------+--------------+--------------+
2020-12-20 09:50:52.362 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.786363
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.251547     | 0.263771     | 0.271045     |
| x          | 0.006999     | 0.010971     | 0.024417     |
| y          | 0.004475     | 0.009349     | 0.021423     |
| w          | 0.027091     | 0.034396     | 0.022135     |
| h          | 0.042899     | 0.045424     | 0.028895     |
| conf       | 0.161596     | 0.137587     | 0.133757     |
| cls        | 0.008487     | 0.026043     | 0.040416     |
| cls_acc    | 100.00%      | 100.00%      | 96.15%       |
| recall50   | 1.000000     | 1.000000     | 0.961538     |
| recall75   | 0.923077     | 0.846154     | 0.923077     |
| precision  | 0.787879     | 0.456140     | 0.206612     |
| conf_obj   | 0.946190     | 0.949471     | 0.961025     |
| conf_noobj | 0.000600     | 0.000405     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 09:52:00.644 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.701495
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.280612     | 0.198733     | 0.222149     |
| x          | 0.008227     | 0.008487     | 0.025228     |
| y          | 0.005794     | 0.012975     | 0.049160     |
| w          | 0.025092     | 0.007544     | 0.006203     |
| h          | 0.014668     | 0.006304     | 0.005214     |
| conf       | 0.139007     | 0.151803     | 0.123542     |
| cls        | 0.087823     | 0.011620     | 0.012802     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.947368     | 0.947368     | 0.947368     |
| precision  | 0.642857     | 0.346154     | 0.227848     |
| conf_obj   | 0.972811     | 0.951967     | 0.947693     |
| conf_noobj | 0.000573     | 0.000400     | 0.000225     |
+------------+--------------+--------------+--------------+
2020-12-20 09:53:05.310 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.743522
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.259312     | 0.259752     | 0.224457     |
| x          | 0.009105     | 0.017140     | 0.020952     |
| y          | 0.002377     | 0.011634     | 0.038185     |
| w          | 0.041579     | 0.032357     | 0.015975     |
| h          | 0.032111     | 0.019986     | 0.015859     |
| conf       | 0.171574     | 0.173812     | 0.126588     |
| cls        | 0.002566     | 0.004823     | 0.006897     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 1.000000     |
| recall75   | 0.925926     | 0.925926     | 0.892857     |
| precision  | 0.764706     | 0.337662     | 0.201439     |
| conf_obj   | 0.948691     | 0.966448     | 0.977689     |
| conf_noobj | 0.000580     | 0.000648     | 0.000444     |
+------------+--------------+--------------+--------------+
2020-12-20 09:54:11.726 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.250709
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.501082     | 0.401015     | 0.348612     |
| x          | 0.004914     | 0.008446     | 0.013188     |
| y          | 0.009727     | 0.018872     | 0.031241     |
| w          | 0.027943     | 0.014854     | 0.014263     |
| h          | 0.027837     | 0.016437     | 0.010102     |
| conf       | 0.248672     | 0.162173     | 0.132359     |
| cls        | 0.181989     | 0.180233     | 0.147458     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.846154     | 0.846154     | 0.923077     |
| precision  | 0.568182     | 0.333333     | 0.142045     |
| conf_obj   | 0.944943     | 0.979510     | 0.985513     |
| conf_noobj | 0.000907     | 0.000636     | 0.000533     |
+------------+--------------+--------------+--------------+
2020-12-20 09:55:19.606 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.977801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.420922     | 0.267613     | 0.289266     |
| x          | 0.007578     | 0.007216     | 0.014234     |
| y          | 0.008177     | 0.010111     | 0.024304     |
| w          | 0.034010     | 0.039692     | 0.015099     |
| h          | 0.029221     | 0.024273     | 0.012029     |
| conf       | 0.206542     | 0.152858     | 0.155258     |
| cls        | 0.135393     | 0.033463     | 0.068343     |
| cls_acc    | 92.86%       | 96.67%       | 96.67%       |
| recall50   | 0.857143     | 0.966667     | 0.966667     |
| recall75   | 0.714286     | 0.833333     | 0.900000     |
| precision  | 0.774194     | 0.467742     | 0.205674     |
| conf_obj   | 0.935966     | 0.943518     | 0.950427     |
| conf_noobj | 0.000400     | 0.000410     | 0.000403     |
+------------+--------------+--------------+--------------+
2020-12-20 09:56:21.349 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.850285
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.416595     | 0.236232     | 0.197458     |
| x          | 0.025439     | 0.010531     | 0.009747     |
| y          | 0.003988     | 0.008051     | 0.014447     |
| w          | 0.041378     | 0.021095     | 0.016973     |
| h          | 0.028913     | 0.015985     | 0.012962     |
| conf       | 0.312103     | 0.178232     | 0.141232     |
| cls        | 0.004774     | 0.002338     | 0.002097     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.964286     | 1.000000     |
| recall75   | 0.807692     | 0.821429     | 0.821429     |
| precision  | 0.615385     | 0.402985     | 0.195804     |
| conf_obj   | 0.907995     | 0.965306     | 0.973673     |
| conf_noobj | 0.000951     | 0.000619     | 0.000472     |
+------------+--------------+--------------+--------------+
2020-12-20 09:57:26.819 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.759815
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.264730     | 0.181579     | 0.313506     |
| x          | 0.010210     | 0.008335     | 0.031195     |
| y          | 0.010099     | 0.015877     | 0.039714     |
| w          | 0.013065     | 0.009904     | 0.006358     |
| h          | 0.022339     | 0.020694     | 0.015631     |
| conf       | 0.189401     | 0.120507     | 0.213816     |
| cls        | 0.019617     | 0.006262     | 0.006793     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 1.000000     | 0.947368     |
| recall75   | 0.736842     | 0.947368     | 0.894737     |
| precision  | 0.666667     | 0.404255     | 0.159292     |
| conf_obj   | 0.921954     | 0.959788     | 0.929542     |
| conf_noobj | 0.000478     | 0.000419     | 0.000408     |
+------------+--------------+--------------+--------------+
2020-12-20 09:57:30.242 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.824
2020-12-20 09:57:30.245 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 09:58:24.094 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10440   | 0.46341 | 0.17040 | 0.26982 |
| 1     | Wear_helmet | 0.49131   | 0.96962 | 0.65217 | 0.94243 |
| 2     | Total       | 0.29785   | 0.71652 | 0.41129 | 0.60612 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:58:24.095 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6061247400259338
2020-12-20 09:58:24.095 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 09:58:24.096 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.850896

2020-12-20 09:58:24.753 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 2/2, epo 4/5
2020-12-20 09:58:24.754 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 2/2, epo 4/5; time cost: 0:15:14.285036

2020-12-20 09:58:24.754 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 2/2, epo 5/5
2020-12-20 09:58:26.226 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.083765
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.317706     | 0.417857     | 0.348202     |
| x          | 0.004494     | 0.022627     | 0.012244     |
| y          | 0.019278     | 0.021987     | 0.030243     |
| w          | 0.032459     | 0.039016     | 0.007068     |
| h          | 0.025978     | 0.019645     | 0.012416     |
| conf       | 0.219998     | 0.296115     | 0.279280     |
| cls        | 0.015500     | 0.018466     | 0.006950     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.884615     | 0.923077     |
| recall75   | 0.840000     | 0.807692     | 0.884615     |
| precision  | 0.657143     | 0.425926     | 0.165517     |
| conf_obj   | 0.937803     | 0.887906     | 0.888864     |
| conf_noobj | 0.000805     | 0.000520     | 0.000463     |
+------------+--------------+--------------+--------------+
2020-12-20 09:59:31.975 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.892764
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.359520     | 0.320280     | 0.212964     |
| x          | 0.003949     | 0.010498     | 0.015152     |
| y          | 0.003590     | 0.007376     | 0.017779     |
| w          | 0.048284     | 0.055721     | 0.013559     |
| h          | 0.032946     | 0.046631     | 0.009248     |
| conf       | 0.260696     | 0.184182     | 0.150509     |
| cls        | 0.010057     | 0.015871     | 0.006717     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 1.000000     |
| recall75   | 0.782609     | 0.782609     | 1.000000     |
| precision  | 0.687500     | 0.442308     | 0.198276     |
| conf_obj   | 0.924345     | 0.945041     | 0.963015     |
| conf_noobj | 0.000945     | 0.000629     | 0.000545     |
+------------+--------------+--------------+--------------+
2020-12-20 10:00:32.847 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.485050
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.117036     | 0.206379     | 0.161635     |
| x          | 0.005451     | 0.009458     | 0.009903     |
| y          | 0.005620     | 0.025572     | 0.023966     |
| w          | 0.011163     | 0.005708     | 0.007037     |
| h          | 0.011086     | 0.010799     | 0.008162     |
| conf       | 0.075845     | 0.152923     | 0.112031     |
| cls        | 0.007871     | 0.001919     | 0.000536     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.928571     | 1.000000     |
| recall75   | 0.928571     | 0.857143     | 1.000000     |
| precision  | 0.777778     | 0.361111     | 0.227273     |
| conf_obj   | 0.983617     | 0.950789     | 0.959865     |
| conf_noobj | 0.000388     | 0.000431     | 0.000322     |
+------------+--------------+--------------+--------------+
2020-12-20 10:01:35.855 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.065509
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.328750     | 0.449494     | 0.287265     |
| x          | 0.012699     | 0.006191     | 0.025095     |
| y          | 0.003946     | 0.010607     | 0.026278     |
| w          | 0.045679     | 0.027415     | 0.021883     |
| h          | 0.013864     | 0.028277     | 0.013057     |
| conf       | 0.196872     | 0.177086     | 0.093895     |
| cls        | 0.055690     | 0.199918     | 0.107057     |
| cls_acc    | 95.00%       | 95.24%       | 95.24%       |
| recall50   | 0.850000     | 0.904762     | 0.952381     |
| recall75   | 0.750000     | 0.857143     | 0.857143     |
| precision  | 0.772727     | 0.327586     | 0.173913     |
| conf_obj   | 0.922960     | 0.942116     | 0.985094     |
| conf_noobj | 0.000386     | 0.000463     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 10:02:46.841 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.326943
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.587103     | 0.396538     | 0.343302     |
| x          | 0.006707     | 0.022671     | 0.030516     |
| y          | 0.003916     | 0.011934     | 0.022414     |
| w          | 0.046370     | 0.052566     | 0.022746     |
| h          | 0.019339     | 0.015049     | 0.018199     |
| conf       | 0.490276     | 0.288379     | 0.242677     |
| cls        | 0.020496     | 0.005938     | 0.006751     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.968750     | 0.906250     |
| recall75   | 0.766667     | 0.750000     | 0.718750     |
| precision  | 0.870968     | 0.525424     | 0.230159     |
| conf_obj   | 0.887711     | 0.909606     | 0.913544     |
| conf_noobj | 0.000418     | 0.000467     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 10:03:58.224 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.407761
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.126572     | 0.135826     | 0.145363     |
| x          | 0.010856     | 0.005884     | 0.012019     |
| y          | 0.004174     | 0.011615     | 0.025063     |
| w          | 0.008335     | 0.006289     | 0.006837     |
| h          | 0.010246     | 0.009874     | 0.010978     |
| conf       | 0.091489     | 0.101854     | 0.090180     |
| cls        | 0.001472     | 0.000310     | 0.000286     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 1.000000     | 0.913043     |
| precision  | 0.875000     | 0.489362     | 0.273810     |
| conf_obj   | 0.965732     | 0.974528     | 0.990170     |
| conf_noobj | 0.000300     | 0.000368     | 0.000349     |
+------------+--------------+--------------+--------------+
2020-12-20 10:05:06.782 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.573342
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.187158     | 0.209054     | 0.177130     |
| x          | 0.007492     | 0.028470     | 0.010056     |
| y          | 0.005001     | 0.007432     | 0.018246     |
| w          | 0.018297     | 0.012498     | 0.016546     |
| h          | 0.010929     | 0.005406     | 0.007401     |
| conf       | 0.136456     | 0.153044     | 0.122458     |
| cls        | 0.008984     | 0.002205     | 0.002421     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.920000     | 1.000000     |
| recall75   | 0.880000     | 0.880000     | 0.920000     |
| precision  | 0.781250     | 0.425926     | 0.247525     |
| conf_obj   | 0.977817     | 0.960528     | 0.963435     |
| conf_noobj | 0.000518     | 0.000453     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 10:06:09.835 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.540679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.187553     | 0.168436     | 0.184690     |
| x          | 0.008809     | 0.013536     | 0.009476     |
| y          | 0.004516     | 0.020025     | 0.030084     |
| w          | 0.016790     | 0.012292     | 0.009959     |
| h          | 0.024027     | 0.017776     | 0.014528     |
| conf       | 0.132146     | 0.103763     | 0.119750     |
| cls        | 0.001265     | 0.001043     | 0.000893     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.782609     | 0.833333     |
| precision  | 0.687500     | 0.433962     | 0.155844     |
| conf_obj   | 0.982597     | 0.986281     | 0.978006     |
| conf_noobj | 0.000648     | 0.000454     | 0.000459     |
+------------+--------------+--------------+--------------+
2020-12-20 10:07:14.554 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.368093
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.128620     | 0.095601     | 0.143873     |
| x          | 0.004412     | 0.005819     | 0.026336     |
| y          | 0.009393     | 0.017234     | 0.036236     |
| w          | 0.011452     | 0.004581     | 0.005371     |
| h          | 0.022445     | 0.011781     | 0.008478     |
| conf       | 0.080562     | 0.054954     | 0.066143     |
| cls        | 0.000356     | 0.001232     | 0.001309     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.900000     | 0.800000     |
| precision  | 0.800000     | 0.526316     | 0.263158     |
| conf_obj   | 0.991627     | 0.992982     | 0.982510     |
| conf_noobj | 0.000398     | 0.000256     | 0.000215     |
+------------+--------------+--------------+--------------+
2020-12-20 10:08:20.487 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.522453
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.179837     | 0.139670     | 0.202946     |
| x          | 0.004847     | 0.007591     | 0.030915     |
| y          | 0.008794     | 0.010629     | 0.033025     |
| w          | 0.019336     | 0.014778     | 0.014117     |
| h          | 0.015134     | 0.008368     | 0.012368     |
| conf       | 0.127300     | 0.092749     | 0.111023     |
| cls        | 0.004428     | 0.005555     | 0.001498     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 0.967742     |
| recall75   | 0.857143     | 0.833333     | 0.806452     |
| precision  | 0.870968     | 0.638298     | 0.285714     |
| conf_obj   | 0.959386     | 0.970933     | 0.970218     |
| conf_noobj | 0.000456     | 0.000349     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 10:09:27.110 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.636033
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.157434     | 0.251792     | 0.226807     |
| x          | 0.002602     | 0.006613     | 0.015991     |
| y          | 0.007556     | 0.017511     | 0.034775     |
| w          | 0.018363     | 0.011297     | 0.014153     |
| h          | 0.023878     | 0.023832     | 0.015886     |
| conf       | 0.091008     | 0.190175     | 0.144330     |
| cls        | 0.014027     | 0.002364     | 0.001672     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.958333     |
| recall75   | 0.916667     | 0.875000     | 0.875000     |
| precision  | 0.827586     | 0.444444     | 0.230000     |
| conf_obj   | 0.980600     | 0.944715     | 0.956137     |
| conf_noobj | 0.000458     | 0.000576     | 0.000407     |
+------------+--------------+--------------+--------------+
2020-12-20 10:10:32.877 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.792468
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.248557     | 0.254140     | 0.289771     |
| x          | 0.017481     | 0.027263     | 0.019995     |
| y          | 0.003387     | 0.004419     | 0.009479     |
| w          | 0.021244     | 0.020193     | 0.007842     |
| h          | 0.008328     | 0.011643     | 0.015291     |
| conf       | 0.172196     | 0.147795     | 0.206457     |
| cls        | 0.025921     | 0.042828     | 0.030706     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.950000     |
| recall75   | 0.894737     | 0.950000     | 0.900000     |
| precision  | 0.703704     | 0.338983     | 0.133803     |
| conf_obj   | 0.957346     | 0.976875     | 0.946150     |
| conf_noobj | 0.000645     | 0.000654     | 0.000535     |
+------------+--------------+--------------+--------------+
2020-12-20 10:11:40.023 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.141316
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.521462     | 0.338796     | 0.281058     |
| x          | 0.016331     | 0.007434     | 0.022136     |
| y          | 0.005718     | 0.015926     | 0.039805     |
| w          | 0.040579     | 0.022118     | 0.018154     |
| h          | 0.049314     | 0.022573     | 0.010425     |
| conf       | 0.358472     | 0.224444     | 0.143241     |
| cls        | 0.051048     | 0.046302     | 0.047295     |
| cls_acc    | 100.00%      | 100.00%      | 96.67%       |
| recall50   | 0.862069     | 0.896552     | 0.933333     |
| recall75   | 0.862069     | 0.758621     | 0.766667     |
| precision  | 0.862069     | 0.509804     | 0.294737     |
| conf_obj   | 0.866879     | 0.896094     | 0.945916     |
| conf_noobj | 0.000371     | 0.000381     | 0.000367     |
+------------+--------------+--------------+--------------+
2020-12-20 10:12:47.068 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.786450
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.277338     | 0.275038     | 0.234074     |
| x          | 0.006669     | 0.011431     | 0.012650     |
| y          | 0.008615     | 0.011336     | 0.021389     |
| w          | 0.030950     | 0.012697     | 0.011027     |
| h          | 0.022269     | 0.011535     | 0.008383     |
| conf       | 0.150576     | 0.123296     | 0.141675     |
| cls        | 0.058258     | 0.104743     | 0.038949     |
| cls_acc    | 93.55%       | 96.88%       | 96.88%       |
| recall50   | 0.935484     | 0.968750     | 0.968750     |
| recall75   | 0.806452     | 0.937500     | 0.906250     |
| precision  | 0.828571     | 0.534483     | 0.213793     |
| conf_obj   | 0.950012     | 0.971367     | 0.961811     |
| conf_noobj | 0.000480     | 0.000424     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 10:12:51.266 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.809
2020-12-20 10:12:51.270 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 10:13:45.808 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08640   | 0.46690 | 0.14581 | 0.25018 |
| 1     | Wear_helmet | 0.46534   | 0.97613 | 0.63024 | 0.94575 |
| 2     | Total       | 0.27587   | 0.72151 | 0.38802 | 0.59796 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:13:45.809 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5979649041942294
2020-12-20 10:13:45.809 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 10:13:45.809 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.538961

2020-12-20 10:13:46.285 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 2/2, epo 5/5
2020-12-20 10:13:46.285 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 2/2, epo 5/5; time cost: 0:15:21.530265

2020-12-20 10:13:46.285 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.857
2020-12-20 10:13:46.539 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 10:17:56.230 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12884   | 0.56134 | 0.20958 | 0.40350 |
| 1     | Wear_helmet | 0.44221   | 0.93590 | 0.60063 | 0.87974 |
| 2     | Total       | 0.28553   | 0.74862 | 0.40510 | 0.64162 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:17:56.231 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.641619903133366
2020-12-20 10:17:56.231 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 10:17:56.231 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:09.692537

2020-12-20 10:19:11.198 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 14!
2020-12-20 10:19:11.342 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 2/2, epo 1/5
2020-12-20 10:19:12.725 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.732717
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.337503     | 0.211937     | 0.183277     |
| x          | 0.010092     | 0.014199     | 0.016179     |
| y          | 0.003042     | 0.005236     | 0.014576     |
| w          | 0.017837     | 0.014230     | 0.012547     |
| h          | 0.010114     | 0.008172     | 0.006003     |
| conf       | 0.292837     | 0.168455     | 0.132552     |
| cls        | 0.003582     | 0.001644     | 0.001421     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.960000     | 1.000000     |
| precision  | 0.605263     | 0.438596     | 0.185185     |
| conf_obj   | 0.941005     | 0.972836     | 0.982983     |
| conf_noobj | 0.001079     | 0.000665     | 0.000513     |
+------------+--------------+--------------+--------------+
2020-12-20 10:20:15.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.555089
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.181235     | 0.209551     | 0.164303     |
| x          | 0.008526     | 0.019510     | 0.021031     |
| y          | 0.011394     | 0.013895     | 0.018066     |
| w          | 0.019242     | 0.013631     | 0.010515     |
| h          | 0.008402     | 0.030905     | 0.016892     |
| conf       | 0.131556     | 0.130978     | 0.095208     |
| cls        | 0.002115     | 0.000630     | 0.002591     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.952381     | 1.000000     |
| recall75   | 0.842105     | 0.857143     | 0.809524     |
| precision  | 0.750000     | 0.400000     | 0.228261     |
| conf_obj   | 0.957075     | 0.967244     | 0.978961     |
| conf_noobj | 0.000488     | 0.000489     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 10:21:18.473 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.804334
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.226116     | 0.264406     | 0.313812     |
| x          | 0.011032     | 0.016660     | 0.033520     |
| y          | 0.008772     | 0.010477     | 0.032601     |
| w          | 0.032690     | 0.020151     | 0.021035     |
| h          | 0.023991     | 0.024355     | 0.018756     |
| conf       | 0.145649     | 0.188651     | 0.203403     |
| cls        | 0.003982     | 0.004112     | 0.004498     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.960000     |
| recall75   | 0.840000     | 0.920000     | 0.800000     |
| precision  | 0.800000     | 0.387097     | 0.192000     |
| conf_obj   | 0.940337     | 0.937244     | 0.925753     |
| conf_noobj | 0.000364     | 0.000530     | 0.000397     |
+------------+--------------+--------------+--------------+
2020-12-20 10:22:22.799 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.520343
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.156399     | 0.171222     | 0.192721     |
| x          | 0.002526     | 0.008587     | 0.030832     |
| y          | 0.004293     | 0.005900     | 0.022876     |
| w          | 0.016255     | 0.021809     | 0.008391     |
| h          | 0.016343     | 0.021990     | 0.007585     |
| conf       | 0.116122     | 0.111465     | 0.122124     |
| cls        | 0.000860     | 0.001471     | 0.000913     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.869565     | 0.958333     |
| precision  | 0.840000     | 0.489362     | 0.205128     |
| conf_obj   | 0.957560     | 0.960213     | 0.966322     |
| conf_noobj | 0.000291     | 0.000334     | 0.000377     |
+------------+--------------+--------------+--------------+
2020-12-20 10:23:31.954 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.909006
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.335848     | 0.302616     | 0.270543     |
| x          | 0.016946     | 0.014690     | 0.027977     |
| y          | 0.010647     | 0.010711     | 0.025373     |
| w          | 0.015720     | 0.010764     | 0.014499     |
| h          | 0.024912     | 0.013268     | 0.016111     |
| conf       | 0.260217     | 0.251190     | 0.181671     |
| cls        | 0.007406     | 0.001992     | 0.004912     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.962963     | 0.857143     |
| precision  | 0.648649     | 0.329268     | 0.153005     |
| conf_obj   | 0.950468     | 0.945662     | 0.964904     |
| conf_noobj | 0.001077     | 0.000866     | 0.000678     |
+------------+--------------+--------------+--------------+
2020-12-20 10:24:40.631 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.904214
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.363012     | 0.275217     | 0.265986     |
| x          | 0.010215     | 0.009327     | 0.022916     |
| y          | 0.009582     | 0.012899     | 0.031834     |
| w          | 0.016144     | 0.012209     | 0.013521     |
| h          | 0.037162     | 0.021830     | 0.011986     |
| conf       | 0.239053     | 0.166502     | 0.157263     |
| cls        | 0.050856     | 0.052449     | 0.028466     |
| cls_acc    | 100.00%      | 96.00%       | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 1.000000     |
| recall75   | 0.833333     | 0.760000     | 0.960000     |
| precision  | 0.821429     | 0.461538     | 0.225225     |
| conf_obj   | 0.916049     | 0.940787     | 0.945962     |
| conf_noobj | 0.000514     | 0.000541     | 0.000458     |
+------------+--------------+--------------+--------------+
2020-12-20 10:25:44.921 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.456555
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.125307     | 0.185397     | 0.145850     |
| x          | 0.014412     | 0.004414     | 0.017788     |
| y          | 0.006230     | 0.005724     | 0.016873     |
| w          | 0.011784     | 0.010937     | 0.006186     |
| h          | 0.008793     | 0.015604     | 0.008818     |
| conf       | 0.083358     | 0.148239     | 0.095570     |
| cls        | 0.000729     | 0.000478     | 0.000615     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.962963     | 1.000000     |
| precision  | 0.774194     | 0.490909     | 0.252336     |
| conf_obj   | 0.990415     | 0.974590     | 0.986868     |
| conf_noobj | 0.000449     | 0.000563     | 0.000385     |
+------------+--------------+--------------+--------------+
2020-12-20 10:26:44.980 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.040043
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.317023     | 0.389718     | 0.333302     |
| x          | 0.004697     | 0.012676     | 0.024260     |
| y          | 0.004652     | 0.011471     | 0.024581     |
| w          | 0.021661     | 0.016295     | 0.014162     |
| h          | 0.016523     | 0.011826     | 0.008453     |
| conf       | 0.186041     | 0.216699     | 0.152957     |
| cls        | 0.083449     | 0.120751     | 0.108888     |
| cls_acc    | 96.67%       | 93.33%       | 93.55%       |
| recall50   | 0.966667     | 0.900000     | 0.935484     |
| recall75   | 0.866667     | 0.833333     | 0.903226     |
| precision  | 0.644444     | 0.329268     | 0.164773     |
| conf_obj   | 0.959559     | 0.954185     | 0.968839     |
| conf_noobj | 0.000898     | 0.000736     | 0.000539     |
+------------+--------------+--------------+--------------+
2020-12-20 10:27:45.864 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.633060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.206222     | 0.190482     | 0.236357     |
| x          | 0.005369     | 0.008280     | 0.016338     |
| y          | 0.005693     | 0.018597     | 0.035798     |
| w          | 0.017259     | 0.015006     | 0.008203     |
| h          | 0.019827     | 0.020240     | 0.013140     |
| conf       | 0.156428     | 0.127002     | 0.161287     |
| cls        | 0.001646     | 0.001358     | 0.001591     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.862069     | 0.931035     |
| precision  | 0.756757     | 0.483333     | 0.181250     |
| conf_obj   | 0.961358     | 0.973497     | 0.956374     |
| conf_noobj | 0.000757     | 0.000561     | 0.000541     |
+------------+--------------+--------------+--------------+
2020-12-20 10:28:51.293 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.962584
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.275151     | 0.303996     | 0.383437     |
| x          | 0.011870     | 0.007357     | 0.015624     |
| y          | 0.016553     | 0.007438     | 0.021815     |
| w          | 0.016360     | 0.017039     | 0.010896     |
| h          | 0.014882     | 0.012815     | 0.012633     |
| conf       | 0.205785     | 0.251468     | 0.307973     |
| cls        | 0.009702     | 0.007880     | 0.014496     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.965517     | 0.965517     |
| recall75   | 0.965517     | 0.862069     | 0.862069     |
| precision  | 0.800000     | 0.411765     | 0.227642     |
| conf_obj   | 0.933927     | 0.944111     | 0.938259     |
| conf_noobj | 0.000646     | 0.000799     | 0.000529     |
+------------+--------------+--------------+--------------+
2020-12-20 10:29:54.395 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.789088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.216670     | 0.324449     | 0.247969     |
| x          | 0.004157     | 0.007439     | 0.009874     |
| y          | 0.003802     | 0.017131     | 0.031240     |
| w          | 0.023971     | 0.034692     | 0.029473     |
| h          | 0.045054     | 0.037133     | 0.024691     |
| conf       | 0.135599     | 0.223608     | 0.148490     |
| cls        | 0.004088     | 0.004445     | 0.004201     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.904762     | 0.869565     | 0.739130     |
| precision  | 0.777778     | 0.468085     | 0.194915     |
| conf_obj   | 0.958545     | 0.917434     | 0.961210     |
| conf_noobj | 0.000462     | 0.000483     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 10:30:54.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.807088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.289730     | 0.281082     | 0.236275     |
| x          | 0.003208     | 0.003516     | 0.008947     |
| y          | 0.009203     | 0.036083     | 0.027383     |
| w          | 0.044929     | 0.048349     | 0.019026     |
| h          | 0.036114     | 0.044872     | 0.016464     |
| conf       | 0.189032     | 0.147209     | 0.161630     |
| cls        | 0.007244     | 0.001054     | 0.002825     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.894737     | 0.947368     | 0.894737     |
| precision  | 0.720000     | 0.391304     | 0.166667     |
| conf_obj   | 0.941713     | 0.961050     | 0.950462     |
| conf_noobj | 0.000554     | 0.000436     | 0.000382     |
+------------+--------------+--------------+--------------+
2020-12-20 10:32:00.922 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.444868
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.193197     | 0.123289     | 0.128382     |
| x          | 0.001175     | 0.001974     | 0.006405     |
| y          | 0.005043     | 0.014413     | 0.032937     |
| w          | 0.007059     | 0.005767     | 0.004997     |
| h          | 0.013869     | 0.008161     | 0.010802     |
| conf       | 0.163787     | 0.092327     | 0.072353     |
| cls        | 0.002264     | 0.000646     | 0.000888     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 0.944444     |
| precision  | 0.850000     | 0.439024     | 0.204545     |
| conf_obj   | 0.952204     | 0.974577     | 0.987023     |
| conf_noobj | 0.000298     | 0.000301     | 0.000260     |
+------------+--------------+--------------+--------------+
2020-12-20 10:33:07.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.175153
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.513659     | 0.319951     | 0.341542     |
| x          | 0.015925     | 0.013067     | 0.021447     |
| y          | 0.006367     | 0.014396     | 0.026129     |
| w          | 0.024907     | 0.025236     | 0.012644     |
| h          | 0.018806     | 0.021167     | 0.011734     |
| conf       | 0.444286     | 0.244240     | 0.268609     |
| cls        | 0.003369     | 0.001845     | 0.000979     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.848485     | 0.939394     | 0.941176     |
| recall75   | 0.848485     | 0.939394     | 0.882353     |
| precision  | 0.700000     | 0.484375     | 0.201258     |
| conf_obj   | 0.870760     | 0.930023     | 0.905056     |
| conf_noobj | 0.000734     | 0.000543     | 0.000522     |
+------------+--------------+--------------+--------------+
2020-12-20 10:33:11.369 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.870
2020-12-20 10:33:11.373 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 10:34:11.356 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08369   | 0.54007 | 0.14493 | 0.32909 |
| 1     | Wear_helmet | 0.53475   | 0.96181 | 0.68734 | 0.93217 |
| 2     | Total       | 0.30922   | 0.75094 | 0.41614 | 0.63063 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:34:11.358 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.630631534836135
2020-12-20 10:34:11.359 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 10:34:11.359 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.985962

2020-12-20 10:34:11.825 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 2/2, epo 1/5
2020-12-20 10:34:11.826 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 2/2, epo 1/5; time cost: 0:15:00.482845

2020-12-20 10:34:11.826 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 2/2, epo 2/5
2020-12-20 10:34:13.472 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.822698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.290635     | 0.293339     | 0.238723     |
| x          | 0.007379     | 0.012504     | 0.015160     |
| y          | 0.012769     | 0.021023     | 0.029700     |
| w          | 0.030098     | 0.025110     | 0.015437     |
| h          | 0.034889     | 0.027934     | 0.014875     |
| conf       | 0.188701     | 0.197885     | 0.158548     |
| cls        | 0.016799     | 0.008885     | 0.005002     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.948718     | 0.974359     |
| recall75   | 0.805556     | 0.743590     | 0.846154     |
| precision  | 0.755556     | 0.456790     | 0.206522     |
| conf_obj   | 0.936808     | 0.953386     | 0.971816     |
| conf_noobj | 0.000662     | 0.000669     | 0.000592     |
+------------+--------------+--------------+--------------+
2020-12-20 10:35:16.700 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.352387
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.094438     | 0.126610     | 0.131339     |
| x          | 0.003280     | 0.006685     | 0.012542     |
| y          | 0.002029     | 0.007701     | 0.016367     |
| w          | 0.015738     | 0.007424     | 0.008382     |
| h          | 0.015866     | 0.007454     | 0.006615     |
| conf       | 0.045475     | 0.088835     | 0.077148     |
| cls        | 0.012050     | 0.008511     | 0.010286     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.952381     | 0.952381     |
| precision  | 0.909091     | 0.525000     | 0.253012     |
| conf_obj   | 0.992394     | 0.977845     | 0.988121     |
| conf_noobj | 0.000246     | 0.000324     | 0.000303     |
+------------+--------------+--------------+--------------+
2020-12-20 10:36:23.572 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.043113
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.447550     | 0.318588     | 0.276976     |
| x          | 0.009676     | 0.015521     | 0.020093     |
| y          | 0.005742     | 0.012568     | 0.038157     |
| w          | 0.033726     | 0.026361     | 0.021270     |
| h          | 0.019115     | 0.024063     | 0.015546     |
| conf       | 0.355764     | 0.224857     | 0.176193     |
| cls        | 0.023527     | 0.015218     | 0.005717     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.968750     | 0.937500     |
| recall75   | 0.866667     | 0.718750     | 0.843750     |
| precision  | 0.743590     | 0.508197     | 0.230769     |
| conf_obj   | 0.908559     | 0.934797     | 0.949706     |
| conf_noobj | 0.000746     | 0.000620     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 10:37:29.539 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.393304
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.552813     | 0.446916     | 0.393575     |
| x          | 0.005829     | 0.008651     | 0.024196     |
| y          | 0.004284     | 0.026425     | 0.045907     |
| w          | 0.026276     | 0.017506     | 0.015023     |
| h          | 0.022908     | 0.018915     | 0.011661     |
| conf       | 0.406456     | 0.236964     | 0.150232     |
| cls        | 0.087061     | 0.138455     | 0.146556     |
| cls_acc    | 96.15%       | 96.30%       | 96.30%       |
| recall50   | 0.884615     | 0.962963     | 0.962963     |
| recall75   | 0.769231     | 0.851852     | 0.888889     |
| precision  | 0.766667     | 0.371429     | 0.175676     |
| conf_obj   | 0.870786     | 0.907355     | 0.951715     |
| conf_noobj | 0.000465     | 0.000574     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 10:38:35.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.591383
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.185888     | 0.197941     | 0.207554     |
| x          | 0.008906     | 0.003975     | 0.021462     |
| y          | 0.005114     | 0.009397     | 0.024617     |
| w          | 0.012876     | 0.008839     | 0.007802     |
| h          | 0.008876     | 0.012491     | 0.003766     |
| conf       | 0.131907     | 0.109919     | 0.109264     |
| cls        | 0.018209     | 0.053319     | 0.040643     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.956522     | 0.956522     | 0.956522     |
| precision  | 0.846154     | 0.468085     | 0.229167     |
| conf_obj   | 0.946310     | 0.959081     | 0.969765     |
| conf_noobj | 0.000437     | 0.000333     | 0.000310     |
+------------+--------------+--------------+--------------+
2020-12-20 10:39:43.687 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.686718
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.333534     | 0.194593     | 0.158592     |
| x          | 0.003542     | 0.005066     | 0.012559     |
| y          | 0.005404     | 0.005451     | 0.017424     |
| w          | 0.025766     | 0.022692     | 0.008577     |
| h          | 0.016367     | 0.017107     | 0.007442     |
| conf       | 0.279962     | 0.140371     | 0.110872     |
| cls        | 0.002493     | 0.003906     | 0.001717     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 1.000000     |
| recall75   | 0.851852     | 0.888889     | 0.962963     |
| precision  | 0.812500     | 0.520000     | 0.252336     |
| conf_obj   | 0.888202     | 0.954745     | 0.973590     |
| conf_noobj | 0.000653     | 0.000450     | 0.000435     |
+------------+--------------+--------------+--------------+
2020-12-20 10:40:45.073 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.828942
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.278612     | 0.256093     | 0.294237     |
| x          | 0.006694     | 0.011714     | 0.020085     |
| y          | 0.004634     | 0.017588     | 0.023931     |
| w          | 0.011254     | 0.006446     | 0.005865     |
| h          | 0.010128     | 0.005087     | 0.003935     |
| conf       | 0.240125     | 0.209533     | 0.238174     |
| cls        | 0.005776     | 0.005725     | 0.002248     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 0.952381     |
| recall75   | 0.952381     | 1.000000     | 0.952381     |
| precision  | 0.740741     | 0.362069     | 0.172414     |
| conf_obj   | 0.934581     | 0.948427     | 0.924619     |
| conf_noobj | 0.000828     | 0.000758     | 0.000568     |
+------------+--------------+--------------+--------------+
2020-12-20 10:41:44.000 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.407626
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.139808     | 0.113739     | 0.154079     |
| x          | 0.006670     | 0.012740     | 0.010375     |
| y          | 0.008165     | 0.009316     | 0.010121     |
| w          | 0.016681     | 0.014420     | 0.007284     |
| h          | 0.008456     | 0.010080     | 0.005655     |
| conf       | 0.098965     | 0.066909     | 0.120083     |
| cls        | 0.000871     | 0.000274     | 0.000561     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.923077     | 1.000000     |
| precision  | 0.892857     | 0.634146     | 0.245455     |
| conf_obj   | 0.981114     | 0.988411     | 0.971110     |
| conf_noobj | 0.000377     | 0.000287     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 10:42:55.230 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.543715
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.247635     | 0.151279     | 0.144800     |
| x          | 0.000991     | 0.006123     | 0.017343     |
| y          | 0.008652     | 0.016822     | 0.037839     |
| w          | 0.005349     | 0.007630     | 0.003109     |
| h          | 0.014935     | 0.019619     | 0.013575     |
| conf       | 0.217007     | 0.100327     | 0.072623     |
| cls        | 0.000701     | 0.000758     | 0.000312     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.857143     | 0.857143     |
| precision  | 0.650000     | 0.411765     | 0.159091     |
| conf_obj   | 0.922680     | 0.971921     | 0.991014     |
| conf_noobj | 0.000448     | 0.000331     | 0.000295     |
+------------+--------------+--------------+--------------+
2020-12-20 10:44:00.828 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.808850
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.375470     | 0.231468     | 0.201911     |
| x          | 0.005733     | 0.010840     | 0.041757     |
| y          | 0.006119     | 0.006245     | 0.027184     |
| w          | 0.021475     | 0.012320     | 0.010666     |
| h          | 0.022575     | 0.013435     | 0.008702     |
| conf       | 0.317602     | 0.188115     | 0.112981     |
| cls        | 0.001966     | 0.000512     | 0.000621     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 1.000000     | 0.869565     |
| precision  | 0.677419     | 0.425926     | 0.201754     |
| conf_obj   | 0.916716     | 0.934443     | 0.969780     |
| conf_noobj | 0.000619     | 0.000440     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 10:44:58.804 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.543124
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.179960     | 0.207158     | 0.156006     |
| x          | 0.003889     | 0.009901     | 0.009534     |
| y          | 0.003083     | 0.017242     | 0.013055     |
| w          | 0.023750     | 0.024134     | 0.017118     |
| h          | 0.012815     | 0.012484     | 0.018271     |
| conf       | 0.134841     | 0.143026     | 0.097839     |
| cls        | 0.001582     | 0.000370     | 0.000188     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.888889     | 1.000000     |
| precision  | 0.809524     | 0.450000     | 0.234568     |
| conf_obj   | 0.960135     | 0.953390     | 0.968325     |
| conf_noobj | 0.000470     | 0.000460     | 0.000319     |
+------------+--------------+--------------+--------------+
2020-12-20 10:46:02.618 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.798066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.222469     | 0.255356     | 0.320242     |
| x          | 0.006326     | 0.007500     | 0.013108     |
| y          | 0.004826     | 0.014116     | 0.026359     |
| w          | 0.012004     | 0.007148     | 0.008603     |
| h          | 0.022933     | 0.013428     | 0.009074     |
| conf       | 0.159752     | 0.185673     | 0.243430     |
| cls        | 0.016627     | 0.027491     | 0.019667     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 0.964286     |
| recall75   | 0.851852     | 0.925926     | 0.892857     |
| precision  | 0.812500     | 0.361111     | 0.164634     |
| conf_obj   | 0.962542     | 0.955627     | 0.942300     |
| conf_noobj | 0.000533     | 0.000733     | 0.000612     |
+------------+--------------+--------------+--------------+
2020-12-20 10:47:10.664 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.510519
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.194073     | 0.153497     | 0.162949     |
| x          | 0.002240     | 0.005279     | 0.007788     |
| y          | 0.002991     | 0.006877     | 0.028593     |
| w          | 0.014380     | 0.008799     | 0.015937     |
| h          | 0.008866     | 0.005423     | 0.008429     |
| conf       | 0.164558     | 0.123239     | 0.100035     |
| cls        | 0.001038     | 0.003880     | 0.002168     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.913043     |
| precision  | 0.793103     | 0.433962     | 0.214953     |
| conf_obj   | 0.963143     | 0.981061     | 0.987628     |
| conf_noobj | 0.000567     | 0.000493     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 10:48:19.695 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.040183
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.453402     | 0.299123     | 0.287658     |
| x          | 0.003548     | 0.009317     | 0.022889     |
| y          | 0.003230     | 0.006796     | 0.021289     |
| w          | 0.015921     | 0.014748     | 0.010078     |
| h          | 0.019450     | 0.022546     | 0.015174     |
| conf       | 0.298042     | 0.168729     | 0.117987     |
| cls        | 0.113211     | 0.076987     | 0.100240     |
| cls_acc    | 92.31%       | 92.31%       | 92.59%       |
| recall50   | 0.923077     | 0.923077     | 0.925926     |
| recall75   | 0.884615     | 0.884615     | 0.851852     |
| precision  | 0.750000     | 0.400000     | 0.206612     |
| conf_obj   | 0.880174     | 0.949513     | 0.983706     |
| conf_noobj | 0.000670     | 0.000552     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 10:48:22.719 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.816
2020-12-20 10:48:22.800 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 10:49:23.307 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08724   | 0.51916 | 0.14937 | 0.31153 |
| 1     | Wear_helmet | 0.68861   | 0.95790 | 0.80123 | 0.94102 |
| 2     | Total       | 0.38792   | 0.73853 | 0.47530 | 0.62628 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:49:23.307 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6262760934123749
2020-12-20 10:49:23.308 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 10:49:23.308 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.508044

2020-12-20 10:49:23.763 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 2/2, epo 2/5
2020-12-20 10:49:23.764 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 2/2, epo 2/5; time cost: 0:15:11.936797

2020-12-20 10:49:23.764 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 2/2, epo 3/5
2020-12-20 10:49:24.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.357781
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.315203     | 0.712404     | 0.330174     |
| x          | 0.004880     | 0.005266     | 0.014953     |
| y          | 0.020037     | 0.007498     | 0.034309     |
| w          | 0.006525     | 0.008946     | 0.010211     |
| h          | 0.017787     | 0.012400     | 0.008053     |
| conf       | 0.253300     | 0.667363     | 0.258564     |
| cls        | 0.012675     | 0.010931     | 0.004083     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.904762     | 0.904762     |
| recall75   | 0.800000     | 0.904762     | 0.904762     |
| precision  | 0.580645     | 0.306452     | 0.140741     |
| conf_obj   | 0.951483     | 0.871967     | 0.915884     |
| conf_noobj | 0.000888     | 0.000775     | 0.000549     |
+------------+--------------+--------------+--------------+
2020-12-20 10:50:24.947 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.135814
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.320437     | 0.297094     | 0.518283     |
| x          | 0.005417     | 0.005606     | 0.025625     |
| y          | 0.002932     | 0.010981     | 0.016080     |
| w          | 0.015300     | 0.014446     | 0.005982     |
| h          | 0.015309     | 0.013226     | 0.006115     |
| conf       | 0.218233     | 0.176025     | 0.375277     |
| cls        | 0.063247     | 0.076810     | 0.089205     |
| cls_acc    | 95.45%       | 95.65%       | 95.65%       |
| recall50   | 0.909091     | 0.956522     | 0.869565     |
| recall75   | 0.818182     | 0.826087     | 0.782609     |
| precision  | 0.740741     | 0.423077     | 0.173913     |
| conf_obj   | 0.919973     | 0.955757     | 0.878336     |
| conf_noobj | 0.000627     | 0.000587     | 0.000496     |
+------------+--------------+--------------+--------------+
2020-12-20 10:51:32.203 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.722525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.330710     | 0.195818     | 0.195997     |
| x          | 0.007498     | 0.003852     | 0.012259     |
| y          | 0.005306     | 0.008724     | 0.028747     |
| w          | 0.006790     | 0.005469     | 0.004756     |
| h          | 0.017057     | 0.013399     | 0.008970     |
| conf       | 0.293484     | 0.164168     | 0.140984     |
| cls        | 0.000575     | 0.000206     | 0.000282     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 1.000000     | 1.000000     |
| recall75   | 0.789474     | 1.000000     | 1.000000     |
| precision  | 0.640000     | 0.413043     | 0.172727     |
| conf_obj   | 0.904124     | 0.949113     | 0.942092     |
| conf_noobj | 0.000568     | 0.000399     | 0.000337     |
+------------+--------------+--------------+--------------+
2020-12-20 10:52:35.072 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.118568
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.315728     | 0.445019     | 0.357820     |
| x          | 0.005315     | 0.009638     | 0.022428     |
| y          | 0.008358     | 0.013064     | 0.037106     |
| w          | 0.010204     | 0.014945     | 0.012513     |
| h          | 0.017308     | 0.015846     | 0.017270     |
| conf       | 0.196679     | 0.302836     | 0.182105     |
| cls        | 0.077864     | 0.088690     | 0.086397     |
| cls_acc    | 93.10%       | 93.75%       | 93.75%       |
| recall50   | 0.931035     | 0.906250     | 0.906250     |
| recall75   | 0.793103     | 0.750000     | 0.750000     |
| precision  | 0.750000     | 0.453125     | 0.210145     |
| conf_obj   | 0.949880     | 0.918918     | 0.952404     |
| conf_noobj | 0.000762     | 0.000742     | 0.000563     |
+------------+--------------+--------------+--------------+
2020-12-20 10:53:38.247 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.046425
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.509338     | 0.298286     | 0.238801     |
| x          | 0.006645     | 0.017312     | 0.021017     |
| y          | 0.012746     | 0.010590     | 0.031111     |
| w          | 0.029739     | 0.026169     | 0.020394     |
| h          | 0.022139     | 0.022557     | 0.015333     |
| conf       | 0.398228     | 0.201643     | 0.140827     |
| cls        | 0.039841     | 0.020015     | 0.010119     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.933333     | 1.000000     |
| recall75   | 0.857143     | 0.800000     | 0.900000     |
| precision  | 0.806452     | 0.560000     | 0.265487     |
| conf_obj   | 0.892101     | 0.925922     | 0.957066     |
| conf_noobj | 0.000487     | 0.000427     | 0.000390     |
+------------+--------------+--------------+--------------+
2020-12-20 10:54:37.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.058522
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.385427     | 0.354314     | 0.318781     |
| x          | 0.002546     | 0.011737     | 0.025303     |
| y          | 0.004900     | 0.018604     | 0.018418     |
| w          | 0.020089     | 0.016180     | 0.015629     |
| h          | 0.017084     | 0.014108     | 0.014386     |
| conf       | 0.221214     | 0.172747     | 0.186026     |
| cls        | 0.119593     | 0.120938     | 0.059020     |
| cls_acc    | 96.77%       | 96.77%       | 96.77%       |
| recall50   | 0.870968     | 0.935484     | 0.935484     |
| recall75   | 0.870968     | 0.870968     | 0.870968     |
| precision  | 0.794118     | 0.453125     | 0.210145     |
| conf_obj   | 0.919788     | 0.936815     | 0.933207     |
| conf_noobj | 0.000467     | 0.000445     | 0.000412     |
+------------+--------------+--------------+--------------+
2020-12-20 10:55:39.282 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.463321
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.181448     | 0.152934     | 0.128939     |
| x          | 0.004428     | 0.007500     | 0.015581     |
| y          | 0.003220     | 0.006626     | 0.008539     |
| w          | 0.009011     | 0.008787     | 0.004237     |
| h          | 0.007493     | 0.009544     | 0.004492     |
| conf       | 0.153141     | 0.119276     | 0.094674     |
| cls        | 0.004156     | 0.001201     | 0.001416     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.952381     | 1.000000     |
| recall75   | 0.950000     | 0.904762     | 1.000000     |
| precision  | 0.826087     | 0.512821     | 0.256098     |
| conf_obj   | 0.959862     | 0.956448     | 0.968663     |
| conf_noobj | 0.000460     | 0.000297     | 0.000254     |
+------------+--------------+--------------+--------------+
2020-12-20 10:56:40.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.444234
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.151162     | 0.149350     | 0.143722     |
| x          | 0.020063     | 0.021195     | 0.018409     |
| y          | 0.002288     | 0.004761     | 0.016276     |
| w          | 0.012447     | 0.017396     | 0.012339     |
| h          | 0.008559     | 0.006067     | 0.008266     |
| conf       | 0.105208     | 0.087509     | 0.080749     |
| cls        | 0.002598     | 0.012423     | 0.007683     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.944444     | 1.000000     |
| recall75   | 0.882353     | 0.888889     | 0.894737     |
| precision  | 0.640000     | 0.340000     | 0.179245     |
| conf_obj   | 0.991329     | 0.990586     | 0.990919     |
| conf_noobj | 0.000458     | 0.000397     | 0.000319     |
+------------+--------------+--------------+--------------+
2020-12-20 10:57:49.041 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.969007
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.344595     | 0.298742     | 0.325670     |
| x          | 0.013750     | 0.007493     | 0.013373     |
| y          | 0.006476     | 0.013042     | 0.029167     |
| w          | 0.010971     | 0.003639     | 0.007086     |
| h          | 0.017824     | 0.013281     | 0.014409     |
| conf       | 0.081214     | 0.102006     | 0.104818     |
| cls        | 0.214360     | 0.159281     | 0.156818     |
| cls_acc    | 95.45%       | 95.65%       | 95.65%       |
| recall50   | 0.909091     | 0.956522     | 0.956522     |
| recall75   | 0.863636     | 0.913043     | 0.869565     |
| precision  | 0.833333     | 0.511628     | 0.207547     |
| conf_obj   | 0.977530     | 0.978454     | 0.976669     |
| conf_noobj | 0.000343     | 0.000395     | 0.000382     |
+------------+--------------+--------------+--------------+
2020-12-20 10:58:48.118 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.989438
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.330988     | 0.385600     | 0.272849     |
| x          | 0.003522     | 0.015453     | 0.029617     |
| y          | 0.003489     | 0.012861     | 0.038450     |
| w          | 0.026273     | 0.020485     | 0.011717     |
| h          | 0.043997     | 0.025320     | 0.017898     |
| conf       | 0.144608     | 0.146620     | 0.115680     |
| cls        | 0.109099     | 0.164860     | 0.059487     |
| cls_acc    | 95.24%       | 95.45%       | 95.45%       |
| recall50   | 0.952381     | 0.954545     | 0.954545     |
| recall75   | 0.857143     | 0.772727     | 0.863636     |
| precision  | 0.689655     | 0.295775     | 0.182609     |
| conf_obj   | 0.966140     | 0.978160     | 0.980179     |
| conf_noobj | 0.000536     | 0.000604     | 0.000444     |
+------------+--------------+--------------+--------------+
2020-12-20 10:59:50.982 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.083315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.415700     | 0.349866     | 0.317749     |
| x          | 0.004630     | 0.009594     | 0.024556     |
| y          | 0.003951     | 0.008809     | 0.018171     |
| w          | 0.021817     | 0.026099     | 0.018647     |
| h          | 0.020547     | 0.016868     | 0.015546     |
| conf       | 0.275876     | 0.210871     | 0.143027     |
| cls        | 0.088880     | 0.077625     | 0.097801     |
| cls_acc    | 97.14%       | 97.14%       | 97.22%       |
| recall50   | 0.914286     | 0.914286     | 0.944444     |
| recall75   | 0.828571     | 0.857143     | 0.861111     |
| precision  | 0.761905     | 0.533333     | 0.272000     |
| conf_obj   | 0.904223     | 0.909470     | 0.946782     |
| conf_noobj | 0.000638     | 0.000448     | 0.000349     |
+------------+--------------+--------------+--------------+
2020-12-20 11:00:51.845 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.812691
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.305682     | 0.228569     | 0.278439     |
| x          | 0.013244     | 0.014425     | 0.015529     |
| y          | 0.006261     | 0.008413     | 0.015130     |
| w          | 0.037119     | 0.030179     | 0.022712     |
| h          | 0.022418     | 0.017745     | 0.011323     |
| conf       | 0.220122     | 0.148331     | 0.206833     |
| cls        | 0.006518     | 0.009477     | 0.006912     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.966667     | 0.966667     |
| recall75   | 0.821429     | 0.866667     | 0.800000     |
| precision  | 0.764706     | 0.453125     | 0.185897     |
| conf_obj   | 0.926632     | 0.983228     | 0.955045     |
| conf_noobj | 0.000794     | 0.000707     | 0.000699     |
+------------+--------------+--------------+--------------+
2020-12-20 11:01:57.857 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.239987
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.437172     | 0.366821     | 0.435995     |
| x          | 0.019567     | 0.018570     | 0.039935     |
| y          | 0.009614     | 0.027399     | 0.027334     |
| w          | 0.022729     | 0.024724     | 0.011369     |
| h          | 0.014711     | 0.012550     | 0.016373     |
| conf       | 0.227030     | 0.153902     | 0.219884     |
| cls        | 0.143521     | 0.129677     | 0.121100     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.863636     | 0.863636     | 0.863636     |
| recall75   | 0.818182     | 0.727273     | 0.772727     |
| precision  | 0.558824     | 0.345455     | 0.154472     |
| conf_obj   | 0.933868     | 0.958897     | 0.903274     |
| conf_noobj | 0.000991     | 0.000617     | 0.000426     |
+------------+--------------+--------------+--------------+
2020-12-20 11:03:01.772 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.261035
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.401188     | 0.420359     | 0.439489     |
| x          | 0.010770     | 0.012084     | 0.014588     |
| y          | 0.002963     | 0.007782     | 0.013592     |
| w          | 0.017678     | 0.016323     | 0.009913     |
| h          | 0.016228     | 0.010537     | 0.005806     |
| conf       | 0.333153     | 0.364790     | 0.391196     |
| cls        | 0.020394     | 0.008843     | 0.004393     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.846154     | 0.923077     |
| recall75   | 0.923077     | 0.846154     | 0.923077     |
| precision  | 0.631579     | 0.282051     | 0.141176     |
| conf_obj   | 0.924055     | 0.869205     | 0.890471     |
| conf_noobj | 0.000870     | 0.000590     | 0.000403     |
+------------+--------------+--------------+--------------+
2020-12-20 11:03:05.262 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.842
2020-12-20 11:03:05.265 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 11:04:01.224 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09915   | 0.44599 | 0.16223 | 0.27634 |
| 1     | Wear_helmet | 0.56253   | 0.97613 | 0.71374 | 0.95096 |
| 2     | Total       | 0.33084   | 0.71106 | 0.43799 | 0.61365 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:04:01.224 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6136466765547854
2020-12-20 11:04:01.225 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 11:04:01.225 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.959850

2020-12-20 11:04:01.697 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 2/2, epo 3/5
2020-12-20 11:04:01.697 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 2/2, epo 3/5; time cost: 0:14:37.932887

2020-12-20 11:04:01.698 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 2/2, epo 4/5
2020-12-20 11:04:03.275 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.645888
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.251772     | 0.185535     | 0.208581     |
| x          | 0.003799     | 0.005537     | 0.032947     |
| y          | 0.004709     | 0.010760     | 0.022984     |
| w          | 0.016890     | 0.014218     | 0.015367     |
| h          | 0.014956     | 0.009808     | 0.016279     |
| conf       | 0.208528     | 0.142612     | 0.114628     |
| cls        | 0.002890     | 0.002600     | 0.006376     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 0.960000     |
| recall75   | 0.909091     | 0.913043     | 0.840000     |
| precision  | 0.807692     | 0.433962     | 0.171429     |
| conf_obj   | 0.917641     | 0.962601     | 0.977106     |
| conf_noobj | 0.000657     | 0.000520     | 0.000450     |
+------------+--------------+--------------+--------------+
2020-12-20 11:05:11.300 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.329073
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.422191     | 0.467709     | 0.439173     |
| x          | 0.011774     | 0.016032     | 0.018934     |
| y          | 0.016478     | 0.013175     | 0.040859     |
| w          | 0.021052     | 0.019376     | 0.015134     |
| h          | 0.016368     | 0.019658     | 0.015497     |
| conf       | 0.328217     | 0.344090     | 0.239607     |
| cls        | 0.028302     | 0.055377     | 0.109142     |
| cls_acc    | 97.78%       | 97.87%       | 97.92%       |
| recall50   | 0.888889     | 0.893617     | 0.958333     |
| recall75   | 0.844444     | 0.723404     | 0.750000     |
| precision  | 0.769231     | 0.477273     | 0.232323     |
| conf_obj   | 0.895425     | 0.878588     | 0.907103     |
| conf_noobj | 0.000666     | 0.000677     | 0.000547     |
+------------+--------------+--------------+--------------+
2020-12-20 11:06:12.521 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.518694
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.136792     | 0.199929     | 0.181973     |
| x          | 0.010163     | 0.013523     | 0.032764     |
| y          | 0.001898     | 0.004828     | 0.017787     |
| w          | 0.012948     | 0.010655     | 0.008219     |
| h          | 0.006967     | 0.006372     | 0.004422     |
| conf       | 0.102924     | 0.163463     | 0.118008     |
| cls        | 0.001892     | 0.001088     | 0.000774     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.960000     | 0.960000     |
| precision  | 0.892857     | 0.480769     | 0.219298     |
| conf_obj   | 0.972404     | 0.956657     | 0.984019     |
| conf_noobj | 0.000311     | 0.000540     | 0.000476     |
+------------+--------------+--------------+--------------+
2020-12-20 11:07:14.720 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.614162
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.198623     | 0.227565     | 0.187975     |
| x          | 0.002770     | 0.004940     | 0.016658     |
| y          | 0.007258     | 0.012730     | 0.021807     |
| w          | 0.012716     | 0.009281     | 0.005481     |
| h          | 0.013824     | 0.016100     | 0.006345     |
| conf       | 0.159485     | 0.184065     | 0.137306     |
| cls        | 0.002570     | 0.000449     | 0.000377     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 0.968750     |
| recall75   | 0.875000     | 0.937500     | 0.937500     |
| precision  | 0.857143     | 0.390244     | 0.246032     |
| conf_obj   | 0.936632     | 0.948559     | 0.955604     |
| conf_noobj | 0.000455     | 0.000610     | 0.000375     |
+------------+--------------+--------------+--------------+
2020-12-20 11:08:18.272 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.537022
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.177052     | 0.158102     | 0.201869     |
| x          | 0.002951     | 0.008701     | 0.033253     |
| y          | 0.003923     | 0.005126     | 0.017918     |
| w          | 0.021282     | 0.007289     | 0.006515     |
| h          | 0.007970     | 0.006448     | 0.005400     |
| conf       | 0.097092     | 0.110017     | 0.080033     |
| cls        | 0.043834     | 0.020522     | 0.058749     |
| cls_acc    | 95.00%       | 100.00%      | 95.00%       |
| recall50   | 0.950000     | 1.000000     | 0.950000     |
| recall75   | 0.950000     | 1.000000     | 0.900000     |
| precision  | 0.760000     | 0.400000     | 0.226190     |
| conf_obj   | 0.977024     | 0.981142     | 0.989704     |
| conf_noobj | 0.000501     | 0.000476     | 0.000330     |
+------------+--------------+--------------+--------------+
2020-12-20 11:09:20.548 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.586394
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.544207     | 0.518482     | 0.523706     |
| x          | 0.013200     | 0.018145     | 0.033691     |
| y          | 0.010548     | 0.021202     | 0.034508     |
| w          | 0.026046     | 0.016933     | 0.019128     |
| h          | 0.028369     | 0.018809     | 0.015387     |
| conf       | 0.460654     | 0.438116     | 0.403898     |
| cls        | 0.005390     | 0.005277     | 0.017094     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.883721     | 0.847826     | 0.893617     |
| recall75   | 0.837209     | 0.760870     | 0.787234     |
| precision  | 0.791667     | 0.458824     | 0.283784     |
| conf_obj   | 0.865020     | 0.847916     | 0.870757     |
| conf_noobj | 0.000836     | 0.000728     | 0.000513     |
+------------+--------------+--------------+--------------+
2020-12-20 11:10:26.434 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.695448
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.260498     | 0.195265     | 0.239685     |
| x          | 0.001152     | 0.004994     | 0.014453     |
| y          | 0.001831     | 0.006301     | 0.014527     |
| w          | 0.013042     | 0.018067     | 0.007783     |
| h          | 0.009263     | 0.012590     | 0.004427     |
| conf       | 0.230431     | 0.147004     | 0.196765     |
| cls        | 0.004778     | 0.006308     | 0.001729     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 1.000000     | 1.000000     | 0.857143     |
| precision  | 0.666667     | 0.357143     | 0.162602     |
| conf_obj   | 0.963514     | 0.980996     | 0.949214     |
| conf_noobj | 0.000763     | 0.000637     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 11:11:31.814 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.720500
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.238308     | 0.248285     | 0.233907     |
| x          | 0.008651     | 0.010103     | 0.015462     |
| y          | 0.012886     | 0.011031     | 0.021207     |
| w          | 0.026789     | 0.020600     | 0.016302     |
| h          | 0.024411     | 0.012405     | 0.015568     |
| conf       | 0.137975     | 0.191163     | 0.158995     |
| cls        | 0.027596     | 0.002983     | 0.006374     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.960000     | 0.961538     |
| recall75   | 0.791667     | 0.880000     | 0.884615     |
| precision  | 0.814815     | 0.489796     | 0.219298     |
| conf_obj   | 0.953510     | 0.940025     | 0.955243     |
| conf_noobj | 0.000460     | 0.000436     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 11:12:34.519 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.608144
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.229708     | 0.164559     | 0.213878     |
| x          | 0.010681     | 0.015842     | 0.016716     |
| y          | 0.004536     | 0.016367     | 0.033664     |
| w          | 0.016555     | 0.008121     | 0.002548     |
| h          | 0.012500     | 0.004382     | 0.004866     |
| conf       | 0.166182     | 0.102946     | 0.083750     |
| cls        | 0.019255     | 0.016899     | 0.072334     |
| cls_acc    | 100.00%      | 100.00%      | 94.12%       |
| recall50   | 1.000000     | 1.000000     | 0.941176     |
| recall75   | 0.875000     | 0.812500     | 0.882353     |
| precision  | 0.761905     | 0.421053     | 0.181818     |
| conf_obj   | 0.938919     | 0.975482     | 0.980765     |
| conf_noobj | 0.000549     | 0.000352     | 0.000295     |
+------------+--------------+--------------+--------------+
2020-12-20 11:13:37.559 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.621662
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.136994     | 0.186444     | 0.298224     |
| x          | 0.014157     | 0.034971     | 0.020253     |
| y          | 0.008146     | 0.025154     | 0.034765     |
| w          | 0.011666     | 0.011551     | 0.008903     |
| h          | 0.011318     | 0.010192     | 0.011148     |
| conf       | 0.090922     | 0.104036     | 0.222188     |
| cls        | 0.000785     | 0.000542     | 0.000966     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.956522     |
| recall75   | 0.956522     | 0.956522     | 0.869565     |
| precision  | 0.884615     | 0.511111     | 0.231579     |
| conf_obj   | 0.955692     | 0.957507     | 0.920938     |
| conf_noobj | 0.000285     | 0.000309     | 0.000310     |
+------------+--------------+--------------+--------------+
2020-12-20 11:14:40.923 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.735018
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.212403     | 0.280812     | 0.241803     |
| x          | 0.014779     | 0.011901     | 0.013986     |
| y          | 0.009071     | 0.008397     | 0.018712     |
| w          | 0.016931     | 0.031070     | 0.029345     |
| h          | 0.014074     | 0.020502     | 0.022332     |
| conf       | 0.147034     | 0.173465     | 0.147303     |
| cls        | 0.010514     | 0.035478     | 0.010124     |
| cls_acc    | 100.00%      | 96.43%       | 100.00%      |
| recall50   | 0.961538     | 0.964286     | 1.000000     |
| recall75   | 0.807692     | 0.750000     | 0.827586     |
| precision  | 0.735294     | 0.435484     | 0.204225     |
| conf_obj   | 0.965908     | 0.969937     | 0.969118     |
| conf_noobj | 0.000639     | 0.000683     | 0.000542     |
+------------+--------------+--------------+--------------+
2020-12-20 11:15:40.346 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.572537
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.163929     | 0.204465     | 0.204143     |
| x          | 0.006173     | 0.006707     | 0.015244     |
| y          | 0.003631     | 0.003606     | 0.016545     |
| w          | 0.010161     | 0.012148     | 0.008624     |
| h          | 0.027724     | 0.011228     | 0.012405     |
| conf       | 0.115254     | 0.170104     | 0.147142     |
| cls        | 0.000986     | 0.000672     | 0.004183     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.750000     | 0.406250     | 0.153846     |
| conf_obj   | 0.984005     | 0.931234     | 0.953038     |
| conf_noobj | 0.000513     | 0.000428     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 11:16:47.483 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.545590
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.742688     | 0.408508     | 0.394393     |
| x          | 0.003118     | 0.006261     | 0.012396     |
| y          | 0.004545     | 0.007502     | 0.026674     |
| w          | 0.025867     | 0.014364     | 0.009664     |
| h          | 0.015162     | 0.010483     | 0.012217     |
| conf       | 0.421295     | 0.158169     | 0.143571     |
| cls        | 0.272701     | 0.211730     | 0.189871     |
| cls_acc    | 95.65%       | 95.65%       | 95.65%       |
| recall50   | 0.913043     | 0.956522     | 0.956522     |
| recall75   | 0.913043     | 0.956522     | 0.826087     |
| precision  | 0.583333     | 0.415094     | 0.188034     |
| conf_obj   | 0.898110     | 0.966496     | 0.961494     |
| conf_noobj | 0.000903     | 0.000480     | 0.000435     |
+------------+--------------+--------------+--------------+
2020-12-20 11:17:54.569 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.829847
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.289489     | 0.239936     | 0.300422     |
| x          | 0.013781     | 0.010863     | 0.024634     |
| y          | 0.007246     | 0.018171     | 0.031217     |
| w          | 0.033533     | 0.019676     | 0.010255     |
| h          | 0.022877     | 0.010108     | 0.013033     |
| conf       | 0.204632     | 0.171532     | 0.211067     |
| cls        | 0.007419     | 0.009586     | 0.010215     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.969697     | 0.969697     |
| recall75   | 0.875000     | 0.848485     | 0.848485     |
| precision  | 0.680851     | 0.444444     | 0.176796     |
| conf_obj   | 0.947362     | 0.962201     | 0.923017     |
| conf_noobj | 0.000835     | 0.000587     | 0.000547     |
+------------+--------------+--------------+--------------+
2020-12-20 11:17:58.555 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.793
2020-12-20 11:17:58.560 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 11:18:54.498 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07241   | 0.51568 | 0.12698 | 0.32110 |
| 1     | Wear_helmet | 0.51153   | 0.96267 | 0.66807 | 0.93939 |
| 2     | Total       | 0.29197   | 0.73918 | 0.39753 | 0.63025 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:18:54.499 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6302462845260826
2020-12-20 11:18:54.499 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 11:18:54.499 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.938802

2020-12-20 11:18:55.036 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 2/2, epo 4/5
2020-12-20 11:18:55.037 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 2/2, epo 4/5; time cost: 0:14:53.338493

2020-12-20 11:18:55.037 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 2/2, epo 5/5
2020-12-20 11:18:56.703 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.834980
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.324241     | 0.216674     | 0.294065     |
| x          | 0.019479     | 0.006168     | 0.018355     |
| y          | 0.007435     | 0.012411     | 0.038550     |
| w          | 0.024955     | 0.019992     | 0.017898     |
| h          | 0.022591     | 0.021690     | 0.005479     |
| conf       | 0.196864     | 0.134276     | 0.155566     |
| cls        | 0.052918     | 0.022139     | 0.058217     |
| cls_acc    | 96.15%       | 100.00%      | 96.15%       |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.769231     | 0.923077     | 0.884615     |
| precision  | 0.781250     | 0.384615     | 0.193798     |
| conf_obj   | 0.938534     | 0.966036     | 0.948329     |
| conf_noobj | 0.000462     | 0.000448     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 11:20:04.615 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.537842
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.223026     | 0.135157     | 0.179659     |
| x          | 0.004687     | 0.003113     | 0.011435     |
| y          | 0.003534     | 0.008615     | 0.032899     |
| w          | 0.020355     | 0.011698     | 0.006635     |
| h          | 0.031066     | 0.015721     | 0.010905     |
| conf       | 0.157614     | 0.093480     | 0.111768     |
| cls        | 0.005770     | 0.002531     | 0.006016     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.937500     | 0.937500     |
| precision  | 0.727273     | 0.421053     | 0.146789     |
| conf_obj   | 0.978612     | 0.993818     | 0.973747     |
| conf_noobj | 0.000546     | 0.000461     | 0.000413     |
+------------+--------------+--------------+--------------+
2020-12-20 11:21:09.356 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.566198
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.223387     | 0.176215     | 0.166595     |
| x          | 0.026010     | 0.005921     | 0.011522     |
| y          | 0.003246     | 0.007260     | 0.015709     |
| w          | 0.011878     | 0.011245     | 0.006654     |
| h          | 0.015567     | 0.013370     | 0.009330     |
| conf       | 0.154310     | 0.116116     | 0.109284     |
| cls        | 0.012376     | 0.022305     | 0.014096     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 1.000000     | 1.000000     |
| recall75   | 0.807692     | 0.896552     | 0.862069     |
| precision  | 0.648649     | 0.467742     | 0.219697     |
| conf_obj   | 0.982120     | 0.983243     | 0.992294     |
| conf_noobj | 0.000656     | 0.000463     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 11:22:11.980 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.417932
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.084084     | 0.115432     | 0.218417     |
| x          | 0.002510     | 0.003984     | 0.012527     |
| y          | 0.005416     | 0.008340     | 0.015916     |
| w          | 0.006497     | 0.009068     | 0.008524     |
| h          | 0.008819     | 0.004830     | 0.009135     |
| conf       | 0.058012     | 0.080003     | 0.168037     |
| cls        | 0.002831     | 0.009207     | 0.004278     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.954545     |
| recall75   | 1.000000     | 1.000000     | 0.954545     |
| precision  | 0.840000     | 0.478261     | 0.238636     |
| conf_obj   | 0.987944     | 0.989277     | 0.941938     |
| conf_noobj | 0.000297     | 0.000301     | 0.000248     |
+------------+--------------+--------------+--------------+
2020-12-20 11:23:15.093 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.839872
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.327046     | 0.270658     | 0.242168     |
| x          | 0.016383     | 0.017847     | 0.017212     |
| y          | 0.006032     | 0.010004     | 0.023662     |
| w          | 0.024474     | 0.022806     | 0.012230     |
| h          | 0.030542     | 0.026854     | 0.016923     |
| conf       | 0.214213     | 0.170840     | 0.125667     |
| cls        | 0.035401     | 0.022307     | 0.046473     |
| cls_acc    | 96.55%       | 100.00%      | 96.97%       |
| recall50   | 0.896552     | 0.937500     | 0.969697     |
| recall75   | 0.793103     | 0.843750     | 0.818182     |
| precision  | 0.684211     | 0.500000     | 0.231884     |
| conf_obj   | 0.913546     | 0.932864     | 0.972846     |
| conf_noobj | 0.000618     | 0.000446     | 0.000440     |
+------------+--------------+--------------+--------------+
2020-12-20 11:24:22.775 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.710649
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.216779     | 0.222374     | 0.271495     |
| x          | 0.032839     | 0.017272     | 0.007215     |
| y          | 0.005821     | 0.010119     | 0.020403     |
| w          | 0.021638     | 0.016495     | 0.023344     |
| h          | 0.069528     | 0.065342     | 0.053413     |
| conf       | 0.072133     | 0.098198     | 0.130390     |
| cls        | 0.014821     | 0.014949     | 0.036731     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 0.941176     |
| recall75   | 0.882353     | 0.823529     | 0.705882     |
| precision  | 0.800000     | 0.432432     | 0.173913     |
| conf_obj   | 0.984089     | 0.967604     | 0.945759     |
| conf_noobj | 0.000356     | 0.000334     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 11:25:24.883 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.716269
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.236474     | 0.211672     | 0.268124     |
| x          | 0.005380     | 0.008092     | 0.025438     |
| y          | 0.004175     | 0.009582     | 0.022246     |
| w          | 0.035850     | 0.029130     | 0.025342     |
| h          | 0.015113     | 0.021219     | 0.014198     |
| conf       | 0.175066     | 0.143372     | 0.180367     |
| cls        | 0.000889     | 0.000277     | 0.000534     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 0.960000     |
| recall75   | 0.833333     | 0.840000     | 0.840000     |
| precision  | 0.884615     | 0.585366     | 0.244898     |
| conf_obj   | 0.921856     | 0.947491     | 0.940164     |
| conf_noobj | 0.000359     | 0.000362     | 0.000395     |
+------------+--------------+--------------+--------------+
2020-12-20 11:26:31.949 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.773196
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.342441     | 0.231258     | 0.199497     |
| x          | 0.008030     | 0.015852     | 0.015664     |
| y          | 0.009485     | 0.009081     | 0.027727     |
| w          | 0.036437     | 0.025427     | 0.025281     |
| h          | 0.024598     | 0.024246     | 0.011562     |
| conf       | 0.249017     | 0.150166     | 0.104686     |
| cls        | 0.014873     | 0.006485     | 0.014577     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.840000     | 0.961538     | 1.000000     |
| recall75   | 0.800000     | 0.884615     | 0.785714     |
| precision  | 0.724138     | 0.423729     | 0.215385     |
| conf_obj   | 0.899100     | 0.944578     | 0.974534     |
| conf_noobj | 0.000526     | 0.000434     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 11:27:33.862 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.511683
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.176502     | 0.144292     | 0.190889     |
| x          | 0.008782     | 0.011583     | 0.026928     |
| y          | 0.003266     | 0.005123     | 0.014255     |
| w          | 0.015591     | 0.019243     | 0.008228     |
| h          | 0.014640     | 0.012093     | 0.005452     |
| conf       | 0.133327     | 0.094522     | 0.129865     |
| cls        | 0.000895     | 0.001729     | 0.006161     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 0.961538     |
| recall75   | 0.884615     | 0.961538     | 0.923077     |
| precision  | 0.892857     | 0.500000     | 0.247525     |
| conf_obj   | 0.939777     | 0.972030     | 0.949774     |
| conf_noobj | 0.000227     | 0.000286     | 0.000275     |
+------------+--------------+--------------+--------------+
2020-12-20 11:28:39.710 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.521083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.209385     | 0.158816     | 0.152882     |
| x          | 0.010365     | 0.023677     | 0.013263     |
| y          | 0.010073     | 0.018513     | 0.021190     |
| w          | 0.015072     | 0.010806     | 0.009242     |
| h          | 0.017767     | 0.014907     | 0.013131     |
| conf       | 0.123469     | 0.077807     | 0.079694     |
| cls        | 0.032639     | 0.013105     | 0.016362     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 0.750000     | 0.823529     | 0.888889     |
| precision  | 0.727273     | 0.470588     | 0.209302     |
| conf_obj   | 0.976349     | 0.983618     | 0.981564     |
| conf_noobj | 0.000432     | 0.000267     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 11:29:43.274 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.391423
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.117278     | 0.122052     | 0.152092     |
| x          | 0.003781     | 0.009358     | 0.036109     |
| y          | 0.002922     | 0.006342     | 0.011290     |
| w          | 0.006543     | 0.013697     | 0.017410     |
| h          | 0.033848     | 0.023435     | 0.013468     |
| conf       | 0.070022     | 0.069155     | 0.073744     |
| cls        | 0.000162     | 0.000065     | 0.000071     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.947368     | 0.947368     |
| precision  | 0.826087     | 0.575758     | 0.243590     |
| conf_obj   | 0.990468     | 0.992151     | 0.994597     |
| conf_noobj | 0.000334     | 0.000317     | 0.000295     |
+------------+--------------+--------------+--------------+
2020-12-20 11:30:51.799 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.168335
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.494476     | 0.367645     | 0.306214     |
| x          | 0.031267     | 0.013244     | 0.021501     |
| y          | 0.012713     | 0.019720     | 0.017221     |
| w          | 0.041261     | 0.031019     | 0.030814     |
| h          | 0.042965     | 0.035328     | 0.029444     |
| conf       | 0.364623     | 0.267695     | 0.206605     |
| cls        | 0.001648     | 0.000639     | 0.000627     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.840000     | 0.888889     | 0.962963     |
| recall75   | 0.840000     | 0.851852     | 0.777778     |
| precision  | 0.656250     | 0.363636     | 0.200000     |
| conf_obj   | 0.893425     | 0.923234     | 0.950999     |
| conf_noobj | 0.000917     | 0.000782     | 0.000577     |
+------------+--------------+--------------+--------------+
2020-12-20 11:32:00.565 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.620824
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.202467     | 0.211172     | 0.207184     |
| x          | 0.004286     | 0.006630     | 0.018257     |
| y          | 0.006119     | 0.008789     | 0.017313     |
| w          | 0.017787     | 0.023113     | 0.012260     |
| h          | 0.058604     | 0.040125     | 0.048425     |
| conf       | 0.110102     | 0.128911     | 0.109296     |
| cls        | 0.005570     | 0.003604     | 0.001634     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.833333     | 0.791667     |
| precision  | 0.923077     | 0.571429     | 0.230769     |
| conf_obj   | 0.949161     | 0.960406     | 0.981574     |
| conf_noobj | 0.000316     | 0.000448     | 0.000411     |
+------------+--------------+--------------+--------------+
2020-12-20 11:33:01.742 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.620040
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.245931     | 0.198897     | 0.175211     |
| x          | 0.004836     | 0.008127     | 0.017579     |
| y          | 0.002426     | 0.005873     | 0.017365     |
| w          | 0.035416     | 0.029414     | 0.016381     |
| h          | 0.022915     | 0.022339     | 0.008601     |
| conf       | 0.175995     | 0.131982     | 0.114176     |
| cls        | 0.004343     | 0.001163     | 0.001109     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 1.000000     |
| recall75   | 0.869565     | 0.956522     | 0.956522     |
| precision  | 0.758621     | 0.450980     | 0.166667     |
| conf_obj   | 0.956813     | 0.971716     | 0.986442     |
| conf_noobj | 0.000722     | 0.000472     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 11:33:05.020 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.808
2020-12-20 11:33:05.022 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 11:33:58.285 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10052   | 0.47038 | 0.16564 | 0.30482 |
| 1     | Wear_helmet | 0.59063   | 0.96311 | 0.73222 | 0.93939 |
| 2     | Total       | 0.34558   | 0.71675 | 0.44893 | 0.62210 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:33:58.285 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6221013538825169
2020-12-20 11:33:58.286 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 11:33:58.286 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.263544

2020-12-20 11:33:58.785 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 2/2, epo 5/5
2020-12-20 11:33:58.786 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 2/2, epo 5/5; time cost: 0:15:03.748128

2020-12-20 11:33:58.786 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.826
2020-12-20 11:33:59.007 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 11:38:07.664 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15124   | 0.60743 | 0.24218 | 0.45114 |
| 1     | Wear_helmet | 0.47132   | 0.92797 | 0.62513 | 0.88348 |
| 2     | Total       | 0.31128   | 0.76770 | 0.43366 | 0.66731 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:38:07.665 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6673112467166945
2020-12-20 11:38:07.665 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 11:38:07.665 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:08.657969

2020-12-20 11:39:19.250 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 15!
2020-12-20 11:39:19.398 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 2/2, epo 1/5
2020-12-20 11:39:20.829 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.585467
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.622408     | 0.527967     | 0.435093     |
| x          | 0.003949     | 0.009937     | 0.024215     |
| y          | 0.003687     | 0.010581     | 0.026771     |
| w          | 0.013268     | 0.008606     | 0.012894     |
| h          | 0.009246     | 0.005811     | 0.005293     |
| conf       | 0.101981     | 0.130907     | 0.079629     |
| cls        | 0.490277     | 0.362124     | 0.286291     |
| cls_acc    | 94.12%       | 94.12%       | 94.12%       |
| recall50   | 0.941176     | 0.941176     | 0.941176     |
| recall75   | 0.941176     | 0.882353     | 0.882353     |
| precision  | 0.666667     | 0.333333     | 0.181818     |
| conf_obj   | 0.990323     | 0.977072     | 0.988656     |
| conf_noobj | 0.000466     | 0.000484     | 0.000302     |
+------------+--------------+--------------+--------------+
2020-12-20 11:40:26.605 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.625074
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.226495     | 0.204663     | 0.193916     |
| x          | 0.002751     | 0.009185     | 0.019568     |
| y          | 0.004734     | 0.011008     | 0.022574     |
| w          | 0.021834     | 0.016769     | 0.016868     |
| h          | 0.012159     | 0.011300     | 0.009450     |
| conf       | 0.155060     | 0.119030     | 0.103901     |
| cls        | 0.029958     | 0.037371     | 0.021555     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.947368     | 0.894737     |
| precision  | 0.703704     | 0.351852     | 0.138686     |
| conf_obj   | 0.967842     | 0.986571     | 0.987326     |
| conf_noobj | 0.000544     | 0.000480     | 0.000406     |
+------------+--------------+--------------+--------------+
2020-12-20 11:41:36.261 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.379126
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.085056     | 0.169825     | 0.124244     |
| x          | 0.002149     | 0.006434     | 0.023012     |
| y          | 0.002053     | 0.007431     | 0.021547     |
| w          | 0.010322     | 0.006652     | 0.008360     |
| h          | 0.016301     | 0.015901     | 0.011305     |
| conf       | 0.053971     | 0.133167     | 0.059316     |
| cls        | 0.000261     | 0.000241     | 0.000705     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 0.937500     | 0.875000     | 0.937500     |
| precision  | 0.842105     | 0.416667     | 0.253968     |
| conf_obj   | 0.988777     | 0.952027     | 0.989337     |
| conf_noobj | 0.000259     | 0.000265     | 0.000211     |
+------------+--------------+--------------+--------------+
2020-12-20 11:42:41.992 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.307560
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.323266     | 0.503100     | 0.481194     |
| x          | 0.010802     | 0.022338     | 0.025268     |
| y          | 0.010747     | 0.009996     | 0.020994     |
| w          | 0.009867     | 0.006698     | 0.005956     |
| h          | 0.007870     | 0.008722     | 0.010942     |
| conf       | 0.143580     | 0.145521     | 0.116898     |
| cls        | 0.140400     | 0.309824     | 0.301136     |
| cls_acc    | 94.74%       | 95.00%       | 95.00%       |
| recall50   | 0.894737     | 0.950000     | 0.950000     |
| recall75   | 0.894737     | 0.850000     | 0.900000     |
| precision  | 0.629630     | 0.365385     | 0.177570     |
| conf_obj   | 0.947068     | 0.951144     | 0.962765     |
| conf_noobj | 0.000507     | 0.000480     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 11:43:49.090 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.136752
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.377035     | 0.362395     | 0.397322     |
| x          | 0.004098     | 0.009317     | 0.023338     |
| y          | 0.010581     | 0.019297     | 0.024357     |
| w          | 0.008823     | 0.006724     | 0.007645     |
| h          | 0.015851     | 0.010133     | 0.018416     |
| conf       | 0.303415     | 0.300826     | 0.250811     |
| cls        | 0.034267     | 0.016098     | 0.072755     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.923077     | 0.892857     | 0.896552     |
| recall75   | 0.884615     | 0.785714     | 0.793103     |
| precision  | 0.727273     | 0.454545     | 0.181818     |
| conf_obj   | 0.914257     | 0.889509     | 0.919722     |
| conf_noobj | 0.000618     | 0.000416     | 0.000390     |
+------------+--------------+--------------+--------------+
2020-12-20 11:44:59.226 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.748631
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.307749     | 0.222573     | 0.218309     |
| x          | 0.011999     | 0.023526     | 0.045600     |
| y          | 0.003789     | 0.010548     | 0.028228     |
| w          | 0.011263     | 0.008878     | 0.011185     |
| h          | 0.005873     | 0.005696     | 0.008644     |
| conf       | 0.266197     | 0.169473     | 0.123272     |
| cls        | 0.008628     | 0.004452     | 0.001380     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 1.000000     | 1.000000     |
| recall75   | 0.846154     | 0.884615     | 0.888889     |
| precision  | 0.600000     | 0.393939     | 0.198529     |
| conf_obj   | 0.927219     | 0.961232     | 0.977939     |
| conf_noobj | 0.000832     | 0.000615     | 0.000436     |
+------------+--------------+--------------+--------------+
2020-12-20 11:46:05.743 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.743722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.606154     | 0.563445     | 0.574123     |
| x          | 0.015129     | 0.011578     | 0.018603     |
| y          | 0.004400     | 0.017161     | 0.020536     |
| w          | 0.024062     | 0.014847     | 0.017611     |
| h          | 0.018153     | 0.013485     | 0.019155     |
| conf       | 0.324082     | 0.284876     | 0.215030     |
| cls        | 0.220327     | 0.221498     | 0.283187     |
| cls_acc    | 89.29%       | 89.29%       | 89.29%       |
| recall50   | 0.892857     | 0.857143     | 0.892857     |
| recall75   | 0.892857     | 0.821429     | 0.785714     |
| precision  | 0.657895     | 0.406780     | 0.173611     |
| conf_obj   | 0.916989     | 0.917521     | 0.950295     |
| conf_noobj | 0.001089     | 0.000819     | 0.000719     |
+------------+--------------+--------------+--------------+
2020-12-20 11:47:11.104 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.662382
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.287694     | 0.203590     | 0.171098     |
| x          | 0.008161     | 0.030478     | 0.028754     |
| y          | 0.004840     | 0.016250     | 0.023300     |
| w          | 0.014223     | 0.022461     | 0.009306     |
| h          | 0.020515     | 0.017845     | 0.012361     |
| conf       | 0.236566     | 0.113483     | 0.090676     |
| cls        | 0.003388     | 0.003074     | 0.006702     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.947368     | 1.000000     |
| recall75   | 0.842105     | 0.789474     | 0.950000     |
| precision  | 0.809524     | 0.428571     | 0.238095     |
| conf_obj   | 0.908992     | 0.957331     | 0.974328     |
| conf_noobj | 0.000312     | 0.000304     | 0.000263     |
+------------+--------------+--------------+--------------+
2020-12-20 11:48:18.821 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.877072
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.328660     | 0.318398     | 0.230014     |
| x          | 0.007146     | 0.008588     | 0.032091     |
| y          | 0.007372     | 0.012024     | 0.032567     |
| w          | 0.012785     | 0.010683     | 0.009274     |
| h          | 0.027858     | 0.021311     | 0.013917     |
| conf       | 0.271963     | 0.264078     | 0.131948     |
| cls        | 0.001537     | 0.001714     | 0.010218     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.920000     | 1.000000     |
| recall75   | 0.840000     | 0.800000     | 0.840000     |
| precision  | 0.638889     | 0.343284     | 0.200000     |
| conf_obj   | 0.895970     | 0.894983     | 0.958692     |
| conf_noobj | 0.000675     | 0.000554     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 11:49:23.033 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.026581
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.157149     | 0.431661     | 0.437771     |
| x          | 0.003721     | 0.009445     | 0.016940     |
| y          | 0.002416     | 0.012848     | 0.014090     |
| w          | 0.010902     | 0.012880     | 0.008811     |
| h          | 0.013007     | 0.011738     | 0.006379     |
| conf       | 0.124793     | 0.379379     | 0.390217     |
| cls        | 0.002310     | 0.005372     | 0.001335     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.884615     | 0.923077     |
| recall75   | 1.000000     | 0.846154     | 0.923077     |
| precision  | 0.851852     | 0.547619     | 0.237624     |
| conf_obj   | 0.962913     | 0.885718     | 0.903283     |
| conf_noobj | 0.000412     | 0.000367     | 0.000407     |
+------------+--------------+--------------+--------------+
2020-12-20 11:50:23.386 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.759120
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.342372     | 0.222584     | 0.194164     |
| x          | 0.001927     | 0.006354     | 0.019477     |
| y          | 0.004369     | 0.007509     | 0.018367     |
| w          | 0.022628     | 0.031152     | 0.018800     |
| h          | 0.021114     | 0.018533     | 0.012927     |
| conf       | 0.224138     | 0.134779     | 0.088580     |
| cls        | 0.068196     | 0.024256     | 0.036014     |
| cls_acc    | 100.00%      | 100.00%      | 96.30%       |
| recall50   | 0.923077     | 0.962963     | 0.962963     |
| recall75   | 0.884615     | 0.888889     | 0.851852     |
| precision  | 0.857143     | 0.590909     | 0.240741     |
| conf_obj   | 0.908906     | 0.945998     | 0.974124     |
| conf_noobj | 0.000381     | 0.000335     | 0.000308     |
+------------+--------------+--------------+--------------+
2020-12-20 11:51:31.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.608296
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.205738     | 0.168806     | 0.233752     |
| x          | 0.002100     | 0.005828     | 0.021997     |
| y          | 0.003667     | 0.011922     | 0.028392     |
| w          | 0.008611     | 0.012181     | 0.007830     |
| h          | 0.018471     | 0.010252     | 0.013371     |
| conf       | 0.144204     | 0.112673     | 0.147290     |
| cls        | 0.028686     | 0.015950     | 0.014872     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 0.956522     |
| recall75   | 0.956522     | 0.956522     | 0.913043     |
| precision  | 0.916667     | 0.433962     | 0.234043     |
| conf_obj   | 0.943430     | 0.966475     | 0.944669     |
| conf_noobj | 0.000310     | 0.000384     | 0.000276     |
+------------+--------------+--------------+--------------+
2020-12-20 11:52:34.768 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.008757
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.376629     | 0.353084     | 0.279043     |
| x          | 0.014473     | 0.006212     | 0.016932     |
| y          | 0.019481     | 0.013080     | 0.023960     |
| w          | 0.025136     | 0.018068     | 0.016030     |
| h          | 0.021578     | 0.018092     | 0.012564     |
| conf       | 0.202897     | 0.197564     | 0.120740     |
| cls        | 0.093063     | 0.100069     | 0.088817     |
| cls_acc    | 96.88%       | 94.29%       | 97.14%       |
| recall50   | 0.875000     | 0.942857     | 0.971429     |
| recall75   | 0.718750     | 0.800000     | 0.800000     |
| precision  | 0.717949     | 0.428571     | 0.244604     |
| conf_obj   | 0.924473     | 0.944597     | 0.976619     |
| conf_noobj | 0.000698     | 0.000713     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 11:53:41.612 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.566252
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.205816     | 0.176259     | 0.184176     |
| x          | 0.004875     | 0.009283     | 0.029229     |
| y          | 0.005210     | 0.008838     | 0.021938     |
| w          | 0.035103     | 0.030762     | 0.016331     |
| h          | 0.012800     | 0.008133     | 0.007230     |
| conf       | 0.132686     | 0.109246     | 0.103462     |
| cls        | 0.015141     | 0.009998     | 0.005986     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.916667     | 0.958333     |
| precision  | 0.821429     | 0.558140     | 0.218182     |
| conf_obj   | 0.947888     | 0.960803     | 0.973531     |
| conf_noobj | 0.000402     | 0.000337     | 0.000352     |
+------------+--------------+--------------+--------------+
2020-12-20 11:53:45.432 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.815
2020-12-20 11:53:45.436 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 11:54:43.629 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07409   | 0.50523 | 0.12923 | 0.31032 |
| 1     | Wear_helmet | 0.57695   | 0.96484 | 0.72210 | 0.93968 |
| 2     | Total       | 0.32552   | 0.73504 | 0.42567 | 0.62500 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:54:43.630 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6249967519592421
2020-12-20 11:54:43.630 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 11:54:43.630 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.194410

2020-12-20 11:54:44.174 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 2/2, epo 1/5
2020-12-20 11:54:44.174 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 2/2, epo 1/5; time cost: 0:15:24.775595

2020-12-20 11:54:44.174 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 2/2, epo 2/5
2020-12-20 11:54:45.705 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.649276
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.169037     | 0.303076     | 0.177163     |
| x          | 0.003040     | 0.006877     | 0.014904     |
| y          | 0.003231     | 0.005058     | 0.023616     |
| w          | 0.016570     | 0.012208     | 0.008041     |
| h          | 0.014667     | 0.013776     | 0.008864     |
| conf       | 0.129991     | 0.263783     | 0.121191     |
| cls        | 0.001538     | 0.001373     | 0.000547     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 1.000000     | 0.888889     | 1.000000     |
| precision  | 0.750000     | 0.447368     | 0.202247     |
| conf_obj   | 0.957485     | 0.892297     | 0.955634     |
| conf_noobj | 0.000438     | 0.000300     | 0.000283     |
+------------+--------------+--------------+--------------+
2020-12-20 11:55:51.537 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.786084
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.276140     | 0.240915     | 0.269029     |
| x          | 0.003559     | 0.012250     | 0.032789     |
| y          | 0.002820     | 0.013929     | 0.031321     |
| w          | 0.016203     | 0.011832     | 0.013980     |
| h          | 0.006096     | 0.015801     | 0.017297     |
| conf       | 0.201191     | 0.169134     | 0.142132     |
| cls        | 0.046271     | 0.017970     | 0.031509     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.960000     | 0.880000     |
| recall75   | 0.913043     | 0.840000     | 0.760000     |
| precision  | 0.785714     | 0.533333     | 0.220000     |
| conf_obj   | 0.924887     | 0.941549     | 0.952616     |
| conf_noobj | 0.000521     | 0.000484     | 0.000412     |
+------------+--------------+--------------+--------------+
2020-12-20 11:56:52.210 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.567841
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.166083     | 0.167976     | 0.233782     |
| x          | 0.003859     | 0.011732     | 0.028817     |
| y          | 0.004324     | 0.016725     | 0.036205     |
| w          | 0.032928     | 0.025561     | 0.034134     |
| h          | 0.015481     | 0.010411     | 0.017156     |
| conf       | 0.104811     | 0.101592     | 0.112164     |
| cls        | 0.004679     | 0.001956     | 0.005306     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.916667     | 0.791667     |
| precision  | 0.827586     | 0.510638     | 0.233010     |
| conf_obj   | 0.976156     | 0.979492     | 0.977639     |
| conf_noobj | 0.000420     | 0.000420     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 11:57:52.072 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.476777
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.156301     | 0.134204     | 0.186272     |
| x          | 0.006157     | 0.013838     | 0.026748     |
| y          | 0.003725     | 0.009085     | 0.024513     |
| w          | 0.012717     | 0.013247     | 0.011409     |
| h          | 0.009685     | 0.012077     | 0.009390     |
| conf       | 0.121254     | 0.085446     | 0.112864     |
| cls        | 0.002762     | 0.000511     | 0.001348     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.958333     | 0.958333     |
| precision  | 0.733333     | 0.461538     | 0.205128     |
| conf_obj   | 0.971443     | 0.992805     | 0.972205     |
| conf_noobj | 0.000529     | 0.000414     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 11:58:54.823 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.529959
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.218256     | 0.157450     | 0.154253     |
| x          | 0.004790     | 0.009019     | 0.012086     |
| y          | 0.002903     | 0.008315     | 0.021288     |
| w          | 0.019045     | 0.017407     | 0.012204     |
| h          | 0.010400     | 0.010443     | 0.008940     |
| conf       | 0.171359     | 0.109983     | 0.098689     |
| cls        | 0.009760     | 0.002283     | 0.001046     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.954545     | 1.000000     |
| precision  | 0.785714     | 0.478261     | 0.209524     |
| conf_obj   | 0.973486     | 0.983347     | 0.986956     |
| conf_noobj | 0.000644     | 0.000504     | 0.000415     |
+------------+--------------+--------------+--------------+
2020-12-20 11:59:56.395 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.627153
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.234842     | 0.218367     | 0.173943     |
| x          | 0.015832     | 0.010201     | 0.027594     |
| y          | 0.002766     | 0.007399     | 0.015337     |
| w          | 0.032969     | 0.021740     | 0.022562     |
| h          | 0.026438     | 0.017400     | 0.009970     |
| conf       | 0.156380     | 0.160767     | 0.097895     |
| cls        | 0.000458     | 0.000860     | 0.000585     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 1.000000     | 1.000000     |
| recall75   | 0.842105     | 0.900000     | 0.950000     |
| precision  | 0.680000     | 0.377358     | 0.238095     |
| conf_obj   | 0.958363     | 0.954065     | 0.979922     |
| conf_noobj | 0.000581     | 0.000467     | 0.000315     |
+------------+--------------+--------------+--------------+
2020-12-20 12:01:05.626 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.743425
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.283246     | 0.215041     | 0.245138     |
| x          | 0.005543     | 0.015096     | 0.030320     |
| y          | 0.005646     | 0.011484     | 0.027989     |
| w          | 0.016681     | 0.016220     | 0.016639     |
| h          | 0.015482     | 0.014913     | 0.013197     |
| conf       | 0.206289     | 0.146340     | 0.149435     |
| cls        | 0.033605     | 0.010987     | 0.007558     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 0.971429     |
| recall75   | 0.843750     | 0.852941     | 0.800000     |
| precision  | 0.711111     | 0.438356     | 0.225166     |
| conf_obj   | 0.949326     | 0.981350     | 0.976754     |
| conf_noobj | 0.000896     | 0.000611     | 0.000543     |
+------------+--------------+--------------+--------------+
2020-12-20 12:02:15.956 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.505845
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.166704     | 0.170519     | 0.168622     |
| x          | 0.003263     | 0.006879     | 0.008192     |
| y          | 0.002045     | 0.005699     | 0.018217     |
| w          | 0.011921     | 0.010091     | 0.006155     |
| h          | 0.025091     | 0.019949     | 0.020976     |
| conf       | 0.123735     | 0.127653     | 0.114450     |
| cls        | 0.000649     | 0.000248     | 0.000632     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.708333     | 0.361702     | 0.163462     |
| conf_obj   | 0.976577     | 0.972836     | 0.964832     |
| conf_noobj | 0.000459     | 0.000401     | 0.000320     |
+------------+--------------+--------------+--------------+
2020-12-20 12:03:24.316 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.613357
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.198666     | 0.199016     | 0.215675     |
| x          | 0.007357     | 0.010010     | 0.040981     |
| y          | 0.004842     | 0.009551     | 0.032451     |
| w          | 0.015351     | 0.006771     | 0.005609     |
| h          | 0.015786     | 0.019883     | 0.019395     |
| conf       | 0.154716     | 0.152262     | 0.116956     |
| cls        | 0.000614     | 0.000539     | 0.000283     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.941176     | 0.882353     |
| precision  | 0.680000     | 0.309091     | 0.161905     |
| conf_obj   | 0.985095     | 0.977939     | 0.974340     |
| conf_noobj | 0.000665     | 0.000607     | 0.000398     |
+------------+--------------+--------------+--------------+
2020-12-20 12:04:28.252 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.561552
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.193269     | 0.211815     | 0.156468     |
| x          | 0.002563     | 0.004605     | 0.009136     |
| y          | 0.003968     | 0.006991     | 0.013975     |
| w          | 0.012769     | 0.009648     | 0.003380     |
| h          | 0.022605     | 0.014877     | 0.008634     |
| conf       | 0.150928     | 0.173892     | 0.120217     |
| cls        | 0.000436     | 0.001801     | 0.001125     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.916667     | 1.000000     |
| recall75   | 1.000000     | 0.916667     | 1.000000     |
| precision  | 0.666667     | 0.478261     | 0.151899     |
| conf_obj   | 0.968312     | 0.932217     | 0.959243     |
| conf_noobj | 0.000562     | 0.000326     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 12:05:24.912 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.898574
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.318376     | 0.319686     | 0.260512     |
| x          | 0.004568     | 0.023882     | 0.034314     |
| y          | 0.003282     | 0.011794     | 0.017487     |
| w          | 0.018536     | 0.024621     | 0.020260     |
| h          | 0.015824     | 0.017308     | 0.019088     |
| conf       | 0.225556     | 0.202000     | 0.138622     |
| cls        | 0.050610     | 0.040081     | 0.030741     |
| cls_acc    | 95.83%       | 95.83%       | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 1.000000     |
| recall75   | 0.916667     | 0.750000     | 0.916667     |
| precision  | 0.676471     | 0.359375     | 0.196721     |
| conf_obj   | 0.942818     | 0.948772     | 0.970026     |
| conf_noobj | 0.000847     | 0.000677     | 0.000462     |
+------------+--------------+--------------+--------------+
2020-12-20 12:06:28.203 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.631523
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.246702     | 0.206559     | 0.178262     |
| x          | 0.006433     | 0.012455     | 0.021080     |
| y          | 0.004685     | 0.008597     | 0.017183     |
| w          | 0.017936     | 0.009274     | 0.013076     |
| h          | 0.012326     | 0.009561     | 0.009562     |
| conf       | 0.179545     | 0.151371     | 0.103594     |
| cls        | 0.025778     | 0.015301     | 0.013768     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.880000     | 0.923077     | 0.925926     |
| precision  | 0.806452     | 0.419355     | 0.221311     |
| conf_obj   | 0.935473     | 0.964577     | 0.984608     |
| conf_noobj | 0.000617     | 0.000518     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 12:07:33.124 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.992948
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.378640     | 0.335458     | 0.278850     |
| x          | 0.020863     | 0.022430     | 0.013563     |
| y          | 0.005220     | 0.008037     | 0.016744     |
| w          | 0.038383     | 0.023199     | 0.020687     |
| h          | 0.045226     | 0.028817     | 0.022645     |
| conf       | 0.247286     | 0.235057     | 0.173849     |
| cls        | 0.021664     | 0.017918     | 0.031362     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.925926     | 1.000000     |
| recall75   | 0.800000     | 0.814815     | 0.814815     |
| precision  | 0.631579     | 0.337838     | 0.156977     |
| conf_obj   | 0.953260     | 0.945811     | 0.967973     |
| conf_noobj | 0.000888     | 0.000758     | 0.000618     |
+------------+--------------+--------------+--------------+
2020-12-20 12:08:41.616 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.709941
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.211970     | 0.248223     | 0.249748     |
| x          | 0.009326     | 0.009586     | 0.025309     |
| y          | 0.006605     | 0.019621     | 0.048637     |
| w          | 0.014887     | 0.012227     | 0.008944     |
| h          | 0.009601     | 0.007039     | 0.006468     |
| conf       | 0.171013     | 0.199495     | 0.159419     |
| cls        | 0.000537     | 0.000256     | 0.000970     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 1.000000     | 1.000000     |
| precision  | 0.812500     | 0.428571     | 0.233333     |
| conf_obj   | 0.954736     | 0.929893     | 0.948946     |
| conf_noobj | 0.000609     | 0.000556     | 0.000437     |
+------------+--------------+--------------+--------------+
2020-12-20 12:08:44.679 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.790
2020-12-20 12:08:44.682 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 12:09:44.150 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06903   | 0.52962 | 0.12214 | 0.28738 |
| 1     | Wear_helmet | 0.67164   | 0.95790 | 0.78962 | 0.93934 |
| 2     | Total       | 0.37033   | 0.74376 | 0.45588 | 0.61336 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:09:44.151 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6133570499186425
2020-12-20 12:09:44.151 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 12:09:44.151 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:59.468996

2020-12-20 12:09:44.641 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 2/2, epo 2/5
2020-12-20 12:09:44.641 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 2/2, epo 2/5; time cost: 0:15:00.466071

2020-12-20 12:09:44.642 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 2/2, epo 3/5
2020-12-20 12:09:45.801 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.868970
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.386217     | 0.263430     | 0.219323     |
| x          | 0.005257     | 0.010226     | 0.014505     |
| y          | 0.007701     | 0.007519     | 0.023477     |
| w          | 0.020138     | 0.018285     | 0.018597     |
| h          | 0.020907     | 0.016160     | 0.014447     |
| conf       | 0.283424     | 0.202155     | 0.135036     |
| cls        | 0.048791     | 0.009085     | 0.013261     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 1.000000     |
| recall75   | 0.870968     | 0.937500     | 0.968750     |
| precision  | 0.697674     | 0.500000     | 0.268908     |
| conf_obj   | 0.897162     | 0.932060     | 0.966702     |
| conf_noobj | 0.000826     | 0.000606     | 0.000428     |
+------------+--------------+--------------+--------------+
2020-12-20 12:10:53.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.367162
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.097210     | 0.123025     | 0.146927     |
| x          | 0.002312     | 0.005831     | 0.014914     |
| y          | 0.003262     | 0.015964     | 0.025345     |
| w          | 0.015567     | 0.007681     | 0.008126     |
| h          | 0.012793     | 0.007490     | 0.006905     |
| conf       | 0.060509     | 0.085724     | 0.091433     |
| cls        | 0.002767     | 0.000335     | 0.000204     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.947368     | 0.947368     |
| precision  | 0.791667     | 0.431818     | 0.211111     |
| conf_obj   | 0.988362     | 0.990985     | 0.990943     |
| conf_noobj | 0.000316     | 0.000395     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 12:11:55.636 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 1.349191
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.537001     | 0.451072     | 0.361119     |
| x          | 0.014909     | 0.015456     | 0.028729     |
| y          | 0.006718     | 0.014972     | 0.028074     |
| w          | 0.032339     | 0.025793     | 0.012382     |
| h          | 0.032356     | 0.022702     | 0.024786     |
| conf       | 0.275371     | 0.241184     | 0.212045     |
| cls        | 0.175308     | 0.130965     | 0.055103     |
| cls_acc    | 91.67%       | 92.31%       | 96.30%       |
| recall50   | 0.833333     | 0.846154     | 0.925926     |
| recall75   | 0.791667     | 0.692308     | 0.888889     |
| precision  | 0.689655     | 0.407407     | 0.193798     |
| conf_obj   | 0.891505     | 0.918061     | 0.929012     |
| conf_noobj | 0.000567     | 0.000466     | 0.000425     |
+------------+--------------+--------------+--------------+
2020-12-20 12:12:53.878 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.867404
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.232685     | 0.363465     | 0.271254     |
| x          | 0.012128     | 0.009759     | 0.019873     |
| y          | 0.004564     | 0.005715     | 0.013123     |
| w          | 0.023801     | 0.024417     | 0.009116     |
| h          | 0.021956     | 0.022352     | 0.015137     |
| conf       | 0.157760     | 0.295774     | 0.210472     |
| cls        | 0.012475     | 0.005450     | 0.003534     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.962963     | 0.962963     |
| recall75   | 0.846154     | 0.851852     | 0.851852     |
| precision  | 0.735294     | 0.440678     | 0.250000     |
| conf_obj   | 0.957231     | 0.942686     | 0.946352     |
| conf_noobj | 0.000611     | 0.000496     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 12:13:52.814 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.603843
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.604353     | 0.513704     | 0.485785     |
| x          | 0.003489     | 0.008961     | 0.012923     |
| y          | 0.007781     | 0.015524     | 0.016402     |
| w          | 0.021361     | 0.026972     | 0.028727     |
| h          | 0.025028     | 0.024236     | 0.023902     |
| conf       | 0.543006     | 0.437360     | 0.402568     |
| cls        | 0.003688     | 0.000651     | 0.001262     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.916667     | 0.958333     |
| recall75   | 0.791667     | 0.708333     | 0.833333     |
| precision  | 0.696970     | 0.478261     | 0.207207     |
| conf_obj   | 0.899250     | 0.909222     | 0.916229     |
| conf_noobj | 0.000742     | 0.000446     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 12:15:00.157 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.592494
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.186188     | 0.221012     | 0.185294     |
| x          | 0.005146     | 0.008906     | 0.029587     |
| y          | 0.003838     | 0.006481     | 0.020830     |
| w          | 0.008538     | 0.011792     | 0.006238     |
| h          | 0.011141     | 0.010731     | 0.011250     |
| conf       | 0.154097     | 0.180064     | 0.116656     |
| cls        | 0.003427     | 0.003039     | 0.000733     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.961538     |
| precision  | 0.742857     | 0.376812     | 0.242991     |
| conf_obj   | 0.963370     | 0.960040     | 0.979694     |
| conf_noobj | 0.000745     | 0.000673     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 12:16:04.382 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.695473
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.266333     | 0.241447     | 0.187693     |
| x          | 0.004160     | 0.021945     | 0.033881     |
| y          | 0.004761     | 0.020374     | 0.029738     |
| w          | 0.017565     | 0.008255     | 0.007603     |
| h          | 0.025401     | 0.015334     | 0.008969     |
| conf       | 0.210598     | 0.164106     | 0.103031     |
| cls        | 0.003848     | 0.011433     | 0.004470     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 1.000000     |
| recall75   | 0.925926     | 0.925926     | 0.928571     |
| precision  | 0.684211     | 0.351351     | 0.220472     |
| conf_obj   | 0.929371     | 0.955446     | 0.979393     |
| conf_noobj | 0.000607     | 0.000550     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 12:17:08.864 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.083716
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.424643     | 0.373027     | 0.286046     |
| x          | 0.011330     | 0.006690     | 0.028664     |
| y          | 0.007713     | 0.009762     | 0.024521     |
| w          | 0.018527     | 0.018923     | 0.015208     |
| h          | 0.034227     | 0.024687     | 0.023647     |
| conf       | 0.143562     | 0.136088     | 0.115917     |
| cls        | 0.209284     | 0.176878     | 0.078088     |
| cls_acc    | 95.24%       | 95.24%       | 95.24%       |
| recall50   | 0.904762     | 0.904762     | 0.952381     |
| recall75   | 0.809524     | 0.761905     | 0.857143     |
| precision  | 0.826087     | 0.542857     | 0.235294     |
| conf_obj   | 0.937851     | 0.944038     | 0.964227     |
| conf_noobj | 0.000336     | 0.000321     | 0.000351     |
+------------+--------------+--------------+--------------+
2020-12-20 12:18:17.239 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.165852
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.357534     | 0.391283     | 0.417035     |
| x          | 0.002293     | 0.002411     | 0.008994     |
| y          | 0.004346     | 0.004890     | 0.018595     |
| w          | 0.010135     | 0.010645     | 0.011854     |
| h          | 0.026180     | 0.022954     | 0.017848     |
| conf       | 0.180292     | 0.119354     | 0.073686     |
| cls        | 0.134288     | 0.231030     | 0.286058     |
| cls_acc    | 94.44%       | 94.44%       | 94.44%       |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.944444     | 0.944444     |
| precision  | 0.586207     | 0.309091     | 0.186813     |
| conf_obj   | 0.962710     | 0.975880     | 0.990577     |
| conf_noobj | 0.000688     | 0.000449     | 0.000277     |
+------------+--------------+--------------+--------------+
2020-12-20 12:19:22.319 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.467147
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.215402     | 0.117823     | 0.133922     |
| x          | 0.006301     | 0.003762     | 0.010732     |
| y          | 0.012447     | 0.006090     | 0.020454     |
| w          | 0.012640     | 0.007865     | 0.006364     |
| h          | 0.010706     | 0.006790     | 0.006405     |
| conf       | 0.167767     | 0.091058     | 0.088260     |
| cls        | 0.005542     | 0.002258     | 0.001707     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 1.000000     | 0.954545     |
| precision  | 0.689655     | 0.440000     | 0.211538     |
| conf_obj   | 0.959883     | 0.991664     | 0.990380     |
| conf_noobj | 0.000509     | 0.000391     | 0.000322     |
+------------+--------------+--------------+--------------+
2020-12-20 12:20:25.530 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.546324
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.120216     | 0.191346     | 0.234763     |
| x          | 0.006022     | 0.011249     | 0.019306     |
| y          | 0.004574     | 0.011115     | 0.028839     |
| w          | 0.012739     | 0.016586     | 0.008538     |
| h          | 0.014402     | 0.011463     | 0.008037     |
| conf       | 0.079920     | 0.137427     | 0.165852     |
| cls        | 0.002558     | 0.003506     | 0.004190     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.954545     |
| recall75   | 0.952381     | 0.954545     | 0.954545     |
| precision  | 0.777778     | 0.500000     | 0.265823     |
| conf_obj   | 0.991694     | 0.955199     | 0.941943     |
| conf_noobj | 0.000413     | 0.000422     | 0.000324     |
+------------+--------------+--------------+--------------+
2020-12-20 12:21:32.290 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.571563
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.224674     | 0.177957     | 0.168931     |
| x          | 0.009603     | 0.005616     | 0.014986     |
| y          | 0.005149     | 0.011014     | 0.020224     |
| w          | 0.012771     | 0.017229     | 0.006655     |
| h          | 0.012558     | 0.024666     | 0.019439     |
| conf       | 0.183363     | 0.118742     | 0.106214     |
| cls        | 0.001231     | 0.000690     | 0.001412     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 0.956522     |
| recall75   | 0.761905     | 0.909091     | 0.826087     |
| precision  | 0.666667     | 0.428571     | 0.188034     |
| conf_obj   | 0.946979     | 0.974973     | 0.970761     |
| conf_noobj | 0.000566     | 0.000388     | 0.000332     |
+------------+--------------+--------------+--------------+
2020-12-20 12:22:35.451 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.654643
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.149699     | 0.253274     | 0.251670     |
| x          | 0.004078     | 0.007048     | 0.013254     |
| y          | 0.004452     | 0.019026     | 0.038343     |
| w          | 0.010635     | 0.006981     | 0.007476     |
| h          | 0.007968     | 0.006347     | 0.007639     |
| conf       | 0.115457     | 0.197935     | 0.180847     |
| cls        | 0.007109     | 0.015937     | 0.004111     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 0.960000     |
| recall75   | 1.000000     | 0.960000     | 0.960000     |
| precision  | 0.781250     | 0.393443     | 0.220183     |
| conf_obj   | 0.953095     | 0.944191     | 0.949386     |
| conf_noobj | 0.000372     | 0.000398     | 0.000280     |
+------------+--------------+--------------+--------------+
2020-12-20 12:23:45.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.723875
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.240483     | 0.241730     | 0.241663     |
| x          | 0.012118     | 0.013894     | 0.020644     |
| y          | 0.005781     | 0.005738     | 0.015279     |
| w          | 0.026501     | 0.025456     | 0.013034     |
| h          | 0.010106     | 0.012859     | 0.008710     |
| conf       | 0.184261     | 0.183245     | 0.183705     |
| cls        | 0.001716     | 0.000538     | 0.000291     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.965517     | 0.965517     |
| recall75   | 0.769231     | 0.862069     | 0.896552     |
| precision  | 0.684211     | 0.388889     | 0.190476     |
| conf_obj   | 0.966307     | 0.959995     | 0.955380     |
| conf_noobj | 0.000712     | 0.000528     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 12:23:48.695 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.758
2020-12-20 12:23:48.699 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 12:24:41.795 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06878   | 0.52265 | 0.12156 | 0.32933 |
| 1     | Wear_helmet | 0.60300   | 0.96050 | 0.74088 | 0.93996 |
| 2     | Total       | 0.33589   | 0.74158 | 0.43122 | 0.63464 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:24:41.796 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6346448845019714
2020-12-20 12:24:41.796 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 12:24:41.797 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.097157

2020-12-20 12:24:42.274 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 2/2, epo 3/5
2020-12-20 12:24:42.274 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 2/2, epo 3/5; time cost: 0:14:57.632466

2020-12-20 12:24:42.275 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 2/2, epo 4/5
2020-12-20 12:24:43.726 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.770005
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.270952     | 0.288264     | 0.210789     |
| x          | 0.004119     | 0.008342     | 0.015014     |
| y          | 0.005528     | 0.009006     | 0.020291     |
| w          | 0.018793     | 0.009799     | 0.009751     |
| h          | 0.022353     | 0.019305     | 0.012257     |
| conf       | 0.219690     | 0.241610     | 0.152993     |
| cls        | 0.000471     | 0.000203     | 0.000483     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.913043     | 0.956522     | 0.913043     |
| precision  | 0.785714     | 0.500000     | 0.203704     |
| conf_obj   | 0.933410     | 0.940917     | 0.946973     |
| conf_noobj | 0.000437     | 0.000307     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 12:25:51.378 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.770841
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.310706     | 0.235971     | 0.224164     |
| x          | 0.009049     | 0.006974     | 0.013952     |
| y          | 0.001697     | 0.003027     | 0.021146     |
| w          | 0.026612     | 0.015419     | 0.008096     |
| h          | 0.012156     | 0.008123     | 0.007727     |
| conf       | 0.259746     | 0.199476     | 0.168380     |
| cls        | 0.001446     | 0.002952     | 0.004863     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.958333     | 0.958333     |
| recall75   | 0.875000     | 0.958333     | 0.916667     |
| precision  | 0.814815     | 0.479167     | 0.184000     |
| conf_obj   | 0.916234     | 0.942378     | 0.952072     |
| conf_noobj | 0.000376     | 0.000322     | 0.000337     |
+------------+--------------+--------------+--------------+
2020-12-20 12:26:57.913 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.412020
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.132344     | 0.131563     | 0.148113     |
| x          | 0.002103     | 0.011989     | 0.033350     |
| y          | 0.004759     | 0.007070     | 0.017168     |
| w          | 0.014891     | 0.012343     | 0.006126     |
| h          | 0.012974     | 0.010545     | 0.006794     |
| conf       | 0.092592     | 0.081840     | 0.080128     |
| cls        | 0.005026     | 0.007777     | 0.004547     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 1.000000     |
| precision  | 0.720000     | 0.473684     | 0.216867     |
| conf_obj   | 0.981049     | 0.983652     | 0.989221     |
| conf_noobj | 0.000427     | 0.000313     | 0.000287     |
+------------+--------------+--------------+--------------+
2020-12-20 12:28:06.154 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.514604
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.170419     | 0.146667     | 0.197519     |
| x          | 0.005020     | 0.008123     | 0.017542     |
| y          | 0.004532     | 0.007179     | 0.017386     |
| w          | 0.017264     | 0.008284     | 0.012315     |
| h          | 0.008193     | 0.007917     | 0.004316     |
| conf       | 0.134476     | 0.113068     | 0.143881     |
| cls        | 0.000934     | 0.002096     | 0.002079     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.966667     | 1.000000     |
| precision  | 0.848485     | 0.576923     | 0.250000     |
| conf_obj   | 0.952436     | 0.963189     | 0.948851     |
| conf_noobj | 0.000422     | 0.000338     | 0.000369     |
+------------+--------------+--------------+--------------+
2020-12-20 12:29:10.419 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.470989
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.551095     | 0.467835     | 0.452060     |
| x          | 0.008010     | 0.006601     | 0.019334     |
| y          | 0.011791     | 0.008945     | 0.035280     |
| w          | 0.019914     | 0.018395     | 0.006210     |
| h          | 0.021757     | 0.024956     | 0.008363     |
| conf       | 0.426855     | 0.364070     | 0.357891     |
| cls        | 0.062767     | 0.044868     | 0.024983     |
| cls_acc    | 96.55%       | 96.55%       | 100.00%      |
| recall50   | 0.896552     | 0.931035     | 0.965517     |
| recall75   | 0.862069     | 0.862069     | 0.931035     |
| precision  | 0.812500     | 0.409091     | 0.193103     |
| conf_obj   | 0.869264     | 0.900918     | 0.929961     |
| conf_noobj | 0.000402     | 0.000477     | 0.000384     |
+------------+--------------+--------------+--------------+
2020-12-20 12:30:18.019 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.766527
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.259475     | 0.309133     | 0.197920     |
| x          | 0.003564     | 0.010517     | 0.026202     |
| y          | 0.004312     | 0.019070     | 0.023706     |
| w          | 0.011017     | 0.007942     | 0.006891     |
| h          | 0.021501     | 0.011950     | 0.007768     |
| conf       | 0.217853     | 0.257244     | 0.132305     |
| cls        | 0.001227     | 0.002409     | 0.001048     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.947368     | 0.950000     | 1.000000     |
| precision  | 0.655172     | 0.339286     | 0.169492     |
| conf_obj   | 0.974713     | 0.918219     | 0.971375     |
| conf_noobj | 0.000928     | 0.000708     | 0.000476     |
+------------+--------------+--------------+--------------+
2020-12-20 12:31:21.940 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.921114
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.329403     | 0.289663     | 0.302048     |
| x          | 0.007714     | 0.015337     | 0.021143     |
| y          | 0.002062     | 0.011726     | 0.020359     |
| w          | 0.025584     | 0.019134     | 0.023741     |
| h          | 0.039049     | 0.026778     | 0.028421     |
| conf       | 0.199160     | 0.170316     | 0.171011     |
| cls        | 0.055834     | 0.046372     | 0.037373     |
| cls_acc    | 95.65%       | 95.83%       | 100.00%      |
| recall50   | 0.956522     | 0.916667     | 1.000000     |
| recall75   | 0.826087     | 0.833333     | 0.666667     |
| precision  | 0.628571     | 0.354839     | 0.165517     |
| conf_obj   | 0.978582     | 0.972636     | 0.954420     |
| conf_noobj | 0.001001     | 0.000696     | 0.000542     |
+------------+--------------+--------------+--------------+
2020-12-20 12:32:26.874 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.862331
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.316222     | 0.282111     | 0.263998     |
| x          | 0.007634     | 0.011693     | 0.031173     |
| y          | 0.009392     | 0.028927     | 0.029832     |
| w          | 0.015385     | 0.011962     | 0.009958     |
| h          | 0.025719     | 0.026164     | 0.017164     |
| conf       | 0.231895     | 0.197608     | 0.172875     |
| cls        | 0.026198     | 0.005757     | 0.002996     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.960000     |
| recall75   | 0.958333     | 0.840000     | 0.840000     |
| precision  | 0.615385     | 0.324675     | 0.145455     |
| conf_obj   | 0.943145     | 0.949098     | 0.950180     |
| conf_noobj | 0.000873     | 0.000666     | 0.000527     |
+------------+--------------+--------------+--------------+
2020-12-20 12:33:34.336 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.622666
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.223559     | 0.219804     | 0.179304     |
| x          | 0.020565     | 0.023400     | 0.022812     |
| y          | 0.003674     | 0.006036     | 0.011941     |
| w          | 0.024925     | 0.015653     | 0.016770     |
| h          | 0.015429     | 0.009772     | 0.009675     |
| conf       | 0.157439     | 0.163476     | 0.116591     |
| cls        | 0.001526     | 0.001466     | 0.001515     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.923077     | 0.962963     |
| recall75   | 0.840000     | 0.923077     | 0.925926     |
| precision  | 0.821429     | 0.470588     | 0.214876     |
| conf_obj   | 0.956359     | 0.954457     | 0.981701     |
| conf_noobj | 0.000585     | 0.000544     | 0.000488     |
+------------+--------------+--------------+--------------+
2020-12-20 12:34:35.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.120337
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.381367     | 0.369150     | 0.369820     |
| x          | 0.009661     | 0.022334     | 0.033440     |
| y          | 0.006008     | 0.009635     | 0.022477     |
| w          | 0.057307     | 0.061496     | 0.011170     |
| h          | 0.018539     | 0.010649     | 0.015293     |
| conf       | 0.286860     | 0.262924     | 0.284576     |
| cls        | 0.002993     | 0.002112     | 0.002864     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 0.909091     |
| recall75   | 0.863636     | 0.818182     | 0.909091     |
| precision  | 0.840000     | 0.411765     | 0.192308     |
| conf_obj   | 0.921085     | 0.913638     | 0.896060     |
| conf_noobj | 0.000636     | 0.000627     | 0.000480     |
+------------+--------------+--------------+--------------+
2020-12-20 12:35:34.960 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.721122
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.261394     | 0.239799     | 0.219928     |
| x          | 0.002461     | 0.004403     | 0.017881     |
| y          | 0.015866     | 0.011143     | 0.020988     |
| w          | 0.017806     | 0.026928     | 0.027736     |
| h          | 0.020066     | 0.015970     | 0.013126     |
| conf       | 0.159387     | 0.165951     | 0.123845     |
| cls        | 0.045808     | 0.015404     | 0.016351     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.961538     | 0.923077     |
| precision  | 0.827586     | 0.426230     | 0.211382     |
| conf_obj   | 0.948088     | 0.960813     | 0.983610     |
| conf_noobj | 0.000604     | 0.000612     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 12:36:36.462 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.924441
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.303924     | 0.275690     | 0.344826     |
| x          | 0.004673     | 0.007608     | 0.028872     |
| y          | 0.010908     | 0.012175     | 0.030254     |
| w          | 0.025695     | 0.016731     | 0.017371     |
| h          | 0.031800     | 0.024826     | 0.046171     |
| conf       | 0.124904     | 0.142372     | 0.164426     |
| cls        | 0.105944     | 0.071978     | 0.057732     |
| cls_acc    | 97.22%       | 97.30%       | 97.37%       |
| recall50   | 0.972222     | 0.945946     | 0.921053     |
| recall75   | 0.861111     | 0.891892     | 0.815789     |
| precision  | 0.813953     | 0.486111     | 0.230263     |
| conf_obj   | 0.969180     | 0.963724     | 0.950252     |
| conf_noobj | 0.000567     | 0.000499     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 12:37:43.699 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.834304
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.351146     | 0.255822     | 0.227336     |
| x          | 0.003436     | 0.011645     | 0.012583     |
| y          | 0.003263     | 0.012397     | 0.020263     |
| w          | 0.012361     | 0.007909     | 0.003857     |
| h          | 0.010383     | 0.007241     | 0.008881     |
| conf       | 0.264122     | 0.212429     | 0.178855     |
| cls        | 0.057582     | 0.004200     | 0.002897     |
| cls_acc    | 95.00%       | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.950000     | 0.950000     |
| recall75   | 0.900000     | 0.950000     | 0.950000     |
| precision  | 0.720000     | 0.500000     | 0.186275     |
| conf_obj   | 0.934896     | 0.950156     | 0.950344     |
| conf_noobj | 0.000631     | 0.000430     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 12:38:46.770 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.465957
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.117037     | 0.196545     | 0.152375     |
| x          | 0.007645     | 0.014217     | 0.013621     |
| y          | 0.002658     | 0.008059     | 0.021469     |
| w          | 0.021234     | 0.016133     | 0.010662     |
| h          | 0.015503     | 0.014526     | 0.007934     |
| conf       | 0.068735     | 0.139049     | 0.094797     |
| cls        | 0.001263     | 0.004561     | 0.003891     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.913043     | 0.826087     | 0.956522     |
| precision  | 0.821429     | 0.423077     | 0.198276     |
| conf_obj   | 0.985747     | 0.958318     | 0.984585     |
| conf_noobj | 0.000381     | 0.000390     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 12:38:50.732 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.782
2020-12-20 12:38:50.735 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 12:39:44.354 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09845   | 0.52962 | 0.16603 | 0.29546 |
| 1     | Wear_helmet | 0.59233   | 0.96484 | 0.73403 | 0.94105 |
| 2     | Total       | 0.34539   | 0.74723 | 0.45003 | 0.61825 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:39:44.355 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.618253632173646
2020-12-20 12:39:44.355 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 12:39:44.356 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.620104

2020-12-20 12:39:44.926 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 2/2, epo 4/5
2020-12-20 12:39:44.926 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 2/2, epo 4/5; time cost: 0:15:02.651372

2020-12-20 12:39:44.926 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 2/2, epo 5/5
2020-12-20 12:39:46.256 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.601544
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.209729     | 0.226525     | 0.165290     |
| x          | 0.005883     | 0.003539     | 0.011041     |
| y          | 0.001612     | 0.008166     | 0.017255     |
| w          | 0.025682     | 0.016568     | 0.012895     |
| h          | 0.026105     | 0.012797     | 0.015514     |
| conf       | 0.148955     | 0.184834     | 0.108162     |
| cls        | 0.001493     | 0.000621     | 0.000422     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.937500     | 0.937500     |
| precision  | 0.615385     | 0.307692     | 0.123077     |
| conf_obj   | 0.982939     | 0.939297     | 0.987489     |
| conf_noobj | 0.000687     | 0.000550     | 0.000451     |
+------------+--------------+--------------+--------------+
2020-12-20 12:40:54.259 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.481685
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.148890     | 0.145778     | 0.187017     |
| x          | 0.006545     | 0.012064     | 0.029985     |
| y          | 0.007158     | 0.010194     | 0.023952     |
| w          | 0.013488     | 0.008525     | 0.004577     |
| h          | 0.012970     | 0.010419     | 0.008266     |
| conf       | 0.098709     | 0.100025     | 0.117066     |
| cls        | 0.010019     | 0.004551     | 0.003173     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 1.000000     | 1.000000     |
| precision  | 0.827586     | 0.500000     | 0.204918     |
| conf_obj   | 0.974564     | 0.980408     | 0.974567     |
| conf_noobj | 0.000431     | 0.000416     | 0.000396     |
+------------+--------------+--------------+--------------+
2020-12-20 12:41:56.667 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.776272
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.338127     | 0.203686     | 0.234459     |
| x          | 0.025210     | 0.016827     | 0.009460     |
| y          | 0.009145     | 0.009569     | 0.042833     |
| w          | 0.021030     | 0.017519     | 0.010349     |
| h          | 0.021606     | 0.021554     | 0.020057     |
| conf       | 0.256890     | 0.135851     | 0.146046     |
| cls        | 0.004246     | 0.002367     | 0.005713     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.966667     | 1.000000     |
| recall75   | 0.793103     | 0.900000     | 0.900000     |
| precision  | 0.812500     | 0.527273     | 0.256410     |
| conf_obj   | 0.886355     | 0.947710     | 0.947194     |
| conf_noobj | 0.000451     | 0.000385     | 0.000374     |
+------------+--------------+--------------+--------------+
2020-12-20 12:42:58.644 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.927555
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.393217     | 0.306251     | 0.228086     |
| x          | 0.010041     | 0.006548     | 0.015439     |
| y          | 0.008722     | 0.013638     | 0.024148     |
| w          | 0.026619     | 0.021342     | 0.015185     |
| h          | 0.021284     | 0.020766     | 0.025571     |
| conf       | 0.323055     | 0.242265     | 0.137075     |
| cls        | 0.003497     | 0.001692     | 0.010669     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.892857     | 1.000000     |
| recall75   | 0.714286     | 0.750000     | 0.821429     |
| precision  | 0.787879     | 0.471698     | 0.269231     |
| conf_obj   | 0.880555     | 0.899665     | 0.954828     |
| conf_noobj | 0.000683     | 0.000537     | 0.000387     |
+------------+--------------+--------------+--------------+
2020-12-20 12:44:07.084 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.694795
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.273280     | 0.194196     | 0.227319     |
| x          | 0.002451     | 0.006880     | 0.017825     |
| y          | 0.005120     | 0.010546     | 0.025101     |
| w          | 0.008167     | 0.006887     | 0.012025     |
| h          | 0.008457     | 0.007913     | 0.013345     |
| conf       | 0.208019     | 0.096913     | 0.130736     |
| cls        | 0.041067     | 0.065056     | 0.028288     |
| cls_acc    | 100.00%      | 94.44%       | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 1.000000     |
| recall75   | 0.944444     | 0.944444     | 0.888889     |
| precision  | 0.708333     | 0.435897     | 0.173077     |
| conf_obj   | 0.934388     | 0.978353     | 0.963801     |
| conf_noobj | 0.000688     | 0.000394     | 0.000394     |
+------------+--------------+--------------+--------------+
2020-12-20 12:45:16.082 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.819131
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.344184     | 0.232518     | 0.242429     |
| x          | 0.004200     | 0.013852     | 0.035387     |
| y          | 0.007125     | 0.014150     | 0.020891     |
| w          | 0.015832     | 0.020174     | 0.008534     |
| h          | 0.020000     | 0.016122     | 0.010238     |
| conf       | 0.290323     | 0.162160     | 0.164688     |
| cls        | 0.006704     | 0.006059     | 0.002691     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.903226     | 1.000000     | 0.967742     |
| recall75   | 0.903226     | 0.935484     | 0.903226     |
| precision  | 0.777778     | 0.442857     | 0.200000     |
| conf_obj   | 0.882777     | 0.947463     | 0.949541     |
| conf_noobj | 0.000458     | 0.000492     | 0.000437     |
+------------+--------------+--------------+--------------+
2020-12-20 12:46:21.202 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.726084
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.244284     | 0.227877     | 0.253923     |
| x          | 0.003074     | 0.008056     | 0.017149     |
| y          | 0.003673     | 0.007280     | 0.017898     |
| w          | 0.021453     | 0.024324     | 0.018030     |
| h          | 0.011723     | 0.010495     | 0.010934     |
| conf       | 0.200202     | 0.176407     | 0.187383     |
| cls        | 0.004159     | 0.001315     | 0.002529     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.968750     |
| recall75   | 0.906250     | 0.906250     | 0.843750     |
| precision  | 0.744186     | 0.516129     | 0.194969     |
| conf_obj   | 0.963384     | 0.970389     | 0.960485     |
| conf_noobj | 0.000927     | 0.000656     | 0.000595     |
+------------+--------------+--------------+--------------+
2020-12-20 12:47:25.305 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.045565
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.347949     | 0.536511     | 0.161104     |
| x          | 0.004010     | 0.006444     | 0.019063     |
| y          | 0.005853     | 0.013765     | 0.044414     |
| w          | 0.022753     | 0.007338     | 0.005586     |
| h          | 0.015273     | 0.008972     | 0.006555     |
| conf       | 0.299686     | 0.499747     | 0.085397     |
| cls        | 0.000374     | 0.000246     | 0.000090     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.882353     | 1.000000     |
| recall75   | 0.823529     | 0.823529     | 0.941176     |
| precision  | 0.666667     | 0.394737     | 0.207317     |
| conf_obj   | 0.872727     | 0.848192     | 0.976364     |
| conf_noobj | 0.000482     | 0.000348     | 0.000263     |
+------------+--------------+--------------+--------------+
2020-12-20 12:48:32.892 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.579649
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.187413     | 0.169501     | 0.222735     |
| x          | 0.008389     | 0.030005     | 0.025162     |
| y          | 0.003927     | 0.010094     | 0.026665     |
| w          | 0.028589     | 0.021273     | 0.009392     |
| h          | 0.011105     | 0.007378     | 0.007985     |
| conf       | 0.129638     | 0.099392     | 0.152280     |
| cls        | 0.005765     | 0.001357     | 0.001250     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.944444     |
| recall75   | 0.944444     | 0.888889     | 0.944444     |
| precision  | 0.782609     | 0.418605     | 0.184783     |
| conf_obj   | 0.957693     | 0.983877     | 0.948352     |
| conf_noobj | 0.000461     | 0.000422     | 0.000373     |
+------------+--------------+--------------+--------------+
2020-12-20 12:49:38.162 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.965071
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.435281     | 0.312248     | 0.217542     |
| x          | 0.003384     | 0.007110     | 0.029769     |
| y          | 0.007697     | 0.007517     | 0.035184     |
| w          | 0.019512     | 0.019965     | 0.013944     |
| h          | 0.007603     | 0.004167     | 0.004427     |
| conf       | 0.393296     | 0.253718     | 0.130361     |
| cls        | 0.003788     | 0.019772     | 0.003858     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.950000     | 0.950000     |
| precision  | 0.500000     | 0.270270     | 0.156250     |
| conf_obj   | 0.898380     | 0.915593     | 0.971279     |
| conf_noobj | 0.000972     | 0.000680     | 0.000397     |
+------------+--------------+--------------+--------------+
2020-12-20 12:50:44.310 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.960337
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.375730     | 0.270078     | 0.314528     |
| x          | 0.022653     | 0.013509     | 0.033116     |
| y          | 0.011928     | 0.015016     | 0.025697     |
| w          | 0.020951     | 0.013362     | 0.009308     |
| h          | 0.032150     | 0.008196     | 0.013513     |
| conf       | 0.272856     | 0.193466     | 0.136645     |
| cls        | 0.015193     | 0.026530     | 0.096250     |
| cls_acc    | 100.00%      | 100.00%      | 95.45%       |
| recall50   | 0.904762     | 0.909091     | 0.954545     |
| recall75   | 0.809524     | 0.909091     | 0.863636     |
| precision  | 0.730769     | 0.512821     | 0.198113     |
| conf_obj   | 0.900212     | 0.920824     | 0.952689     |
| conf_noobj | 0.000580     | 0.000397     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 12:51:47.759 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.854546
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.362692     | 0.316855     | 0.174999     |
| x          | 0.009947     | 0.006390     | 0.010134     |
| y          | 0.007128     | 0.014983     | 0.042030     |
| w          | 0.011189     | 0.010611     | 0.005530     |
| h          | 0.015019     | 0.015598     | 0.016770     |
| conf       | 0.318010     | 0.259988     | 0.097741     |
| cls        | 0.001398     | 0.009285     | 0.002793     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.916667     | 1.000000     |
| recall75   | 0.826087     | 0.916667     | 0.916667     |
| precision  | 0.645161     | 0.379310     | 0.228571     |
| conf_obj   | 0.892140     | 0.906192     | 0.978318     |
| conf_noobj | 0.000670     | 0.000507     | 0.000325     |
+------------+--------------+--------------+--------------+
2020-12-20 12:52:55.830 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.087863
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.361123     | 0.400272     | 0.326467     |
| x          | 0.007034     | 0.019068     | 0.037545     |
| y          | 0.008320     | 0.015870     | 0.028031     |
| w          | 0.038739     | 0.029147     | 0.023070     |
| h          | 0.040958     | 0.037380     | 0.015254     |
| conf       | 0.238915     | 0.280708     | 0.197827     |
| cls        | 0.027157     | 0.018098     | 0.024740     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 0.952381     |
| recall75   | 0.809524     | 0.761905     | 0.761905     |
| precision  | 0.571429     | 0.292308     | 0.144928     |
| conf_obj   | 0.937029     | 0.915762     | 0.939889     |
| conf_noobj | 0.000851     | 0.000628     | 0.000416     |
+------------+--------------+--------------+--------------+
2020-12-20 12:54:00.807 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.664702
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.173431     | 0.275349     | 0.215922     |
| x          | 0.004144     | 0.007222     | 0.029746     |
| y          | 0.004400     | 0.009826     | 0.020149     |
| w          | 0.011214     | 0.009468     | 0.007232     |
| h          | 0.021425     | 0.013926     | 0.016649     |
| conf       | 0.127114     | 0.231198     | 0.130796     |
| cls        | 0.005134     | 0.003710     | 0.011350     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.935484     | 1.000000     |
| recall75   | 1.000000     | 0.903226     | 0.935484     |
| precision  | 0.837838     | 0.414286     | 0.185629     |
| conf_obj   | 0.960709     | 0.930119     | 0.985627     |
| conf_noobj | 0.000551     | 0.000546     | 0.000501     |
+------------+--------------+--------------+--------------+
2020-12-20 12:54:04.522 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.738
2020-12-20 12:54:04.527 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 12:54:57.814 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16694   | 0.34843 | 0.22573 | 0.26307 |
| 1     | Wear_helmet | 0.53202   | 0.98090 | 0.68987 | 0.94898 |
| 2     | Total       | 0.34948   | 0.66467 | 0.45780 | 0.60603 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:54:57.815 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6060294348095077
2020-12-20 12:54:57.815 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 12:54:57.816 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.288667

2020-12-20 12:54:58.272 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 2/2, epo 5/5
2020-12-20 12:54:58.272 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 2/2, epo 5/5; time cost: 0:15:13.345400

2020-12-20 12:54:58.273 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.776
2020-12-20 12:54:58.522 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 12:59:04.284 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.22744   | 0.50781 | 0.31417 | 0.42089 |
| 1     | Wear_helmet | 0.47433   | 0.93690 | 0.62980 | 0.87493 |
| 2     | Total       | 0.35088   | 0.72235 | 0.47198 | 0.64791 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:59:04.285 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6479102541635342
2020-12-20 12:59:04.285 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 12:59:04.285 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:05.762945

2020-12-20 13:00:06.403 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 16!
2020-12-20 13:00:06.586 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 2/2, epo 1/5
2020-12-20 13:00:07.921 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.699761
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.181649     | 0.229716     | 0.288396     |
| x          | 0.019203     | 0.010164     | 0.026347     |
| y          | 0.004418     | 0.008234     | 0.019963     |
| w          | 0.018155     | 0.014756     | 0.012243     |
| h          | 0.017464     | 0.014164     | 0.011490     |
| conf       | 0.121850     | 0.181415     | 0.218165     |
| cls        | 0.000559     | 0.000984     | 0.000188     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.954545     | 0.954545     |
| recall75   | 0.850000     | 0.863636     | 0.818182     |
| precision  | 0.760000     | 0.420000     | 0.196262     |
| conf_obj   | 0.972686     | 0.947847     | 0.945433     |
| conf_noobj | 0.000530     | 0.000495     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 13:01:11.558 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.830425
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.365509     | 0.229289     | 0.235628     |
| x          | 0.009945     | 0.011946     | 0.020587     |
| y          | 0.004456     | 0.006611     | 0.025838     |
| w          | 0.019933     | 0.023322     | 0.011385     |
| h          | 0.030960     | 0.034940     | 0.017422     |
| conf       | 0.298890     | 0.152204     | 0.160017     |
| cls        | 0.001326     | 0.000265     | 0.000379     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.826087     | 0.869565     | 0.956522     |
| precision  | 0.724138     | 0.489362     | 0.209091     |
| conf_obj   | 0.894467     | 0.950624     | 0.945359     |
| conf_noobj | 0.000594     | 0.000414     | 0.000391     |
+------------+--------------+--------------+--------------+
2020-12-20 13:02:17.181 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.467362
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.163591     | 0.129424     | 0.174347     |
| x          | 0.003605     | 0.007139     | 0.012811     |
| y          | 0.002759     | 0.012890     | 0.017778     |
| w          | 0.013065     | 0.007992     | 0.011055     |
| h          | 0.004787     | 0.007107     | 0.009309     |
| conf       | 0.138777     | 0.094064     | 0.123193     |
| cls        | 0.000598     | 0.000232     | 0.000202     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.689655     | 0.476190     | 0.194175     |
| conf_obj   | 0.990488     | 0.989300     | 0.975629     |
| conf_noobj | 0.000851     | 0.000449     | 0.000444     |
+------------+--------------+--------------+--------------+
2020-12-20 13:03:17.908 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.348509
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.096766     | 0.107830     | 0.143914     |
| x          | 0.002716     | 0.009110     | 0.030603     |
| y          | 0.002394     | 0.008905     | 0.036827     |
| w          | 0.008325     | 0.007296     | 0.007416     |
| h          | 0.009023     | 0.007448     | 0.008991     |
| conf       | 0.073984     | 0.074911     | 0.059948     |
| cls        | 0.000323     | 0.000160     | 0.000129     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.823529     | 0.500000     | 0.229508     |
| conf_obj   | 0.977964     | 0.987736     | 0.990479     |
| conf_noobj | 0.000337     | 0.000270     | 0.000223     |
+------------+--------------+--------------+--------------+
2020-12-20 13:04:23.128 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.699603
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.260617     | 0.221870     | 0.217115     |
| x          | 0.009877     | 0.015971     | 0.031173     |
| y          | 0.005417     | 0.009737     | 0.020432     |
| w          | 0.019335     | 0.017146     | 0.016761     |
| h          | 0.014168     | 0.011720     | 0.010226     |
| conf       | 0.209840     | 0.165540     | 0.137315     |
| cls        | 0.001979     | 0.001756     | 0.001207     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.960000     | 0.880000     |
| precision  | 0.676471     | 0.431034     | 0.170068     |
| conf_obj   | 0.952292     | 0.973969     | 0.982399     |
| conf_noobj | 0.000822     | 0.000610     | 0.000525     |
+------------+--------------+--------------+--------------+
2020-12-20 13:05:31.768 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.547517
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.209324     | 0.169451     | 0.168742     |
| x          | 0.011910     | 0.017150     | 0.025518     |
| y          | 0.003716     | 0.011039     | 0.026904     |
| w          | 0.018187     | 0.013007     | 0.013959     |
| h          | 0.021293     | 0.017451     | 0.022737     |
| conf       | 0.152140     | 0.108153     | 0.078185     |
| cls        | 0.002078     | 0.002651     | 0.001439     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 1.000000     |
| recall75   | 0.791667     | 0.800000     | 0.807692     |
| precision  | 0.851852     | 0.461538     | 0.305882     |
| conf_obj   | 0.926451     | 0.976941     | 0.989554     |
| conf_noobj | 0.000334     | 0.000413     | 0.000290     |
+------------+--------------+--------------+--------------+
2020-12-20 13:06:35.007 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.695293
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.264556     | 0.211316     | 0.219421     |
| x          | 0.004346     | 0.008644     | 0.027361     |
| y          | 0.005543     | 0.012151     | 0.032950     |
| w          | 0.013447     | 0.014017     | 0.008907     |
| h          | 0.007636     | 0.009707     | 0.005250     |
| conf       | 0.231545     | 0.164588     | 0.143715     |
| cls        | 0.002039     | 0.002208     | 0.001238     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.958333     | 0.916667     |
| precision  | 0.676471     | 0.510638     | 0.200000     |
| conf_obj   | 0.948974     | 0.954940     | 0.977405     |
| conf_noobj | 0.000999     | 0.000506     | 0.000524     |
+------------+--------------+--------------+--------------+
2020-12-20 13:07:41.747 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.519143
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.158963     | 0.185528     | 0.174652     |
| x          | 0.002509     | 0.007841     | 0.019431     |
| y          | 0.003335     | 0.008744     | 0.019241     |
| w          | 0.016951     | 0.013091     | 0.009733     |
| h          | 0.020818     | 0.017954     | 0.011661     |
| conf       | 0.114077     | 0.134485     | 0.113873     |
| cls        | 0.001274     | 0.003413     | 0.000712     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.969697     | 0.882353     | 0.911765     |
| precision  | 0.846154     | 0.500000     | 0.246377     |
| conf_obj   | 0.969649     | 0.974398     | 0.981001     |
| conf_noobj | 0.000414     | 0.000515     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 13:08:41.826 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.740178
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.221433     | 0.309401     | 0.209344     |
| x          | 0.003077     | 0.007291     | 0.032788     |
| y          | 0.012217     | 0.006458     | 0.019965     |
| w          | 0.018277     | 0.011071     | 0.014061     |
| h          | 0.036077     | 0.023704     | 0.019804     |
| conf       | 0.149066     | 0.256105     | 0.112880     |
| cls        | 0.002719     | 0.004772     | 0.009846     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 1.000000     |
| recall75   | 0.952381     | 0.952381     | 0.857143     |
| precision  | 0.833333     | 0.476190     | 0.201923     |
| conf_obj   | 0.959009     | 0.912853     | 0.979119     |
| conf_noobj | 0.000539     | 0.000485     | 0.000444     |
+------------+--------------+--------------+--------------+
2020-12-20 13:09:39.319 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.569818
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.211979     | 0.170439     | 0.187400     |
| x          | 0.005558     | 0.024354     | 0.021871     |
| y          | 0.009647     | 0.011001     | 0.065918     |
| w          | 0.009248     | 0.006171     | 0.002636     |
| h          | 0.009354     | 0.010500     | 0.009824     |
| conf       | 0.176449     | 0.117920     | 0.083447     |
| cls        | 0.001723     | 0.000493     | 0.003705     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.944444     | 1.000000     |
| precision  | 0.680000     | 0.327273     | 0.158333     |
| conf_obj   | 0.952962     | 0.980435     | 0.990039     |
| conf_noobj | 0.000537     | 0.000465     | 0.000366     |
+------------+--------------+--------------+--------------+
2020-12-20 13:10:45.789 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.447034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.109802     | 0.155184     | 0.182048     |
| x          | 0.002848     | 0.012359     | 0.042046     |
| y          | 0.008908     | 0.018521     | 0.041124     |
| w          | 0.013518     | 0.011625     | 0.006115     |
| h          | 0.006826     | 0.004905     | 0.003497     |
| conf       | 0.077163     | 0.101190     | 0.084528     |
| cls        | 0.000538     | 0.006585     | 0.004739     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.809524     | 0.377778     | 0.191011     |
| conf_obj   | 0.987783     | 0.981330     | 0.983257     |
| conf_noobj | 0.000455     | 0.000413     | 0.000314     |
+------------+--------------+--------------+--------------+
2020-12-20 13:11:53.054 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.579266
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.210546     | 0.194852     | 0.173868     |
| x          | 0.003508     | 0.008200     | 0.013611     |
| y          | 0.005767     | 0.007294     | 0.016110     |
| w          | 0.004546     | 0.006593     | 0.004419     |
| h          | 0.006965     | 0.006542     | 0.004958     |
| conf       | 0.188739     | 0.165457     | 0.133641     |
| cls        | 0.001021     | 0.000765     | 0.001129     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.714286     | 0.350877     | 0.158730     |
| conf_obj   | 0.983442     | 0.975241     | 0.984936     |
| conf_noobj | 0.000957     | 0.000719     | 0.000536     |
+------------+--------------+--------------+--------------+
2020-12-20 13:12:57.719 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.543684
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.159762     | 0.190328     | 0.193594     |
| x          | 0.005080     | 0.023185     | 0.025079     |
| y          | 0.005583     | 0.008937     | 0.026560     |
| w          | 0.018499     | 0.009056     | 0.008518     |
| h          | 0.018201     | 0.011098     | 0.009264     |
| conf       | 0.111101     | 0.137843     | 0.123856     |
| cls        | 0.001298     | 0.000209     | 0.000317     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.925926     | 0.962963     | 1.000000     |
| precision  | 0.812500     | 0.409091     | 0.175325     |
| conf_obj   | 0.970733     | 0.974158     | 0.979530     |
| conf_noobj | 0.000449     | 0.000532     | 0.000464     |
+------------+--------------+--------------+--------------+
2020-12-20 13:13:59.841 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.759192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.250371     | 0.252391     | 0.256430     |
| x          | 0.012030     | 0.015540     | 0.029211     |
| y          | 0.006156     | 0.011323     | 0.028193     |
| w          | 0.031743     | 0.017270     | 0.018338     |
| h          | 0.011503     | 0.006226     | 0.011520     |
| conf       | 0.187960     | 0.201458     | 0.168021     |
| cls        | 0.000979     | 0.000574     | 0.001145     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.962963     | 0.962963     | 0.888889     |
| precision  | 0.666667     | 0.333333     | 0.151685     |
| conf_obj   | 0.963639     | 0.950905     | 0.959533     |
| conf_noobj | 0.000928     | 0.000770     | 0.000597     |
+------------+--------------+--------------+--------------+
2020-12-20 13:14:03.431 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.777
2020-12-20 13:14:03.435 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 13:14:57.146 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06590   | 0.57840 | 0.11832 | 0.31952 |
| 1     | Wear_helmet | 0.55095   | 0.96441 | 0.70128 | 0.93881 |
| 2     | Total       | 0.30843   | 0.77140 | 0.40980 | 0.62916 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:14:57.147 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.629164155394199
2020-12-20 13:14:57.147 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 13:14:57.147 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.712646

2020-12-20 13:14:57.589 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 2/2, epo 1/5
2020-12-20 13:14:57.589 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 2/2, epo 1/5; time cost: 0:14:51.002389

2020-12-20 13:14:57.589 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 2/2, epo 2/5
2020-12-20 13:14:58.896 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.664239
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.224237     | 0.215551     | 0.224451     |
| x          | 0.011563     | 0.019350     | 0.021528     |
| y          | 0.006967     | 0.009803     | 0.017882     |
| w          | 0.014023     | 0.014859     | 0.012856     |
| h          | 0.009039     | 0.013674     | 0.012064     |
| conf       | 0.162836     | 0.133541     | 0.129839     |
| cls        | 0.019808     | 0.024324     | 0.030281     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.964286     | 1.000000     |
| recall75   | 0.846154     | 0.892857     | 0.862069     |
| precision  | 0.694444     | 0.397059     | 0.162921     |
| conf_obj   | 0.978298     | 0.982632     | 0.988781     |
| conf_noobj | 0.000776     | 0.000611     | 0.000583     |
+------------+--------------+--------------+--------------+
2020-12-20 13:16:09.002 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.773625
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.275578     | 0.252004     | 0.246043     |
| x          | 0.017582     | 0.031187     | 0.018890     |
| y          | 0.004738     | 0.015238     | 0.024230     |
| w          | 0.016813     | 0.012422     | 0.008792     |
| h          | 0.014901     | 0.011791     | 0.005606     |
| conf       | 0.178383     | 0.146498     | 0.116579     |
| cls        | 0.043162     | 0.034869     | 0.071945     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.888889     | 1.000000     |
| recall75   | 0.692308     | 0.740741     | 0.714286     |
| precision  | 0.764706     | 0.428571     | 0.239316     |
| conf_obj   | 0.946945     | 0.956000     | 0.966391     |
| conf_noobj | 0.000549     | 0.000446     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 13:17:14.759 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.779482
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.307796     | 0.245673     | 0.226013     |
| x          | 0.004376     | 0.005873     | 0.039865     |
| y          | 0.005146     | 0.011538     | 0.029695     |
| w          | 0.029850     | 0.013210     | 0.013189     |
| h          | 0.021457     | 0.005525     | 0.007877     |
| conf       | 0.188576     | 0.154518     | 0.072757     |
| cls        | 0.058391     | 0.055008     | 0.062631     |
| cls_acc    | 100.00%      | 100.00%      | 94.44%       |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.888889     | 0.833333     |
| precision  | 0.739130     | 0.326923     | 0.207317     |
| conf_obj   | 0.939887     | 0.947454     | 0.986203     |
| conf_noobj | 0.000433     | 0.000477     | 0.000273     |
+------------+--------------+--------------+--------------+
2020-12-20 13:18:20.459 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.738526
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.293417     | 0.216904     | 0.228205     |
| x          | 0.004849     | 0.007171     | 0.031118     |
| y          | 0.007873     | 0.019718     | 0.051369     |
| w          | 0.012506     | 0.012101     | 0.007836     |
| h          | 0.024027     | 0.027180     | 0.030012     |
| conf       | 0.240350     | 0.148247     | 0.100872     |
| cls        | 0.003812     | 0.002487     | 0.006997     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.863636     | 0.863636     | 0.863636     |
| precision  | 0.636364     | 0.333333     | 0.188034     |
| conf_obj   | 0.940979     | 0.968742     | 0.988312     |
| conf_noobj | 0.000779     | 0.000567     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 13:19:27.175 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.539873
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.180880     | 0.174970     | 0.184023     |
| x          | 0.002615     | 0.005173     | 0.020810     |
| y          | 0.009185     | 0.022462     | 0.026281     |
| w          | 0.009800     | 0.005420     | 0.003875     |
| h          | 0.014169     | 0.009238     | 0.006008     |
| conf       | 0.088829     | 0.071593     | 0.121399     |
| cls        | 0.056283     | 0.061083     | 0.005652     |
| cls_acc    | 93.33%       | 93.33%       | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 1.000000     |
| recall75   | 0.933333     | 0.866667     | 1.000000     |
| precision  | 0.666667     | 0.378378     | 0.194805     |
| conf_obj   | 0.990836     | 0.990407     | 0.954748     |
| conf_noobj | 0.000431     | 0.000317     | 0.000272     |
+------------+--------------+--------------+--------------+
2020-12-20 13:20:32.533 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.388000
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.122294     | 0.107546     | 0.158161     |
| x          | 0.002451     | 0.007430     | 0.020595     |
| y          | 0.005490     | 0.006787     | 0.011228     |
| w          | 0.023125     | 0.014343     | 0.006531     |
| h          | 0.012038     | 0.006393     | 0.009426     |
| conf       | 0.077890     | 0.071837     | 0.109021     |
| cls        | 0.001299     | 0.000755     | 0.001360     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 1.000000     | 0.950000     |
| precision  | 0.730769     | 0.500000     | 0.168067     |
| conf_obj   | 0.987721     | 0.992433     | 0.976120     |
| conf_noobj | 0.000347     | 0.000318     | 0.000373     |
+------------+--------------+--------------+--------------+
2020-12-20 13:21:41.736 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.897543
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.352176     | 0.264355     | 0.281012     |
| x          | 0.006265     | 0.011422     | 0.011358     |
| y          | 0.005663     | 0.016526     | 0.022407     |
| w          | 0.023659     | 0.016085     | 0.030068     |
| h          | 0.013357     | 0.013815     | 0.015969     |
| conf       | 0.180620     | 0.127436     | 0.120870     |
| cls        | 0.122613     | 0.079072     | 0.080340     |
| cls_acc    | 92.00%       | 96.15%       | 96.15%       |
| recall50   | 0.880000     | 0.923077     | 0.961538     |
| recall75   | 0.800000     | 0.807692     | 0.807692     |
| precision  | 0.647059     | 0.347826     | 0.170068     |
| conf_obj   | 0.952432     | 0.979489     | 0.970979     |
| conf_noobj | 0.000719     | 0.000590     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 13:22:50.542 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.598139
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.239851     | 0.209181     | 0.149107     |
| x          | 0.005236     | 0.010106     | 0.018477     |
| y          | 0.006487     | 0.011395     | 0.031517     |
| w          | 0.011390     | 0.003451     | 0.002958     |
| h          | 0.010881     | 0.006643     | 0.007705     |
| conf       | 0.199608     | 0.163900     | 0.072247     |
| cls        | 0.006250     | 0.013686     | 0.016203     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.842105     | 0.947368     | 0.947368     |
| precision  | 0.620690     | 0.292308     | 0.231707     |
| conf_obj   | 0.940749     | 0.958055     | 0.987298     |
| conf_noobj | 0.000528     | 0.000495     | 0.000215     |
+------------+--------------+--------------+--------------+
2020-12-20 13:24:01.588 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.683157
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.177046     | 0.228431     | 0.277679     |
| x          | 0.009467     | 0.026175     | 0.028386     |
| y          | 0.015756     | 0.025271     | 0.044341     |
| w          | 0.017408     | 0.010201     | 0.018089     |
| h          | 0.026445     | 0.013457     | 0.011997     |
| conf       | 0.066499     | 0.117693     | 0.167954     |
| cls        | 0.041472     | 0.035634     | 0.006911     |
| cls_acc    | 95.24%       | 95.24%       | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 0.954545     |
| recall75   | 0.809524     | 0.904762     | 0.818182     |
| precision  | 0.769231     | 0.413043     | 0.196262     |
| conf_obj   | 0.986981     | 0.960030     | 0.929990     |
| conf_noobj | 0.000358     | 0.000329     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 13:25:11.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.755166
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.290910     | 0.211334     | 0.252921     |
| x          | 0.004344     | 0.010957     | 0.016919     |
| y          | 0.004206     | 0.010017     | 0.029558     |
| w          | 0.014115     | 0.013336     | 0.007900     |
| h          | 0.008871     | 0.009689     | 0.006727     |
| conf       | 0.146324     | 0.082218     | 0.120269     |
| cls        | 0.113050     | 0.085118     | 0.071547     |
| cls_acc    | 96.55%       | 96.55%       | 96.55%       |
| recall50   | 0.931035     | 0.965517     | 0.965517     |
| recall75   | 0.862069     | 0.931035     | 0.896552     |
| precision  | 0.818182     | 0.528302     | 0.222222     |
| conf_obj   | 0.932552     | 0.975833     | 0.957068     |
| conf_noobj | 0.000396     | 0.000315     | 0.000328     |
+------------+--------------+--------------+--------------+
2020-12-20 13:26:16.808 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.601068
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.214323     | 0.175393     | 0.211352     |
| x          | 0.003992     | 0.006074     | 0.013544     |
| y          | 0.012086     | 0.005864     | 0.013813     |
| w          | 0.014798     | 0.008917     | 0.009319     |
| h          | 0.020109     | 0.016361     | 0.015034     |
| conf       | 0.152543     | 0.131496     | 0.131325     |
| cls        | 0.010794     | 0.006680     | 0.028317     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.870968     | 0.903226     |
| precision  | 0.828571     | 0.553571     | 0.252033     |
| conf_obj   | 0.953912     | 0.972649     | 0.974248     |
| conf_noobj | 0.000666     | 0.000564     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 13:27:29.347 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.519211
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.146411     | 0.195408     | 0.177392     |
| x          | 0.006470     | 0.016293     | 0.030702     |
| y          | 0.002780     | 0.009809     | 0.023502     |
| w          | 0.009249     | 0.005743     | 0.007923     |
| h          | 0.007032     | 0.008812     | 0.007040     |
| conf       | 0.119833     | 0.154586     | 0.108025     |
| cls        | 0.001047     | 0.000165     | 0.000201     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 1.000000     | 1.000000     |
| precision  | 0.833333     | 0.361111     | 0.226087     |
| conf_obj   | 0.959802     | 0.959381     | 0.964570     |
| conf_noobj | 0.000382     | 0.000525     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 13:28:32.175 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.755947
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.340448     | 0.235506     | 0.179994     |
| x          | 0.011455     | 0.006324     | 0.012399     |
| y          | 0.016048     | 0.007525     | 0.016585     |
| w          | 0.044132     | 0.029396     | 0.013897     |
| h          | 0.025304     | 0.024518     | 0.014419     |
| conf       | 0.229266     | 0.167168     | 0.122294     |
| cls        | 0.014243     | 0.000575     | 0.000400     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 1.000000     |
| recall75   | 0.916667     | 0.916667     | 0.916667     |
| precision  | 0.741935     | 0.500000     | 0.250000     |
| conf_obj   | 0.960011     | 0.967004     | 0.975487     |
| conf_noobj | 0.000803     | 0.000495     | 0.000380     |
+------------+--------------+--------------+--------------+
2020-12-20 13:29:35.640 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.671776
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.245059     | 0.242577     | 0.184140     |
| x          | 0.004619     | 0.007492     | 0.018221     |
| y          | 0.005910     | 0.011307     | 0.036265     |
| w          | 0.018269     | 0.014402     | 0.012002     |
| h          | 0.012479     | 0.010705     | 0.012513     |
| conf       | 0.200191     | 0.191319     | 0.101052     |
| cls        | 0.003591     | 0.007352     | 0.004086     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.956522     | 0.869565     | 0.956522     |
| precision  | 0.718750     | 0.354839     | 0.225490     |
| conf_obj   | 0.939835     | 0.942410     | 0.975283     |
| conf_noobj | 0.000501     | 0.000501     | 0.000311     |
+------------+--------------+--------------+--------------+
2020-12-20 13:29:39.185 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.763
2020-12-20 13:29:39.189 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 13:30:32.726 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10723   | 0.48084 | 0.17535 | 0.31792 |
| 1     | Wear_helmet | 0.55113   | 0.96615 | 0.70188 | 0.94423 |
| 2     | Total       | 0.32918   | 0.72349 | 0.43861 | 0.63107 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:30:32.727 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6310747413165132
2020-12-20 13:30:32.727 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 13:30:32.728 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.538171

2020-12-20 13:30:33.173 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 2/2, epo 2/5
2020-12-20 13:30:33.173 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 2/2, epo 2/5; time cost: 0:15:35.583696

2020-12-20 13:30:33.174 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 2/2, epo 3/5
2020-12-20 13:30:34.544 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.533991
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.207276     | 0.174630     | 0.152085     |
| x          | 0.006619     | 0.010169     | 0.013725     |
| y          | 0.005585     | 0.007044     | 0.010375     |
| w          | 0.015394     | 0.014476     | 0.009377     |
| h          | 0.014728     | 0.014939     | 0.012632     |
| conf       | 0.102622     | 0.123820     | 0.105083     |
| cls        | 0.062327     | 0.004183     | 0.000892     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 1.000000     |
| recall75   | 0.785714     | 0.933333     | 0.933333     |
| precision  | 0.838710     | 0.535714     | 0.206897     |
| conf_obj   | 0.962257     | 0.965402     | 0.981389     |
| conf_noobj | 0.000384     | 0.000402     | 0.000397     |
+------------+--------------+--------------+--------------+
2020-12-20 13:31:46.295 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.909934
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.389151     | 0.286041     | 0.234742     |
| x          | 0.005805     | 0.006407     | 0.028291     |
| y          | 0.004200     | 0.011567     | 0.022596     |
| w          | 0.051541     | 0.045713     | 0.032028     |
| h          | 0.033000     | 0.032399     | 0.018234     |
| conf       | 0.161238     | 0.173544     | 0.129898     |
| cls        | 0.133369     | 0.016412     | 0.003694     |
| cls_acc    | 96.97%       | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.941176     | 0.914286     |
| recall75   | 0.909091     | 0.852941     | 0.800000     |
| precision  | 0.885714     | 0.551724     | 0.290909     |
| conf_obj   | 0.932497     | 0.934977     | 0.965835     |
| conf_noobj | 0.000297     | 0.000359     | 0.000351     |
+------------+--------------+--------------+--------------+
2020-12-20 13:32:53.671 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.413145
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.126755     | 0.131472     | 0.154918     |
| x          | 0.002193     | 0.005151     | 0.019194     |
| y          | 0.002755     | 0.007626     | 0.019483     |
| w          | 0.014527     | 0.010048     | 0.005730     |
| h          | 0.014654     | 0.009754     | 0.006799     |
| conf       | 0.089541     | 0.097992     | 0.103572     |
| cls        | 0.003085     | 0.000901     | 0.000139     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.958333     | 0.916667     |
| precision  | 0.851852     | 0.585366     | 0.252632     |
| conf_obj   | 0.981366     | 0.969645     | 0.969558     |
| conf_noobj | 0.000388     | 0.000329     | 0.000306     |
+------------+--------------+--------------+--------------+
2020-12-20 13:34:02.148 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.661130
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.217799     | 0.200392     | 0.242939     |
| x          | 0.005512     | 0.017448     | 0.046987     |
| y          | 0.004859     | 0.012421     | 0.030903     |
| w          | 0.014695     | 0.013339     | 0.020221     |
| h          | 0.010545     | 0.012205     | 0.011396     |
| conf       | 0.173913     | 0.133581     | 0.127787     |
| cls        | 0.008276     | 0.011398     | 0.005645     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.935484     | 0.968750     |
| recall75   | 0.806452     | 0.838710     | 0.812500     |
| precision  | 0.750000     | 0.386667     | 0.212329     |
| conf_obj   | 0.948957     | 0.978872     | 0.975265     |
| conf_noobj | 0.000613     | 0.000555     | 0.000414     |
+------------+--------------+--------------+--------------+
2020-12-20 13:35:08.889 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.402720
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.118344     | 0.142063     | 0.142313     |
| x          | 0.003506     | 0.015290     | 0.011492     |
| y          | 0.003626     | 0.006387     | 0.016094     |
| w          | 0.012440     | 0.010894     | 0.013938     |
| h          | 0.012794     | 0.010287     | 0.011622     |
| conf       | 0.084951     | 0.098190     | 0.088076     |
| cls        | 0.001026     | 0.001013     | 0.001092     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 1.000000     |
| recall75   | 0.920000     | 0.920000     | 0.920000     |
| precision  | 0.892857     | 0.521739     | 0.274725     |
| conf_obj   | 0.966402     | 0.970871     | 0.978364     |
| conf_noobj | 0.000288     | 0.000298     | 0.000247     |
+------------+--------------+--------------+--------------+
2020-12-20 13:36:11.567 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.527953
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.160748     | 0.180844     | 0.186360     |
| x          | 0.003848     | 0.009032     | 0.022341     |
| y          | 0.004421     | 0.009010     | 0.019094     |
| w          | 0.013229     | 0.015733     | 0.013673     |
| h          | 0.016597     | 0.010805     | 0.009089     |
| conf       | 0.115322     | 0.087251     | 0.075211     |
| cls        | 0.007331     | 0.049013     | 0.046952     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.846154     | 0.928571     | 0.785714     |
| precision  | 0.722222     | 0.451613     | 0.208955     |
| conf_obj   | 0.991373     | 0.979748     | 0.987014     |
| conf_noobj | 0.000479     | 0.000343     | 0.000289     |
+------------+--------------+--------------+--------------+
2020-12-20 13:37:19.484 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.687027
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.254717     | 0.226055     | 0.206255     |
| x          | 0.004037     | 0.007499     | 0.020720     |
| y          | 0.008829     | 0.012715     | 0.040719     |
| w          | 0.010600     | 0.013953     | 0.006867     |
| h          | 0.029139     | 0.022599     | 0.013319     |
| conf       | 0.200226     | 0.168258     | 0.123936     |
| cls        | 0.001885     | 0.001030     | 0.000693     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.961538     | 0.961538     |
| recall75   | 0.923077     | 0.961538     | 0.961538     |
| precision  | 0.827586     | 0.462963     | 0.213675     |
| conf_obj   | 0.923728     | 0.946839     | 0.965584     |
| conf_noobj | 0.000378     | 0.000378     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 13:38:23.343 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.706303
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.220666     | 0.289755     | 0.195882     |
| x          | 0.004619     | 0.005465     | 0.009699     |
| y          | 0.010933     | 0.016641     | 0.032539     |
| w          | 0.014999     | 0.015994     | 0.008230     |
| h          | 0.013334     | 0.014063     | 0.008909     |
| conf       | 0.171930     | 0.233527     | 0.135377     |
| cls        | 0.004851     | 0.004065     | 0.001129     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 1.000000     |
| recall75   | 0.857143     | 0.928571     | 0.964286     |
| precision  | 0.818182     | 0.457627     | 0.224000     |
| conf_obj   | 0.940235     | 0.925921     | 0.958642     |
| conf_noobj | 0.000420     | 0.000418     | 0.000361     |
+------------+--------------+--------------+--------------+
2020-12-20 13:39:28.607 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.683702
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.265643     | 0.229396     | 0.188663     |
| x          | 0.003332     | 0.011377     | 0.020860     |
| y          | 0.001940     | 0.006914     | 0.014790     |
| w          | 0.017061     | 0.022607     | 0.011093     |
| h          | 0.012613     | 0.015519     | 0.007210     |
| conf       | 0.229974     | 0.172776     | 0.134597     |
| cls        | 0.000724     | 0.000205     | 0.000113     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.913043     | 0.956522     |
| recall75   | 0.913043     | 0.869565     | 0.913043     |
| precision  | 0.814815     | 0.456522     | 0.234043     |
| conf_obj   | 0.927636     | 0.924257     | 0.958679     |
| conf_noobj | 0.000353     | 0.000323     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 13:40:34.954 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.134982
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.496606     | 0.343031     | 0.295345     |
| x          | 0.027648     | 0.015475     | 0.033360     |
| y          | 0.003696     | 0.012121     | 0.024347     |
| w          | 0.060796     | 0.045497     | 0.031347     |
| h          | 0.088032     | 0.072305     | 0.050849     |
| conf       | 0.305009     | 0.187644     | 0.150452     |
| cls        | 0.011424     | 0.009989     | 0.004990     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.866667     | 0.935484     |
| recall75   | 0.750000     | 0.733333     | 0.677419     |
| precision  | 0.750000     | 0.490566     | 0.239669     |
| conf_obj   | 0.903052     | 0.920204     | 0.935183     |
| conf_noobj | 0.000425     | 0.000415     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 13:41:41.505 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.495525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.105424     | 0.235618     | 0.154484     |
| x          | 0.012854     | 0.020008     | 0.020327     |
| y          | 0.003200     | 0.003460     | 0.016304     |
| w          | 0.014991     | 0.008028     | 0.004487     |
| h          | 0.007475     | 0.004642     | 0.006077     |
| conf       | 0.066835     | 0.199368     | 0.107099     |
| cls        | 0.000067     | 0.000112     | 0.000189     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.850000     | 0.850000     | 1.000000     |
| precision  | 0.833333     | 0.404255     | 0.198020     |
| conf_obj   | 0.984486     | 0.944885     | 0.962621     |
| conf_noobj | 0.000228     | 0.000303     | 0.000258     |
+------------+--------------+--------------+--------------+
2020-12-20 13:42:43.723 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.166018
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.463319     | 0.388504     | 0.314195     |
| x          | 0.023038     | 0.014464     | 0.014370     |
| y          | 0.013853     | 0.005136     | 0.014788     |
| w          | 0.026214     | 0.022974     | 0.016517     |
| h          | 0.034142     | 0.017483     | 0.016979     |
| conf       | 0.226672     | 0.232541     | 0.187419     |
| cls        | 0.139401     | 0.095906     | 0.064123     |
| cls_acc    | 93.33%       | 93.55%       | 93.55%       |
| recall50   | 0.866667     | 0.838710     | 0.870968     |
| recall75   | 0.866667     | 0.806452     | 0.838710     |
| precision  | 0.684211     | 0.448276     | 0.228814     |
| conf_obj   | 0.903985     | 0.907693     | 0.925966     |
| conf_noobj | 0.000615     | 0.000429     | 0.000383     |
+------------+--------------+--------------+--------------+
2020-12-20 13:43:49.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.645816
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.214090     | 0.193024     | 0.238702     |
| x          | 0.002930     | 0.003858     | 0.012986     |
| y          | 0.002870     | 0.004468     | 0.014601     |
| w          | 0.013703     | 0.007866     | 0.007991     |
| h          | 0.024873     | 0.017330     | 0.017131     |
| conf       | 0.095113     | 0.109888     | 0.103225     |
| cls        | 0.074601     | 0.049612     | 0.082767     |
| cls_acc    | 94.44%       | 97.30%       | 94.59%       |
| recall50   | 0.916667     | 0.972973     | 0.945946     |
| recall75   | 0.888889     | 0.972973     | 0.891892     |
| precision  | 0.868421     | 0.507042     | 0.238095     |
| conf_obj   | 0.960854     | 0.976162     | 0.979483     |
| conf_noobj | 0.000271     | 0.000412     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 13:44:52.823 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.617039
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.343867     | 0.123864     | 0.149308     |
| x          | 0.021962     | 0.013816     | 0.024075     |
| y          | 0.002498     | 0.002103     | 0.009268     |
| w          | 0.006366     | 0.006755     | 0.009162     |
| h          | 0.007872     | 0.005867     | 0.013916     |
| conf       | 0.282864     | 0.071001     | 0.084711     |
| cls        | 0.022306     | 0.024321     | 0.008175     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 0.888889     | 0.888889     |
| precision  | 0.652174     | 0.500000     | 0.214286     |
| conf_obj   | 0.933783     | 0.988626     | 0.981338     |
| conf_noobj | 0.000487     | 0.000296     | 0.000298     |
+------------+--------------+--------------+--------------+
2020-12-20 13:44:55.883 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.731
2020-12-20 13:44:55.888 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 13:45:52.317 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07752   | 0.49129 | 0.13390 | 0.28872 |
| 1     | Wear_helmet | 0.49702   | 0.97613 | 0.65866 | 0.94733 |
| 2     | Total       | 0.28727   | 0.73371 | 0.39628 | 0.61803 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:45:52.317 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6180278185002209
2020-12-20 13:45:52.318 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 13:45:52.318 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.430155

2020-12-20 13:45:52.892 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 2/2, epo 3/5
2020-12-20 13:45:52.893 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 2/2, epo 3/5; time cost: 0:15:19.718731

2020-12-20 13:45:52.893 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 2/2, epo 4/5
2020-12-20 13:45:53.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.961295
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.330901     | 0.334779     | 0.295615     |
| x          | 0.008471     | 0.008922     | 0.023757     |
| y          | 0.007935     | 0.008194     | 0.019071     |
| w          | 0.018420     | 0.023999     | 0.023758     |
| h          | 0.010776     | 0.018275     | 0.015130     |
| conf       | 0.284113     | 0.273801     | 0.211842     |
| cls        | 0.001186     | 0.001588     | 0.002057     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 0.960000     |
| recall75   | 0.916667     | 0.920000     | 0.880000     |
| precision  | 0.793103     | 0.533333     | 0.285714     |
| conf_obj   | 0.911998     | 0.918943     | 0.943097     |
| conf_noobj | 0.000491     | 0.000411     | 0.000321     |
+------------+--------------+--------------+--------------+
2020-12-20 13:46:59.375 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.730549
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.231968     | 0.206773     | 0.291808     |
| x          | 0.005217     | 0.018943     | 0.011920     |
| y          | 0.006437     | 0.012393     | 0.028926     |
| w          | 0.026535     | 0.019743     | 0.031628     |
| h          | 0.018405     | 0.014738     | 0.029573     |
| conf       | 0.134699     | 0.103130     | 0.153180     |
| cls        | 0.040676     | 0.037826     | 0.036580     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.909091     | 0.909091     |
| recall75   | 0.863636     | 0.909091     | 0.772727     |
| precision  | 0.777778     | 0.465116     | 0.206186     |
| conf_obj   | 0.983693     | 0.993462     | 0.962198     |
| conf_noobj | 0.000468     | 0.000447     | 0.000405     |
+------------+--------------+--------------+--------------+
2020-12-20 13:48:03.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.585449
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.339392     | 0.126328     | 0.119728     |
| x          | 0.007966     | 0.003141     | 0.019767     |
| y          | 0.005566     | 0.005776     | 0.012855     |
| w          | 0.019872     | 0.007557     | 0.007483     |
| h          | 0.017874     | 0.008357     | 0.010018     |
| conf       | 0.287611     | 0.101063     | 0.067797     |
| cls        | 0.000504     | 0.000435     | 0.001808     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 1.000000     | 0.947368     |
| precision  | 0.809524     | 0.513514     | 0.292308     |
| conf_obj   | 0.934106     | 0.970308     | 0.984449     |
| conf_noobj | 0.000360     | 0.000332     | 0.000238     |
+------------+--------------+--------------+--------------+
2020-12-20 13:49:06.386 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.061757
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.409699     | 0.310589     | 0.341469     |
| x          | 0.013291     | 0.023009     | 0.040433     |
| y          | 0.010500     | 0.015091     | 0.033521     |
| w          | 0.016900     | 0.007653     | 0.009883     |
| h          | 0.024925     | 0.012950     | 0.014947     |
| conf       | 0.336012     | 0.243061     | 0.231940     |
| cls        | 0.008072     | 0.008825     | 0.010746     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.976190     | 0.976190     |
| recall75   | 0.809524     | 0.904762     | 0.880952     |
| precision  | 0.764706     | 0.427083     | 0.205000     |
| conf_obj   | 0.900677     | 0.944596     | 0.939044     |
| conf_noobj | 0.000956     | 0.000894     | 0.000693     |
+------------+--------------+--------------+--------------+
2020-12-20 13:50:09.669 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.760581
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.211734     | 0.267138     | 0.281710     |
| x          | 0.004900     | 0.010885     | 0.022896     |
| y          | 0.005528     | 0.026305     | 0.018962     |
| w          | 0.038252     | 0.016975     | 0.033355     |
| h          | 0.037181     | 0.029425     | 0.031219     |
| conf       | 0.123938     | 0.182352     | 0.170467     |
| cls        | 0.001935     | 0.001196     | 0.004811     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 0.909091     |
| recall75   | 0.863636     | 0.863636     | 0.863636     |
| precision  | 0.777778     | 0.403846     | 0.176991     |
| conf_obj   | 0.978004     | 0.947581     | 0.948929     |
| conf_noobj | 0.000645     | 0.000593     | 0.000451     |
+------------+--------------+--------------+--------------+
2020-12-20 13:51:16.356 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.767329
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.294518     | 0.261883     | 0.210928     |
| x          | 0.010781     | 0.004683     | 0.015667     |
| y          | 0.007353     | 0.013284     | 0.033308     |
| w          | 0.027034     | 0.022784     | 0.017950     |
| h          | 0.040011     | 0.028570     | 0.028373     |
| conf       | 0.206842     | 0.171540     | 0.100767     |
| cls        | 0.002497     | 0.021022     | 0.014863     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.967742     | 1.000000     |
| recall75   | 0.857143     | 0.838710     | 0.838710     |
| precision  | 0.764706     | 0.434783     | 0.240310     |
| conf_obj   | 0.929265     | 0.951569     | 0.981019     |
| conf_noobj | 0.000506     | 0.000490     | 0.000346     |
+------------+--------------+--------------+--------------+
2020-12-20 13:52:24.636 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.495930
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.165224     | 0.170527     | 0.160180     |
| x          | 0.002662     | 0.009846     | 0.016632     |
| y          | 0.000875     | 0.004907     | 0.012384     |
| w          | 0.015551     | 0.016183     | 0.009523     |
| h          | 0.030998     | 0.031889     | 0.020109     |
| conf       | 0.113655     | 0.106328     | 0.098886     |
| cls        | 0.001482     | 0.001374     | 0.002646     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.920000     |
| precision  | 0.862069     | 0.543478     | 0.255102     |
| conf_obj   | 0.993108     | 0.983556     | 0.988513     |
| conf_noobj | 0.000432     | 0.000396     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 13:53:30.942 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.627887
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.249340     | 0.201049     | 0.177498     |
| x          | 0.004977     | 0.006983     | 0.018337     |
| y          | 0.003701     | 0.008032     | 0.016005     |
| w          | 0.014223     | 0.025098     | 0.009904     |
| h          | 0.019444     | 0.016914     | 0.019978     |
| conf       | 0.206558     | 0.143618     | 0.112182     |
| cls        | 0.000437     | 0.000405     | 0.001093     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.875000     | 0.884615     |
| precision  | 0.676471     | 0.489796     | 0.273684     |
| conf_obj   | 0.955100     | 0.970107     | 0.972116     |
| conf_noobj | 0.000675     | 0.000448     | 0.000321     |
+------------+--------------+--------------+--------------+
2020-12-20 13:54:36.615 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.811697
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.271723     | 0.302027     | 0.237946     |
| x          | 0.006519     | 0.012763     | 0.013955     |
| y          | 0.011497     | 0.007812     | 0.018620     |
| w          | 0.028299     | 0.033439     | 0.023381     |
| h          | 0.019800     | 0.013973     | 0.009473     |
| conf       | 0.195031     | 0.230704     | 0.164584     |
| cls        | 0.010577     | 0.003336     | 0.007932     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 0.968750     | 1.000000     |
| recall75   | 0.843750     | 0.906250     | 0.937500     |
| precision  | 0.756098     | 0.378049     | 0.192771     |
| conf_obj   | 0.936334     | 0.920342     | 0.957868     |
| conf_noobj | 0.000585     | 0.000578     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 13:55:47.874 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.084679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.380214     | 0.349148     | 0.355316     |
| x          | 0.041609     | 0.020655     | 0.032090     |
| y          | 0.011778     | 0.014949     | 0.013995     |
| w          | 0.026031     | 0.026696     | 0.015070     |
| h          | 0.017335     | 0.020157     | 0.008669     |
| conf       | 0.245514     | 0.182550     | 0.269626     |
| cls        | 0.037946     | 0.084141     | 0.015866     |
| cls_acc    | 100.00%      | 96.15%       | 100.00%      |
| recall50   | 0.875000     | 0.923077     | 0.925926     |
| recall75   | 0.791667     | 0.769231     | 0.814815     |
| precision  | 0.724138     | 0.461538     | 0.168919     |
| conf_obj   | 0.948119     | 0.938937     | 0.891330     |
| conf_noobj | 0.000513     | 0.000446     | 0.000461     |
+------------+--------------+--------------+--------------+
2020-12-20 13:56:53.999 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.704359
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.220479     | 0.262051     | 0.221829     |
| x          | 0.006815     | 0.010986     | 0.021232     |
| y          | 0.013266     | 0.014472     | 0.026081     |
| w          | 0.021434     | 0.014253     | 0.010346     |
| h          | 0.015924     | 0.016055     | 0.013966     |
| conf       | 0.149408     | 0.205117     | 0.146949     |
| cls        | 0.013631     | 0.001167     | 0.003253     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.965517     | 1.000000     |
| recall75   | 0.777778     | 0.827586     | 0.866667     |
| precision  | 0.812500     | 0.518519     | 0.285714     |
| conf_obj   | 0.964067     | 0.940951     | 0.957140     |
| conf_noobj | 0.000539     | 0.000569     | 0.000436     |
+------------+--------------+--------------+--------------+
2020-12-20 13:58:00.998 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.566631
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.201283     | 0.158324     | 0.207024     |
| x          | 0.020465     | 0.010236     | 0.021090     |
| y          | 0.007336     | 0.019523     | 0.018119     |
| w          | 0.007916     | 0.010662     | 0.009990     |
| h          | 0.011868     | 0.004983     | 0.006175     |
| conf       | 0.152991     | 0.109190     | 0.146741     |
| cls        | 0.000705     | 0.003730     | 0.004909     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.933333     | 1.000000     |
| precision  | 0.750000     | 0.454545     | 0.185185     |
| conf_obj   | 0.948417     | 0.962728     | 0.941852     |
| conf_noobj | 0.000574     | 0.000403     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 13:59:04.317 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.688550
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.283365     | 0.226897     | 0.178288     |
| x          | 0.016401     | 0.009669     | 0.011078     |
| y          | 0.009351     | 0.009956     | 0.016551     |
| w          | 0.023797     | 0.014974     | 0.010029     |
| h          | 0.019178     | 0.008158     | 0.010716     |
| conf       | 0.214012     | 0.181693     | 0.127222     |
| cls        | 0.000626     | 0.002447     | 0.002692     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 1.000000     |
| recall75   | 0.916667     | 0.840000     | 1.000000     |
| precision  | 0.605263     | 0.369231     | 0.185185     |
| conf_obj   | 0.965068     | 0.953001     | 0.976699     |
| conf_noobj | 0.000913     | 0.000596     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 14:00:06.994 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.543076
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.211231     | 0.159664     | 0.172181     |
| x          | 0.003304     | 0.012953     | 0.019353     |
| y          | 0.007814     | 0.009695     | 0.019224     |
| w          | 0.009370     | 0.011606     | 0.009764     |
| h          | 0.014670     | 0.010215     | 0.012312     |
| conf       | 0.175627     | 0.114742     | 0.110706     |
| cls        | 0.000446     | 0.000455     | 0.000822     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 1.000000     | 0.937500     |
| precision  | 0.833333     | 0.470588     | 0.242424     |
| conf_obj   | 0.945393     | 0.973543     | 0.959860     |
| conf_noobj | 0.000488     | 0.000404     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 14:00:10.094 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.751
2020-12-20 14:00:10.097 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 14:01:04.661 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09340   | 0.48780 | 0.15677 | 0.30256 |
| 1     | Wear_helmet | 0.69168   | 0.96007 | 0.80407 | 0.94018 |
| 2     | Total       | 0.39254   | 0.72394 | 0.48042 | 0.62137 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:01:04.664 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6213694969869318
2020-12-20 14:01:04.664 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 14:01:04.665 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.567259

2020-12-20 14:01:05.190 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 2/2, epo 4/5
2020-12-20 14:01:05.191 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 2/2, epo 4/5; time cost: 0:15:12.297415

2020-12-20 14:01:05.191 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 2/2, epo 5/5
2020-12-20 14:01:06.286 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.603828
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.278494     | 0.168681     | 0.156653     |
| x          | 0.003476     | 0.008869     | 0.011517     |
| y          | 0.004006     | 0.004224     | 0.011505     |
| w          | 0.019383     | 0.014358     | 0.014668     |
| h          | 0.014085     | 0.013939     | 0.009870     |
| conf       | 0.237209     | 0.126970     | 0.108245     |
| cls        | 0.000335     | 0.000322     | 0.000849     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 1.000000     | 0.952381     |
| precision  | 0.800000     | 0.500000     | 0.244186     |
| conf_obj   | 0.906431     | 0.957616     | 0.972096     |
| conf_noobj | 0.000545     | 0.000405     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 14:02:15.176 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.625901
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.213777     | 0.216637     | 0.195487     |
| x          | 0.008193     | 0.007675     | 0.030457     |
| y          | 0.006385     | 0.007560     | 0.019799     |
| w          | 0.016883     | 0.015543     | 0.013109     |
| h          | 0.019634     | 0.015355     | 0.012724     |
| conf       | 0.161583     | 0.167644     | 0.117755     |
| cls        | 0.001099     | 0.002861     | 0.001644     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.791667     | 0.920000     | 0.960000     |
| precision  | 0.727273     | 0.342466     | 0.196850     |
| conf_obj   | 0.979491     | 0.981310     | 0.982363     |
| conf_noobj | 0.000631     | 0.000621     | 0.000396     |
+------------+--------------+--------------+--------------+
2020-12-20 14:03:24.488 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.462540
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.207529     | 0.127197     | 0.127815     |
| x          | 0.002089     | 0.002816     | 0.010894     |
| y          | 0.004052     | 0.011056     | 0.019694     |
| w          | 0.009834     | 0.009020     | 0.005977     |
| h          | 0.010094     | 0.012014     | 0.011702     |
| conf       | 0.180906     | 0.091683     | 0.074419     |
| cls        | 0.000553     | 0.000609     | 0.005129     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 1.000000     | 1.000000     |
| precision  | 0.733333     | 0.480000     | 0.157895     |
| conf_obj   | 0.948928     | 0.970967     | 0.980610     |
| conf_noobj | 0.000458     | 0.000257     | 0.000275     |
+------------+--------------+--------------+--------------+
2020-12-20 14:04:30.871 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.561641
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.216682     | 0.167418     | 0.177542     |
| x          | 0.008611     | 0.010926     | 0.013555     |
| y          | 0.008379     | 0.009037     | 0.016254     |
| w          | 0.020765     | 0.014709     | 0.015681     |
| h          | 0.015348     | 0.011842     | 0.014510     |
| conf       | 0.159533     | 0.119705     | 0.112364     |
| cls        | 0.004046     | 0.001198     | 0.005177     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 0.914286     | 0.885714     |
| precision  | 0.825000     | 0.564516     | 0.277778     |
| conf_obj   | 0.956729     | 0.974722     | 0.981951     |
| conf_noobj | 0.000689     | 0.000458     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 14:05:41.678 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.662083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.225149     | 0.233900     | 0.203034     |
| x          | 0.003123     | 0.012390     | 0.034443     |
| y          | 0.003485     | 0.005970     | 0.014980     |
| w          | 0.023774     | 0.044256     | 0.025118     |
| h          | 0.022339     | 0.037547     | 0.011747     |
| conf       | 0.170372     | 0.132081     | 0.115347     |
| cls        | 0.002057     | 0.001657     | 0.001399     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.842105     | 0.894737     |
| precision  | 0.739130     | 0.422222     | 0.256757     |
| conf_obj   | 0.940929     | 0.961850     | 0.961334     |
| conf_noobj | 0.000560     | 0.000439     | 0.000314     |
+------------+--------------+--------------+--------------+
2020-12-20 14:06:48.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.447768
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.109887     | 0.156808     | 0.181073     |
| x          | 0.001473     | 0.007561     | 0.018776     |
| y          | 0.002739     | 0.006736     | 0.018201     |
| w          | 0.024973     | 0.018105     | 0.013347     |
| h          | 0.019437     | 0.012307     | 0.006669     |
| conf       | 0.060980     | 0.111898     | 0.123677     |
| cls        | 0.000285     | 0.000200     | 0.000403     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.896552     | 0.933333     | 0.933333     |
| precision  | 0.906250     | 0.526316     | 0.275229     |
| conf_obj   | 0.988225     | 0.967975     | 0.960808     |
| conf_noobj | 0.000308     | 0.000351     | 0.000330     |
+------------+--------------+--------------+--------------+
2020-12-20 14:07:56.639 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.946667
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.349366     | 0.290678     | 0.306622     |
| x          | 0.007823     | 0.014563     | 0.026188     |
| y          | 0.008197     | 0.013337     | 0.055064     |
| w          | 0.023994     | 0.021443     | 0.008650     |
| h          | 0.018528     | 0.008904     | 0.009478     |
| conf       | 0.289300     | 0.231761     | 0.206586     |
| cls        | 0.001525     | 0.000671     | 0.000656     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 0.950000     |
| recall75   | 0.850000     | 0.900000     | 0.900000     |
| precision  | 0.580645     | 0.307692     | 0.161017     |
| conf_obj   | 0.907728     | 0.938541     | 0.913160     |
| conf_noobj | 0.000783     | 0.000724     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 14:09:01.924 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.037598
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.356885     | 0.266085     | 0.414629     |
| x          | 0.023175     | 0.014274     | 0.018958     |
| y          | 0.003482     | 0.012189     | 0.022284     |
| w          | 0.027582     | 0.023360     | 0.011688     |
| h          | 0.033376     | 0.020983     | 0.017145     |
| conf       | 0.263782     | 0.187781     | 0.342087     |
| cls        | 0.005488     | 0.007497     | 0.002467     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.972222     | 0.918919     |
| recall75   | 0.676471     | 0.805556     | 0.837838     |
| precision  | 0.769231     | 0.603448     | 0.263566     |
| conf_obj   | 0.905863     | 0.944555     | 0.895541     |
| conf_noobj | 0.000716     | 0.000483     | 0.000521     |
+------------+--------------+--------------+--------------+
2020-12-20 14:10:06.838 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.234201
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.440424     | 0.457806     | 0.335970     |
| x          | 0.003899     | 0.019124     | 0.045407     |
| y          | 0.007408     | 0.006854     | 0.018123     |
| w          | 0.025697     | 0.032368     | 0.026041     |
| h          | 0.018409     | 0.024006     | 0.026148     |
| conf       | 0.330855     | 0.238077     | 0.178995     |
| cls        | 0.054157     | 0.137377     | 0.041257     |
| cls_acc    | 96.43%       | 93.10%       | 100.00%      |
| recall50   | 0.928571     | 0.931035     | 0.965517     |
| recall75   | 0.928571     | 0.827586     | 0.793103     |
| precision  | 0.634146     | 0.415385     | 0.198582     |
| conf_obj   | 0.919829     | 0.941758     | 0.956720     |
| conf_noobj | 0.001006     | 0.000711     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 14:11:08.600 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.597026
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.232051     | 0.181954     | 0.183021     |
| x          | 0.001244     | 0.005343     | 0.011459     |
| y          | 0.004457     | 0.007721     | 0.021898     |
| w          | 0.026108     | 0.019582     | 0.014516     |
| h          | 0.010645     | 0.009923     | 0.011987     |
| conf       | 0.189057     | 0.138923     | 0.122197     |
| cls        | 0.000539     | 0.000460     | 0.000965     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.620690     | 0.382979     | 0.150000     |
| conf_obj   | 0.987045     | 0.981930     | 0.983648     |
| conf_noobj | 0.000830     | 0.000587     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 14:12:13.459 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.792926
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.275504     | 0.307817     | 0.209606     |
| x          | 0.004010     | 0.011648     | 0.020712     |
| y          | 0.005502     | 0.008847     | 0.021734     |
| w          | 0.014359     | 0.011459     | 0.014338     |
| h          | 0.009975     | 0.008880     | 0.006969     |
| conf       | 0.223200     | 0.250014     | 0.126197     |
| cls        | 0.018457     | 0.016967     | 0.019656     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.850000     | 0.900000     | 0.950000     |
| precision  | 0.526316     | 0.301587     | 0.139860     |
| conf_obj   | 0.964690     | 0.933727     | 0.972066     |
| conf_noobj | 0.000853     | 0.000535     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 14:13:17.842 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.557447
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.205339     | 0.138936     | 0.213172     |
| x          | 0.002079     | 0.005779     | 0.016764     |
| y          | 0.004057     | 0.006121     | 0.026121     |
| w          | 0.009150     | 0.008139     | 0.010650     |
| h          | 0.027497     | 0.019778     | 0.023423     |
| conf       | 0.161740     | 0.097928     | 0.134010     |
| cls        | 0.000816     | 0.001191     | 0.002204     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.928571     |
| precision  | 0.608696     | 0.350000     | 0.175000     |
| conf_obj   | 0.974877     | 0.978474     | 0.947884     |
| conf_noobj | 0.000642     | 0.000377     | 0.000301     |
+------------+--------------+--------------+--------------+
2020-12-20 14:14:22.147 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.812255
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.336949     | 0.272034     | 0.203272     |
| x          | 0.003840     | 0.006200     | 0.031830     |
| y          | 0.002629     | 0.006206     | 0.016327     |
| w          | 0.042658     | 0.031181     | 0.021624     |
| h          | 0.024180     | 0.019441     | 0.015172     |
| conf       | 0.260917     | 0.204545     | 0.115579     |
| cls        | 0.002724     | 0.004461     | 0.002741     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.892857     | 0.964286     |
| precision  | 0.787879     | 0.430769     | 0.269231     |
| conf_obj   | 0.902752     | 0.931435     | 0.964152     |
| conf_noobj | 0.000523     | 0.000515     | 0.000331     |
+------------+--------------+--------------+--------------+
2020-12-20 14:15:23.154 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.582254
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.237005     | 0.155428     | 0.189821     |
| x          | 0.008038     | 0.012909     | 0.023971     |
| y          | 0.003430     | 0.010232     | 0.023828     |
| w          | 0.013248     | 0.016247     | 0.013567     |
| h          | 0.022692     | 0.023287     | 0.027916     |
| conf       | 0.182480     | 0.091130     | 0.099463     |
| cls        | 0.007117     | 0.001624     | 0.001076     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.857143     | 0.818182     |
| precision  | 0.818182     | 0.567568     | 0.265060     |
| conf_obj   | 0.925169     | 0.963299     | 0.969757     |
| conf_noobj | 0.000330     | 0.000275     | 0.000278     |
+------------+--------------+--------------+--------------+
2020-12-20 14:15:26.289 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.724
2020-12-20 14:15:26.294 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 14:16:18.490 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16285   | 0.47038 | 0.24194 | 0.33364 |
| 1     | Wear_helmet | 0.73048   | 0.96224 | 0.83049 | 0.94518 |
| 2     | Total       | 0.44666   | 0.71631 | 0.53621 | 0.63941 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:16:18.492 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6394116343578921
2020-12-20 14:16:18.493 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 14:16:18.493 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:52.198807

2020-12-20 14:16:18.945 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 2/2, epo 5/5
2020-12-20 14:16:18.945 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 2/2, epo 5/5; time cost: 0:15:13.754006

2020-12-20 14:16:18.945 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.749
2020-12-20 14:16:19.157 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 14:20:18.736 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.20296   | 0.54052 | 0.29511 | 0.38762 |
| 1     | Wear_helmet | 0.64702   | 0.92016 | 0.75979 | 0.88383 |
| 2     | Total       | 0.42499   | 0.73034 | 0.52745 | 0.63572 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:20:18.737 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6357246111549879
2020-12-20 14:20:18.737 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 14:20:18.738 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:03:59.580501

2020-12-20 14:21:40.810 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 17!
2020-12-20 14:21:40.997 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 2/2, epo 1/5
2020-12-20 14:21:42.613 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.755032
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.348569     | 0.231364     | 0.175099     |
| x          | 0.013733     | 0.011337     | 0.016829     |
| y          | 0.004885     | 0.004351     | 0.012377     |
| w          | 0.019403     | 0.024225     | 0.012213     |
| h          | 0.013355     | 0.006420     | 0.008279     |
| conf       | 0.276177     | 0.175080     | 0.121955     |
| cls        | 0.021015     | 0.009950     | 0.003447     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.923077     | 1.000000     |
| recall75   | 0.800000     | 0.884615     | 0.928571     |
| precision  | 0.846154     | 0.480000     | 0.269231     |
| conf_obj   | 0.892498     | 0.930493     | 0.961314     |
| conf_noobj | 0.000345     | 0.000350     | 0.000307     |
+------------+--------------+--------------+--------------+
2020-12-20 14:22:43.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.391217
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.102576     | 0.128615     | 0.160026     |
| x          | 0.002774     | 0.009411     | 0.014974     |
| y          | 0.008222     | 0.018371     | 0.021113     |
| w          | 0.012018     | 0.014922     | 0.014298     |
| h          | 0.018201     | 0.016986     | 0.018847     |
| conf       | 0.059719     | 0.059250     | 0.088756     |
| cls        | 0.001642     | 0.009675     | 0.002037     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.937500     | 0.937500     |
| precision  | 0.800000     | 0.571429     | 0.200000     |
| conf_obj   | 0.998298     | 0.993015     | 0.989088     |
| conf_noobj | 0.000311     | 0.000250     | 0.000321     |
+------------+--------------+--------------+--------------+
2020-12-20 14:23:53.280 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.690580
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.260964     | 0.192874     | 0.236742     |
| x          | 0.004923     | 0.007218     | 0.019673     |
| y          | 0.005926     | 0.007057     | 0.022018     |
| w          | 0.021888     | 0.022874     | 0.011731     |
| h          | 0.015755     | 0.017756     | 0.013955     |
| conf       | 0.211243     | 0.137414     | 0.169052     |
| cls        | 0.001228     | 0.000554     | 0.000314     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 0.966667     |
| recall75   | 0.892857     | 0.933333     | 0.866667     |
| precision  | 0.771429     | 0.508475     | 0.230159     |
| conf_obj   | 0.932167     | 0.975850     | 0.941102     |
| conf_noobj | 0.000549     | 0.000520     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 14:24:57.809 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.459843
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.178144     | 0.175542     | 0.106157     |
| x          | 0.004958     | 0.007698     | 0.008816     |
| y          | 0.003469     | 0.003998     | 0.009690     |
| w          | 0.018245     | 0.013567     | 0.003033     |
| h          | 0.011556     | 0.010896     | 0.004065     |
| conf       | 0.139813     | 0.139103     | 0.080294     |
| cls        | 0.000102     | 0.000280     | 0.000259     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.944444     | 1.000000     |
| precision  | 0.680000     | 0.367347     | 0.200000     |
| conf_obj   | 0.957654     | 0.950213     | 0.977213     |
| conf_noobj | 0.000438     | 0.000355     | 0.000235     |
+------------+--------------+--------------+--------------+
2020-12-20 14:26:09.168 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.536700
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.162303     | 0.215718     | 0.158680     |
| x          | 0.005844     | 0.008378     | 0.015647     |
| y          | 0.006030     | 0.011851     | 0.022069     |
| w          | 0.018664     | 0.006133     | 0.005857     |
| h          | 0.015860     | 0.012347     | 0.010428     |
| conf       | 0.113474     | 0.168857     | 0.095243     |
| cls        | 0.002432     | 0.008152     | 0.009436     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.909091     | 0.913043     | 0.913043     |
| precision  | 0.785714     | 0.448980     | 0.212963     |
| conf_obj   | 0.978206     | 0.937549     | 0.980360     |
| conf_noobj | 0.000539     | 0.000408     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 14:27:16.824 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.125200
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.401383     | 0.382589     | 0.341228     |
| x          | 0.010681     | 0.014609     | 0.033253     |
| y          | 0.006161     | 0.007494     | 0.009129     |
| w          | 0.016585     | 0.009681     | 0.004372     |
| h          | 0.008683     | 0.006519     | 0.012415     |
| conf       | 0.358644     | 0.343636     | 0.281675     |
| cls        | 0.000628     | 0.000651     | 0.000382     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.965517     | 0.965517     |
| recall75   | 0.785714     | 0.896552     | 0.931035     |
| precision  | 0.750000     | 0.459016     | 0.243478     |
| conf_obj   | 0.870583     | 0.929897     | 0.943096     |
| conf_noobj | 0.000704     | 0.000608     | 0.000432     |
+------------+--------------+--------------+--------------+
2020-12-20 14:28:15.200 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 1.067190
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.308892     | 0.360525     | 0.397772     |
| x          | 0.012848     | 0.022637     | 0.014903     |
| y          | 0.002390     | 0.008790     | 0.025362     |
| w          | 0.016285     | 0.016489     | 0.011651     |
| h          | 0.008943     | 0.011200     | 0.014771     |
| conf       | 0.108893     | 0.115283     | 0.108196     |
| cls        | 0.159533     | 0.186127     | 0.222889     |
| cls_acc    | 95.00%       | 95.45%       | 95.65%       |
| recall50   | 0.900000     | 0.863636     | 0.956522     |
| recall75   | 0.900000     | 0.818182     | 0.782609     |
| precision  | 0.692308     | 0.452381     | 0.226804     |
| conf_obj   | 0.983905     | 0.967966     | 0.966811     |
| conf_noobj | 0.000575     | 0.000411     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 14:29:19.449 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.670414
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.218692     | 0.251561     | 0.200161     |
| x          | 0.016087     | 0.007714     | 0.035998     |
| y          | 0.005264     | 0.019936     | 0.033748     |
| w          | 0.009379     | 0.008896     | 0.003345     |
| h          | 0.009895     | 0.011637     | 0.004779     |
| conf       | 0.175990     | 0.203069     | 0.122096     |
| cls        | 0.002078     | 0.000310     | 0.000195     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.947368     | 0.894737     | 1.000000     |
| precision  | 0.633333     | 0.346154     | 0.175926     |
| conf_obj   | 0.958884     | 0.933424     | 0.960603     |
| conf_noobj | 0.000696     | 0.000410     | 0.000310     |
+------------+--------------+--------------+--------------+
2020-12-20 14:30:27.222 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.869989
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.262473     | 0.271207     | 0.336309     |
| x          | 0.018070     | 0.011670     | 0.038080     |
| y          | 0.009091     | 0.011690     | 0.027059     |
| w          | 0.017000     | 0.015854     | 0.012318     |
| h          | 0.016696     | 0.013397     | 0.014858     |
| conf       | 0.199521     | 0.216602     | 0.239327     |
| cls        | 0.002095     | 0.001994     | 0.004668     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.976744     | 0.954545     |
| recall75   | 0.842105     | 0.860465     | 0.818182     |
| precision  | 0.844444     | 0.560000     | 0.235955     |
| conf_obj   | 0.939642     | 0.940137     | 0.920567     |
| conf_noobj | 0.000598     | 0.000629     | 0.000612     |
+------------+--------------+--------------+--------------+
2020-12-20 14:31:29.319 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.721966
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.663713     | 0.602846     | 0.455407     |
| x          | 0.006637     | 0.015404     | 0.017134     |
| y          | 0.012782     | 0.012104     | 0.028283     |
| w          | 0.012833     | 0.012517     | 0.010587     |
| h          | 0.012297     | 0.013158     | 0.011024     |
| conf       | 0.379439     | 0.329729     | 0.248045     |
| cls        | 0.239725     | 0.219935     | 0.140333     |
| cls_acc    | 95.24%       | 95.45%       | 95.65%       |
| recall50   | 0.857143     | 0.863636     | 0.913043     |
| recall75   | 0.761905     | 0.727273     | 0.826087     |
| precision  | 0.545455     | 0.301587     | 0.135484     |
| conf_obj   | 0.909015     | 0.917127     | 0.930261     |
| conf_noobj | 0.000862     | 0.000614     | 0.000488     |
+------------+--------------+--------------+--------------+
2020-12-20 14:32:34.512 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.552297
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.218427     | 0.162699     | 0.171171     |
| x          | 0.002399     | 0.009549     | 0.024097     |
| y          | 0.002894     | 0.007820     | 0.025292     |
| w          | 0.013390     | 0.009335     | 0.013655     |
| h          | 0.012865     | 0.009811     | 0.013985     |
| conf       | 0.185865     | 0.125897     | 0.093646     |
| cls        | 0.001013     | 0.000287     | 0.000496     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.928571     |
| precision  | 0.756757     | 0.466667     | 0.250000     |
| conf_obj   | 0.957118     | 0.978563     | 0.992129     |
| conf_noobj | 0.000600     | 0.000447     | 0.000348     |
+------------+--------------+--------------+--------------+
2020-12-20 14:33:37.749 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.355415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.117292     | 0.113229     | 0.124894     |
| x          | 0.001030     | 0.004013     | 0.007825     |
| y          | 0.001972     | 0.007111     | 0.021664     |
| w          | 0.011661     | 0.009859     | 0.009496     |
| h          | 0.009667     | 0.009116     | 0.005278     |
| conf       | 0.092030     | 0.082470     | 0.080389     |
| cls        | 0.000931     | 0.000661     | 0.000242     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.833333     | 0.483871     | 0.194805     |
| conf_obj   | 0.973097     | 0.978811     | 0.989479     |
| conf_noobj | 0.000414     | 0.000300     | 0.000299     |
+------------+--------------+--------------+--------------+
2020-12-20 14:34:44.260 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.694591
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.300545     | 0.209252     | 0.184794     |
| x          | 0.013663     | 0.018160     | 0.021047     |
| y          | 0.004025     | 0.009117     | 0.019341     |
| w          | 0.015632     | 0.009594     | 0.008402     |
| h          | 0.018882     | 0.010548     | 0.011918     |
| conf       | 0.239502     | 0.151233     | 0.112852     |
| cls        | 0.008840     | 0.010600     | 0.011235     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.956522     | 1.000000     |
| recall75   | 0.954545     | 0.956522     | 0.875000     |
| precision  | 0.636364     | 0.379310     | 0.226415     |
| conf_obj   | 0.969950     | 0.982376     | 0.985312     |
| conf_noobj | 0.000910     | 0.000607     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 14:35:47.314 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.886852
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.397801     | 0.311454     | 0.177597     |
| x          | 0.011028     | 0.012409     | 0.017520     |
| y          | 0.002398     | 0.016566     | 0.031415     |
| w          | 0.014077     | 0.015556     | 0.007550     |
| h          | 0.029522     | 0.027667     | 0.010648     |
| conf       | 0.339331     | 0.238455     | 0.109280     |
| cls        | 0.001445     | 0.000801     | 0.001184     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.904762     | 1.000000     |
| recall75   | 0.850000     | 0.857143     | 0.809524     |
| precision  | 0.612903     | 0.372549     | 0.233333     |
| conf_obj   | 0.918446     | 0.944122     | 0.973876     |
| conf_noobj | 0.000895     | 0.000569     | 0.000325     |
+------------+--------------+--------------+--------------+
2020-12-20 14:35:50.133 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.735
2020-12-20 14:35:50.135 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 14:36:47.356 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10383   | 0.49129 | 0.17143 | 0.28965 |
| 1     | Wear_helmet | 0.71278   | 0.96832 | 0.82113 | 0.94937 |
| 2     | Total       | 0.40830   | 0.72980 | 0.49628 | 0.61951 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:36:47.357 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6195106337664296
2020-12-20 14:36:47.357 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 14:36:47.357 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.222106

2020-12-20 14:36:47.809 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 2/2, epo 1/5
2020-12-20 14:36:47.813 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 2/2, epo 1/5; time cost: 0:15:06.812071

2020-12-20 14:36:47.813 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 2/2, epo 2/5
2020-12-20 14:36:49.107 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.521697
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.176346     | 0.149536     | 0.195815     |
| x          | 0.004979     | 0.008564     | 0.025747     |
| y          | 0.009076     | 0.010939     | 0.018565     |
| w          | 0.011792     | 0.011232     | 0.009443     |
| h          | 0.023687     | 0.021645     | 0.021868     |
| conf       | 0.125399     | 0.093714     | 0.116702     |
| cls        | 0.001414     | 0.003441     | 0.003490     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.925926     | 0.888889     |
| precision  | 0.838710     | 0.540000     | 0.287234     |
| conf_obj   | 0.958762     | 0.985012     | 0.969287     |
| conf_noobj | 0.000437     | 0.000443     | 0.000352     |
+------------+--------------+--------------+--------------+
2020-12-20 14:37:54.222 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.840648
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.302833     | 0.249823     | 0.287992     |
| x          | 0.006514     | 0.009396     | 0.016619     |
| y          | 0.020568     | 0.007927     | 0.024325     |
| w          | 0.018102     | 0.024085     | 0.022513     |
| h          | 0.012176     | 0.012220     | 0.015440     |
| conf       | 0.154931     | 0.152455     | 0.143241     |
| cls        | 0.090542     | 0.043740     | 0.065853     |
| cls_acc    | 94.74%       | 97.62%       | 97.62%       |
| recall50   | 0.921053     | 0.976190     | 0.976190     |
| recall75   | 0.842105     | 0.833333     | 0.785714     |
| precision  | 0.795455     | 0.539474     | 0.275168     |
| conf_obj   | 0.938605     | 0.973221     | 0.976833     |
| conf_noobj | 0.000534     | 0.000619     | 0.000505     |
+------------+--------------+--------------+--------------+
2020-12-20 14:38:56.296 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.619365
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.175114     | 0.200963     | 0.243289     |
| x          | 0.006221     | 0.014294     | 0.032547     |
| y          | 0.004110     | 0.011838     | 0.027213     |
| w          | 0.015182     | 0.008304     | 0.011062     |
| h          | 0.011771     | 0.013559     | 0.007970     |
| conf       | 0.111818     | 0.110189     | 0.134741     |
| cls        | 0.026012     | 0.042779     | 0.029755     |
| cls_acc    | 100.00%      | 96.00%       | 96.00%       |
| recall50   | 0.960000     | 0.960000     | 0.920000     |
| recall75   | 0.920000     | 0.880000     | 0.920000     |
| precision  | 0.727273     | 0.461538     | 0.174242     |
| conf_obj   | 0.968521     | 0.982433     | 0.964169     |
| conf_noobj | 0.000435     | 0.000425     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 14:40:07.084 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.560584
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.246313     | 0.188526     | 0.125745     |
| x          | 0.002968     | 0.009109     | 0.014716     |
| y          | 0.003494     | 0.008874     | 0.022437     |
| w          | 0.006245     | 0.005773     | 0.005467     |
| h          | 0.006424     | 0.005469     | 0.006886     |
| conf       | 0.215101     | 0.146917     | 0.071305     |
| cls        | 0.012080     | 0.012384     | 0.004934     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 1.000000     | 1.000000     |
| precision  | 0.666667     | 0.354839     | 0.186441     |
| conf_obj   | 0.918459     | 0.939908     | 0.983586     |
| conf_noobj | 0.000447     | 0.000345     | 0.000232     |
+------------+--------------+--------------+--------------+
2020-12-20 14:41:07.566 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.489925
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.174957     | 0.156851     | 0.158117     |
| x          | 0.002207     | 0.005655     | 0.018027     |
| y          | 0.002565     | 0.009980     | 0.028693     |
| w          | 0.009466     | 0.009138     | 0.008444     |
| h          | 0.006422     | 0.008033     | 0.005799     |
| conf       | 0.152552     | 0.122537     | 0.094986     |
| cls        | 0.001745     | 0.001508     | 0.002167     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.961538     |
| precision  | 0.838710     | 0.472727     | 0.218487     |
| conf_obj   | 0.959912     | 0.979032     | 0.991360     |
| conf_noobj | 0.000583     | 0.000470     | 0.000359     |
+------------+--------------+--------------+--------------+
2020-12-20 14:42:13.802 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.358971
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.091488     | 0.150403     | 0.117080     |
| x          | 0.002004     | 0.004050     | 0.008362     |
| y          | 0.001894     | 0.006354     | 0.010035     |
| w          | 0.009400     | 0.016012     | 0.010348     |
| h          | 0.013166     | 0.012411     | 0.007811     |
| conf       | 0.064851     | 0.111509     | 0.080481     |
| cls        | 0.000172     | 0.000067     | 0.000043     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.800000     | 0.476190     | 0.217391     |
| conf_obj   | 0.989415     | 0.975463     | 0.988574     |
| conf_noobj | 0.000373     | 0.000415     | 0.000307     |
+------------+--------------+--------------+--------------+
2020-12-20 14:43:21.972 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.824021
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.238663     | 0.283117     | 0.302242     |
| x          | 0.010991     | 0.008314     | 0.024681     |
| y          | 0.006727     | 0.009781     | 0.026895     |
| w          | 0.022197     | 0.014634     | 0.024854     |
| h          | 0.008777     | 0.008762     | 0.010280     |
| conf       | 0.106972     | 0.165138     | 0.120635     |
| cls        | 0.082999     | 0.076488     | 0.094897     |
| cls_acc    | 95.65%       | 95.83%       | 95.83%       |
| recall50   | 0.913043     | 0.916667     | 0.958333     |
| recall75   | 0.869565     | 0.791667     | 0.708333     |
| precision  | 0.724138     | 0.415094     | 0.201754     |
| conf_obj   | 0.980140     | 0.957981     | 0.973120     |
| conf_noobj | 0.000532     | 0.000488     | 0.000405     |
+------------+--------------+--------------+--------------+
2020-12-20 14:44:30.171 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.626498
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.150310     | 0.225075     | 0.251113     |
| x          | 0.007605     | 0.006919     | 0.022950     |
| y          | 0.006337     | 0.007400     | 0.017694     |
| w          | 0.016560     | 0.011647     | 0.006775     |
| h          | 0.019933     | 0.018115     | 0.010162     |
| conf       | 0.099134     | 0.180489     | 0.192307     |
| cls        | 0.000741     | 0.000504     | 0.001227     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 0.954545     |
| recall75   | 0.954545     | 0.863636     | 0.909091     |
| precision  | 0.785714     | 0.488372     | 0.216495     |
| conf_obj   | 0.976254     | 0.928036     | 0.930349     |
| conf_noobj | 0.000401     | 0.000323     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 14:45:38.492 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.579114
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.200596     | 0.223533     | 0.154984     |
| x          | 0.012161     | 0.014237     | 0.007135     |
| y          | 0.003027     | 0.004605     | 0.029693     |
| w          | 0.018745     | 0.015375     | 0.008252     |
| h          | 0.014226     | 0.013209     | 0.012241     |
| conf       | 0.146402     | 0.169812     | 0.092182     |
| cls        | 0.006035     | 0.006294     | 0.005481     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 0.894737     | 0.809524     | 0.863636     |
| precision  | 0.655172     | 0.370370     | 0.217822     |
| conf_obj   | 0.966853     | 0.949489     | 0.986756     |
| conf_noobj | 0.000622     | 0.000515     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 14:46:43.599 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.496956
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.195139     | 0.151239     | 0.150577     |
| x          | 0.002681     | 0.008182     | 0.019721     |
| y          | 0.001962     | 0.008508     | 0.017403     |
| w          | 0.010451     | 0.008496     | 0.007049     |
| h          | 0.006553     | 0.003372     | 0.003147     |
| conf       | 0.158772     | 0.117530     | 0.093868     |
| cls        | 0.014719     | 0.005151     | 0.009390     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.920000     | 1.000000     |
| precision  | 0.705882     | 0.390625     | 0.221239     |
| conf_obj   | 0.951221     | 0.972984     | 0.980590     |
| conf_noobj | 0.000456     | 0.000422     | 0.000303     |
+------------+--------------+--------------+--------------+
2020-12-20 14:47:45.918 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.978951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.342353     | 0.355746     | 0.280853     |
| x          | 0.013519     | 0.006364     | 0.006104     |
| y          | 0.003636     | 0.008236     | 0.020882     |
| w          | 0.017684     | 0.011755     | 0.004781     |
| h          | 0.010342     | 0.007670     | 0.002323     |
| conf       | 0.217388     | 0.162312     | 0.101573     |
| cls        | 0.079783     | 0.159409     | 0.145190     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.900000     | 0.950000     | 0.950000     |
| recall75   | 0.800000     | 0.800000     | 0.900000     |
| precision  | 0.620690     | 0.351852     | 0.168142     |
| conf_obj   | 0.925786     | 0.943995     | 0.978407     |
| conf_noobj | 0.000637     | 0.000460     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 14:48:49.549 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.645635
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.311773     | 0.164194     | 0.169668     |
| x          | 0.009506     | 0.003946     | 0.006575     |
| y          | 0.006260     | 0.006443     | 0.020239     |
| w          | 0.024732     | 0.013227     | 0.009099     |
| h          | 0.029521     | 0.022464     | 0.014891     |
| conf       | 0.186572     | 0.113756     | 0.108894     |
| cls        | 0.055182     | 0.004359     | 0.009969     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 1.000000     | 1.000000     |
| recall75   | 0.821429     | 0.965517     | 0.931035     |
| precision  | 0.657895     | 0.483333     | 0.204225     |
| conf_obj   | 0.952875     | 0.981848     | 0.989088     |
| conf_noobj | 0.000629     | 0.000424     | 0.000359     |
+------------+--------------+--------------+--------------+
2020-12-20 14:49:57.264 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.469622
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.097530     | 0.150899     | 0.221193     |
| x          | 0.010323     | 0.025265     | 0.027966     |
| y          | 0.003271     | 0.006724     | 0.029498     |
| w          | 0.004845     | 0.007787     | 0.006200     |
| h          | 0.011297     | 0.010914     | 0.010120     |
| conf       | 0.066333     | 0.099709     | 0.146814     |
| cls        | 0.001462     | 0.000500     | 0.000595     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.947368     |
| recall75   | 1.000000     | 1.000000     | 0.947368     |
| precision  | 0.863636     | 0.404255     | 0.225000     |
| conf_obj   | 0.981935     | 0.971433     | 0.941261     |
| conf_noobj | 0.000294     | 0.000316     | 0.000208     |
+------------+--------------+--------------+--------------+
2020-12-20 14:51:01.322 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.757508
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.240809     | 0.254763     | 0.261937     |
| x          | 0.025873     | 0.009629     | 0.023349     |
| y          | 0.009299     | 0.009941     | 0.022855     |
| w          | 0.034591     | 0.015513     | 0.015702     |
| h          | 0.017667     | 0.013934     | 0.008960     |
| conf       | 0.152322     | 0.204082     | 0.190007     |
| cls        | 0.001056     | 0.001663     | 0.001062     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.937500     | 0.968750     |
| recall75   | 0.833333     | 0.875000     | 0.906250     |
| precision  | 0.756757     | 0.545455     | 0.264957     |
| conf_obj   | 0.951343     | 0.925189     | 0.946540     |
| conf_noobj | 0.000526     | 0.000465     | 0.000448     |
+------------+--------------+--------------+--------------+
2020-12-20 14:51:04.189 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.729
2020-12-20 14:51:04.193 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 14:51:59.243 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12944   | 0.53310 | 0.20830 | 0.32887 |
| 1     | Wear_helmet | 0.68983   | 0.96528 | 0.80463 | 0.94154 |
| 2     | Total       | 0.40963   | 0.74919 | 0.50647 | 0.63521 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:51:59.244 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6352065924054354
2020-12-20 14:51:59.245 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 14:51:59.245 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.051511

2020-12-20 14:51:59.774 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 2/2, epo 2/5
2020-12-20 14:51:59.775 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 2/2, epo 2/5; time cost: 0:15:11.960924

2020-12-20 14:51:59.775 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 2/2, epo 3/5
2020-12-20 14:52:01.076 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.598573
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.097913     | 0.152804     | 0.347857     |
| x          | 0.002516     | 0.007110     | 0.017310     |
| y          | 0.004064     | 0.008244     | 0.013548     |
| w          | 0.014298     | 0.009274     | 0.021927     |
| h          | 0.019287     | 0.013141     | 0.014601     |
| conf       | 0.054143     | 0.113615     | 0.262317     |
| cls        | 0.003604     | 0.001420     | 0.018154     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.954545     |
| recall75   | 0.950000     | 0.950000     | 0.909091     |
| precision  | 0.909091     | 0.526316     | 0.235955     |
| conf_obj   | 0.985543     | 0.974399     | 0.924992     |
| conf_noobj | 0.000295     | 0.000402     | 0.000333     |
+------------+--------------+--------------+--------------+
2020-12-20 14:53:06.396 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.900094
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.214990     | 0.340818     | 0.344286     |
| x          | 0.006249     | 0.010647     | 0.019408     |
| y          | 0.004134     | 0.009154     | 0.015397     |
| w          | 0.022871     | 0.024981     | 0.018134     |
| h          | 0.018209     | 0.020166     | 0.021493     |
| conf       | 0.160611     | 0.272124     | 0.266300     |
| cls        | 0.002916     | 0.003747     | 0.003554     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 0.880000     |
| recall75   | 0.833333     | 0.800000     | 0.800000     |
| precision  | 0.648649     | 0.400000     | 0.184874     |
| conf_obj   | 0.959706     | 0.909132     | 0.895918     |
| conf_noobj | 0.000691     | 0.000460     | 0.000380     |
+------------+--------------+--------------+--------------+
2020-12-20 14:54:12.241 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.421880
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.140375     | 0.166971     | 0.114534     |
| x          | 0.002638     | 0.007184     | 0.016171     |
| y          | 0.002355     | 0.004876     | 0.017616     |
| w          | 0.042244     | 0.026592     | 0.010006     |
| h          | 0.034571     | 0.026056     | 0.008815     |
| conf       | 0.058327     | 0.101791     | 0.061502     |
| cls        | 0.000240     | 0.000471     | 0.000425     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.894737     | 0.894737     |
| precision  | 0.904762     | 0.487179     | 0.279412     |
| conf_obj   | 0.981079     | 0.968234     | 0.988464     |
| conf_noobj | 0.000179     | 0.000257     | 0.000195     |
+------------+--------------+--------------+--------------+
2020-12-20 14:55:17.778 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.763060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.254309     | 0.219874     | 0.288876     |
| x          | 0.005581     | 0.010467     | 0.023604     |
| y          | 0.006749     | 0.013180     | 0.026895     |
| w          | 0.018065     | 0.012958     | 0.018595     |
| h          | 0.036249     | 0.026618     | 0.021393     |
| conf       | 0.182420     | 0.149279     | 0.196816     |
| cls        | 0.005246     | 0.007372     | 0.001573     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.961538     |
| recall75   | 0.923077     | 0.923077     | 0.884615     |
| precision  | 0.702703     | 0.433333     | 0.203252     |
| conf_obj   | 0.950375     | 0.959623     | 0.937579     |
| conf_noobj | 0.000607     | 0.000471     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 14:56:21.883 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.536760
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.174717     | 0.187106     | 0.174937     |
| x          | 0.004140     | 0.003855     | 0.009596     |
| y          | 0.003476     | 0.007906     | 0.017208     |
| w          | 0.014111     | 0.011596     | 0.007720     |
| h          | 0.017720     | 0.022020     | 0.015055     |
| conf       | 0.125209     | 0.136377     | 0.121319     |
| cls        | 0.010062     | 0.005353     | 0.004038     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.958333     | 0.958333     |
| precision  | 0.750000     | 0.436364     | 0.198347     |
| conf_obj   | 0.974520     | 0.977145     | 0.991075     |
| conf_noobj | 0.000594     | 0.000528     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 14:57:28.773 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.807539
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.290654     | 0.217556     | 0.299328     |
| x          | 0.014744     | 0.009481     | 0.026070     |
| y          | 0.020425     | 0.021226     | 0.033613     |
| w          | 0.028724     | 0.027056     | 0.020179     |
| h          | 0.019940     | 0.019232     | 0.017070     |
| conf       | 0.205337     | 0.137016     | 0.198450     |
| cls        | 0.001485     | 0.003545     | 0.003946     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 0.967742     |
| recall75   | 0.760000     | 0.758621     | 0.774194     |
| precision  | 0.666667     | 0.527273     | 0.267857     |
| conf_obj   | 0.960422     | 0.968016     | 0.942892     |
| conf_noobj | 0.000838     | 0.000530     | 0.000446     |
+------------+--------------+--------------+--------------+
2020-12-20 14:58:35.480 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.659046
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.256480     | 0.224162     | 0.178403     |
| x          | 0.006269     | 0.005211     | 0.012486     |
| y          | 0.002353     | 0.006818     | 0.014264     |
| w          | 0.015347     | 0.015345     | 0.011016     |
| h          | 0.013436     | 0.011189     | 0.010885     |
| conf       | 0.218025     | 0.185039     | 0.129405     |
| cls        | 0.001050     | 0.000560     | 0.000346     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.916667     | 1.000000     |
| recall75   | 0.916667     | 0.916667     | 0.958333     |
| precision  | 0.718750     | 0.511628     | 0.260870     |
| conf_obj   | 0.940867     | 0.938145     | 0.961345     |
| conf_noobj | 0.000640     | 0.000394     | 0.000333     |
+------------+--------------+--------------+--------------+
2020-12-20 14:59:42.862 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.922162
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.265838     | 0.286246     | 0.370078     |
| x          | 0.006679     | 0.017314     | 0.042063     |
| y          | 0.004404     | 0.018313     | 0.036762     |
| w          | 0.020141     | 0.027005     | 0.024053     |
| h          | 0.022028     | 0.020555     | 0.011895     |
| conf       | 0.200522     | 0.192005     | 0.251558     |
| cls        | 0.012064     | 0.011055     | 0.003747     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 0.923077     |
| recall75   | 0.880000     | 0.807692     | 0.807692     |
| precision  | 0.750000     | 0.342466     | 0.184615     |
| conf_obj   | 0.949716     | 0.947666     | 0.936159     |
| conf_noobj | 0.000602     | 0.000662     | 0.000467     |
+------------+--------------+--------------+--------------+
2020-12-20 15:00:47.580 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.495701
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.182353     | 0.166363     | 0.146985     |
| x          | 0.002494     | 0.007054     | 0.014430     |
| y          | 0.002716     | 0.005969     | 0.017490     |
| w          | 0.021708     | 0.013340     | 0.007941     |
| h          | 0.024878     | 0.021774     | 0.011180     |
| conf       | 0.130303     | 0.117882     | 0.095666     |
| cls        | 0.000254     | 0.000343     | 0.000278     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.941176     | 1.000000     |
| precision  | 0.653846     | 0.354167     | 0.151786     |
| conf_obj   | 0.989364     | 0.978521     | 0.985431     |
| conf_noobj | 0.000569     | 0.000393     | 0.000349     |
+------------+--------------+--------------+--------------+
2020-12-20 15:01:48.445 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.771437
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.219105     | 0.226826     | 0.325506     |
| x          | 0.004910     | 0.010801     | 0.017119     |
| y          | 0.007451     | 0.022851     | 0.040443     |
| w          | 0.009133     | 0.011128     | 0.010022     |
| h          | 0.012374     | 0.011120     | 0.012428     |
| conf       | 0.182791     | 0.169359     | 0.244178     |
| cls        | 0.002447     | 0.001567     | 0.001316     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 0.944444     |
| recall75   | 0.944444     | 0.944444     | 0.888889     |
| precision  | 0.680000     | 0.400000     | 0.178947     |
| conf_obj   | 0.930908     | 0.941387     | 0.928466     |
| conf_noobj | 0.000533     | 0.000454     | 0.000373     |
+------------+--------------+--------------+--------------+
2020-12-20 15:02:58.110 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.166271
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.237521     | 0.568819     | 0.359932     |
| x          | 0.004906     | 0.005322     | 0.017248     |
| y          | 0.004115     | 0.006099     | 0.027251     |
| w          | 0.008881     | 0.006626     | 0.004969     |
| h          | 0.012378     | 0.009795     | 0.009663     |
| conf       | 0.130330     | 0.433420     | 0.172833     |
| cls        | 0.076911     | 0.107557     | 0.127967     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.950000     | 0.850000     | 0.900000     |
| recall75   | 0.900000     | 0.850000     | 0.900000     |
| precision  | 0.730769     | 0.354167     | 0.163636     |
| conf_obj   | 0.982825     | 0.890124     | 0.951724     |
| conf_noobj | 0.000531     | 0.000485     | 0.000420     |
+------------+--------------+--------------+--------------+
2020-12-20 15:04:02.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.937873
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.370913     | 0.257921     | 0.309040     |
| x          | 0.005185     | 0.009356     | 0.014495     |
| y          | 0.003355     | 0.006948     | 0.014765     |
| w          | 0.024659     | 0.023269     | 0.020975     |
| h          | 0.045984     | 0.039502     | 0.044893     |
| conf       | 0.274517     | 0.152424     | 0.198519     |
| cls        | 0.017213     | 0.026421     | 0.015393     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 0.937500     |
| recall75   | 0.812500     | 0.812500     | 0.812500     |
| precision  | 0.681818     | 0.421053     | 0.208333     |
| conf_obj   | 0.895105     | 0.932962     | 0.913188     |
| conf_noobj | 0.000684     | 0.000360     | 0.000273     |
+------------+--------------+--------------+--------------+
2020-12-20 15:05:10.394 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.764408
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.293919     | 0.236864     | 0.233625     |
| x          | 0.004429     | 0.008126     | 0.016618     |
| y          | 0.003988     | 0.010916     | 0.017561     |
| w          | 0.007031     | 0.006431     | 0.012202     |
| h          | 0.018336     | 0.012099     | 0.018509     |
| conf       | 0.229547     | 0.194776     | 0.154439     |
| cls        | 0.030588     | 0.004514     | 0.014295     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.892857     | 0.964286     |
| recall75   | 0.928571     | 0.892857     | 0.928571     |
| precision  | 0.794118     | 0.543478     | 0.264706     |
| conf_obj   | 0.933980     | 0.926419     | 0.951704     |
| conf_noobj | 0.000496     | 0.000319     | 0.000309     |
+------------+--------------+--------------+--------------+
2020-12-20 15:06:21.900 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.557577
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.195361     | 0.148657     | 0.213559     |
| x          | 0.004652     | 0.013439     | 0.028653     |
| y          | 0.005440     | 0.026457     | 0.030908     |
| w          | 0.013731     | 0.005184     | 0.004806     |
| h          | 0.010801     | 0.011980     | 0.019106     |
| conf       | 0.159920     | 0.091267     | 0.129186     |
| cls        | 0.000817     | 0.000331     | 0.000900     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.950000     | 0.900000     |
| precision  | 0.791667     | 0.400000     | 0.227273     |
| conf_obj   | 0.940217     | 0.984803     | 0.950528     |
| conf_noobj | 0.000366     | 0.000380     | 0.000287     |
+------------+--------------+--------------+--------------+
2020-12-20 15:06:25.724 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.696
2020-12-20 15:06:25.727 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 15:07:17.109 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14214   | 0.49129 | 0.22048 | 0.33932 |
| 1     | Wear_helmet | 0.72757   | 0.96094 | 0.82813 | 0.94254 |
| 2     | Total       | 0.43485   | 0.72611 | 0.52431 | 0.64093 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:07:17.109 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6409316658496265
2020-12-20 15:07:17.110 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 15:07:17.110 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:51.382782

2020-12-20 15:07:17.733 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 2/2, epo 3/5
2020-12-20 15:07:17.734 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 2/2, epo 3/5; time cost: 0:15:17.958049

2020-12-20 15:07:17.734 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 2/2, epo 4/5
2020-12-20 15:07:19.142 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.899185
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.468380     | 0.276910     | 0.153895     |
| x          | 0.004797     | 0.006816     | 0.011636     |
| y          | 0.001888     | 0.005189     | 0.020344     |
| w          | 0.015234     | 0.011357     | 0.007701     |
| h          | 0.020781     | 0.015758     | 0.018563     |
| conf       | 0.420218     | 0.224304     | 0.092941     |
| cls        | 0.005463     | 0.013485     | 0.002710     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.923077     | 1.000000     |
| recall75   | 0.769231     | 0.846154     | 0.925926     |
| precision  | 0.846154     | 0.461538     | 0.262136     |
| conf_obj   | 0.851506     | 0.912980     | 0.974482     |
| conf_noobj | 0.000339     | 0.000384     | 0.000290     |
+------------+--------------+--------------+--------------+
2020-12-20 15:08:22.690 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.559405
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.150308     | 0.202166     | 0.206932     |
| x          | 0.010722     | 0.006926     | 0.035316     |
| y          | 0.002736     | 0.008142     | 0.020186     |
| w          | 0.009165     | 0.010890     | 0.012037     |
| h          | 0.006244     | 0.008011     | 0.012431     |
| conf       | 0.120927     | 0.167507     | 0.125872     |
| cls        | 0.000514     | 0.000688     | 0.001090     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.923077     | 0.961538     |
| recall75   | 0.916667     | 0.923077     | 0.923077     |
| precision  | 0.827586     | 0.480000     | 0.245098     |
| conf_obj   | 0.959533     | 0.936252     | 0.965480     |
| conf_noobj | 0.000390     | 0.000362     | 0.000306     |
+------------+--------------+--------------+--------------+
2020-12-20 15:09:22.992 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.521269
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.189525     | 0.156572     | 0.175172     |
| x          | 0.005081     | 0.009062     | 0.024774     |
| y          | 0.010297     | 0.005729     | 0.022578     |
| w          | 0.010069     | 0.012715     | 0.014477     |
| h          | 0.016582     | 0.020398     | 0.019392     |
| conf       | 0.146977     | 0.108364     | 0.093136     |
| cls        | 0.000518     | 0.000304     | 0.000816     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.888889     | 0.947368     | 0.894737     |
| precision  | 0.720000     | 0.473684     | 0.218391     |
| conf_obj   | 0.953858     | 0.966157     | 0.969481     |
| conf_noobj | 0.000443     | 0.000276     | 0.000246     |
+------------+--------------+--------------+--------------+
2020-12-20 15:10:26.833 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.463629
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.116859     | 0.173160     | 0.173611     |
| x          | 0.000574     | 0.003388     | 0.026808     |
| y          | 0.008765     | 0.016075     | 0.047724     |
| w          | 0.008069     | 0.005200     | 0.008252     |
| h          | 0.005519     | 0.004201     | 0.007752     |
| conf       | 0.093354     | 0.144060     | 0.082618     |
| cls        | 0.000578     | 0.000235     | 0.000457     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.937500     |
| precision  | 0.761905     | 0.390244     | 0.197531     |
| conf_obj   | 0.986339     | 0.956526     | 0.987645     |
| conf_noobj | 0.000437     | 0.000441     | 0.000330     |
+------------+--------------+--------------+--------------+
2020-12-20 15:11:32.156 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.085961
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.475033     | 0.300277     | 0.310651     |
| x          | 0.006926     | 0.012681     | 0.024471     |
| y          | 0.011324     | 0.022513     | 0.043066     |
| w          | 0.011617     | 0.013160     | 0.007557     |
| h          | 0.023490     | 0.014397     | 0.011841     |
| conf       | 0.371820     | 0.228320     | 0.196468     |
| cls        | 0.049856     | 0.009206     | 0.027247     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.880000     | 0.920000     | 0.840000     |
| precision  | 0.571429     | 0.384615     | 0.187970     |
| conf_obj   | 0.928346     | 0.942976     | 0.937616     |
| conf_noobj | 0.001240     | 0.000724     | 0.000529     |
+------------+--------------+--------------+--------------+
2020-12-20 15:12:32.882 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.610359
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.154790     | 0.296254     | 0.159315     |
| x          | 0.001831     | 0.014405     | 0.020350     |
| y          | 0.004362     | 0.009633     | 0.021474     |
| w          | 0.007420     | 0.008478     | 0.009076     |
| h          | 0.016065     | 0.021098     | 0.011179     |
| conf       | 0.118529     | 0.237192     | 0.091760     |
| cls        | 0.006583     | 0.005447     | 0.005476     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.933333     | 1.000000     |
| recall75   | 1.000000     | 0.933333     | 1.000000     |
| precision  | 0.789474     | 0.378378     | 0.168539     |
| conf_obj   | 0.968607     | 0.906843     | 0.979126     |
| conf_noobj | 0.000552     | 0.000426     | 0.000331     |
+------------+--------------+--------------+--------------+
2020-12-20 15:13:37.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.602060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.214650     | 0.203031     | 0.184380     |
| x          | 0.002207     | 0.005276     | 0.018344     |
| y          | 0.006879     | 0.020786     | 0.036432     |
| w          | 0.026480     | 0.020270     | 0.008198     |
| h          | 0.018385     | 0.014205     | 0.007493     |
| conf       | 0.138343     | 0.119305     | 0.104833     |
| cls        | 0.022356     | 0.023190     | 0.009080     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.904762     | 0.952381     |
| precision  | 0.724138     | 0.403846     | 0.203883     |
| conf_obj   | 0.982890     | 0.987615     | 0.980559     |
| conf_noobj | 0.000534     | 0.000459     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 15:14:36.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.442400
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.105876     | 0.191499     | 0.145025     |
| x          | 0.011210     | 0.009059     | 0.024189     |
| y          | 0.003589     | 0.007206     | 0.020766     |
| w          | 0.010169     | 0.007931     | 0.006373     |
| h          | 0.008714     | 0.008987     | 0.007702     |
| conf       | 0.058748     | 0.111679     | 0.069023     |
| cls        | 0.013446     | 0.046636     | 0.016971     |
| cls_acc    | 100.00%      | 95.65%       | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.954545     | 0.956522     | 0.956522     |
| precision  | 0.846154     | 0.440000     | 0.230000     |
| conf_obj   | 0.994292     | 0.971570     | 0.994429     |
| conf_noobj | 0.000343     | 0.000394     | 0.000278     |
+------------+--------------+--------------+--------------+
2020-12-20 15:15:40.658 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.455835
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.215229     | 0.113122     | 0.127484     |
| x          | 0.001526     | 0.006719     | 0.028244     |
| y          | 0.002715     | 0.010713     | 0.023469     |
| w          | 0.012984     | 0.005071     | 0.004620     |
| h          | 0.011859     | 0.005199     | 0.003945     |
| conf       | 0.186054     | 0.085353     | 0.067102     |
| cls        | 0.000092     | 0.000066     | 0.000104     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.950000     | 1.000000     |
| precision  | 0.863636     | 0.512821     | 0.246914     |
| conf_obj   | 0.933690     | 0.971724     | 0.991464     |
| conf_noobj | 0.000266     | 0.000245     | 0.000228     |
+------------+--------------+--------------+--------------+
2020-12-20 15:16:49.056 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.462314
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.130615     | 0.162953     | 0.168746     |
| x          | 0.003704     | 0.021635     | 0.039129     |
| y          | 0.006363     | 0.012958     | 0.013457     |
| w          | 0.023550     | 0.020609     | 0.011286     |
| h          | 0.017607     | 0.009938     | 0.011968     |
| conf       | 0.075405     | 0.095543     | 0.090923     |
| cls        | 0.003986     | 0.002270     | 0.001983     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.875000     | 0.937500     |
| precision  | 0.761905     | 0.380952     | 0.168421     |
| conf_obj   | 0.978112     | 0.987034     | 0.973492     |
| conf_noobj | 0.000349     | 0.000399     | 0.000257     |
+------------+--------------+--------------+--------------+
2020-12-20 15:17:55.868 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.731567
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.232279     | 0.266430     | 0.232858     |
| x          | 0.006056     | 0.016018     | 0.037679     |
| y          | 0.009638     | 0.006647     | 0.015946     |
| w          | 0.030670     | 0.016918     | 0.018303     |
| h          | 0.013256     | 0.009212     | 0.005604     |
| conf       | 0.158852     | 0.200245     | 0.114601     |
| cls        | 0.013808     | 0.017390     | 0.040725     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 1.000000     | 0.965517     | 0.965517     |
| recall75   | 0.896552     | 0.931035     | 0.931035     |
| precision  | 0.783784     | 0.417910     | 0.269231     |
| conf_obj   | 0.942021     | 0.939437     | 0.967408     |
| conf_noobj | 0.000496     | 0.000575     | 0.000353     |
+------------+--------------+--------------+--------------+
2020-12-20 15:18:56.557 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.656463
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.163044     | 0.316521     | 0.176899     |
| x          | 0.002697     | 0.004007     | 0.014191     |
| y          | 0.006293     | 0.006179     | 0.021374     |
| w          | 0.018996     | 0.018174     | 0.012527     |
| h          | 0.017800     | 0.014042     | 0.010630     |
| conf       | 0.116137     | 0.273748     | 0.117706     |
| cls        | 0.001122     | 0.000370     | 0.000471     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.960000     |
| recall75   | 0.880000     | 0.960000     | 0.880000     |
| precision  | 0.923077     | 0.558140     | 0.242424     |
| conf_obj   | 0.945974     | 0.935889     | 0.962680     |
| conf_noobj | 0.000341     | 0.000309     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 15:20:06.596 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.583820
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.175805     | 0.220914     | 0.187101     |
| x          | 0.002178     | 0.006130     | 0.016014     |
| y          | 0.004740     | 0.011308     | 0.037502     |
| w          | 0.011579     | 0.007102     | 0.005019     |
| h          | 0.013194     | 0.011090     | 0.010090     |
| conf       | 0.143398     | 0.183976     | 0.117209     |
| cls        | 0.000717     | 0.001308     | 0.001268     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.972973     | 0.972973     | 1.000000     |
| recall75   | 0.945946     | 0.945946     | 0.945946     |
| precision  | 0.857143     | 0.409091     | 0.262411     |
| conf_obj   | 0.948391     | 0.951099     | 0.971730     |
| conf_noobj | 0.000468     | 0.000531     | 0.000348     |
+------------+--------------+--------------+--------------+
2020-12-20 15:21:10.634 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.940011
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.449571     | 0.306935     | 0.183506     |
| x          | 0.003214     | 0.011149     | 0.018441     |
| y          | 0.009291     | 0.007417     | 0.023621     |
| w          | 0.017047     | 0.003903     | 0.005697     |
| h          | 0.007672     | 0.008716     | 0.005920     |
| conf       | 0.404061     | 0.272001     | 0.127544     |
| cls        | 0.008286     | 0.003749     | 0.002282     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 1.000000     |
| recall75   | 0.900000     | 0.950000     | 1.000000     |
| precision  | 0.730769     | 0.404255     | 0.240964     |
| conf_obj   | 0.899481     | 0.926140     | 0.964957     |
| conf_noobj | 0.000608     | 0.000509     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 15:21:13.393 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.680
2020-12-20 15:21:13.395 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 15:22:07.158 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09218   | 0.48084 | 0.15471 | 0.33356 |
| 1     | Wear_helmet | 0.64057   | 0.95530 | 0.76690 | 0.93209 |
| 2     | Total       | 0.36638   | 0.71807 | 0.46080 | 0.63283 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:22:07.158 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.632825440628019
2020-12-20 15:22:07.159 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 15:22:07.159 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.763309

2020-12-20 15:22:07.702 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 2/2, epo 4/5
2020-12-20 15:22:07.702 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 2/2, epo 4/5; time cost: 0:14:49.968064

2020-12-20 15:22:07.702 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 2/2, epo 5/5
2020-12-20 15:22:08.713 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.382871
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.103300     | 0.120002     | 0.159569     |
| x          | 0.003927     | 0.024255     | 0.030461     |
| y          | 0.001685     | 0.007026     | 0.022621     |
| w          | 0.006305     | 0.008369     | 0.004897     |
| h          | 0.008904     | 0.007102     | 0.006721     |
| conf       | 0.082372     | 0.073056     | 0.094528     |
| cls        | 0.000108     | 0.000193     | 0.000341     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.863636     | 0.558824     | 0.213483     |
| conf_obj   | 0.979446     | 0.989788     | 0.986162     |
| conf_noobj | 0.000379     | 0.000351     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 15:23:16.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.641584
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.273213     | 0.182277     | 0.186094     |
| x          | 0.006386     | 0.007667     | 0.013510     |
| y          | 0.002566     | 0.006514     | 0.024345     |
| w          | 0.020332     | 0.014953     | 0.009347     |
| h          | 0.026865     | 0.020076     | 0.018284     |
| conf       | 0.215930     | 0.132208     | 0.120258     |
| cls        | 0.001134     | 0.000859     | 0.000350     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 1.000000     |
| recall75   | 0.964286     | 0.821429     | 0.862069     |
| precision  | 0.818182     | 0.540000     | 0.223077     |
| conf_obj   | 0.942446     | 0.963399     | 0.970376     |
| conf_noobj | 0.000443     | 0.000400     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 15:24:22.764 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.670778
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.200615     | 0.238886     | 0.231276     |
| x          | 0.005574     | 0.015504     | 0.016568     |
| y          | 0.006720     | 0.010521     | 0.029647     |
| w          | 0.017338     | 0.018711     | 0.016757     |
| h          | 0.019502     | 0.020090     | 0.015439     |
| conf       | 0.150812     | 0.173660     | 0.152391     |
| cls        | 0.000669     | 0.000401     | 0.000474     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.942857     | 0.942857     |
| recall75   | 0.911765     | 0.771429     | 0.885714     |
| precision  | 0.825000     | 0.452055     | 0.261905     |
| conf_obj   | 0.949636     | 0.939707     | 0.943794     |
| conf_noobj | 0.000472     | 0.000455     | 0.000315     |
+------------+--------------+--------------+--------------+
2020-12-20 15:25:30.466 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.856573
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.284525     | 0.340775     | 0.231274     |
| x          | 0.007529     | 0.017899     | 0.029390     |
| y          | 0.003794     | 0.011562     | 0.020864     |
| w          | 0.010589     | 0.009280     | 0.005369     |
| h          | 0.018375     | 0.007370     | 0.009647     |
| conf       | 0.237340     | 0.192496     | 0.129407     |
| cls        | 0.006898     | 0.102169     | 0.036596     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 1.000000     | 0.952381     | 0.952381     |
| recall75   | 0.904762     | 0.904762     | 0.952381     |
| precision  | 0.656250     | 0.350877     | 0.170940     |
| conf_obj   | 0.940743     | 0.922412     | 0.960411     |
| conf_noobj | 0.000674     | 0.000454     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 15:26:40.393 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.571670
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.153382     | 0.217209     | 0.201079     |
| x          | 0.003515     | 0.013609     | 0.055184     |
| y          | 0.012345     | 0.028660     | 0.043572     |
| w          | 0.019176     | 0.006958     | 0.013659     |
| h          | 0.009825     | 0.010996     | 0.014800     |
| conf       | 0.107957     | 0.156672     | 0.073566     |
| cls        | 0.000564     | 0.000313     | 0.000299     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.882353     | 0.833333     | 0.888889     |
| precision  | 0.809524     | 0.377778     | 0.193548     |
| conf_obj   | 0.960485     | 0.940747     | 0.990250     |
| conf_noobj | 0.000312     | 0.000371     | 0.000255     |
+------------+--------------+--------------+--------------+
2020-12-20 15:27:50.448 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.671597
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.298874     | 0.197800     | 0.174923     |
| x          | 0.006313     | 0.005685     | 0.018768     |
| y          | 0.004943     | 0.011084     | 0.024519     |
| w          | 0.010414     | 0.016876     | 0.007675     |
| h          | 0.014562     | 0.012478     | 0.008723     |
| conf       | 0.248279     | 0.142122     | 0.113091     |
| cls        | 0.014363     | 0.009553     | 0.002147     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 1.000000     |
| recall75   | 0.870968     | 0.848485     | 0.909091     |
| precision  | 0.652174     | 0.471429     | 0.195266     |
| conf_obj   | 0.939320     | 0.968246     | 0.986393     |
| conf_noobj | 0.000825     | 0.000476     | 0.000446     |
+------------+--------------+--------------+--------------+
2020-12-20 15:28:59.074 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.379764
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.107089     | 0.133235     | 0.139440     |
| x          | 0.005765     | 0.011141     | 0.021893     |
| y          | 0.005422     | 0.009390     | 0.020820     |
| w          | 0.008307     | 0.008223     | 0.004327     |
| h          | 0.014341     | 0.015593     | 0.008780     |
| conf       | 0.072719     | 0.087895     | 0.082515     |
| cls        | 0.000535     | 0.000993     | 0.001105     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.884615     | 0.469388     | 0.237113     |
| conf_obj   | 0.983326     | 0.976093     | 0.982296     |
| conf_noobj | 0.000332     | 0.000338     | 0.000274     |
+------------+--------------+--------------+--------------+
2020-12-20 15:30:04.085 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.566137
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.173908     | 0.181006     | 0.211223     |
| x          | 0.014247     | 0.017438     | 0.033751     |
| y          | 0.005560     | 0.013214     | 0.028416     |
| w          | 0.013434     | 0.016405     | 0.015905     |
| h          | 0.010179     | 0.006275     | 0.016851     |
| conf       | 0.124074     | 0.094706     | 0.093386     |
| cls        | 0.006414     | 0.032968     | 0.022913     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 0.904762     | 0.818182     |
| precision  | 0.807692     | 0.488372     | 0.255814     |
| conf_obj   | 0.990264     | 0.993249     | 0.992051     |
| conf_noobj | 0.000659     | 0.000419     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 15:31:06.219 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.711423
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.262699     | 0.246184     | 0.202540     |
| x          | 0.004930     | 0.009026     | 0.026442     |
| y          | 0.005703     | 0.008980     | 0.040941     |
| w          | 0.018720     | 0.019290     | 0.017815     |
| h          | 0.038373     | 0.036984     | 0.025259     |
| conf       | 0.194767     | 0.171696     | 0.091091     |
| cls        | 0.000206     | 0.000209     | 0.000993     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 1.000000     |
| recall75   | 0.866667     | 0.666667     | 0.812500     |
| precision  | 0.823529     | 0.424242     | 0.258065     |
| conf_obj   | 0.933135     | 0.938682     | 0.978528     |
| conf_noobj | 0.000374     | 0.000371     | 0.000280     |
+------------+--------------+--------------+--------------+
2020-12-20 15:32:11.579 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.499381
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.161552     | 0.146832     | 0.190997     |
| x          | 0.003485     | 0.008702     | 0.018590     |
| y          | 0.005790     | 0.012619     | 0.038720     |
| w          | 0.068029     | 0.046428     | 0.034438     |
| h          | 0.011518     | 0.010582     | 0.009370     |
| conf       | 0.071793     | 0.067275     | 0.088669     |
| cls        | 0.000938     | 0.001226     | 0.001211     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.909091     | 0.913043     |
| precision  | 0.916667     | 0.611111     | 0.267442     |
| conf_obj   | 0.973227     | 0.978455     | 0.973598     |
| conf_noobj | 0.000243     | 0.000196     | 0.000247     |
+------------+--------------+--------------+--------------+
2020-12-20 15:33:13.221 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.072445
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.492610     | 0.317748     | 0.262087     |
| x          | 0.006407     | 0.006401     | 0.016027     |
| y          | 0.011145     | 0.009009     | 0.025884     |
| w          | 0.016454     | 0.012954     | 0.020551     |
| h          | 0.021804     | 0.012920     | 0.023343     |
| conf       | 0.392078     | 0.259832     | 0.160095     |
| cls        | 0.044722     | 0.016632     | 0.016186     |
| cls_acc    | 95.65%       | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.923077     | 1.000000     |
| recall75   | 0.695652     | 0.846154     | 0.884615     |
| precision  | 0.636364     | 0.480000     | 0.216667     |
| conf_obj   | 0.918879     | 0.929051     | 0.953510     |
| conf_noobj | 0.001075     | 0.000559     | 0.000470     |
+------------+--------------+--------------+--------------+
2020-12-20 15:34:18.193 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.471010
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.169049     | 0.140391     | 0.161570     |
| x          | 0.004016     | 0.014492     | 0.026449     |
| y          | 0.003654     | 0.008569     | 0.018575     |
| w          | 0.011814     | 0.011357     | 0.011091     |
| h          | 0.007495     | 0.009165     | 0.006438     |
| conf       | 0.141653     | 0.096725     | 0.098850     |
| cls        | 0.000416     | 0.000083     | 0.000166     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.944444     | 0.947368     |
| precision  | 0.566667     | 0.391304     | 0.155738     |
| conf_obj   | 0.983882     | 0.987123     | 0.986482     |
| conf_noobj | 0.000677     | 0.000425     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 15:35:17.964 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.944707
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.341683     | 0.369199     | 0.233826     |
| x          | 0.017009     | 0.019882     | 0.010168     |
| y          | 0.015811     | 0.014734     | 0.023017     |
| w          | 0.028966     | 0.032349     | 0.022526     |
| h          | 0.020848     | 0.024702     | 0.027178     |
| conf       | 0.228441     | 0.243558     | 0.134378     |
| cls        | 0.030608     | 0.033974     | 0.016558     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.900000     | 1.000000     |
| recall75   | 0.777778     | 0.766667     | 0.833333     |
| precision  | 0.750000     | 0.540000     | 0.294118     |
| conf_obj   | 0.905428     | 0.890594     | 0.954498     |
| conf_noobj | 0.000675     | 0.000516     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 15:36:21.905 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.367763
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.111269     | 0.121685     | 0.134810     |
| x          | 0.002735     | 0.005492     | 0.013511     |
| y          | 0.001666     | 0.003340     | 0.021955     |
| w          | 0.011083     | 0.010966     | 0.006939     |
| h          | 0.012068     | 0.008112     | 0.006732     |
| conf       | 0.079414     | 0.087829     | 0.080624     |
| cls        | 0.004302     | 0.005945     | 0.005050     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.814815     | 0.478261     | 0.293333     |
| conf_obj   | 0.981608     | 0.984818     | 0.973964     |
| conf_noobj | 0.000321     | 0.000310     | 0.000203     |
+------------+--------------+--------------+--------------+
2020-12-20 15:36:25.721 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.693
2020-12-20 15:36:25.725 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 15:37:21.212 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07189   | 0.54704 | 0.12707 | 0.33165 |
| 1     | Wear_helmet | 0.73467   | 0.95660 | 0.83107 | 0.93799 |
| 2     | Total       | 0.40328   | 0.75182 | 0.47907 | 0.63482 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:37:21.212 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6348199009712364
2020-12-20 15:37:21.213 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 15:37:21.213 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.487808

2020-12-20 15:37:21.611 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 2/2, epo 5/5
2020-12-20 15:37:21.611 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 2/2, epo 5/5; time cost: 0:15:13.908214

2020-12-20 15:37:21.611 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.707
2020-12-20 15:37:21.863 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 15:41:27.304 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08595   | 0.62677 | 0.15117 | 0.42266 |
| 1     | Wear_helmet | 0.69494   | 0.91532 | 0.79005 | 0.88614 |
| 2     | Total       | 0.39044   | 0.77104 | 0.47061 | 0.65440 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:41:27.305 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6543991744089572
2020-12-20 15:41:27.306 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 15:41:27.306 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:05.442500

2020-12-20 15:42:41.394 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 18!
2020-12-20 15:42:41.540 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 2/2, epo 1/5
2020-12-20 15:42:44.359 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.537922
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.231257     | 0.158750     | 0.147914     |
| x          | 0.003311     | 0.008228     | 0.015310     |
| y          | 0.006318     | 0.008649     | 0.016205     |
| w          | 0.012926     | 0.023231     | 0.019256     |
| h          | 0.025212     | 0.020682     | 0.012655     |
| conf       | 0.177583     | 0.097755     | 0.084358     |
| cls        | 0.005908     | 0.000205     | 0.000132     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.904762     | 0.857143     |
| precision  | 0.700000     | 0.488372     | 0.214286     |
| conf_obj   | 0.959738     | 0.987424     | 0.986057     |
| conf_noobj | 0.000547     | 0.000333     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 15:43:46.316 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.705707
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.367783     | 0.165334     | 0.172591     |
| x          | 0.005088     | 0.018321     | 0.036054     |
| y          | 0.005314     | 0.007584     | 0.020730     |
| w          | 0.007581     | 0.007410     | 0.009287     |
| h          | 0.012704     | 0.006307     | 0.006166     |
| conf       | 0.336301     | 0.124234     | 0.099068     |
| cls        | 0.000796     | 0.001477     | 0.001285     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.952381     | 0.818182     |
| precision  | 0.678571     | 0.396226     | 0.265060     |
| conf_obj   | 0.903170     | 0.972451     | 0.974383     |
| conf_noobj | 0.000603     | 0.000429     | 0.000280     |
+------------+--------------+--------------+--------------+
2020-12-20 15:44:46.554 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.834482
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.296661     | 0.299113     | 0.238707     |
| x          | 0.008209     | 0.033096     | 0.022407     |
| y          | 0.003717     | 0.013350     | 0.020337     |
| w          | 0.017710     | 0.026235     | 0.020140     |
| h          | 0.016016     | 0.022294     | 0.018960     |
| conf       | 0.115661     | 0.095411     | 0.125721     |
| cls        | 0.135349     | 0.108728     | 0.031143     |
| cls_acc    | 93.75%       | 97.06%       | 100.00%      |
| recall50   | 0.906250     | 0.941176     | 1.000000     |
| recall75   | 0.812500     | 0.705882     | 0.888889     |
| precision  | 0.805556     | 0.524590     | 0.248276     |
| conf_obj   | 0.959497     | 0.972545     | 0.966487     |
| conf_noobj | 0.000319     | 0.000338     | 0.000367     |
+------------+--------------+--------------+--------------+
2020-12-20 15:45:52.107 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.540930
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.219505     | 0.163666     | 0.157760     |
| x          | 0.006432     | 0.007878     | 0.015576     |
| y          | 0.005119     | 0.007484     | 0.018266     |
| w          | 0.025240     | 0.009510     | 0.008188     |
| h          | 0.018665     | 0.005373     | 0.007373     |
| conf       | 0.152885     | 0.126232     | 0.107023     |
| cls        | 0.011163     | 0.007188     | 0.001334     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.966667     | 0.966667     |
| precision  | 0.771429     | 0.491803     | 0.254237     |
| conf_obj   | 0.948394     | 0.970609     | 0.973868     |
| conf_noobj | 0.000410     | 0.000396     | 0.000313     |
+------------+--------------+--------------+--------------+
2020-12-20 15:47:00.509 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.668109
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.241203     | 0.241346     | 0.185560     |
| x          | 0.007177     | 0.007946     | 0.018992     |
| y          | 0.002499     | 0.006292     | 0.024306     |
| w          | 0.016269     | 0.015744     | 0.007445     |
| h          | 0.010802     | 0.012347     | 0.004273     |
| conf       | 0.191939     | 0.162987     | 0.113789     |
| cls        | 0.012517     | 0.036031     | 0.016754     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.950000     | 1.000000     |
| recall75   | 0.894737     | 0.950000     | 0.950000     |
| precision  | 0.720000     | 0.431818     | 0.202020     |
| conf_obj   | 0.940754     | 0.945317     | 0.957454     |
| conf_noobj | 0.000513     | 0.000393     | 0.000287     |
+------------+--------------+--------------+--------------+
2020-12-20 15:48:04.670 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.722924
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.238700     | 0.221454     | 0.262770     |
| x          | 0.002772     | 0.007680     | 0.024610     |
| y          | 0.006192     | 0.015322     | 0.047854     |
| w          | 0.013189     | 0.009659     | 0.003999     |
| h          | 0.017936     | 0.013488     | 0.011892     |
| conf       | 0.197703     | 0.174787     | 0.173551     |
| cls        | 0.000909     | 0.000519     | 0.000863     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.923077     |
| recall75   | 1.000000     | 0.884615     | 0.846154     |
| precision  | 0.675676     | 0.426230     | 0.228571     |
| conf_obj   | 0.964421     | 0.955253     | 0.941636     |
| conf_noobj | 0.000690     | 0.000525     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 15:49:08.570 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.397000
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.126955     | 0.124429     | 0.145616     |
| x          | 0.002474     | 0.006136     | 0.019682     |
| y          | 0.005291     | 0.010107     | 0.023654     |
| w          | 0.007660     | 0.004607     | 0.004406     |
| h          | 0.013201     | 0.009525     | 0.009212     |
| conf       | 0.097256     | 0.093712     | 0.088166     |
| cls        | 0.001072     | 0.000341     | 0.000497     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.952381     |
| precision  | 0.777778     | 0.411765     | 0.203883     |
| conf_obj   | 0.977591     | 0.982894     | 0.990843     |
| conf_noobj | 0.000364     | 0.000381     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 15:50:19.163 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.756648
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.292596     | 0.187067     | 0.276985     |
| x          | 0.015258     | 0.018505     | 0.028843     |
| y          | 0.007558     | 0.011616     | 0.025655     |
| w          | 0.028261     | 0.014041     | 0.022225     |
| h          | 0.018089     | 0.010631     | 0.019296     |
| conf       | 0.216261     | 0.130154     | 0.177877     |
| cls        | 0.007169     | 0.002120     | 0.003088     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 1.000000     | 0.965517     |
| recall75   | 0.730769     | 0.857143     | 0.793103     |
| precision  | 0.774194     | 0.571429     | 0.185430     |
| conf_obj   | 0.929257     | 0.955082     | 0.938563     |
| conf_noobj | 0.000571     | 0.000373     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 15:51:26.811 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.759011
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.212138     | 0.298209     | 0.248664     |
| x          | 0.016047     | 0.006346     | 0.014310     |
| y          | 0.005491     | 0.012786     | 0.013547     |
| w          | 0.037920     | 0.029880     | 0.018562     |
| h          | 0.019215     | 0.020920     | 0.012446     |
| conf       | 0.132042     | 0.225163     | 0.184981     |
| cls        | 0.001423     | 0.003114     | 0.004818     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.931035     | 0.965517     |
| recall75   | 0.964286     | 0.862069     | 0.862069     |
| precision  | 0.729730     | 0.435484     | 0.212121     |
| conf_obj   | 0.975879     | 0.933197     | 0.944119     |
| conf_noobj | 0.000558     | 0.000455     | 0.000341     |
+------------+--------------+--------------+--------------+
2020-12-20 15:52:32.882 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 1.664907
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.631437     | 0.586899     | 0.446571     |
| x          | 0.004503     | 0.011705     | 0.018411     |
| y          | 0.011309     | 0.014162     | 0.018233     |
| w          | 0.053113     | 0.043151     | 0.019149     |
| h          | 0.040038     | 0.031765     | 0.018566     |
| conf       | 0.342161     | 0.321651     | 0.295366     |
| cls        | 0.180313     | 0.164466     | 0.076847     |
| cls_acc    | 97.14%       | 97.14%       | 97.14%       |
| recall50   | 0.857143     | 0.857143     | 0.942857     |
| recall75   | 0.742857     | 0.771429     | 0.885714     |
| precision  | 0.789474     | 0.566038     | 0.264000     |
| conf_obj   | 0.880192     | 0.886799     | 0.916992     |
| conf_noobj | 0.000559     | 0.000387     | 0.000450     |
+------------+--------------+--------------+--------------+
2020-12-20 15:53:32.982 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.444756
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.112147     | 0.202241     | 0.130369     |
| x          | 0.002039     | 0.005233     | 0.016502     |
| y          | 0.006091     | 0.005182     | 0.016513     |
| w          | 0.006148     | 0.005966     | 0.004948     |
| h          | 0.014827     | 0.006649     | 0.007330     |
| conf       | 0.082612     | 0.178804     | 0.084913     |
| cls        | 0.000430     | 0.000408     | 0.000163     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 1.000000     |
| recall75   | 1.000000     | 0.958333     | 1.000000     |
| precision  | 0.827586     | 0.410714     | 0.260870     |
| conf_obj   | 0.977856     | 0.940740     | 0.979825     |
| conf_noobj | 0.000357     | 0.000424     | 0.000260     |
+------------+--------------+--------------+--------------+
2020-12-20 15:54:43.231 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.830725
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.297016     | 0.213750     | 0.319959     |
| x          | 0.006443     | 0.018612     | 0.030193     |
| y          | 0.007564     | 0.009190     | 0.037406     |
| w          | 0.022962     | 0.020927     | 0.016762     |
| h          | 0.017946     | 0.020967     | 0.020574     |
| conf       | 0.241230     | 0.142317     | 0.210916     |
| cls        | 0.000871     | 0.001737     | 0.004108     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.884615     | 0.884615     | 0.846154     |
| precision  | 0.806452     | 0.520833     | 0.177305     |
| conf_obj   | 0.929443     | 0.956906     | 0.931214     |
| conf_noobj | 0.000374     | 0.000288     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 15:55:49.468 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.636100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.172753     | 0.223645     | 0.239702     |
| x          | 0.005115     | 0.015064     | 0.025509     |
| y          | 0.003023     | 0.007221     | 0.021799     |
| w          | 0.014066     | 0.014550     | 0.017104     |
| h          | 0.007970     | 0.011606     | 0.014275     |
| conf       | 0.135128     | 0.147890     | 0.158854     |
| cls        | 0.007451     | 0.027313     | 0.002161     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 1.000000     | 0.904762     | 0.857143     |
| precision  | 0.750000     | 0.396226     | 0.173913     |
| conf_obj   | 0.978957     | 0.958966     | 0.950239     |
| conf_noobj | 0.000682     | 0.000561     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 15:56:54.747 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.549892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.185329     | 0.201858     | 0.162706     |
| x          | 0.004168     | 0.009976     | 0.022553     |
| y          | 0.002117     | 0.006270     | 0.011482     |
| w          | 0.015871     | 0.015988     | 0.013770     |
| h          | 0.011659     | 0.017910     | 0.017456     |
| conf       | 0.151025     | 0.150050     | 0.096538     |
| cls        | 0.000488     | 0.001664     | 0.000908     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.875000     | 0.916667     |
| precision  | 0.741935     | 0.461538     | 0.247423     |
| conf_obj   | 0.950621     | 0.941994     | 0.973455     |
| conf_noobj | 0.000546     | 0.000425     | 0.000311     |
+------------+--------------+--------------+--------------+
2020-12-20 15:56:57.721 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.697
2020-12-20 15:56:57.725 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 15:57:56.514 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13340   | 0.47735 | 0.20852 | 0.31174 |
| 1     | Wear_helmet | 0.66657   | 0.96398 | 0.78815 | 0.94464 |
| 2     | Total       | 0.39998   | 0.72066 | 0.49834 | 0.62819 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:57:56.516 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6281879465352054
2020-12-20 15:57:56.517 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 15:57:56.518 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.792235

2020-12-20 15:57:57.017 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 2/2, epo 1/5
2020-12-20 15:57:57.017 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 2/2, epo 1/5; time cost: 0:15:15.476618

2020-12-20 15:57:57.018 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 2/2, epo 2/5
2020-12-20 15:57:58.254 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.766088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.201805     | 0.244190     | 0.320093     |
| x          | 0.020434     | 0.015644     | 0.019418     |
| y          | 0.002845     | 0.008636     | 0.025166     |
| w          | 0.021507     | 0.021476     | 0.034364     |
| h          | 0.024992     | 0.011669     | 0.017081     |
| conf       | 0.116774     | 0.182235     | 0.190428     |
| cls        | 0.015252     | 0.004529     | 0.033636     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.966667     | 0.939394     |
| recall75   | 0.884615     | 0.833333     | 0.727273     |
| precision  | 0.750000     | 0.508772     | 0.256198     |
| conf_obj   | 0.970226     | 0.937910     | 0.927731     |
| conf_noobj | 0.000508     | 0.000478     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 15:59:02.599 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.752764
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.353840     | 0.222924     | 0.176001     |
| x          | 0.007456     | 0.009854     | 0.025731     |
| y          | 0.017980     | 0.004875     | 0.015847     |
| w          | 0.024309     | 0.017075     | 0.008601     |
| h          | 0.026781     | 0.013124     | 0.018004     |
| conf       | 0.277180     | 0.177913     | 0.107658     |
| cls        | 0.000133     | 0.000083     | 0.000160     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.727273     | 0.909091     | 0.818182     |
| precision  | 0.677419     | 0.379310     | 0.176000     |
| conf_obj   | 0.893960     | 0.933579     | 0.978178     |
| conf_noobj | 0.000547     | 0.000507     | 0.000381     |
+------------+--------------+--------------+--------------+
2020-12-20 16:00:08.786 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.557260
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.141508     | 0.174630     | 0.241123     |
| x          | 0.006883     | 0.009180     | 0.035691     |
| y          | 0.009269     | 0.014352     | 0.049281     |
| w          | 0.015315     | 0.007491     | 0.005610     |
| h          | 0.011130     | 0.008994     | 0.008735     |
| conf       | 0.096913     | 0.133825     | 0.141417     |
| cls        | 0.001998     | 0.000788     | 0.000388     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.969697     |
| recall75   | 0.937500     | 1.000000     | 0.969697     |
| precision  | 0.842105     | 0.492537     | 0.223776     |
| conf_obj   | 0.961636     | 0.959893     | 0.964722     |
| conf_noobj | 0.000333     | 0.000436     | 0.000381     |
+------------+--------------+--------------+--------------+
2020-12-20 16:01:15.369 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.322969
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.089230     | 0.102402     | 0.131338     |
| x          | 0.002188     | 0.004745     | 0.016086     |
| y          | 0.003366     | 0.005993     | 0.024387     |
| w          | 0.010302     | 0.012708     | 0.010062     |
| h          | 0.012007     | 0.010165     | 0.010872     |
| conf       | 0.058016     | 0.068159     | 0.068677     |
| cls        | 0.003350     | 0.000631     | 0.001252     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.956522     | 0.913043     |
| precision  | 0.814815     | 0.479167     | 0.214953     |
| conf_obj   | 0.993351     | 0.988066     | 0.993909     |
| conf_noobj | 0.000289     | 0.000285     | 0.000255     |
+------------+--------------+--------------+--------------+
2020-12-20 16:02:21.506 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.361062
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.118307     | 0.110491     | 0.132264     |
| x          | 0.007721     | 0.002661     | 0.011868     |
| y          | 0.003285     | 0.004035     | 0.014620     |
| w          | 0.010012     | 0.012430     | 0.006146     |
| h          | 0.012422     | 0.018687     | 0.012392     |
| conf       | 0.084410     | 0.072462     | 0.087040     |
| cls        | 0.000457     | 0.000216     | 0.000199     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.882353     | 1.000000     | 0.947368     |
| precision  | 0.809524     | 0.529412     | 0.283582     |
| conf_obj   | 0.990510     | 0.996108     | 0.974733     |
| conf_noobj | 0.000436     | 0.000314     | 0.000264     |
+------------+--------------+--------------+--------------+
2020-12-20 16:03:19.467 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.620037
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.174319     | 0.218961     | 0.226757     |
| x          | 0.002597     | 0.010234     | 0.028823     |
| y          | 0.007128     | 0.025682     | 0.023839     |
| w          | 0.015883     | 0.011121     | 0.013842     |
| h          | 0.018305     | 0.008347     | 0.008601     |
| conf       | 0.127940     | 0.162590     | 0.151269     |
| cls        | 0.002466     | 0.000987     | 0.000383     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.962963     |
| recall75   | 1.000000     | 0.925926     | 0.925926     |
| precision  | 0.742857     | 0.421875     | 0.185714     |
| conf_obj   | 0.982149     | 0.963465     | 0.958697     |
| conf_noobj | 0.000649     | 0.000608     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 16:04:23.158 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.931965
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.365248     | 0.314082     | 0.252635     |
| x          | 0.005781     | 0.009444     | 0.024766     |
| y          | 0.022965     | 0.019107     | 0.042760     |
| w          | 0.019882     | 0.010786     | 0.009861     |
| h          | 0.022639     | 0.008540     | 0.008277     |
| conf       | 0.290010     | 0.264699     | 0.165501     |
| cls        | 0.003971     | 0.001505     | 0.001471     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.902439     | 0.952381     | 0.976190     |
| recall75   | 0.853659     | 0.833333     | 0.928571     |
| precision  | 0.740000     | 0.384615     | 0.259494     |
| conf_obj   | 0.896741     | 0.932630     | 0.946170     |
| conf_noobj | 0.000636     | 0.000779     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 16:05:29.288 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.390898
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.081950     | 0.135455     | 0.173493     |
| x          | 0.007866     | 0.015412     | 0.015876     |
| y          | 0.005521     | 0.005883     | 0.018115     |
| w          | 0.023947     | 0.026331     | 0.017100     |
| h          | 0.016708     | 0.015966     | 0.010946     |
| conf       | 0.026383     | 0.070556     | 0.110215     |
| cls        | 0.001526     | 0.001307     | 0.001241     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.806452     | 0.875000     |
| precision  | 0.900000     | 0.632653     | 0.250000     |
| conf_obj   | 0.993111     | 0.987353     | 0.980847     |
| conf_noobj | 0.000156     | 0.000294     | 0.000379     |
+------------+--------------+--------------+--------------+
2020-12-20 16:06:32.347 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.978679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.419488     | 0.317442     | 0.241749     |
| x          | 0.005321     | 0.016246     | 0.041538     |
| y          | 0.003971     | 0.007882     | 0.019281     |
| w          | 0.014149     | 0.011264     | 0.013669     |
| h          | 0.012750     | 0.005200     | 0.006413     |
| conf       | 0.365283     | 0.262152     | 0.151094     |
| cls        | 0.018015     | 0.014698     | 0.009755     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.925926     |
| recall75   | 0.960000     | 0.880000     | 0.740741     |
| precision  | 0.685714     | 0.428571     | 0.165563     |
| conf_obj   | 0.909863     | 0.932969     | 0.966823     |
| conf_noobj | 0.000883     | 0.000564     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 16:07:37.406 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.409447
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.158852     | 0.127949     | 0.122646     |
| x          | 0.001297     | 0.003657     | 0.010713     |
| y          | 0.002713     | 0.004327     | 0.009856     |
| w          | 0.010266     | 0.012149     | 0.008237     |
| h          | 0.006044     | 0.007236     | 0.004103     |
| conf       | 0.137950     | 0.099935     | 0.089154     |
| cls        | 0.000582     | 0.000645     | 0.000583     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.862069     | 0.490196     | 0.252525     |
| conf_obj   | 0.957112     | 0.985923     | 0.985681     |
| conf_noobj | 0.000465     | 0.000440     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 16:08:41.615 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.550673
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.226529     | 0.179236     | 0.144908     |
| x          | 0.007181     | 0.006045     | 0.013139     |
| y          | 0.004357     | 0.011280     | 0.029555     |
| w          | 0.013384     | 0.006689     | 0.010440     |
| h          | 0.013172     | 0.008609     | 0.008914     |
| conf       | 0.174959     | 0.131790     | 0.076670     |
| cls        | 0.013475     | 0.014823     | 0.006190     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.960000     | 0.880000     |
| precision  | 0.714286     | 0.423729     | 0.240385     |
| conf_obj   | 0.936628     | 0.960389     | 0.986918     |
| conf_noobj | 0.000495     | 0.000412     | 0.000261     |
+------------+--------------+--------------+--------------+
2020-12-20 16:09:50.276 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.619262
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.286146     | 0.155070     | 0.178046     |
| x          | 0.014516     | 0.003725     | 0.009350     |
| y          | 0.019927     | 0.006766     | 0.019440     |
| w          | 0.018757     | 0.012281     | 0.013677     |
| h          | 0.025799     | 0.016713     | 0.017691     |
| conf       | 0.199463     | 0.110966     | 0.099301     |
| cls        | 0.007684     | 0.004619     | 0.018588     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.952381     | 0.857143     |
| precision  | 0.645161     | 0.437500     | 0.184211     |
| conf_obj   | 0.971650     | 0.983764     | 0.989583     |
| conf_noobj | 0.000776     | 0.000437     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 16:10:53.911 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.512838
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.209800     | 0.129048     | 0.173990     |
| x          | 0.005532     | 0.007800     | 0.029465     |
| y          | 0.004520     | 0.013690     | 0.036400     |
| w          | 0.025151     | 0.012279     | 0.007136     |
| h          | 0.019776     | 0.007226     | 0.007623     |
| conf       | 0.143198     | 0.086057     | 0.090300     |
| cls        | 0.011624     | 0.001998     | 0.003067     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.954545     | 0.954545     |
| precision  | 0.677419     | 0.415094     | 0.176000     |
| conf_obj   | 0.963367     | 0.988426     | 0.986205     |
| conf_noobj | 0.000524     | 0.000344     | 0.000333     |
+------------+--------------+--------------+--------------+
2020-12-20 16:11:59.745 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.706678
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.270197     | 0.187994     | 0.248487     |
| x          | 0.026732     | 0.004442     | 0.012894     |
| y          | 0.006221     | 0.008343     | 0.017611     |
| w          | 0.018931     | 0.022077     | 0.018966     |
| h          | 0.016560     | 0.013750     | 0.011387     |
| conf       | 0.182310     | 0.131694     | 0.182970     |
| cls        | 0.019444     | 0.007687     | 0.004660     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 0.956522     |
| recall75   | 0.863636     | 0.913043     | 0.913043     |
| precision  | 0.724138     | 0.511111     | 0.226804     |
| conf_obj   | 0.967336     | 0.963534     | 0.941735     |
| conf_noobj | 0.000635     | 0.000396     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 16:12:02.676 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.697
2020-12-20 16:12:02.679 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 16:12:59.530 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10220   | 0.50174 | 0.16981 | 0.33262 |
| 1     | Wear_helmet | 0.54490   | 0.96658 | 0.69692 | 0.94044 |
| 2     | Total       | 0.32355   | 0.73416 | 0.43336 | 0.63653 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:12:59.531 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6365332484228768
2020-12-20 16:12:59.531 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 16:12:59.531 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.851969

2020-12-20 16:13:00.200 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 2/2, epo 2/5
2020-12-20 16:13:00.201 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 2/2, epo 2/5; time cost: 0:15:03.182708

2020-12-20 16:13:00.201 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 2/2, epo 3/5
2020-12-20 16:13:01.410 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.358525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.109019     | 0.098722     | 0.150784     |
| x          | 0.002806     | 0.005020     | 0.014059     |
| y          | 0.002444     | 0.005390     | 0.016916     |
| w          | 0.013817     | 0.010703     | 0.007932     |
| h          | 0.011259     | 0.008376     | 0.007186     |
| conf       | 0.078108     | 0.068944     | 0.104275     |
| cls        | 0.000584     | 0.000288     | 0.000417     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.818182     | 0.613636     | 0.225000     |
| conf_obj   | 0.988999     | 0.995652     | 0.986380     |
| conf_noobj | 0.000481     | 0.000386     | 0.000408     |
+------------+--------------+--------------+--------------+
2020-12-20 16:14:07.593 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.544268
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.149417     | 0.207719     | 0.187131     |
| x          | 0.017139     | 0.006385     | 0.016323     |
| y          | 0.004441     | 0.009860     | 0.024771     |
| w          | 0.019096     | 0.015735     | 0.009881     |
| h          | 0.010523     | 0.014046     | 0.009427     |
| conf       | 0.095565     | 0.160245     | 0.125796     |
| cls        | 0.002653     | 0.001449     | 0.000933     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.968750     | 1.000000     |
| recall75   | 0.933333     | 0.906250     | 0.968750     |
| precision  | 0.833333     | 0.484375     | 0.225352     |
| conf_obj   | 0.987067     | 0.961766     | 0.981060     |
| conf_noobj | 0.000415     | 0.000458     | 0.000426     |
+------------+--------------+--------------+--------------+
2020-12-20 16:15:08.545 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.512158
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.137410     | 0.248220     | 0.126528     |
| x          | 0.009183     | 0.013323     | 0.012677     |
| y          | 0.005954     | 0.008702     | 0.020404     |
| w          | 0.015420     | 0.010865     | 0.006327     |
| h          | 0.014484     | 0.012967     | 0.011618     |
| conf       | 0.091395     | 0.199327     | 0.074555     |
| cls        | 0.000973     | 0.003035     | 0.000947     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.966667     | 1.000000     |
| recall75   | 0.814815     | 0.866667     | 0.967742     |
| precision  | 0.862069     | 0.500000     | 0.287037     |
| conf_obj   | 0.970834     | 0.932412     | 0.985864     |
| conf_noobj | 0.000299     | 0.000332     | 0.000247     |
+------------+--------------+--------------+--------------+
2020-12-20 16:16:13.098 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.671057
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.258074     | 0.228017     | 0.184966     |
| x          | 0.017137     | 0.029405     | 0.032802     |
| y          | 0.004245     | 0.010301     | 0.010226     |
| w          | 0.022888     | 0.020555     | 0.013168     |
| h          | 0.024235     | 0.020275     | 0.012692     |
| conf       | 0.186412     | 0.145010     | 0.114854     |
| cls        | 0.003156     | 0.002471     | 0.001224     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.900000     | 0.967742     |
| recall75   | 0.760000     | 0.800000     | 0.838710     |
| precision  | 0.785714     | 0.642857     | 0.357143     |
| conf_obj   | 0.930702     | 0.957293     | 0.961975     |
| conf_noobj | 0.000350     | 0.000242     | 0.000246     |
+------------+--------------+--------------+--------------+
2020-12-20 16:17:14.540 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.641984
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.193638     | 0.224094     | 0.224252     |
| x          | 0.005813     | 0.010238     | 0.019455     |
| y          | 0.006062     | 0.018088     | 0.028777     |
| w          | 0.008649     | 0.010599     | 0.007526     |
| h          | 0.010276     | 0.004533     | 0.008514     |
| conf       | 0.161519     | 0.180464     | 0.159691     |
| cls        | 0.001320     | 0.000171     | 0.000288     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.960000     |
| recall75   | 0.920000     | 0.920000     | 0.960000     |
| precision  | 0.888889     | 0.571429     | 0.228571     |
| conf_obj   | 0.942923     | 0.947306     | 0.962498     |
| conf_noobj | 0.000363     | 0.000354     | 0.000408     |
+------------+--------------+--------------+--------------+
2020-12-20 16:18:23.664 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.586877
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.165176     | 0.176225     | 0.245476     |
| x          | 0.003355     | 0.017077     | 0.023404     |
| y          | 0.011109     | 0.013015     | 0.026396     |
| w          | 0.014394     | 0.033894     | 0.015169     |
| h          | 0.013305     | 0.012496     | 0.012042     |
| conf       | 0.122289     | 0.098653     | 0.168090     |
| cls        | 0.000724     | 0.001090     | 0.000374     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 0.961538     |
| recall75   | 0.869565     | 0.920000     | 0.846154     |
| precision  | 0.758621     | 0.510204     | 0.233645     |
| conf_obj   | 0.965201     | 0.982311     | 0.943496     |
| conf_noobj | 0.000515     | 0.000419     | 0.000351     |
+------------+--------------+--------------+--------------+
2020-12-20 16:19:33.284 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.492433
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.172007     | 0.169066     | 0.151360     |
| x          | 0.007561     | 0.004420     | 0.008778     |
| y          | 0.003159     | 0.006855     | 0.024253     |
| w          | 0.017889     | 0.018761     | 0.014107     |
| h          | 0.009232     | 0.015055     | 0.014666     |
| conf       | 0.133165     | 0.122859     | 0.088664     |
| cls        | 0.001002     | 0.001115     | 0.000891     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 0.923077     | 0.884615     |
| precision  | 0.781250     | 0.490566     | 0.250000     |
| conf_obj   | 0.958834     | 0.974992     | 0.989142     |
| conf_noobj | 0.000397     | 0.000445     | 0.000326     |
+------------+--------------+--------------+--------------+
2020-12-20 16:20:42.215 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.543431
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.194471     | 0.163073     | 0.185886     |
| x          | 0.003404     | 0.010731     | 0.033221     |
| y          | 0.003599     | 0.008292     | 0.028917     |
| w          | 0.023966     | 0.017388     | 0.014926     |
| h          | 0.013965     | 0.008025     | 0.008444     |
| conf       | 0.146325     | 0.118037     | 0.099338     |
| cls        | 0.003212     | 0.000600     | 0.001040     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.954545     | 0.863636     |
| precision  | 0.807692     | 0.536585     | 0.250000     |
| conf_obj   | 0.957174     | 0.963498     | 0.963261     |
| conf_noobj | 0.000340     | 0.000306     | 0.000243     |
+------------+--------------+--------------+--------------+
2020-12-20 16:21:50.499 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.738882
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.174419     | 0.220124     | 0.344339     |
| x          | 0.002992     | 0.004935     | 0.011673     |
| y          | 0.004058     | 0.011077     | 0.023061     |
| w          | 0.012817     | 0.007648     | 0.008958     |
| h          | 0.016642     | 0.014695     | 0.010133     |
| conf       | 0.120262     | 0.106224     | 0.089390     |
| cls        | 0.017648     | 0.075545     | 0.201124     |
| cls_acc    | 100.00%      | 94.12%       | 94.12%       |
| recall50   | 1.000000     | 0.941176     | 0.941176     |
| recall75   | 1.000000     | 0.941176     | 0.882353     |
| precision  | 0.708333     | 0.326531     | 0.179775     |
| conf_obj   | 0.984144     | 0.988416     | 0.988796     |
| conf_noobj | 0.000650     | 0.000482     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 16:22:54.810 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.647604
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.291698     | 0.186497     | 0.169410     |
| x          | 0.003388     | 0.018307     | 0.017627     |
| y          | 0.002316     | 0.005748     | 0.016394     |
| w          | 0.018352     | 0.013807     | 0.006751     |
| h          | 0.011550     | 0.013557     | 0.005901     |
| conf       | 0.130213     | 0.133408     | 0.120497     |
| cls        | 0.125878     | 0.001670     | 0.002240     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.950000     |
| recall75   | 0.947368     | 1.000000     | 0.900000     |
| precision  | 0.791667     | 0.465116     | 0.220930     |
| conf_obj   | 0.965428     | 0.957660     | 0.960633     |
| conf_noobj | 0.000507     | 0.000437     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 16:24:01.237 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.650024
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.182645     | 0.221424     | 0.245956     |
| x          | 0.002914     | 0.006474     | 0.011464     |
| y          | 0.001851     | 0.007658     | 0.026370     |
| w          | 0.014886     | 0.014489     | 0.019510     |
| h          | 0.019240     | 0.013470     | 0.013156     |
| conf       | 0.131360     | 0.097199     | 0.118585     |
| cls        | 0.012395     | 0.082134     | 0.056872     |
| cls_acc    | 100.00%      | 96.43%       | 96.43%       |
| recall50   | 1.000000     | 0.964286     | 0.964286     |
| recall75   | 0.962963     | 0.857143     | 0.785714     |
| precision  | 0.794118     | 0.450000     | 0.200000     |
| conf_obj   | 0.987574     | 0.992001     | 0.988759     |
| conf_noobj | 0.000736     | 0.000511     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 16:25:06.968 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.928237
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.422762     | 0.295850     | 0.209625     |
| x          | 0.007774     | 0.011684     | 0.015615     |
| y          | 0.004681     | 0.009583     | 0.016701     |
| w          | 0.042393     | 0.027202     | 0.024393     |
| h          | 0.025497     | 0.011318     | 0.013959     |
| conf       | 0.338212     | 0.233340     | 0.137681     |
| cls        | 0.004206     | 0.002723     | 0.001274     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 0.958333     |
| recall75   | 0.772727     | 0.875000     | 0.916667     |
| precision  | 0.750000     | 0.433962     | 0.227723     |
| conf_obj   | 0.901426     | 0.933319     | 0.965492     |
| conf_noobj | 0.000672     | 0.000546     | 0.000433     |
+------------+--------------+--------------+--------------+
2020-12-20 16:26:13.538 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.993870
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.367286     | 0.303944     | 0.322640     |
| x          | 0.006377     | 0.012812     | 0.027098     |
| y          | 0.006207     | 0.017404     | 0.023668     |
| w          | 0.020870     | 0.018480     | 0.036486     |
| h          | 0.012986     | 0.010529     | 0.016539     |
| conf       | 0.265671     | 0.223615     | 0.192341     |
| cls        | 0.055175     | 0.021104     | 0.026508     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.791667     | 0.833333     |
| precision  | 0.647059     | 0.328767     | 0.138728     |
| conf_obj   | 0.933408     | 0.960115     | 0.957268     |
| conf_noobj | 0.000779     | 0.000742     | 0.000626     |
+------------+--------------+--------------+--------------+
2020-12-20 16:27:17.637 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.518040
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.182260     | 0.194621     | 0.141159     |
| x          | 0.006039     | 0.011822     | 0.023477     |
| y          | 0.004476     | 0.011027     | 0.021621     |
| w          | 0.006740     | 0.004968     | 0.006498     |
| h          | 0.013080     | 0.010946     | 0.009453     |
| conf       | 0.151760     | 0.154787     | 0.079101     |
| cls        | 0.000165     | 0.001071     | 0.001008     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.944444     |
| precision  | 0.680000     | 0.459459     | 0.206897     |
| conf_obj   | 0.943057     | 0.934003     | 0.979629     |
| conf_noobj | 0.000425     | 0.000316     | 0.000248     |
+------------+--------------+--------------+--------------+
2020-12-20 16:27:21.289 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.679
2020-12-20 16:27:21.293 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 16:28:19.641 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10253   | 0.49477 | 0.16986 | 0.32625 |
| 1     | Wear_helmet | 0.61600   | 0.96571 | 0.75220 | 0.94228 |
| 2     | Total       | 0.35926   | 0.73024 | 0.46103 | 0.63427 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:28:19.642 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6342658229165814
2020-12-20 16:28:19.642 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 16:28:19.642 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.349007

2020-12-20 16:28:20.097 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 2/2, epo 3/5
2020-12-20 16:28:20.097 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 2/2, epo 3/5; time cost: 0:15:19.895610

2020-12-20 16:28:20.098 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 2/2, epo 4/5
2020-12-20 16:28:21.472 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.819996
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.208490     | 0.202364     | 0.409142     |
| x          | 0.007123     | 0.017301     | 0.024940     |
| y          | 0.004309     | 0.009574     | 0.027434     |
| w          | 0.015728     | 0.012766     | 0.012104     |
| h          | 0.005966     | 0.004309     | 0.003374     |
| conf       | 0.171694     | 0.156995     | 0.341066     |
| cls        | 0.003670     | 0.001420     | 0.000225     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 0.925926     |
| recall75   | 0.888889     | 0.888889     | 0.851852     |
| precision  | 0.896552     | 0.481481     | 0.247525     |
| conf_obj   | 0.946921     | 0.938449     | 0.889085     |
| conf_noobj | 0.000329     | 0.000367     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 16:29:27.565 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.301406
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.081709     | 0.087534     | 0.132163     |
| x          | 0.002624     | 0.003378     | 0.020762     |
| y          | 0.002645     | 0.003441     | 0.012145     |
| w          | 0.034225     | 0.034306     | 0.029125     |
| h          | 0.016707     | 0.018444     | 0.009968     |
| conf       | 0.019902     | 0.026674     | 0.057588     |
| cls        | 0.005606     | 0.001292     | 0.002573     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.944444     | 0.833333     |
| precision  | 1.000000     | 0.720000     | 0.295082     |
| conf_obj   | 0.997316     | 0.997394     | 0.988439     |
| conf_noobj | 0.000152     | 0.000156     | 0.000212     |
+------------+--------------+--------------+--------------+
2020-12-20 16:30:29.135 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.307763
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.065006     | 0.090598     | 0.152158     |
| x          | 0.002977     | 0.012465     | 0.023773     |
| y          | 0.002844     | 0.011111     | 0.031576     |
| w          | 0.008980     | 0.004534     | 0.009211     |
| h          | 0.026071     | 0.011824     | 0.013546     |
| conf       | 0.024087     | 0.050628     | 0.073953     |
| cls        | 0.000046     | 0.000037     | 0.000100     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.947368     |
| precision  | 0.950000     | 0.558824     | 0.358491     |
| conf_obj   | 0.990345     | 0.982215     | 0.968751     |
| conf_noobj | 0.000099     | 0.000162     | 0.000154     |
+------------+--------------+--------------+--------------+
2020-12-20 16:31:35.423 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.772849
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.266287     | 0.303131     | 0.203431     |
| x          | 0.005209     | 0.008516     | 0.013389     |
| y          | 0.005336     | 0.006649     | 0.030375     |
| w          | 0.012860     | 0.013177     | 0.007941     |
| h          | 0.018682     | 0.013621     | 0.011649     |
| conf       | 0.223762     | 0.260889     | 0.139886     |
| cls        | 0.000438     | 0.000279     | 0.000191     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.967742     | 0.967742     |
| recall75   | 0.935484     | 0.935484     | 0.967742     |
| precision  | 0.714286     | 0.357143     | 0.204082     |
| conf_obj   | 0.962606     | 0.955600     | 0.969508     |
| conf_noobj | 0.000664     | 0.000603     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 16:32:44.256 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.596989
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.227999     | 0.194139     | 0.174852     |
| x          | 0.002727     | 0.008424     | 0.017960     |
| y          | 0.008315     | 0.016364     | 0.035228     |
| w          | 0.019032     | 0.012775     | 0.016932     |
| h          | 0.010630     | 0.008503     | 0.007098     |
| conf       | 0.171590     | 0.124819     | 0.082094     |
| cls        | 0.015704     | 0.023254     | 0.015540     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.937500     |
| precision  | 0.666667     | 0.421053     | 0.186047     |
| conf_obj   | 0.951253     | 0.960316     | 0.983832     |
| conf_noobj | 0.000539     | 0.000385     | 0.000278     |
+------------+--------------+--------------+--------------+
2020-12-20 16:33:46.831 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.807183
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.226129     | 0.239634     | 0.341421     |
| x          | 0.010451     | 0.012849     | 0.022788     |
| y          | 0.006290     | 0.019970     | 0.019026     |
| w          | 0.015398     | 0.013892     | 0.007312     |
| h          | 0.019456     | 0.021006     | 0.011539     |
| conf       | 0.173242     | 0.167934     | 0.278091     |
| cls        | 0.001291     | 0.003983     | 0.002665     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.965517     | 0.965517     |
| recall75   | 0.892857     | 0.827586     | 0.931035     |
| precision  | 0.870968     | 0.538462     | 0.271845     |
| conf_obj   | 0.921343     | 0.949308     | 0.927561     |
| conf_noobj | 0.000378     | 0.000360     | 0.000333     |
+------------+--------------+--------------+--------------+
2020-12-20 16:34:50.345 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.565619
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.189498     | 0.157049     | 0.219072     |
| x          | 0.004523     | 0.009119     | 0.021149     |
| y          | 0.003725     | 0.009413     | 0.024326     |
| w          | 0.016664     | 0.011674     | 0.010650     |
| h          | 0.020832     | 0.018230     | 0.027791     |
| conf       | 0.131780     | 0.106994     | 0.128829     |
| cls        | 0.011975     | 0.001619     | 0.006327     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.916667     | 0.840000     |
| precision  | 0.851852     | 0.470588     | 0.215517     |
| conf_obj   | 0.957644     | 0.985257     | 0.983343     |
| conf_noobj | 0.000480     | 0.000494     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 16:35:50.872 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.482363
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.168015     | 0.139748     | 0.174601     |
| x          | 0.001601     | 0.009865     | 0.015810     |
| y          | 0.003326     | 0.009063     | 0.025829     |
| w          | 0.013885     | 0.011197     | 0.015937     |
| h          | 0.018990     | 0.021710     | 0.013122     |
| conf       | 0.129685     | 0.087612     | 0.103265     |
| cls        | 0.000527     | 0.000301     | 0.000637     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.956522     | 0.960000     |
| recall75   | 0.909091     | 0.869565     | 0.840000     |
| precision  | 0.954545     | 0.594595     | 0.311688     |
| conf_obj   | 0.936798     | 0.963271     | 0.957753     |
| conf_noobj | 0.000208     | 0.000247     | 0.000248     |
+------------+--------------+--------------+--------------+
2020-12-20 16:36:56.316 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.423088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.105643     | 0.156952     | 0.160493     |
| x          | 0.004018     | 0.004527     | 0.008812     |
| y          | 0.005546     | 0.007100     | 0.016548     |
| w          | 0.013916     | 0.011566     | 0.012619     |
| h          | 0.010353     | 0.009710     | 0.006215     |
| conf       | 0.066805     | 0.122623     | 0.115695     |
| cls        | 0.005005     | 0.001426     | 0.000605     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.800000     | 0.472222     | 0.171717     |
| conf_obj   | 0.985027     | 0.969307     | 0.978213     |
| conf_noobj | 0.000343     | 0.000397     | 0.000401     |
+------------+--------------+--------------+--------------+
2020-12-20 16:37:59.392 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.423721
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.148946     | 0.123535     | 0.151241     |
| x          | 0.004463     | 0.008949     | 0.025615     |
| y          | 0.002872     | 0.004784     | 0.016412     |
| w          | 0.011864     | 0.007929     | 0.013081     |
| h          | 0.008440     | 0.004021     | 0.003818     |
| conf       | 0.121023     | 0.097381     | 0.092032     |
| cls        | 0.000283     | 0.000471     | 0.000282     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 1.000000     | 0.958333     |
| precision  | 0.741935     | 0.489362     | 0.242424     |
| conf_obj   | 0.971035     | 0.988057     | 0.986724     |
| conf_noobj | 0.000509     | 0.000406     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 16:38:59.879 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.659997
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.258194     | 0.206837     | 0.194967     |
| x          | 0.003756     | 0.007972     | 0.033954     |
| y          | 0.003542     | 0.006465     | 0.024688     |
| w          | 0.027254     | 0.022961     | 0.017764     |
| h          | 0.009065     | 0.008647     | 0.006572     |
| conf       | 0.213503     | 0.160088     | 0.111123     |
| cls        | 0.001075     | 0.000703     | 0.000865     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.913043     | 0.826087     |
| precision  | 0.657143     | 0.396552     | 0.200000     |
| conf_obj   | 0.950012     | 0.964332     | 0.975964     |
| conf_noobj | 0.000712     | 0.000586     | 0.000379     |
+------------+--------------+--------------+--------------+
2020-12-20 16:40:06.527 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.700871
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.237355     | 0.272867     | 0.190649     |
| x          | 0.003976     | 0.005955     | 0.010769     |
| y          | 0.004571     | 0.005771     | 0.017851     |
| w          | 0.014859     | 0.015925     | 0.006189     |
| h          | 0.013019     | 0.012804     | 0.011434     |
| conf       | 0.187839     | 0.211551     | 0.136129     |
| cls        | 0.013091     | 0.020861     | 0.008276     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.911765     | 0.942857     | 1.000000     |
| recall75   | 0.852941     | 0.828571     | 0.885714     |
| precision  | 0.885714     | 0.532258     | 0.291667     |
| conf_obj   | 0.916245     | 0.931331     | 0.972619     |
| conf_noobj | 0.000388     | 0.000556     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 16:41:12.376 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.444862
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.714169     | 0.438442     | 0.292250     |
| x          | 0.004835     | 0.006621     | 0.018432     |
| y          | 0.003681     | 0.015170     | 0.028061     |
| w          | 0.053368     | 0.023236     | 0.008681     |
| h          | 0.026055     | 0.014069     | 0.006862     |
| conf       | 0.623023     | 0.377988     | 0.229579     |
| cls        | 0.003208     | 0.001357     | 0.000635     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.944444     | 0.944444     | 0.944444     |
| precision  | 0.809524     | 0.531250     | 0.236111     |
| conf_obj   | 0.924417     | 0.933613     | 0.934361     |
| conf_noobj | 0.000339     | 0.000240     | 0.000244     |
+------------+--------------+--------------+--------------+
2020-12-20 16:42:21.991 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.730003
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.278529     | 0.222186     | 0.229288     |
| x          | 0.003360     | 0.011078     | 0.018697     |
| y          | 0.005551     | 0.013405     | 0.050026     |
| w          | 0.025239     | 0.017413     | 0.006472     |
| h          | 0.026363     | 0.020106     | 0.016360     |
| conf       | 0.190063     | 0.157961     | 0.135176     |
| cls        | 0.027953     | 0.002224     | 0.002557     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.916667     | 0.958333     |
| precision  | 0.727273     | 0.461538     | 0.176471     |
| conf_obj   | 0.921267     | 0.934215     | 0.955392     |
| conf_noobj | 0.000485     | 0.000351     | 0.000352     |
+------------+--------------+--------------+--------------+
2020-12-20 16:42:25.879 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.685
2020-12-20 16:42:25.883 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 16:43:22.193 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.17274   | 0.44599 | 0.24903 | 0.32807 |
| 1     | Wear_helmet | 0.74714   | 0.96441 | 0.84199 | 0.94814 |
| 2     | Total       | 0.45994   | 0.70520 | 0.54551 | 0.63810 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:43:22.194 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.638102841735919
2020-12-20 16:43:22.194 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 16:43:22.194 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.310779

2020-12-20 16:43:22.648 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 2/2, epo 4/5
2020-12-20 16:43:22.649 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 2/2, epo 4/5; time cost: 0:15:02.550557

2020-12-20 16:43:22.649 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 2/2, epo 5/5
2020-12-20 16:43:24.138 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.623186
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.233614     | 0.176103     | 0.213469     |
| x          | 0.014100     | 0.007729     | 0.022329     |
| y          | 0.005212     | 0.016001     | 0.016896     |
| w          | 0.015564     | 0.014958     | 0.014769     |
| h          | 0.015045     | 0.013017     | 0.015099     |
| conf       | 0.181190     | 0.123319     | 0.142808     |
| cls        | 0.002504     | 0.001078     | 0.001567     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 1.000000     | 0.966667     |
| recall75   | 0.851852     | 0.862069     | 0.800000     |
| precision  | 0.806452     | 0.557692     | 0.232000     |
| conf_obj   | 0.921303     | 0.954882     | 0.944011     |
| conf_noobj | 0.000387     | 0.000329     | 0.000310     |
+------------+--------------+--------------+--------------+
2020-12-20 16:44:36.339 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.746721
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.317497     | 0.253210     | 0.176014     |
| x          | 0.002921     | 0.007525     | 0.015102     |
| y          | 0.003607     | 0.009037     | 0.021086     |
| w          | 0.022679     | 0.015550     | 0.011757     |
| h          | 0.025999     | 0.013731     | 0.008375     |
| conf       | 0.232511     | 0.206442     | 0.116271     |
| cls        | 0.029780     | 0.000925     | 0.003423     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.966667     | 0.966667     |
| recall75   | 0.928571     | 0.900000     | 0.933333     |
| precision  | 0.771429     | 0.475410     | 0.237705     |
| conf_obj   | 0.923399     | 0.936360     | 0.959268     |
| conf_noobj | 0.000384     | 0.000374     | 0.000267     |
+------------+--------------+--------------+--------------+
2020-12-20 16:45:40.870 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.534063
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.181676     | 0.154640     | 0.197748     |
| x          | 0.001801     | 0.005311     | 0.022043     |
| y          | 0.003265     | 0.006031     | 0.016003     |
| w          | 0.023639     | 0.016728     | 0.012986     |
| h          | 0.036665     | 0.022691     | 0.014234     |
| conf       | 0.089243     | 0.072633     | 0.094224     |
| cls        | 0.027063     | 0.031246     | 0.038259     |
| cls_acc    | 100.00%      | 100.00%      | 95.24%       |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 1.000000     | 0.952381     | 0.857143     |
| precision  | 0.807692     | 0.538462     | 0.186916     |
| conf_obj   | 0.966019     | 0.981612     | 0.980824     |
| conf_noobj | 0.000300     | 0.000250     | 0.000298     |
+------------+--------------+--------------+--------------+
2020-12-20 16:46:42.241 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.565505
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.139135     | 0.228701     | 0.197668     |
| x          | 0.004099     | 0.006529     | 0.021803     |
| y          | 0.005567     | 0.013464     | 0.043576     |
| w          | 0.005955     | 0.006468     | 0.012932     |
| h          | 0.012299     | 0.013726     | 0.016702     |
| conf       | 0.108967     | 0.188107     | 0.102158     |
| cls        | 0.002248     | 0.000407     | 0.000497     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 0.950000     |
| recall75   | 0.894737     | 0.800000     | 0.750000     |
| precision  | 0.703704     | 0.422222     | 0.191919     |
| conf_obj   | 0.975076     | 0.935964     | 0.969935     |
| conf_noobj | 0.000466     | 0.000406     | 0.000299     |
+------------+--------------+--------------+--------------+
2020-12-20 16:47:45.225 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 1.305674
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.534109     | 0.393962     | 0.377603     |
| x          | 0.010641     | 0.005663     | 0.019129     |
| y          | 0.005567     | 0.014775     | 0.020829     |
| w          | 0.026870     | 0.008448     | 0.005575     |
| h          | 0.065087     | 0.035498     | 0.029230     |
| conf       | 0.406242     | 0.290514     | 0.292884     |
| cls        | 0.019702     | 0.039064     | 0.009955     |
| cls_acc    | 100.00%      | 96.43%       | 100.00%      |
| recall50   | 0.928571     | 0.892857     | 0.931035     |
| recall75   | 0.750000     | 0.785714     | 0.827586     |
| precision  | 0.764706     | 0.390625     | 0.204545     |
| conf_obj   | 0.888598     | 0.909178     | 0.878776     |
| conf_noobj | 0.000780     | 0.000686     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 16:48:55.031 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.165060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.331927     | 0.421530     | 0.411602     |
| x          | 0.024850     | 0.009678     | 0.009290     |
| y          | 0.003569     | 0.012464     | 0.037245     |
| w          | 0.011546     | 0.018901     | 0.015469     |
| h          | 0.011132     | 0.013199     | 0.014860     |
| conf       | 0.260312     | 0.325920     | 0.291267     |
| cls        | 0.020518     | 0.041369     | 0.043471     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 0.850000     | 0.913043     | 0.869565     |
| recall75   | 0.800000     | 0.826087     | 0.782609     |
| precision  | 0.680000     | 0.525000     | 0.240964     |
| conf_obj   | 0.886610     | 0.875895     | 0.898005     |
| conf_noobj | 0.000460     | 0.000333     | 0.000270     |
+------------+--------------+--------------+--------------+
2020-12-20 16:49:56.040 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.887427
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.233062     | 0.325218     | 0.329147     |
| x          | 0.016313     | 0.013192     | 0.038880     |
| y          | 0.006396     | 0.019347     | 0.037624     |
| w          | 0.022681     | 0.015041     | 0.011779     |
| h          | 0.039697     | 0.030829     | 0.020658     |
| conf       | 0.146616     | 0.246556     | 0.217827     |
| cls        | 0.001358     | 0.000253     | 0.002379     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.966667     | 0.966667     |
| recall75   | 0.814815     | 0.900000     | 0.866667     |
| precision  | 0.764706     | 0.460317     | 0.258929     |
| conf_obj   | 0.965798     | 0.915940     | 0.915866     |
| conf_noobj | 0.000591     | 0.000614     | 0.000401     |
+------------+--------------+--------------+--------------+
2020-12-20 16:51:04.371 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.420619
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.159760     | 0.118343     | 0.142517     |
| x          | 0.001930     | 0.005427     | 0.010017     |
| y          | 0.004320     | 0.015350     | 0.044917     |
| w          | 0.008525     | 0.005490     | 0.004489     |
| h          | 0.004600     | 0.003171     | 0.004406     |
| conf       | 0.140112     | 0.088649     | 0.078065     |
| cls        | 0.000273     | 0.000255     | 0.000624     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.640000     | 0.390244     | 0.210526     |
| conf_obj   | 0.965476     | 0.983555     | 0.978107     |
| conf_noobj | 0.000486     | 0.000325     | 0.000210     |
+------------+--------------+--------------+--------------+
2020-12-20 16:52:11.692 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.769156
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.273599     | 0.242325     | 0.253233     |
| x          | 0.009700     | 0.017737     | 0.034643     |
| y          | 0.004491     | 0.015359     | 0.045643     |
| w          | 0.015182     | 0.019304     | 0.015403     |
| h          | 0.010746     | 0.010490     | 0.012878     |
| conf       | 0.229563     | 0.176843     | 0.142331     |
| cls        | 0.003916     | 0.002592     | 0.002335     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 1.000000     |
| recall75   | 0.888889     | 0.925926     | 0.925926     |
| precision  | 0.812500     | 0.509804     | 0.234783     |
| conf_obj   | 0.950862     | 0.958893     | 0.956707     |
| conf_noobj | 0.000513     | 0.000507     | 0.000401     |
+------------+--------------+--------------+--------------+
2020-12-20 16:53:14.989 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.829261
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.347633     | 0.251724     | 0.229904     |
| x          | 0.006787     | 0.031465     | 0.011922     |
| y          | 0.003336     | 0.009628     | 0.038069     |
| w          | 0.030426     | 0.023329     | 0.011662     |
| h          | 0.013955     | 0.012956     | 0.007989     |
| conf       | 0.282996     | 0.169888     | 0.157870     |
| cls        | 0.010133     | 0.004458     | 0.002391     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.913043     | 0.960000     |
| recall75   | 0.826087     | 0.869565     | 0.800000     |
| precision  | 0.645161     | 0.388889     | 0.169014     |
| conf_obj   | 0.898903     | 0.944026     | 0.952835     |
| conf_noobj | 0.000473     | 0.000422     | 0.000385     |
+------------+--------------+--------------+--------------+
2020-12-20 16:54:20.961 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.171376
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.456894     | 0.411971     | 0.302511     |
| x          | 0.004695     | 0.008210     | 0.028410     |
| y          | 0.002300     | 0.009551     | 0.026207     |
| w          | 0.058371     | 0.046349     | 0.029269     |
| h          | 0.040879     | 0.022207     | 0.014632     |
| conf       | 0.340382     | 0.319841     | 0.199674     |
| cls        | 0.010266     | 0.005813     | 0.004320     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.931035     | 0.965517     |
| recall75   | 0.925926     | 0.793103     | 0.758621     |
| precision  | 0.722222     | 0.457627     | 0.215385     |
| conf_obj   | 0.911702     | 0.907387     | 0.947279     |
| conf_noobj | 0.000690     | 0.000709     | 0.000516     |
+------------+--------------+--------------+--------------+
2020-12-20 16:55:26.415 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.519989
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.224353     | 0.157398     | 0.138238     |
| x          | 0.004941     | 0.006021     | 0.013200     |
| y          | 0.002538     | 0.005205     | 0.016649     |
| w          | 0.019500     | 0.017130     | 0.012302     |
| h          | 0.009671     | 0.012659     | 0.007374     |
| conf       | 0.187325     | 0.115963     | 0.087074     |
| cls        | 0.000378     | 0.000419     | 0.001639     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.964286     | 1.000000     |
| precision  | 0.812500     | 0.549020     | 0.290000     |
| conf_obj   | 0.942631     | 0.973012     | 0.984532     |
| conf_noobj | 0.000426     | 0.000393     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 16:56:32.545 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.438812
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.110937     | 0.161513     | 0.166362     |
| x          | 0.006792     | 0.016593     | 0.027385     |
| y          | 0.007150     | 0.027435     | 0.035259     |
| w          | 0.027310     | 0.007543     | 0.013944     |
| h          | 0.012124     | 0.008177     | 0.006444     |
| conf       | 0.057247     | 0.101685     | 0.082959     |
| cls        | 0.000315     | 0.000080     | 0.000371     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 1.000000     |
| precision  | 0.750000     | 0.439024     | 0.185567     |
| conf_obj   | 0.986535     | 0.966210     | 0.981764     |
| conf_noobj | 0.000274     | 0.000319     | 0.000270     |
+------------+--------------+--------------+--------------+
2020-12-20 16:57:38.259 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.642635
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.102213     | 0.339986     | 0.200436     |
| x          | 0.004039     | 0.009987     | 0.027509     |
| y          | 0.004772     | 0.025222     | 0.047584     |
| w          | 0.024405     | 0.024600     | 0.012422     |
| h          | 0.030029     | 0.025640     | 0.012622     |
| conf       | 0.037882     | 0.250933     | 0.099921     |
| cls        | 0.001087     | 0.003604     | 0.000379     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.947368     | 0.850000     | 0.850000     |
| precision  | 0.904762     | 0.441860     | 0.285714     |
| conf_obj   | 0.994259     | 0.917715     | 0.961130     |
| conf_noobj | 0.000222     | 0.000341     | 0.000223     |
+------------+--------------+--------------+--------------+
2020-12-20 16:57:41.553 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.658
2020-12-20 16:57:41.556 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 16:58:36.226 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14116   | 0.45645 | 0.21564 | 0.29554 |
| 1     | Wear_helmet | 0.68022   | 0.96571 | 0.79821 | 0.94281 |
| 2     | Total       | 0.41069   | 0.71108 | 0.50692 | 0.61918 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:58:36.228 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6191781457337228
2020-12-20 16:58:36.229 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 16:58:36.229 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.672279

2020-12-20 16:58:36.794 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 2/2, epo 5/5
2020-12-20 16:58:36.794 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 2/2, epo 5/5; time cost: 0:15:14.144458

2020-12-20 16:58:36.794 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.683
2020-12-20 16:58:37.013 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 17:02:40.946 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.20634   | 0.59033 | 0.30580 | 0.44427 |
| 1     | Wear_helmet | 0.55955   | 0.91557 | 0.69460 | 0.86443 |
| 2     | Total       | 0.38295   | 0.75295 | 0.50020 | 0.65435 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:02:40.947 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.654349359712873
2020-12-20 17:02:40.947 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 17:02:40.947 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:03.934019

2020-12-20 17:03:42.217 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 19!
2020-12-20 17:03:42.363 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 2/2, epo 1/5
2020-12-20 17:03:44.476 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.780462
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.270256     | 0.234627     | 0.275578     |
| x          | 0.006616     | 0.012523     | 0.020057     |
| y          | 0.006104     | 0.011433     | 0.034671     |
| w          | 0.022691     | 0.019845     | 0.019206     |
| h          | 0.035696     | 0.040147     | 0.042856     |
| conf       | 0.167463     | 0.121605     | 0.152728     |
| cls        | 0.031686     | 0.029075     | 0.006061     |
| cls_acc    | 96.67%       | 97.14%       | 100.00%      |
| recall50   | 0.933333     | 0.971429     | 1.000000     |
| recall75   | 0.866667     | 0.771429     | 0.857143     |
| precision  | 0.777778     | 0.607143     | 0.282258     |
| conf_obj   | 0.938907     | 0.969373     | 0.960441     |
| conf_noobj | 0.000511     | 0.000436     | 0.000436     |
+------------+--------------+--------------+--------------+
2020-12-20 17:04:51.847 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.456192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.183867     | 0.129019     | 0.143306     |
| x          | 0.002240     | 0.001727     | 0.010569     |
| y          | 0.011526     | 0.008311     | 0.014953     |
| w          | 0.017454     | 0.013375     | 0.009671     |
| h          | 0.010867     | 0.007746     | 0.006160     |
| conf       | 0.141378     | 0.097754     | 0.101805     |
| cls        | 0.000402     | 0.000106     | 0.000148     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 1.000000     |
| precision  | 0.850000     | 0.562500     | 0.257143     |
| conf_obj   | 0.934331     | 0.963066     | 0.961405     |
| conf_noobj | 0.000264     | 0.000219     | 0.000232     |
+------------+--------------+--------------+--------------+
2020-12-20 17:05:51.978 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.556218
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.230335     | 0.167451     | 0.158431     |
| x          | 0.001971     | 0.005420     | 0.019601     |
| y          | 0.002814     | 0.034094     | 0.035060     |
| w          | 0.018281     | 0.016977     | 0.009517     |
| h          | 0.010811     | 0.009961     | 0.006979     |
| conf       | 0.196192     | 0.100747     | 0.087063     |
| cls        | 0.000265     | 0.000252     | 0.000213     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 0.937500     |
| precision  | 0.640000     | 0.390244     | 0.195122     |
| conf_obj   | 0.934534     | 0.977275     | 0.983354     |
| conf_noobj | 0.000608     | 0.000326     | 0.000275     |
+------------+--------------+--------------+--------------+
2020-12-20 17:06:58.236 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.728875
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.369924     | 0.199915     | 0.159036     |
| x          | 0.009089     | 0.009198     | 0.011979     |
| y          | 0.004066     | 0.005154     | 0.015529     |
| w          | 0.036998     | 0.029632     | 0.018018     |
| h          | 0.036049     | 0.032284     | 0.015153     |
| conf       | 0.279577     | 0.121652     | 0.096298     |
| cls        | 0.004145     | 0.001996     | 0.002058     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.950000     | 0.950000     |
| precision  | 0.760000     | 0.465116     | 0.243902     |
| conf_obj   | 0.909564     | 0.970248     | 0.972434     |
| conf_noobj | 0.000639     | 0.000380     | 0.000270     |
+------------+--------------+--------------+--------------+
2020-12-20 17:08:00.106 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.638155
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.217802     | 0.201741     | 0.218611     |
| x          | 0.010027     | 0.013982     | 0.014528     |
| y          | 0.005756     | 0.009106     | 0.024181     |
| w          | 0.016115     | 0.011658     | 0.015327     |
| h          | 0.012574     | 0.006710     | 0.017891     |
| conf       | 0.164047     | 0.151364     | 0.105711     |
| cls        | 0.009282     | 0.008922     | 0.040975     |
| cls_acc    | 100.00%      | 100.00%      | 94.74%       |
| recall50   | 0.947368     | 0.947368     | 0.947368     |
| recall75   | 0.894737     | 0.789474     | 0.736842     |
| precision  | 0.818182     | 0.418605     | 0.200000     |
| conf_obj   | 0.952772     | 0.978111     | 0.987314     |
| conf_noobj | 0.000533     | 0.000596     | 0.000377     |
+------------+--------------+--------------+--------------+
2020-12-20 17:09:05.940 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.806957
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.412647     | 0.217377     | 0.176933     |
| x          | 0.029905     | 0.005961     | 0.016976     |
| y          | 0.002350     | 0.007807     | 0.010965     |
| w          | 0.027763     | 0.018413     | 0.013597     |
| h          | 0.014024     | 0.009113     | 0.006357     |
| conf       | 0.215677     | 0.172685     | 0.128193     |
| cls        | 0.122927     | 0.003398     | 0.000845     |
| cls_acc    | 96.88%       | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.969697     | 1.000000     |
| recall75   | 0.937500     | 0.909091     | 0.969697     |
| precision  | 0.714286     | 0.533333     | 0.246269     |
| conf_obj   | 0.956077     | 0.959846     | 0.978257     |
| conf_noobj | 0.000846     | 0.000592     | 0.000450     |
+------------+--------------+--------------+--------------+
2020-12-20 17:10:09.343 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.777675
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.264339     | 0.250639     | 0.262697     |
| x          | 0.004596     | 0.003787     | 0.017446     |
| y          | 0.001820     | 0.005064     | 0.027545     |
| w          | 0.010450     | 0.013834     | 0.015265     |
| h          | 0.014643     | 0.022428     | 0.012258     |
| conf       | 0.094971     | 0.056993     | 0.058663     |
| cls        | 0.137859     | 0.148533     | 0.131521     |
| cls_acc    | 93.75%       | 93.75%       | 93.75%       |
| recall50   | 0.937500     | 0.937500     | 0.937500     |
| recall75   | 0.812500     | 0.875000     | 0.812500     |
| precision  | 0.714286     | 0.468750     | 0.192308     |
| conf_obj   | 0.969164     | 0.986927     | 0.992629     |
| conf_noobj | 0.000334     | 0.000240     | 0.000224     |
+------------+--------------+--------------+--------------+
2020-12-20 17:11:17.269 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.695360
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.257962     | 0.234035     | 0.203364     |
| x          | 0.006245     | 0.007481     | 0.025553     |
| y          | 0.004702     | 0.007798     | 0.023244     |
| w          | 0.007816     | 0.007867     | 0.006503     |
| h          | 0.009657     | 0.010648     | 0.005625     |
| conf       | 0.227590     | 0.199013     | 0.140957     |
| cls        | 0.001954     | 0.001229     | 0.001481     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.961538     | 1.000000     |
| recall75   | 0.923077     | 0.961538     | 0.961538     |
| precision  | 0.781250     | 0.384615     | 0.213115     |
| conf_obj   | 0.955652     | 0.961205     | 0.974634     |
| conf_noobj | 0.000727     | 0.000659     | 0.000483     |
+------------+--------------+--------------+--------------+
2020-12-20 17:12:19.673 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.591738
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.229017     | 0.161268     | 0.201453     |
| x          | 0.004314     | 0.008217     | 0.015320     |
| y          | 0.004090     | 0.008211     | 0.024236     |
| w          | 0.026182     | 0.022432     | 0.022262     |
| h          | 0.018792     | 0.017501     | 0.019371     |
| conf       | 0.167301     | 0.094649     | 0.110887     |
| cls        | 0.008340     | 0.010257     | 0.009377     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 1.000000     |
| recall75   | 0.964286     | 0.964286     | 0.857143     |
| precision  | 0.900000     | 0.651163     | 0.269231     |
| conf_obj   | 0.945387     | 0.972587     | 0.981770     |
| conf_noobj | 0.000393     | 0.000338     | 0.000414     |
+------------+--------------+--------------+--------------+
2020-12-20 17:13:23.025 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.384890
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.109732     | 0.131570     | 0.143587     |
| x          | 0.003172     | 0.009247     | 0.023948     |
| y          | 0.002418     | 0.006432     | 0.022741     |
| w          | 0.006596     | 0.014864     | 0.012397     |
| h          | 0.010858     | 0.006861     | 0.008849     |
| conf       | 0.086489     | 0.094068     | 0.075474     |
| cls        | 0.000200     | 0.000099     | 0.000178     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.950000     | 0.950000     |
| precision  | 0.800000     | 0.425532     | 0.266667     |
| conf_obj   | 0.983694     | 0.981509     | 0.978325     |
| conf_noobj | 0.000411     | 0.000391     | 0.000227     |
+------------+--------------+--------------+--------------+
2020-12-20 17:14:26.584 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.619011
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.199519     | 0.215380     | 0.204112     |
| x          | 0.004490     | 0.006833     | 0.019842     |
| y          | 0.003306     | 0.010221     | 0.032321     |
| w          | 0.016151     | 0.017318     | 0.011025     |
| h          | 0.018463     | 0.016043     | 0.015323     |
| conf       | 0.138462     | 0.127037     | 0.110568     |
| cls        | 0.018647     | 0.037928     | 0.015033     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.896552     | 0.862069     |
| precision  | 0.756757     | 0.467742     | 0.273585     |
| conf_obj   | 0.979430     | 0.978293     | 0.979979     |
| conf_noobj | 0.000745     | 0.000535     | 0.000370     |
+------------+--------------+--------------+--------------+
2020-12-20 17:15:27.836 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.691114
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.281472     | 0.221873     | 0.187769     |
| x          | 0.002901     | 0.006220     | 0.027014     |
| y          | 0.003634     | 0.006103     | 0.017471     |
| w          | 0.014666     | 0.017113     | 0.015418     |
| h          | 0.011229     | 0.008082     | 0.010382     |
| conf       | 0.237657     | 0.180486     | 0.116617     |
| cls        | 0.011386     | 0.003869     | 0.000867     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.965517     | 1.000000     |
| recall75   | 0.896552     | 0.965517     | 0.900000     |
| precision  | 0.843750     | 0.528302     | 0.260870     |
| conf_obj   | 0.931663     | 0.953089     | 0.976504     |
| conf_noobj | 0.000498     | 0.000415     | 0.000398     |
+------------+--------------+--------------+--------------+
2020-12-20 17:16:31.155 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.560654
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.183523     | 0.211390     | 0.165741     |
| x          | 0.005887     | 0.006732     | 0.020567     |
| y          | 0.008093     | 0.009358     | 0.022506     |
| w          | 0.013385     | 0.017946     | 0.013290     |
| h          | 0.013679     | 0.011090     | 0.005565     |
| conf       | 0.141375     | 0.165833     | 0.103280     |
| cls        | 0.001104     | 0.000432     | 0.000533     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 1.000000     |
| recall75   | 0.920000     | 0.923077     | 0.923077     |
| precision  | 0.806452     | 0.490196     | 0.250000     |
| conf_obj   | 0.975900     | 0.951836     | 0.986336     |
| conf_noobj | 0.000510     | 0.000418     | 0.000365     |
+------------+--------------+--------------+--------------+
2020-12-20 17:17:35.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.939909
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.414601     | 0.269217     | 0.256091     |
| x          | 0.031265     | 0.013733     | 0.023248     |
| y          | 0.005230     | 0.009226     | 0.023660     |
| w          | 0.025316     | 0.028328     | 0.023991     |
| h          | 0.018655     | 0.021622     | 0.017357     |
| conf       | 0.327124     | 0.195190     | 0.159309     |
| cls        | 0.007010     | 0.001118     | 0.008527     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.967742     | 0.967742     |
| recall75   | 0.793103     | 0.838710     | 0.741935     |
| precision  | 0.675000     | 0.476190     | 0.212766     |
| conf_obj   | 0.904082     | 0.933615     | 0.964047     |
| conf_noobj | 0.000817     | 0.000503     | 0.000458     |
+------------+--------------+--------------+--------------+
2020-12-20 17:17:39.174 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.690
2020-12-20 17:17:39.178 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 17:18:37.356 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09458   | 0.45645 | 0.15670 | 0.32554 |
| 1     | Wear_helmet | 0.65695   | 0.96832 | 0.78281 | 0.94686 |
| 2     | Total       | 0.37577   | 0.71238 | 0.46975 | 0.63620 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:18:37.358 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6362048494512119
2020-12-20 17:18:37.359 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 17:18:37.359 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:58.180353

2020-12-20 17:18:37.841 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 2/2, epo 1/5
2020-12-20 17:18:37.841 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 2/2, epo 1/5; time cost: 0:14:55.477541

2020-12-20 17:18:37.841 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 2/2, epo 2/5
2020-12-20 17:18:39.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.771205
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.326532     | 0.222163     | 0.222510     |
| x          | 0.022142     | 0.011900     | 0.022283     |
| y          | 0.004381     | 0.018028     | 0.046190     |
| w          | 0.023157     | 0.013626     | 0.008838     |
| h          | 0.028153     | 0.013635     | 0.009176     |
| conf       | 0.245555     | 0.164625     | 0.135752     |
| cls        | 0.003144     | 0.000349     | 0.000271     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.967742     | 0.967742     |
| recall75   | 0.833333     | 0.870968     | 0.838710     |
| precision  | 0.692308     | 0.461538     | 0.189873     |
| conf_obj   | 0.914528     | 0.948054     | 0.972091     |
| conf_noobj | 0.000706     | 0.000530     | 0.000485     |
+------------+--------------+--------------+--------------+
2020-12-20 17:19:45.403 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 1.943371
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.741538     | 0.633508     | 0.568325     |
| x          | 0.012533     | 0.033007     | 0.040575     |
| y          | 0.013818     | 0.025032     | 0.051453     |
| w          | 0.024929     | 0.016618     | 0.021984     |
| h          | 0.018271     | 0.020894     | 0.009902     |
| conf       | 0.459962     | 0.408549     | 0.334013     |
| cls        | 0.212025     | 0.129408     | 0.110397     |
| cls_acc    | 92.59%       | 93.10%       | 96.67%       |
| recall50   | 0.814815     | 0.793103     | 0.900000     |
| recall75   | 0.777778     | 0.689655     | 0.833333     |
| precision  | 0.785714     | 0.522727     | 0.252336     |
| conf_obj   | 0.803797     | 0.846228     | 0.901173     |
| conf_noobj | 0.000542     | 0.000433     | 0.000458     |
+------------+--------------+--------------+--------------+
2020-12-20 17:20:51.701 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.471855
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.137439     | 0.165110     | 0.169305     |
| x          | 0.004886     | 0.007538     | 0.028009     |
| y          | 0.005338     | 0.024181     | 0.020633     |
| w          | 0.015338     | 0.011583     | 0.012587     |
| h          | 0.016417     | 0.020250     | 0.014572     |
| conf       | 0.094816     | 0.101472     | 0.093267     |
| cls        | 0.000645     | 0.000087     | 0.000237     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.888889     | 0.833333     |
| precision  | 0.772727     | 0.400000     | 0.195652     |
| conf_obj   | 0.991253     | 0.987658     | 0.975401     |
| conf_noobj | 0.000492     | 0.000411     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 17:21:55.767 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 1.009970
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.503737     | 0.262170     | 0.244063     |
| x          | 0.005135     | 0.015205     | 0.019529     |
| y          | 0.005258     | 0.011189     | 0.024540     |
| w          | 0.009942     | 0.010247     | 0.010398     |
| h          | 0.018297     | 0.011007     | 0.010195     |
| conf       | 0.450432     | 0.189689     | 0.156412     |
| cls        | 0.014673     | 0.024833     | 0.022988     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.903226     | 0.906250     | 0.939394     |
| recall75   | 0.838710     | 0.875000     | 0.818182     |
| precision  | 0.777778     | 0.591837     | 0.229630     |
| conf_obj   | 0.866720     | 0.923072     | 0.949736     |
| conf_noobj | 0.000545     | 0.000339     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 17:23:01.754 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.954306
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.234258     | 0.361079     | 0.358969     |
| x          | 0.005520     | 0.013323     | 0.028061     |
| y          | 0.002788     | 0.007556     | 0.018266     |
| w          | 0.015154     | 0.018363     | 0.021739     |
| h          | 0.021352     | 0.026251     | 0.026550     |
| conf       | 0.142509     | 0.172258     | 0.112018     |
| cls        | 0.046935     | 0.123327     | 0.152335     |
| cls_acc    | 95.45%       | 95.65%       | 95.65%       |
| recall50   | 0.954545     | 0.913043     | 0.869565     |
| recall75   | 0.954545     | 0.869565     | 0.782609     |
| precision  | 0.700000     | 0.388889     | 0.243902     |
| conf_obj   | 0.948730     | 0.935739     | 0.954537     |
| conf_noobj | 0.000443     | 0.000413     | 0.000232     |
+------------+--------------+--------------+--------------+
2020-12-20 17:24:07.342 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.880686
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.299517     | 0.195609     | 0.385561     |
| x          | 0.013673     | 0.006707     | 0.021078     |
| y          | 0.004322     | 0.011080     | 0.029015     |
| w          | 0.052281     | 0.028266     | 0.045420     |
| h          | 0.031947     | 0.020079     | 0.023445     |
| conf       | 0.132909     | 0.114391     | 0.264590     |
| cls        | 0.064385     | 0.015087     | 0.002013     |
| cls_acc    | 95.00%       | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 0.916667     |
| recall75   | 0.800000     | 0.909091     | 0.791667     |
| precision  | 0.730769     | 0.488889     | 0.244444     |
| conf_obj   | 0.950788     | 0.972144     | 0.906785     |
| conf_noobj | 0.000445     | 0.000398     | 0.000346     |
+------------+--------------+--------------+--------------+
2020-12-20 17:25:14.184 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.650915
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.256594     | 0.213041     | 0.181280     |
| x          | 0.024401     | 0.012089     | 0.023921     |
| y          | 0.006266     | 0.009702     | 0.023524     |
| w          | 0.040288     | 0.023029     | 0.013921     |
| h          | 0.018219     | 0.011402     | 0.010073     |
| conf       | 0.158718     | 0.145721     | 0.100770     |
| cls        | 0.008702     | 0.011098     | 0.009071     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 1.000000     | 1.000000     |
| recall75   | 0.740741     | 0.812500     | 0.911765     |
| precision  | 0.714286     | 0.500000     | 0.280992     |
| conf_obj   | 0.962731     | 0.960092     | 0.983064     |
| conf_noobj | 0.000571     | 0.000472     | 0.000370     |
+------------+--------------+--------------+--------------+
2020-12-20 17:26:18.711 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.007015
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.279994     | 0.342280     | 0.384741     |
| x          | 0.003740     | 0.010593     | 0.026941     |
| y          | 0.005457     | 0.008170     | 0.018196     |
| w          | 0.014609     | 0.018723     | 0.009655     |
| h          | 0.013837     | 0.017382     | 0.008726     |
| conf       | 0.079280     | 0.092131     | 0.109060     |
| cls        | 0.163071     | 0.195282     | 0.212165     |
| cls_acc    | 96.77%       | 96.77%       | 96.77%       |
| recall50   | 0.967742     | 0.967742     | 0.967742     |
| recall75   | 0.967742     | 0.903226     | 0.838710     |
| precision  | 0.789474     | 0.545455     | 0.241935     |
| conf_obj   | 0.983890     | 0.988087     | 0.979306     |
| conf_noobj | 0.000393     | 0.000412     | 0.000369     |
+------------+--------------+--------------+--------------+
2020-12-20 17:27:20.154 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.661120
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.204296     | 0.238140     | 0.218684     |
| x          | 0.006021     | 0.006687     | 0.020122     |
| y          | 0.005443     | 0.013740     | 0.024995     |
| w          | 0.020391     | 0.018618     | 0.014693     |
| h          | 0.013673     | 0.015976     | 0.009947     |
| conf       | 0.130530     | 0.166962     | 0.134720     |
| cls        | 0.028237     | 0.016157     | 0.014206     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.866667     | 0.903226     |
| precision  | 0.823529     | 0.468750     | 0.260504     |
| conf_obj   | 0.977254     | 0.965982     | 0.970606     |
| conf_noobj | 0.000622     | 0.000611     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 17:28:26.450 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.502869
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.204361     | 0.170900     | 0.127608     |
| x          | 0.001483     | 0.005941     | 0.010056     |
| y          | 0.002323     | 0.003353     | 0.019313     |
| w          | 0.016832     | 0.009848     | 0.006724     |
| h          | 0.009974     | 0.004200     | 0.002523     |
| conf       | 0.173119     | 0.147143     | 0.088734     |
| cls        | 0.000631     | 0.000416     | 0.000259     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.680000     | 0.340000     | 0.200000     |
| conf_obj   | 0.961886     | 0.964960     | 0.987690     |
| conf_noobj | 0.000704     | 0.000504     | 0.000313     |
+------------+--------------+--------------+--------------+
2020-12-20 17:29:28.330 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.825064
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.304177     | 0.300923     | 0.219964     |
| x          | 0.006739     | 0.008779     | 0.017751     |
| y          | 0.002766     | 0.011258     | 0.029630     |
| w          | 0.017441     | 0.012005     | 0.010128     |
| h          | 0.013228     | 0.011661     | 0.006732     |
| conf       | 0.253438     | 0.212488     | 0.148392     |
| cls        | 0.010564     | 0.044732     | 0.007331     |
| cls_acc    | 100.00%      | 95.65%       | 100.00%      |
| recall50   | 0.956522     | 0.913043     | 1.000000     |
| recall75   | 0.869565     | 0.869565     | 1.000000     |
| precision  | 0.814815     | 0.428571     | 0.219048     |
| conf_obj   | 0.924038     | 0.914349     | 0.943335     |
| conf_noobj | 0.000614     | 0.000471     | 0.000367     |
+------------+--------------+--------------+--------------+
2020-12-20 17:30:26.831 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.568324
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.187486     | 0.200524     | 0.180314     |
| x          | 0.002857     | 0.004716     | 0.014560     |
| y          | 0.006280     | 0.007635     | 0.027573     |
| w          | 0.006981     | 0.004011     | 0.005086     |
| h          | 0.016743     | 0.008487     | 0.005311     |
| conf       | 0.152977     | 0.174462     | 0.124343     |
| cls        | 0.001648     | 0.001213     | 0.003442     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.944444     | 0.944444     | 1.000000     |
| precision  | 0.720000     | 0.404762     | 0.200000     |
| conf_obj   | 0.953691     | 0.949763     | 0.966947     |
| conf_noobj | 0.000562     | 0.000524     | 0.000379     |
+------------+--------------+--------------+--------------+
2020-12-20 17:31:33.621 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.863904
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.306589     | 0.231059     | 0.326256     |
| x          | 0.004774     | 0.007382     | 0.022021     |
| y          | 0.006462     | 0.013111     | 0.015114     |
| w          | 0.010013     | 0.018242     | 0.006885     |
| h          | 0.014468     | 0.014276     | 0.011210     |
| conf       | 0.243021     | 0.129669     | 0.246272     |
| cls        | 0.027851     | 0.048379     | 0.024755     |
| cls_acc    | 100.00%      | 96.43%       | 100.00%      |
| recall50   | 0.925926     | 0.857143     | 0.928571     |
| recall75   | 0.814815     | 0.821429     | 0.821429     |
| precision  | 0.833333     | 0.533333     | 0.242991     |
| conf_obj   | 0.895991     | 0.943592     | 0.902658     |
| conf_noobj | 0.000284     | 0.000241     | 0.000290     |
+------------+--------------+--------------+--------------+
2020-12-20 17:32:42.852 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.762951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.218101     | 0.256294     | 0.288556     |
| x          | 0.007235     | 0.025091     | 0.043368     |
| y          | 0.009566     | 0.031067     | 0.057545     |
| w          | 0.021615     | 0.013996     | 0.017702     |
| h          | 0.020079     | 0.017064     | 0.016220     |
| conf       | 0.158270     | 0.167860     | 0.148944     |
| cls        | 0.001335     | 0.001216     | 0.004776     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.966667     | 1.000000     |
| recall75   | 0.900000     | 0.900000     | 0.870968     |
| precision  | 0.769231     | 0.376623     | 0.180233     |
| conf_obj   | 0.948226     | 0.956454     | 0.962767     |
| conf_noobj | 0.000643     | 0.000560     | 0.000464     |
+------------+--------------+--------------+--------------+
2020-12-20 17:32:46.950 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.696
2020-12-20 17:32:46.953 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 17:33:41.585 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11429   | 0.45993 | 0.18308 | 0.27894 |
| 1     | Wear_helmet | 0.55695   | 0.96354 | 0.70588 | 0.93793 |
| 2     | Total       | 0.33562   | 0.71174 | 0.44448 | 0.60844 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:33:41.585 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6084361807447471
2020-12-20 17:33:41.586 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 17:33:41.586 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.633194

2020-12-20 17:33:42.033 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 2/2, epo 2/5
2020-12-20 17:33:42.033 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 2/2, epo 2/5; time cost: 0:15:04.191364

2020-12-20 17:33:42.034 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 2/2, epo 3/5
2020-12-20 17:33:43.640 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.948189
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.341410     | 0.356447     | 0.250331     |
| x          | 0.002625     | 0.005594     | 0.012478     |
| y          | 0.004009     | 0.012189     | 0.006837     |
| w          | 0.009855     | 0.007539     | 0.008501     |
| h          | 0.015657     | 0.010822     | 0.006634     |
| conf       | 0.154707     | 0.205657     | 0.146133     |
| cls        | 0.154557     | 0.114646     | 0.069748     |
| cls_acc    | 95.65%       | 95.65%       | 95.65%       |
| recall50   | 0.956522     | 0.913043     | 0.956522     |
| recall75   | 0.956522     | 0.869565     | 0.913043     |
| precision  | 0.666667     | 0.333333     | 0.161765     |
| conf_obj   | 0.965636     | 0.935633     | 0.956886     |
| conf_noobj | 0.000558     | 0.000505     | 0.000391     |
+------------+--------------+--------------+--------------+
2020-12-20 17:34:55.236 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.518263
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.242775     | 0.116332     | 0.159157     |
| x          | 0.008235     | 0.008215     | 0.024956     |
| y          | 0.003340     | 0.004101     | 0.018978     |
| w          | 0.024998     | 0.011558     | 0.007316     |
| h          | 0.024483     | 0.010304     | 0.006639     |
| conf       | 0.118255     | 0.080587     | 0.100008     |
| cls        | 0.063463     | 0.001566     | 0.001260     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.950000     | 0.900000     |
| precision  | 0.692308     | 0.444444     | 0.192308     |
| conf_obj   | 0.968739     | 0.991211     | 0.977662     |
| conf_noobj | 0.000384     | 0.000326     | 0.000312     |
+------------+--------------+--------------+--------------+
2020-12-20 17:35:57.400 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.554495
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.192167     | 0.182462     | 0.179867     |
| x          | 0.004269     | 0.010042     | 0.013864     |
| y          | 0.006184     | 0.025735     | 0.022883     |
| w          | 0.012964     | 0.017413     | 0.011328     |
| h          | 0.008889     | 0.012848     | 0.006573     |
| conf       | 0.156349     | 0.114826     | 0.122380     |
| cls        | 0.003511     | 0.001598     | 0.002839     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 1.000000     |
| recall75   | 0.923077     | 0.857143     | 1.000000     |
| precision  | 0.838710     | 0.551020     | 0.243478     |
| conf_obj   | 0.959761     | 0.978280     | 0.978845     |
| conf_noobj | 0.000598     | 0.000447     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 17:37:01.847 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.576921
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.249959     | 0.158638     | 0.168323     |
| x          | 0.002331     | 0.003667     | 0.008619     |
| y          | 0.008680     | 0.017872     | 0.014073     |
| w          | 0.011834     | 0.007067     | 0.008881     |
| h          | 0.016773     | 0.010517     | 0.006741     |
| conf       | 0.207303     | 0.114701     | 0.128702     |
| cls        | 0.003039     | 0.004815     | 0.001307     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.937500     | 1.000000     |
| precision  | 0.750000     | 0.533333     | 0.207792     |
| conf_obj   | 0.938643     | 0.965508     | 0.957400     |
| conf_noobj | 0.000462     | 0.000304     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 17:38:05.960 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.533660
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.149862     | 0.185134     | 0.198663     |
| x          | 0.004079     | 0.010125     | 0.023572     |
| y          | 0.004784     | 0.008353     | 0.032824     |
| w          | 0.013363     | 0.013533     | 0.007392     |
| h          | 0.011060     | 0.006977     | 0.005910     |
| conf       | 0.111817     | 0.141726     | 0.125373     |
| cls        | 0.004758     | 0.004420     | 0.003593     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.954545     | 0.954545     |
| precision  | 0.840000     | 0.440000     | 0.220000     |
| conf_obj   | 0.958315     | 0.947007     | 0.951381     |
| conf_noobj | 0.000246     | 0.000339     | 0.000279     |
+------------+--------------+--------------+--------------+
2020-12-20 17:39:09.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.735339
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.233288     | 0.257275     | 0.244776     |
| x          | 0.009964     | 0.007410     | 0.011082     |
| y          | 0.003252     | 0.008374     | 0.021663     |
| w          | 0.019598     | 0.015252     | 0.013442     |
| h          | 0.016866     | 0.011560     | 0.007320     |
| conf       | 0.109470     | 0.204176     | 0.179052     |
| cls        | 0.074139     | 0.010504     | 0.012216     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.965517     | 0.965517     |
| recall75   | 0.846154     | 0.862069     | 0.793103     |
| precision  | 0.866667     | 0.491228     | 0.294737     |
| conf_obj   | 0.975411     | 0.937360     | 0.946260     |
| conf_noobj | 0.000435     | 0.000541     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 17:40:15.302 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.650372
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.341013     | 0.169864     | 0.139495     |
| x          | 0.005842     | 0.004091     | 0.012499     |
| y          | 0.004167     | 0.006489     | 0.022966     |
| w          | 0.016918     | 0.010073     | 0.005367     |
| h          | 0.012158     | 0.007213     | 0.005453     |
| conf       | 0.221649     | 0.113335     | 0.086686     |
| cls        | 0.080279     | 0.028664     | 0.006524     |
| cls_acc    | 95.65%       | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 1.000000     | 1.000000     |
| recall75   | 0.826087     | 0.958333     | 0.958333     |
| precision  | 0.769231     | 0.452830     | 0.252632     |
| conf_obj   | 0.917301     | 0.978823     | 0.982419     |
| conf_noobj | 0.000349     | 0.000394     | 0.000273     |
+------------+--------------+--------------+--------------+
2020-12-20 17:41:19.613 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.433556
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.170474     | 0.123946     | 0.139136     |
| x          | 0.008730     | 0.004672     | 0.020805     |
| y          | 0.004268     | 0.002673     | 0.005086     |
| w          | 0.014924     | 0.018167     | 0.021450     |
| h          | 0.008010     | 0.012168     | 0.009871     |
| conf       | 0.132889     | 0.085978     | 0.081423     |
| cls        | 0.001652     | 0.000288     | 0.000500     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 1.000000     | 0.941176     |
| precision  | 0.761905     | 0.459459     | 0.253731     |
| conf_obj   | 0.971003     | 0.980683     | 0.981995     |
| conf_noobj | 0.000371     | 0.000306     | 0.000257     |
+------------+--------------+--------------+--------------+
2020-12-20 17:42:27.219 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.451582
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.154921     | 0.135895     | 0.160766     |
| x          | 0.005042     | 0.008155     | 0.023488     |
| y          | 0.002887     | 0.013334     | 0.029451     |
| w          | 0.021661     | 0.009371     | 0.012879     |
| h          | 0.009485     | 0.007315     | 0.008987     |
| conf       | 0.103096     | 0.093910     | 0.076658     |
| cls        | 0.012749     | 0.003810     | 0.009302     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 0.965517     |
| recall75   | 1.000000     | 0.928571     | 0.931035     |
| precision  | 0.843750     | 0.519231     | 0.241379     |
| conf_obj   | 0.959074     | 0.977441     | 0.986967     |
| conf_noobj | 0.000293     | 0.000344     | 0.000288     |
+------------+--------------+--------------+--------------+
2020-12-20 17:43:35.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.498546
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.222077     | 0.128114     | 0.148354     |
| x          | 0.005525     | 0.010298     | 0.022272     |
| y          | 0.003130     | 0.005150     | 0.021807     |
| w          | 0.011387     | 0.006834     | 0.007030     |
| h          | 0.030659     | 0.020096     | 0.015137     |
| conf       | 0.170853     | 0.085116     | 0.081676     |
| cls        | 0.000523     | 0.000620     | 0.000432     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.863636     | 0.954545     | 0.909091     |
| precision  | 0.777778     | 0.448980     | 0.200000     |
| conf_obj   | 0.946290     | 0.982067     | 0.988907     |
| conf_noobj | 0.000386     | 0.000318     | 0.000309     |
+------------+--------------+--------------+--------------+
2020-12-20 17:44:39.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.691955
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.290904     | 0.186669     | 0.214382     |
| x          | 0.009623     | 0.009117     | 0.013684     |
| y          | 0.005047     | 0.006695     | 0.014422     |
| w          | 0.041494     | 0.022364     | 0.015759     |
| h          | 0.021142     | 0.017883     | 0.010827     |
| conf       | 0.213098     | 0.130206     | 0.158589     |
| cls        | 0.000501     | 0.000404     | 0.001102     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.942857     | 0.972973     | 1.000000     |
| recall75   | 0.828571     | 0.891892     | 0.945946     |
| precision  | 0.825000     | 0.666667     | 0.262411     |
| conf_obj   | 0.926016     | 0.960504     | 0.956934     |
| conf_noobj | 0.000591     | 0.000437     | 0.000501     |
+------------+--------------+--------------+--------------+
2020-12-20 17:45:41.971 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 1.285722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.478978     | 0.503188     | 0.303556     |
| x          | 0.010156     | 0.016642     | 0.028213     |
| y          | 0.004164     | 0.008150     | 0.017179     |
| w          | 0.023481     | 0.016932     | 0.009665     |
| h          | 0.017487     | 0.015780     | 0.010855     |
| conf       | 0.370565     | 0.325141     | 0.201879     |
| cls        | 0.053125     | 0.120543     | 0.035765     |
| cls_acc    | 96.77%       | 96.77%       | 96.77%       |
| recall50   | 0.935484     | 0.935484     | 0.935484     |
| recall75   | 0.935484     | 0.903226     | 0.903226     |
| precision  | 0.828571     | 0.475410     | 0.266055     |
| conf_obj   | 0.901277     | 0.916794     | 0.929331     |
| conf_noobj | 0.000485     | 0.000415     | 0.000370     |
+------------+--------------+--------------+--------------+
2020-12-20 17:46:45.801 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.470428
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.139694     | 0.149329     | 0.181406     |
| x          | 0.004294     | 0.008706     | 0.027740     |
| y          | 0.003492     | 0.010274     | 0.028937     |
| w          | 0.024536     | 0.025332     | 0.014362     |
| h          | 0.012966     | 0.017440     | 0.012467     |
| conf       | 0.085111     | 0.085839     | 0.097395     |
| cls        | 0.009294     | 0.001738     | 0.000506     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.960000     | 0.920000     |
| precision  | 0.892857     | 0.454545     | 0.257732     |
| conf_obj   | 0.973458     | 0.981230     | 0.971159     |
| conf_noobj | 0.000362     | 0.000368     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 17:47:55.103 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.689512
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.246317     | 0.250356     | 0.192838     |
| x          | 0.020595     | 0.007400     | 0.030125     |
| y          | 0.005031     | 0.013076     | 0.026214     |
| w          | 0.058802     | 0.021890     | 0.014878     |
| h          | 0.022951     | 0.005182     | 0.005010     |
| conf       | 0.138055     | 0.199619     | 0.114537     |
| cls        | 0.000884     | 0.003189     | 0.002073     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 1.000000     |
| recall75   | 0.904762     | 0.863636     | 0.954545     |
| precision  | 0.714286     | 0.466667     | 0.213592     |
| conf_obj   | 0.983716     | 0.943521     | 0.970936     |
| conf_noobj | 0.000584     | 0.000412     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 17:47:58.409 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.650
2020-12-20 17:47:58.413 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 17:48:50.373 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.17623   | 0.45993 | 0.25483 | 0.30679 |
| 1     | Wear_helmet | 0.73389   | 0.95399 | 0.82959 | 0.93828 |
| 2     | Total       | 0.45506   | 0.70696 | 0.54221 | 0.62253 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:48:50.374 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6225326655640548
2020-12-20 17:48:50.375 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 17:48:50.376 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:51.961885

2020-12-20 17:48:50.870 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 2/2, epo 3/5
2020-12-20 17:48:50.870 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 2/2, epo 3/5; time cost: 0:15:08.836061

2020-12-20 17:48:50.871 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 2/2, epo 4/5
2020-12-20 17:48:52.289 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 1.072313
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.447979     | 0.325834     | 0.298500     |
| x          | 0.008428     | 0.010070     | 0.021039     |
| y          | 0.022899     | 0.013211     | 0.025273     |
| w          | 0.022045     | 0.014193     | 0.014823     |
| h          | 0.019142     | 0.015049     | 0.017324     |
| conf       | 0.374742     | 0.272176     | 0.218502     |
| cls        | 0.000724     | 0.001135     | 0.001539     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.925926     | 0.962963     |
| recall75   | 0.769231     | 0.851852     | 0.814815     |
| precision  | 0.638889     | 0.416667     | 0.228070     |
| conf_obj   | 0.879927     | 0.892862     | 0.917811     |
| conf_noobj | 0.000707     | 0.000532     | 0.000336     |
+------------+--------------+--------------+--------------+
2020-12-20 17:50:02.578 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.828326
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.327686     | 0.227906     | 0.272734     |
| x          | 0.004452     | 0.008068     | 0.016607     |
| y          | 0.005742     | 0.016282     | 0.053859     |
| w          | 0.036461     | 0.018513     | 0.014113     |
| h          | 0.018844     | 0.014490     | 0.010002     |
| conf       | 0.178567     | 0.108999     | 0.100162     |
| cls        | 0.083619     | 0.061554     | 0.077990     |
| cls_acc    | 95.65%       | 95.65%       | 95.65%       |
| recall50   | 0.913043     | 0.956522     | 0.956522     |
| recall75   | 0.869565     | 0.913043     | 0.913043     |
| precision  | 0.750000     | 0.500000     | 0.222222     |
| conf_obj   | 0.942486     | 0.971215     | 0.984732     |
| conf_noobj | 0.000435     | 0.000370     | 0.000366     |
+------------+--------------+--------------+--------------+
2020-12-20 17:51:04.019 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.481340
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.169043     | 0.148384     | 0.163912     |
| x          | 0.002606     | 0.005756     | 0.014555     |
| y          | 0.004490     | 0.009853     | 0.029492     |
| w          | 0.027500     | 0.006453     | 0.004146     |
| h          | 0.028720     | 0.008804     | 0.008138     |
| conf       | 0.086185     | 0.092695     | 0.101367     |
| cls        | 0.019544     | 0.024822     | 0.006214     |
| cls_acc    | 100.00%      | 96.30%       | 100.00%      |
| recall50   | 1.000000     | 0.962963     | 1.000000     |
| recall75   | 0.925926     | 0.962963     | 0.964286     |
| precision  | 0.900000     | 0.553191     | 0.261682     |
| conf_obj   | 0.976041     | 0.990050     | 0.984812     |
| conf_noobj | 0.000380     | 0.000412     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 17:52:04.190 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.875970
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.299855     | 0.316106     | 0.260009     |
| x          | 0.004133     | 0.010006     | 0.031369     |
| y          | 0.005541     | 0.014534     | 0.032076     |
| w          | 0.019800     | 0.008227     | 0.007165     |
| h          | 0.021351     | 0.015545     | 0.008186     |
| conf       | 0.229814     | 0.260631     | 0.174459     |
| cls        | 0.019214     | 0.007163     | 0.006755     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.945946     | 0.973684     | 1.000000     |
| recall75   | 0.891892     | 0.894737     | 0.973684     |
| precision  | 0.760870     | 0.528571     | 0.228916     |
| conf_obj   | 0.935797     | 0.943150     | 0.943618     |
| conf_noobj | 0.000623     | 0.000465     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 17:53:06.519 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.990126
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.425757     | 0.306064     | 0.258305     |
| x          | 0.003785     | 0.008762     | 0.021085     |
| y          | 0.008624     | 0.006257     | 0.011718     |
| w          | 0.045969     | 0.027614     | 0.023723     |
| h          | 0.033356     | 0.023385     | 0.011468     |
| conf       | 0.271729     | 0.231244     | 0.149068     |
| cls        | 0.062295     | 0.008800     | 0.041243     |
| cls_acc    | 97.56%       | 100.00%      | 97.62%       |
| recall50   | 0.902439     | 0.976190     | 0.976190     |
| recall75   | 0.756098     | 0.857143     | 0.904762     |
| precision  | 0.860465     | 0.539474     | 0.271523     |
| conf_obj   | 0.902513     | 0.943881     | 0.976809     |
| conf_noobj | 0.000475     | 0.000562     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 17:54:13.164 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 1.433046
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.586586     | 0.484776     | 0.361683     |
| x          | 0.018577     | 0.011921     | 0.023281     |
| y          | 0.002948     | 0.006682     | 0.027033     |
| w          | 0.028351     | 0.023963     | 0.012056     |
| h          | 0.019660     | 0.013309     | 0.011611     |
| conf       | 0.498657     | 0.409340     | 0.266682     |
| cls        | 0.018394     | 0.019560     | 0.021021     |
| cls_acc    | 97.62%       | 97.73%       | 97.73%       |
| recall50   | 0.833333     | 0.931818     | 0.931818     |
| recall75   | 0.738095     | 0.795455     | 0.772727     |
| precision  | 0.813953     | 0.500000     | 0.350427     |
| conf_obj   | 0.841742     | 0.899023     | 0.922616     |
| conf_noobj | 0.000532     | 0.000602     | 0.000394     |
+------------+--------------+--------------+--------------+
2020-12-20 17:55:20.529 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.760770
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.227038     | 0.264271     | 0.269461     |
| x          | 0.015568     | 0.014292     | 0.025955     |
| y          | 0.008971     | 0.015876     | 0.030209     |
| w          | 0.052892     | 0.055172     | 0.048859     |
| h          | 0.047467     | 0.037951     | 0.033732     |
| conf       | 0.100169     | 0.128748     | 0.126180     |
| cls        | 0.001972     | 0.012231     | 0.004526     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.925926     | 0.964286     |
| recall75   | 0.840000     | 0.777778     | 0.821429     |
| precision  | 0.857143     | 0.555556     | 0.257143     |
| conf_obj   | 0.965683     | 0.955008     | 0.970134     |
| conf_noobj | 0.000386     | 0.000344     | 0.000413     |
+------------+--------------+--------------+--------------+
2020-12-20 17:56:23.554 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.402432
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.126218     | 0.121075     | 0.155139     |
| x          | 0.003180     | 0.004692     | 0.011696     |
| y          | 0.002512     | 0.006802     | 0.021863     |
| w          | 0.018428     | 0.008831     | 0.006508     |
| h          | 0.017948     | 0.007465     | 0.005558     |
| conf       | 0.082961     | 0.093103     | 0.109275     |
| cls        | 0.001189     | 0.000182     | 0.000239     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.956522     |
| precision  | 0.821429     | 0.511111     | 0.205357     |
| conf_obj   | 0.984710     | 0.983241     | 0.980042     |
| conf_noobj | 0.000383     | 0.000391     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 17:57:28.564 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.406140
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.097224     | 0.132098     | 0.176817     |
| x          | 0.002519     | 0.007145     | 0.020614     |
| y          | 0.002544     | 0.010303     | 0.037992     |
| w          | 0.008568     | 0.006316     | 0.009461     |
| h          | 0.009892     | 0.009769     | 0.008073     |
| conf       | 0.073110     | 0.098297     | 0.099363     |
| cls        | 0.000591     | 0.000269     | 0.001315     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.944444     | 0.944444     | 0.888889     |
| precision  | 0.894737     | 0.680000     | 0.283333     |
| conf_obj   | 0.964190     | 0.958893     | 0.958856     |
| conf_noobj | 0.000134     | 0.000131     | 0.000165     |
+------------+--------------+--------------+--------------+
2020-12-20 17:58:31.917 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.625341
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.252174     | 0.206768     | 0.166399     |
| x          | 0.002915     | 0.004160     | 0.012370     |
| y          | 0.005626     | 0.008908     | 0.035693     |
| w          | 0.012436     | 0.004390     | 0.006438     |
| h          | 0.018713     | 0.010183     | 0.006170     |
| conf       | 0.210755     | 0.176062     | 0.105141     |
| cls        | 0.001730     | 0.003064     | 0.000586     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 1.000000     | 1.000000     |
| recall75   | 0.842105     | 1.000000     | 1.000000     |
| precision  | 0.607143     | 0.345455     | 0.188119     |
| conf_obj   | 0.913303     | 0.932631     | 0.966545     |
| conf_noobj | 0.000492     | 0.000435     | 0.000266     |
+------------+--------------+--------------+--------------+
2020-12-20 17:59:36.898 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.050397
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.522406     | 0.281958     | 0.246033     |
| x          | 0.001660     | 0.005604     | 0.013973     |
| y          | 0.002372     | 0.012579     | 0.022300     |
| w          | 0.013199     | 0.011644     | 0.005488     |
| h          | 0.008805     | 0.005079     | 0.005023     |
| conf       | 0.438611     | 0.234641     | 0.186877     |
| cls        | 0.057759     | 0.012410     | 0.012372     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.928571     | 0.965517     |
| recall75   | 0.925926     | 0.821429     | 0.931035     |
| precision  | 0.675676     | 0.464286     | 0.207407     |
| conf_obj   | 0.904914     | 0.932149     | 0.933631     |
| conf_noobj | 0.000776     | 0.000531     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 18:00:39.793 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.649658
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.257914     | 0.208305     | 0.183439     |
| x          | 0.008733     | 0.017057     | 0.032905     |
| y          | 0.002511     | 0.008037     | 0.013826     |
| w          | 0.019785     | 0.022974     | 0.010958     |
| h          | 0.017231     | 0.016769     | 0.010684     |
| conf       | 0.208661     | 0.143179     | 0.114565     |
| cls        | 0.000993     | 0.000290     | 0.000502     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.896552     | 0.931035     |
| precision  | 0.700000     | 0.376623     | 0.213235     |
| conf_obj   | 0.956087     | 0.979733     | 0.974851     |
| conf_noobj | 0.000708     | 0.000530     | 0.000369     |
+------------+--------------+--------------+--------------+
2020-12-20 18:01:49.813 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.354398
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.091703     | 0.113447     | 0.149248     |
| x          | 0.006252     | 0.010143     | 0.021431     |
| y          | 0.002514     | 0.007398     | 0.032839     |
| w          | 0.007081     | 0.006891     | 0.005666     |
| h          | 0.011212     | 0.007510     | 0.002537     |
| conf       | 0.063735     | 0.079302     | 0.085321     |
| cls        | 0.000910     | 0.002202     | 0.001453     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 1.000000     | 1.000000     |
| precision  | 0.846154     | 0.523810     | 0.224490     |
| conf_obj   | 0.982194     | 0.970845     | 0.974500     |
| conf_noobj | 0.000210     | 0.000209     | 0.000243     |
+------------+--------------+--------------+--------------+
2020-12-20 18:02:52.820 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.385223
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.108711     | 0.137707     | 0.138804     |
| x          | 0.011780     | 0.020148     | 0.017886     |
| y          | 0.003480     | 0.019085     | 0.024933     |
| w          | 0.016506     | 0.012281     | 0.005526     |
| h          | 0.007061     | 0.008344     | 0.004606     |
| conf       | 0.069728     | 0.077721     | 0.085576     |
| cls        | 0.000156     | 0.000128     | 0.000278     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.960000     | 1.000000     |
| precision  | 0.821429     | 0.462963     | 0.233645     |
| conf_obj   | 0.982915     | 0.984602     | 0.979467     |
| conf_noobj | 0.000264     | 0.000287     | 0.000249     |
+------------+--------------+--------------+--------------+
2020-12-20 18:02:57.476 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.643
2020-12-20 18:02:57.479 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 18:03:54.578 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12287   | 0.37631 | 0.18525 | 0.28918 |
| 1     | Wear_helmet | 0.51708   | 0.97917 | 0.67677 | 0.95026 |
| 2     | Total       | 0.31997   | 0.67774 | 0.43101 | 0.61972 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:03:54.578 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6197245439419394
2020-12-20 18:03:54.579 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 18:03:54.579 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:57.099199

2020-12-20 18:03:55.116 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 2/2, epo 4/5
2020-12-20 18:03:55.116 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 2/2, epo 4/5; time cost: 0:15:04.245365

2020-12-20 18:03:55.116 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 2/2, epo 5/5
2020-12-20 18:03:56.696 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.791958
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.238431     | 0.327646     | 0.225882     |
| x          | 0.006790     | 0.011613     | 0.014541     |
| y          | 0.006074     | 0.007617     | 0.023346     |
| w          | 0.049055     | 0.040998     | 0.019628     |
| h          | 0.032471     | 0.025204     | 0.019150     |
| conf       | 0.136182     | 0.221088     | 0.116239     |
| cls        | 0.007860     | 0.021126     | 0.032978     |
| cls_acc    | 100.00%      | 100.00%      | 96.67%       |
| recall50   | 1.000000     | 0.931035     | 0.966667     |
| recall75   | 0.928571     | 0.793103     | 0.866667     |
| precision  | 0.756757     | 0.421875     | 0.210145     |
| conf_obj   | 0.990601     | 0.933061     | 0.975290     |
| conf_noobj | 0.000503     | 0.000479     | 0.000341     |
+------------+--------------+--------------+--------------+
2020-12-20 18:05:09.885 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.671464
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.245121     | 0.210144     | 0.216199     |
| x          | 0.005459     | 0.013424     | 0.021580     |
| y          | 0.011515     | 0.007663     | 0.020406     |
| w          | 0.015112     | 0.010885     | 0.013757     |
| h          | 0.015551     | 0.022643     | 0.007822     |
| conf       | 0.194653     | 0.154639     | 0.152403     |
| cls        | 0.002831     | 0.000890     | 0.000231     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.964286     | 0.966667     |
| recall75   | 0.884615     | 0.928571     | 0.800000     |
| precision  | 0.735294     | 0.421875     | 0.233871     |
| conf_obj   | 0.960281     | 0.956270     | 0.952472     |
| conf_noobj | 0.000618     | 0.000464     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 18:06:10.016 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.540110
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.191797     | 0.207324     | 0.140988     |
| x          | 0.000727     | 0.002353     | 0.007440     |
| y          | 0.002568     | 0.005131     | 0.016734     |
| w          | 0.004029     | 0.004928     | 0.004438     |
| h          | 0.008035     | 0.007499     | 0.006715     |
| conf       | 0.176153     | 0.187030     | 0.105583     |
| cls        | 0.000286     | 0.000384     | 0.000078     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 1.000000     |
| recall75   | 0.960000     | 0.960000     | 1.000000     |
| precision  | 0.800000     | 0.428571     | 0.263158     |
| conf_obj   | 0.945471     | 0.928322     | 0.970156     |
| conf_noobj | 0.000356     | 0.000364     | 0.000300     |
+------------+--------------+--------------+--------------+
2020-12-20 18:07:12.907 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.693829
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.327290     | 0.200756     | 0.165783     |
| x          | 0.019162     | 0.025244     | 0.014197     |
| y          | 0.003132     | 0.006535     | 0.026175     |
| w          | 0.025290     | 0.019916     | 0.011862     |
| h          | 0.010143     | 0.022113     | 0.009506     |
| conf       | 0.267177     | 0.125627     | 0.096658     |
| cls        | 0.002385     | 0.001322     | 0.007386     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.863636     | 0.958333     | 1.000000     |
| recall75   | 0.772727     | 0.916667     | 0.960000     |
| precision  | 0.791667     | 0.547619     | 0.324675     |
| conf_obj   | 0.899409     | 0.947881     | 0.966315     |
| conf_noobj | 0.000397     | 0.000323     | 0.000264     |
+------------+--------------+--------------+--------------+
2020-12-20 18:08:14.575 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.809037
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.218441     | 0.336871     | 0.253725     |
| x          | 0.004094     | 0.009744     | 0.029329     |
| y          | 0.001846     | 0.006147     | 0.013898     |
| w          | 0.013543     | 0.008761     | 0.008098     |
| h          | 0.009280     | 0.003189     | 0.003549     |
| conf       | 0.189583     | 0.308957     | 0.198368     |
| cls        | 0.000095     | 0.000073     | 0.000484     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 0.944444     |
| recall75   | 1.000000     | 0.944444     | 0.944444     |
| precision  | 0.629630     | 0.395349     | 0.236111     |
| conf_obj   | 0.954213     | 0.922736     | 0.941822     |
| conf_noobj | 0.000597     | 0.000405     | 0.000283     |
+------------+--------------+--------------+--------------+
2020-12-20 18:09:17.053 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.900009
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.173988     | 0.422687     | 0.303334     |
| x          | 0.020233     | 0.011818     | 0.019477     |
| y          | 0.004665     | 0.009667     | 0.021057     |
| w          | 0.018218     | 0.065316     | 0.021254     |
| h          | 0.016315     | 0.042835     | 0.025699     |
| conf       | 0.065605     | 0.253769     | 0.198101     |
| cls        | 0.048952     | 0.039282     | 0.017747     |
| cls_acc    | 100.00%      | 97.06%       | 100.00%      |
| recall50   | 0.933333     | 0.941176     | 0.970588     |
| recall75   | 0.833333     | 0.794118     | 0.794118     |
| precision  | 0.903226     | 0.695652     | 0.343750     |
| conf_obj   | 0.962624     | 0.900926     | 0.920475     |
| conf_noobj | 0.000175     | 0.000256     | 0.000272     |
+------------+--------------+--------------+--------------+
2020-12-20 18:10:18.614 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.528476
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.173374     | 0.162237     | 0.192865     |
| x          | 0.012377     | 0.016102     | 0.030828     |
| y          | 0.007439     | 0.029289     | 0.051780     |
| w          | 0.017316     | 0.017436     | 0.009737     |
| h          | 0.022148     | 0.015675     | 0.010179     |
| conf       | 0.112241     | 0.083442     | 0.089960     |
| cls        | 0.001853     | 0.000294     | 0.000381     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 1.000000     | 0.950000     |
| precision  | 0.645161     | 0.434783     | 0.169492     |
| conf_obj   | 0.970676     | 0.984954     | 0.989179     |
| conf_noobj | 0.000464     | 0.000349     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 18:11:23.209 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.407555
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.169603     | 0.108614     | 0.129338     |
| x          | 0.007786     | 0.008146     | 0.020798     |
| y          | 0.004458     | 0.007737     | 0.014916     |
| w          | 0.020475     | 0.015192     | 0.013074     |
| h          | 0.012056     | 0.008605     | 0.006974     |
| conf       | 0.123356     | 0.067743     | 0.072522     |
| cls        | 0.001472     | 0.001192     | 0.001053     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.827586     | 0.827586     |
| precision  | 0.800000     | 0.580000     | 0.268519     |
| conf_obj   | 0.961880     | 0.989664     | 0.989638     |
| conf_noobj | 0.000405     | 0.000274     | 0.000275     |
+------------+--------------+--------------+--------------+
2020-12-20 18:12:29.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.433093
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.171815     | 0.133540     | 0.127737     |
| x          | 0.002029     | 0.008840     | 0.027117     |
| y          | 0.001678     | 0.006117     | 0.021595     |
| w          | 0.016733     | 0.010478     | 0.012832     |
| h          | 0.010387     | 0.007378     | 0.009728     |
| conf       | 0.135413     | 0.097807     | 0.055221     |
| cls        | 0.005576     | 0.002920     | 0.001243     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.933333     |
| precision  | 0.789474     | 0.652174     | 0.250000     |
| conf_obj   | 0.943592     | 0.953754     | 0.983938     |
| conf_noobj | 0.000302     | 0.000171     | 0.000157     |
+------------+--------------+--------------+--------------+
2020-12-20 18:13:35.292 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.386647
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.122503     | 0.128658     | 0.135485     |
| x          | 0.001226     | 0.004947     | 0.014355     |
| y          | 0.004172     | 0.012879     | 0.033837     |
| w          | 0.017867     | 0.015548     | 0.005228     |
| h          | 0.022523     | 0.016356     | 0.006641     |
| conf       | 0.075909     | 0.078778     | 0.075065     |
| cls        | 0.000806     | 0.000150     | 0.000359     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.944444     |
| precision  | 0.782609     | 0.473684     | 0.240000     |
| conf_obj   | 0.991007     | 0.976601     | 0.985816     |
| conf_noobj | 0.000377     | 0.000281     | 0.000247     |
+------------+--------------+--------------+--------------+
2020-12-20 18:14:40.152 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.741672
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.269785     | 0.242560     | 0.229327     |
| x          | 0.003809     | 0.009188     | 0.024337     |
| y          | 0.002617     | 0.004951     | 0.014900     |
| w          | 0.036202     | 0.034346     | 0.021669     |
| h          | 0.015399     | 0.014972     | 0.010342     |
| conf       | 0.184697     | 0.104329     | 0.113126     |
| cls        | 0.027062     | 0.074775     | 0.044953     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 1.000000     | 0.956522     | 0.913043     |
| recall75   | 1.000000     | 0.956522     | 0.739130     |
| precision  | 0.766667     | 0.550000     | 0.253012     |
| conf_obj   | 0.932277     | 0.971599     | 0.964313     |
| conf_noobj | 0.000442     | 0.000301     | 0.000243     |
+------------+--------------+--------------+--------------+
2020-12-20 18:15:38.507 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.970307
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.304204     | 0.388069     | 0.278034     |
| x          | 0.031690     | 0.018275     | 0.017895     |
| y          | 0.012536     | 0.028084     | 0.028293     |
| w          | 0.038322     | 0.025009     | 0.020469     |
| h          | 0.025862     | 0.014334     | 0.010393     |
| conf       | 0.181513     | 0.295012     | 0.198092     |
| cls        | 0.014281     | 0.007356     | 0.002892     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.925926     | 0.962963     |
| recall75   | 0.923077     | 0.851852     | 0.888889     |
| precision  | 0.648649     | 0.416667     | 0.213115     |
| conf_obj   | 0.955452     | 0.920706     | 0.938884     |
| conf_noobj | 0.000811     | 0.000560     | 0.000457     |
+------------+--------------+--------------+--------------+
2020-12-20 18:16:44.326 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 1.170789
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.565936     | 0.342125     | 0.262729     |
| x          | 0.009870     | 0.033680     | 0.021326     |
| y          | 0.004508     | 0.010506     | 0.011247     |
| w          | 0.020016     | 0.010233     | 0.009605     |
| h          | 0.016867     | 0.014004     | 0.010119     |
| conf       | 0.495707     | 0.268888     | 0.207221     |
| cls        | 0.018968     | 0.004814     | 0.003211     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.906250     | 0.939394     | 0.969697     |
| recall75   | 0.812500     | 0.878788     | 0.878788     |
| precision  | 0.725000     | 0.484375     | 0.213333     |
| conf_obj   | 0.875075     | 0.939004     | 0.943123     |
| conf_noobj | 0.000912     | 0.000627     | 0.000573     |
+------------+--------------+--------------+--------------+
2020-12-20 18:17:48.593 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.737070
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.290272     | 0.226218     | 0.220580     |
| x          | 0.002473     | 0.008381     | 0.025204     |
| y          | 0.002545     | 0.008958     | 0.026704     |
| w          | 0.017417     | 0.011011     | 0.008393     |
| h          | 0.011979     | 0.006576     | 0.010028     |
| conf       | 0.255660     | 0.190936     | 0.149675     |
| cls        | 0.000198     | 0.000357     | 0.000575     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 1.000000     | 0.920000     |
| precision  | 0.685714     | 0.403226     | 0.189394     |
| conf_obj   | 0.949810     | 0.948278     | 0.957890     |
| conf_noobj | 0.000757     | 0.000533     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 18:17:51.806 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.656
2020-12-20 18:17:51.808 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 18:18:46.211 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06383   | 0.40767 | 0.11038 | 0.25736 |
| 1     | Wear_helmet | 0.49162   | 0.98047 | 0.65488 | 0.94954 |
| 2     | Total       | 0.27773   | 0.69407 | 0.38263 | 0.60345 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:18:46.212 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6034480725873759
2020-12-20 18:18:46.212 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 18:18:46.213 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.404211

2020-12-20 18:18:46.674 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 2/2, epo 5/5
2020-12-20 18:18:46.675 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 2/2, epo 5/5; time cost: 0:14:51.557938

2020-12-20 18:18:46.675 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.667
2020-12-20 18:18:46.919 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 18:23:04.221 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08173   | 0.56208 | 0.14271 | 0.41222 |
| 1     | Wear_helmet | 0.39513   | 0.92983 | 0.55459 | 0.87162 |
| 2     | Total       | 0.23843   | 0.74596 | 0.34865 | 0.64192 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:23:04.222 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6419228349376074
2020-12-20 18:23:04.223 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 18:23:04.223 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:17.303513

2020-12-20 18:24:21.117 | INFO     | service.federated.client_service:train:97 - start user_id 2 training for epoch 20!
2020-12-20 18:24:21.297 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 2/2, epo 1/5
2020-12-20 18:24:23.662 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.480661
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.172942     | 0.153514     | 0.154205     |
| x          | 0.007944     | 0.006227     | 0.005055     |
| y          | 0.003569     | 0.006148     | 0.016078     |
| w          | 0.014483     | 0.014905     | 0.005261     |
| h          | 0.011169     | 0.013119     | 0.009964     |
| conf       | 0.135276     | 0.112104     | 0.117574     |
| cls        | 0.000501     | 0.001011     | 0.000273     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.962963     | 0.964286     | 0.964286     |
| precision  | 0.818182     | 0.538462     | 0.269231     |
| conf_obj   | 0.962780     | 0.984104     | 0.978560     |
| conf_noobj | 0.000496     | 0.000434     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 18:25:29.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.551857
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.236245     | 0.158861     | 0.156751     |
| x          | 0.005562     | 0.007802     | 0.021884     |
| y          | 0.008771     | 0.013285     | 0.017310     |
| w          | 0.029206     | 0.017731     | 0.007663     |
| h          | 0.019168     | 0.011577     | 0.010780     |
| conf       | 0.160854     | 0.089398     | 0.096554     |
| cls        | 0.012685     | 0.019068     | 0.002560     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.960000     | 0.960000     |
| precision  | 0.888889     | 0.490196     | 0.223214     |
| conf_obj   | 0.945548     | 0.978763     | 0.977055     |
| conf_noobj | 0.000323     | 0.000371     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 18:26:38.622 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.667608
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.231562     | 0.210528     | 0.225517     |
| x          | 0.003850     | 0.006955     | 0.012751     |
| y          | 0.007947     | 0.012801     | 0.025040     |
| w          | 0.021970     | 0.012857     | 0.005860     |
| h          | 0.021931     | 0.011289     | 0.007372     |
| conf       | 0.151426     | 0.143015     | 0.160734     |
| cls        | 0.024439     | 0.023611     | 0.013761     |
| cls_acc    | 96.97%       | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 1.000000     | 0.971429     |
| recall75   | 0.909091     | 0.942857     | 0.971429     |
| precision  | 0.885714     | 0.564516     | 0.215190     |
| conf_obj   | 0.952664     | 0.959710     | 0.960362     |
| conf_noobj | 0.000366     | 0.000436     | 0.000503     |
+------------+--------------+--------------+--------------+
2020-12-20 18:27:46.489 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.573525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.288315     | 0.156052     | 0.129158     |
| x          | 0.006986     | 0.011561     | 0.010291     |
| y          | 0.002341     | 0.008385     | 0.032182     |
| w          | 0.005632     | 0.008575     | 0.004344     |
| h          | 0.009912     | 0.006594     | 0.005131     |
| conf       | 0.263129     | 0.120814     | 0.077050     |
| cls        | 0.000314     | 0.000123     | 0.000159     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.950000     | 1.000000     |
| recall75   | 0.947368     | 0.950000     | 1.000000     |
| precision  | 0.782609     | 0.413043     | 0.277778     |
| conf_obj   | 0.916380     | 0.951004     | 0.968588     |
| conf_noobj | 0.000338     | 0.000251     | 0.000182     |
+------------+--------------+--------------+--------------+
2020-12-20 18:28:49.259 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.795086
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.226999     | 0.336942     | 0.231145     |
| x          | 0.014583     | 0.028018     | 0.031400     |
| y          | 0.003615     | 0.008264     | 0.021551     |
| w          | 0.013720     | 0.030944     | 0.020774     |
| h          | 0.012016     | 0.027456     | 0.018033     |
| conf       | 0.178350     | 0.241080     | 0.135486     |
| cls        | 0.004715     | 0.001179     | 0.003902     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.869565     | 0.958333     |
| recall75   | 0.904762     | 0.826087     | 0.958333     |
| precision  | 0.666667     | 0.384615     | 0.227723     |
| conf_obj   | 0.958730     | 0.945410     | 0.969443     |
| conf_noobj | 0.000675     | 0.000495     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 18:29:47.591 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.569988
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.238853     | 0.164262     | 0.166872     |
| x          | 0.004140     | 0.015686     | 0.014506     |
| y          | 0.003409     | 0.011024     | 0.024403     |
| w          | 0.020021     | 0.014583     | 0.008067     |
| h          | 0.035026     | 0.028088     | 0.011135     |
| conf       | 0.160208     | 0.083616     | 0.104744     |
| cls        | 0.016049     | 0.011267     | 0.004017     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.966667     | 1.000000     |
| recall75   | 0.866667     | 0.866667     | 0.900000     |
| precision  | 0.875000     | 0.604167     | 0.285714     |
| conf_obj   | 0.935476     | 0.973045     | 0.975118     |
| conf_noobj | 0.000425     | 0.000324     | 0.000350     |
+------------+--------------+--------------+--------------+
2020-12-20 18:30:49.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.467930
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.174727     | 0.135894     | 0.157310     |
| x          | 0.003097     | 0.011268     | 0.022299     |
| y          | 0.002420     | 0.006409     | 0.018950     |
| w          | 0.024281     | 0.018908     | 0.019626     |
| h          | 0.017238     | 0.019253     | 0.014522     |
| conf       | 0.125155     | 0.075561     | 0.081452     |
| cls        | 0.002536     | 0.004495     | 0.000460     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.960000     | 0.960000     |
| precision  | 0.806452     | 0.543478     | 0.247525     |
| conf_obj   | 0.954783     | 0.987093     | 0.989335     |
| conf_noobj | 0.000397     | 0.000312     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 18:31:56.210 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.334286
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.081553     | 0.099399     | 0.153334     |
| x          | 0.017874     | 0.022991     | 0.023950     |
| y          | 0.011264     | 0.031121     | 0.039260     |
| w          | 0.007770     | 0.007859     | 0.004365     |
| h          | 0.008789     | 0.003725     | 0.008470     |
| conf       | 0.030187     | 0.032358     | 0.076506     |
| cls        | 0.005669     | 0.001346     | 0.000783     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.923077     | 1.000000     |
| precision  | 0.928571     | 0.520000     | 0.206349     |
| conf_obj   | 0.992974     | 0.994334     | 0.965842     |
| conf_noobj | 0.000177     | 0.000159     | 0.000158     |
+------------+--------------+--------------+--------------+
2020-12-20 18:33:04.231 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.505801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.195554     | 0.183632     | 0.126615     |
| x          | 0.009649     | 0.024835     | 0.032050     |
| y          | 0.008921     | 0.016487     | 0.014365     |
| w          | 0.008845     | 0.006620     | 0.004191     |
| h          | 0.006922     | 0.003180     | 0.002939     |
| conf       | 0.161060     | 0.132430     | 0.072973     |
| cls        | 0.000158     | 0.000080     | 0.000097     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.933333     | 1.000000     |
| recall75   | 0.857143     | 0.866667     | 1.000000     |
| precision  | 0.650000     | 0.388889     | 0.223881     |
| conf_obj   | 0.946593     | 0.938667     | 0.980495     |
| conf_noobj | 0.000370     | 0.000249     | 0.000200     |
+------------+--------------+--------------+--------------+
2020-12-20 18:34:07.930 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.630760
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.222534     | 0.258140     | 0.150087     |
| x          | 0.003120     | 0.003734     | 0.013706     |
| y          | 0.002200     | 0.005493     | 0.012958     |
| w          | 0.014414     | 0.004629     | 0.008604     |
| h          | 0.030055     | 0.014540     | 0.015460     |
| conf       | 0.172203     | 0.229294     | 0.099132     |
| cls        | 0.000543     | 0.000449     | 0.000226     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 1.000000     | 0.944444     | 1.000000     |
| precision  | 0.666667     | 0.404762     | 0.230769     |
| conf_obj   | 0.970683     | 0.926356     | 0.970763     |
| conf_noobj | 0.000702     | 0.000492     | 0.000304     |
+------------+--------------+--------------+--------------+
2020-12-20 18:35:11.666 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 1.004012
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.253716     | 0.358431     | 0.391865     |
| x          | 0.002898     | 0.009154     | 0.014501     |
| y          | 0.007186     | 0.009317     | 0.024265     |
| w          | 0.029561     | 0.021470     | 0.021521     |
| h          | 0.018007     | 0.013981     | 0.012778     |
| conf       | 0.134977     | 0.213815     | 0.143997     |
| cls        | 0.061087     | 0.090694     | 0.174804     |
| cls_acc    | 96.67%       | 96.67%       | 96.67%       |
| recall50   | 0.966667     | 0.900000     | 0.933333     |
| recall75   | 0.900000     | 0.800000     | 0.866667     |
| precision  | 0.763158     | 0.457627     | 0.227642     |
| conf_obj   | 0.965345     | 0.931718     | 0.946449     |
| conf_noobj | 0.000493     | 0.000375     | 0.000309     |
+------------+--------------+--------------+--------------+
2020-12-20 18:36:16.894 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.497693
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.189446     | 0.158018     | 0.150230     |
| x          | 0.001515     | 0.002822     | 0.011009     |
| y          | 0.002288     | 0.007266     | 0.015715     |
| w          | 0.016012     | 0.012901     | 0.012903     |
| h          | 0.018621     | 0.016010     | 0.014593     |
| conf       | 0.150583     | 0.118384     | 0.095467     |
| cls        | 0.000427     | 0.000635     | 0.000543     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.676471     | 0.479167     | 0.214953     |
| conf_obj   | 0.985231     | 0.982895     | 0.986269     |
| conf_noobj | 0.000671     | 0.000420     | 0.000325     |
+------------+--------------+--------------+--------------+
2020-12-20 18:37:17.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.525499
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.195347     | 0.182495     | 0.147657     |
| x          | 0.005696     | 0.008716     | 0.020399     |
| y          | 0.003639     | 0.008990     | 0.023837     |
| w          | 0.016448     | 0.019412     | 0.011092     |
| h          | 0.016036     | 0.013379     | 0.010289     |
| conf       | 0.148803     | 0.129175     | 0.079300     |
| cls        | 0.004726     | 0.002823     | 0.002739     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.964286     | 1.000000     |
| recall75   | 0.851852     | 0.892857     | 0.965517     |
| precision  | 0.764706     | 0.490909     | 0.237705     |
| conf_obj   | 0.954562     | 0.959031     | 0.985703     |
| conf_noobj | 0.000448     | 0.000377     | 0.000313     |
+------------+--------------+--------------+--------------+
2020-12-20 18:38:23.061 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.554864
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.187991     | 0.199760     | 0.167113     |
| x          | 0.003385     | 0.006743     | 0.019351     |
| y          | 0.005302     | 0.004667     | 0.016122     |
| w          | 0.007384     | 0.006128     | 0.003985     |
| h          | 0.016932     | 0.016463     | 0.012706     |
| conf       | 0.154704     | 0.165571     | 0.114806     |
| cls        | 0.000283     | 0.000189     | 0.000143     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 0.952381     |
| precision  | 0.750000     | 0.446809     | 0.216495     |
| conf_obj   | 0.959487     | 0.948641     | 0.966351     |
| conf_noobj | 0.000568     | 0.000414     | 0.000315     |
+------------+--------------+--------------+--------------+
2020-12-20 18:38:26.034 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.656
2020-12-20 18:38:26.037 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 18:39:26.308 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07932   | 0.54007 | 0.13833 | 0.31988 |
| 1     | Wear_helmet | 0.71534   | 0.96311 | 0.82094 | 0.94458 |
| 2     | Total       | 0.39733   | 0.75159 | 0.47964 | 0.63223 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:39:26.309 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6322319172629287
2020-12-20 18:39:26.309 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 18:39:26.309 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:01:00.271623

2020-12-20 18:39:26.777 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 2/2, epo 1/5
2020-12-20 18:39:26.777 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 2/2, epo 1/5; time cost: 0:15:05.479527

2020-12-20 18:39:26.778 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 2/2, epo 2/5
2020-12-20 18:39:28.030 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.939115
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.407718     | 0.297185     | 0.234212     |
| x          | 0.004832     | 0.007249     | 0.018639     |
| y          | 0.014708     | 0.008098     | 0.014649     |
| w          | 0.023947     | 0.018467     | 0.006688     |
| h          | 0.015722     | 0.012336     | 0.006477     |
| conf       | 0.325214     | 0.221914     | 0.185787     |
| cls        | 0.023293     | 0.029122     | 0.001973     |
| cls_acc    | 96.88%       | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.937500     | 0.969697     |
| recall75   | 0.843750     | 0.906250     | 0.909091     |
| precision  | 0.777778     | 0.508475     | 0.223776     |
| conf_obj   | 0.888850     | 0.926413     | 0.957986     |
| conf_noobj | 0.000489     | 0.000485     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 18:40:31.918 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.584719
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.239459     | 0.159135     | 0.186125     |
| x          | 0.002938     | 0.008223     | 0.021754     |
| y          | 0.002755     | 0.009352     | 0.023859     |
| w          | 0.015466     | 0.013651     | 0.011436     |
| h          | 0.018966     | 0.017365     | 0.015055     |
| conf       | 0.198640     | 0.109942     | 0.113763     |
| cls        | 0.000694     | 0.000602     | 0.000258     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.952381     | 0.904762     |
| precision  | 0.666667     | 0.446809     | 0.196262     |
| conf_obj   | 0.948918     | 0.973527     | 0.964851     |
| conf_noobj | 0.000621     | 0.000378     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 18:41:36.212 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.604053
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.231594     | 0.181430     | 0.191028     |
| x          | 0.002438     | 0.006635     | 0.026015     |
| y          | 0.003804     | 0.010097     | 0.032807     |
| w          | 0.029937     | 0.023423     | 0.016951     |
| h          | 0.022971     | 0.015400     | 0.015697     |
| conf       | 0.144562     | 0.116992     | 0.094670     |
| cls        | 0.027883     | 0.008883     | 0.004888     |
| cls_acc    | 96.67%       | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.966667     | 0.967742     |
| recall75   | 0.866667     | 0.866667     | 0.806452     |
| precision  | 0.783784     | 0.508772     | 0.272727     |
| conf_obj   | 0.978439     | 0.983353     | 0.981473     |
| conf_noobj | 0.000544     | 0.000453     | 0.000324     |
+------------+--------------+--------------+--------------+
2020-12-20 18:42:42.775 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.333074
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.083828     | 0.107187     | 0.142059     |
| x          | 0.003013     | 0.003115     | 0.009238     |
| y          | 0.009522     | 0.008818     | 0.019559     |
| w          | 0.013544     | 0.014911     | 0.013144     |
| h          | 0.008363     | 0.010530     | 0.013423     |
| conf       | 0.046995     | 0.068965     | 0.086302     |
| cls        | 0.002391     | 0.000848     | 0.000393     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.965517     | 0.965517     |
| precision  | 0.931035     | 0.604167     | 0.284314     |
| conf_obj   | 0.988368     | 0.990167     | 0.983552     |
| conf_noobj | 0.000274     | 0.000320     | 0.000301     |
+------------+--------------+--------------+--------------+
2020-12-20 18:43:44.253 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.777318
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.292545     | 0.240681     | 0.244092     |
| x          | 0.006136     | 0.013366     | 0.030183     |
| y          | 0.009779     | 0.009323     | 0.027071     |
| w          | 0.027334     | 0.015716     | 0.013124     |
| h          | 0.021544     | 0.014512     | 0.011019     |
| conf       | 0.227108     | 0.186777     | 0.161151     |
| cls        | 0.000642     | 0.000986     | 0.001545     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.941176     | 0.971429     |
| recall75   | 0.843750     | 0.823529     | 0.885714     |
| precision  | 0.833333     | 0.524590     | 0.239437     |
| conf_obj   | 0.935914     | 0.951290     | 0.966925     |
| conf_noobj | 0.000600     | 0.000570     | 0.000530     |
+------------+--------------+--------------+--------------+
2020-12-20 18:44:47.264 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.743461
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.218134     | 0.261588     | 0.263739     |
| x          | 0.012498     | 0.009251     | 0.016349     |
| y          | 0.006827     | 0.006946     | 0.020878     |
| w          | 0.044600     | 0.023081     | 0.020892     |
| h          | 0.042654     | 0.015944     | 0.013249     |
| conf       | 0.108013     | 0.203694     | 0.186454     |
| cls        | 0.003542     | 0.002673     | 0.005917     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.972222     | 0.972222     |
| recall75   | 0.828571     | 0.916667     | 0.833333     |
| precision  | 0.871795     | 0.514706     | 0.269231     |
| conf_obj   | 0.954206     | 0.945896     | 0.949645     |
| conf_noobj | 0.000333     | 0.000447     | 0.000346     |
+------------+--------------+--------------+--------------+
2020-12-20 18:45:52.888 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.811868
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.373888     | 0.214070     | 0.223911     |
| x          | 0.007995     | 0.012007     | 0.015573     |
| y          | 0.003470     | 0.008361     | 0.020536     |
| w          | 0.043776     | 0.021055     | 0.013064     |
| h          | 0.061498     | 0.034221     | 0.020228     |
| conf       | 0.204516     | 0.113068     | 0.122739     |
| cls        | 0.052633     | 0.025358     | 0.031770     |
| cls_acc    | 95.83%       | 100.00%      | 96.00%       |
| recall50   | 0.916667     | 1.000000     | 0.960000     |
| recall75   | 0.833333     | 0.800000     | 0.800000     |
| precision  | 0.647059     | 0.431034     | 0.173913     |
| conf_obj   | 0.962253     | 0.983854     | 0.977580     |
| conf_noobj | 0.000689     | 0.000452     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 18:46:57.501 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.726178
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.307979     | 0.248274     | 0.169925     |
| x          | 0.005078     | 0.006297     | 0.018089     |
| y          | 0.005307     | 0.010084     | 0.015216     |
| w          | 0.021971     | 0.015541     | 0.014864     |
| h          | 0.018958     | 0.020385     | 0.017090     |
| conf       | 0.256028     | 0.193868     | 0.103619     |
| cls        | 0.000638     | 0.002099     | 0.001047     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 1.000000     |
| recall75   | 0.875000     | 0.840000     | 0.880000     |
| precision  | 0.793103     | 0.510638     | 0.225225     |
| conf_obj   | 0.914990     | 0.942491     | 0.974352     |
| conf_noobj | 0.000416     | 0.000395     | 0.000322     |
+------------+--------------+--------------+--------------+
2020-12-20 18:47:59.067 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.485210
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.155334     | 0.131526     | 0.198350     |
| x          | 0.010183     | 0.012305     | 0.017600     |
| y          | 0.008125     | 0.012793     | 0.025601     |
| w          | 0.018744     | 0.014997     | 0.012154     |
| h          | 0.012964     | 0.012169     | 0.012840     |
| conf       | 0.102306     | 0.078354     | 0.128501     |
| cls        | 0.003013     | 0.000908     | 0.001655     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.857143     | 0.896552     |
| precision  | 0.812500     | 0.482759     | 0.287129     |
| conf_obj   | 0.960185     | 0.990593     | 0.961640     |
| conf_noobj | 0.000340     | 0.000360     | 0.000306     |
+------------+--------------+--------------+--------------+
2020-12-20 18:49:03.185 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.444270
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.171251     | 0.159220     | 0.113799     |
| x          | 0.007741     | 0.005673     | 0.016578     |
| y          | 0.004862     | 0.010375     | 0.021132     |
| w          | 0.014485     | 0.006977     | 0.004604     |
| h          | 0.010713     | 0.009827     | 0.003647     |
| conf       | 0.129864     | 0.125758     | 0.067683     |
| cls        | 0.003586     | 0.000609     | 0.000154     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.952381     | 1.000000     |
| precision  | 0.750000     | 0.428571     | 0.230769     |
| conf_obj   | 0.973211     | 0.973630     | 0.987294     |
| conf_noobj | 0.000450     | 0.000387     | 0.000232     |
+------------+--------------+--------------+--------------+
2020-12-20 18:50:10.663 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.844705
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.276957     | 0.288187     | 0.279561     |
| x          | 0.011993     | 0.009733     | 0.024720     |
| y          | 0.010974     | 0.019876     | 0.022244     |
| w          | 0.023623     | 0.031592     | 0.029904     |
| h          | 0.019499     | 0.025509     | 0.020779     |
| conf       | 0.172107     | 0.161586     | 0.140749     |
| cls        | 0.038762     | 0.039891     | 0.041165     |
| cls_acc    | 96.88%       | 97.30%       | 97.30%       |
| recall50   | 0.937500     | 0.945946     | 0.972973     |
| recall75   | 0.781250     | 0.648649     | 0.729730     |
| precision  | 0.833333     | 0.573770     | 0.274809     |
| conf_obj   | 0.961827     | 0.946740     | 0.971621     |
| conf_noobj | 0.000367     | 0.000425     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 18:51:10.626 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.543555
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.182970     | 0.161632     | 0.198953     |
| x          | 0.007872     | 0.012052     | 0.033872     |
| y          | 0.009601     | 0.014895     | 0.034443     |
| w          | 0.029176     | 0.019768     | 0.014384     |
| h          | 0.035431     | 0.027819     | 0.020199     |
| conf       | 0.095024     | 0.085587     | 0.095715     |
| cls        | 0.005866     | 0.001511     | 0.000341     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.772727     | 0.826087     | 0.739130     |
| precision  | 0.814815     | 0.511111     | 0.287500     |
| conf_obj   | 0.974452     | 0.980613     | 0.970558     |
| conf_noobj | 0.000390     | 0.000344     | 0.000260     |
+------------+--------------+--------------+--------------+
2020-12-20 18:52:17.465 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.502450
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.164788     | 0.194196     | 0.143466     |
| x          | 0.004669     | 0.015308     | 0.012713     |
| y          | 0.005133     | 0.011755     | 0.014448     |
| w          | 0.025835     | 0.034286     | 0.024558     |
| h          | 0.013460     | 0.024942     | 0.018646     |
| conf       | 0.111963     | 0.103999     | 0.070815     |
| cls        | 0.003729     | 0.003906     | 0.002285     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.838710     | 0.818182     |
| precision  | 0.828571     | 0.500000     | 0.347368     |
| conf_obj   | 0.951684     | 0.968024     | 0.984618     |
| conf_noobj | 0.000318     | 0.000366     | 0.000216     |
+------------+--------------+--------------+--------------+
2020-12-20 18:53:20.089 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.562185
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.213187     | 0.180387     | 0.168611     |
| x          | 0.025642     | 0.010170     | 0.018398     |
| y          | 0.002735     | 0.006993     | 0.016184     |
| w          | 0.018713     | 0.032529     | 0.018250     |
| h          | 0.014840     | 0.031465     | 0.010786     |
| conf       | 0.144688     | 0.097852     | 0.104412     |
| cls        | 0.006569     | 0.001378     | 0.000581     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 0.727273     | 0.863636     |
| precision  | 0.791667     | 0.564103     | 0.255814     |
| conf_obj   | 0.941593     | 0.974793     | 0.979061     |
| conf_noobj | 0.000412     | 0.000307     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 18:53:23.158 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.641
2020-12-20 18:53:23.163 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 18:54:18.903 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15256   | 0.50871 | 0.23473 | 0.35450 |
| 1     | Wear_helmet | 0.79431   | 0.95703 | 0.86811 | 0.94044 |
| 2     | Total       | 0.47343   | 0.73287 | 0.55142 | 0.64747 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:54:18.903 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6474693422417817
2020-12-20 18:54:18.904 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 18:54:18.904 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:55.740500

2020-12-20 18:54:19.401 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 2/2, epo 2/5
2020-12-20 18:54:19.401 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 2/2, epo 2/5; time cost: 0:14:52.622994

2020-12-20 18:54:19.401 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 2/2, epo 3/5
2020-12-20 18:54:20.512 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.851025
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.323625     | 0.270745     | 0.256654     |
| x          | 0.003084     | 0.010917     | 0.024978     |
| y          | 0.003436     | 0.006430     | 0.021704     |
| w          | 0.020247     | 0.025560     | 0.019669     |
| h          | 0.044973     | 0.061027     | 0.055888     |
| conf       | 0.217820     | 0.138867     | 0.132397     |
| cls        | 0.034065     | 0.027943     | 0.002018     |
| cls_acc    | 97.06%       | 97.06%       | 100.00%      |
| recall50   | 0.911765     | 0.970588     | 1.000000     |
| recall75   | 0.911765     | 0.882353     | 0.805556     |
| precision  | 0.815789     | 0.532258     | 0.272727     |
| conf_obj   | 0.918858     | 0.968073     | 0.978117     |
| conf_noobj | 0.000639     | 0.000533     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 18:55:28.630 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.549328
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.209677     | 0.174535     | 0.165117     |
| x          | 0.004360     | 0.009411     | 0.014660     |
| y          | 0.004104     | 0.010292     | 0.019604     |
| w          | 0.016574     | 0.014553     | 0.008585     |
| h          | 0.011114     | 0.007517     | 0.007503     |
| conf       | 0.172190     | 0.130966     | 0.112842     |
| cls        | 0.001335     | 0.001796     | 0.001923     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.880000     | 1.000000     |
| precision  | 0.727273     | 0.454545     | 0.206612     |
| conf_obj   | 0.966923     | 0.976344     | 0.977360     |
| conf_noobj | 0.000637     | 0.000457     | 0.000383     |
+------------+--------------+--------------+--------------+
2020-12-20 18:56:34.443 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.705788
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.270499     | 0.173214     | 0.262075     |
| x          | 0.004388     | 0.010139     | 0.030636     |
| y          | 0.009852     | 0.012383     | 0.036264     |
| w          | 0.024308     | 0.014673     | 0.011863     |
| h          | 0.021381     | 0.016855     | 0.015589     |
| conf       | 0.209099     | 0.116652     | 0.152494     |
| cls        | 0.001471     | 0.002512     | 0.015230     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.935484     | 1.000000     | 0.935484     |
| recall75   | 0.935484     | 1.000000     | 0.806452     |
| precision  | 0.828571     | 0.476923     | 0.228346     |
| conf_obj   | 0.922263     | 0.965720     | 0.951869     |
| conf_noobj | 0.000351     | 0.000342     | 0.000317     |
+------------+--------------+--------------+--------------+
2020-12-20 18:57:36.564 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.367686
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.131596     | 0.110607     | 0.125483     |
| x          | 0.003170     | 0.012756     | 0.017399     |
| y          | 0.004738     | 0.011046     | 0.018824     |
| w          | 0.012810     | 0.006986     | 0.004170     |
| h          | 0.010134     | 0.008042     | 0.006402     |
| conf       | 0.100644     | 0.071735     | 0.078614     |
| cls        | 0.000100     | 0.000042     | 0.000073     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.928571     | 1.000000     |
| precision  | 0.777778     | 0.482759     | 0.205882     |
| conf_obj   | 0.977725     | 0.990663     | 0.987348     |
| conf_noobj | 0.000357     | 0.000298     | 0.000307     |
+------------+--------------+--------------+--------------+
2020-12-20 18:58:36.435 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.451030
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.178671     | 0.145809     | 0.126550     |
| x          | 0.015548     | 0.010654     | 0.016722     |
| y          | 0.007125     | 0.008780     | 0.015158     |
| w          | 0.018448     | 0.015646     | 0.012129     |
| h          | 0.011952     | 0.011601     | 0.015772     |
| conf       | 0.125447     | 0.098976     | 0.066612     |
| cls        | 0.000150     | 0.000151     | 0.000156     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.904762     | 0.909091     |
| precision  | 0.703704     | 0.583333     | 0.241758     |
| conf_obj   | 0.965718     | 0.967890     | 0.989399     |
| conf_noobj | 0.000451     | 0.000275     | 0.000240     |
+------------+--------------+--------------+--------------+
2020-12-20 18:59:39.718 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.370492
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.076966     | 0.151822     | 0.141704     |
| x          | 0.002247     | 0.009002     | 0.022138     |
| y          | 0.004107     | 0.005299     | 0.028458     |
| w          | 0.006700     | 0.009031     | 0.005821     |
| h          | 0.011800     | 0.008541     | 0.010953     |
| conf       | 0.051959     | 0.119830     | 0.074132     |
| cls        | 0.000152     | 0.000118     | 0.000202     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 0.952381     |
| precision  | 0.875000     | 0.606061     | 0.221053     |
| conf_obj   | 0.981412     | 0.958384     | 0.993358     |
| conf_noobj | 0.000162     | 0.000220     | 0.000256     |
+------------+--------------+--------------+--------------+
2020-12-20 19:00:44.822 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.574475
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.188755     | 0.215238     | 0.170482     |
| x          | 0.002088     | 0.005209     | 0.017414     |
| y          | 0.001518     | 0.005394     | 0.024378     |
| w          | 0.018248     | 0.011584     | 0.010473     |
| h          | 0.005851     | 0.006047     | 0.006838     |
| conf       | 0.160728     | 0.186491     | 0.110978     |
| cls        | 0.000323     | 0.000513     | 0.000402     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 0.916667     |
| precision  | 0.785714     | 0.425926     | 0.218182     |
| conf_obj   | 0.956520     | 0.942035     | 0.979811     |
| conf_noobj | 0.000502     | 0.000535     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 19:01:47.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.596415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.252999     | 0.187401     | 0.156015     |
| x          | 0.003905     | 0.009355     | 0.025292     |
| y          | 0.003410     | 0.010253     | 0.025677     |
| w          | 0.010139     | 0.007959     | 0.008658     |
| h          | 0.023181     | 0.023163     | 0.010444     |
| conf       | 0.212146     | 0.135346     | 0.085215     |
| cls        | 0.000218     | 0.001325     | 0.000730     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.958333     | 0.960000     |
| recall75   | 0.913043     | 0.833333     | 0.800000     |
| precision  | 0.733333     | 0.425926     | 0.252632     |
| conf_obj   | 0.938859     | 0.958590     | 0.985643     |
| conf_noobj | 0.000423     | 0.000370     | 0.000270     |
+------------+--------------+--------------+--------------+
2020-12-20 19:02:54.271 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.390518
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.105546     | 0.139628     | 0.145344     |
| x          | 0.002528     | 0.008695     | 0.014074     |
| y          | 0.002546     | 0.006553     | 0.020121     |
| w          | 0.024608     | 0.026734     | 0.018784     |
| h          | 0.025488     | 0.019473     | 0.018961     |
| conf       | 0.030125     | 0.057501     | 0.051104     |
| cls        | 0.020250     | 0.020671     | 0.022300     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.909091     | 0.875000     |
| precision  | 0.916667     | 0.611111     | 0.363636     |
| conf_obj   | 0.992610     | 0.988486     | 0.986522     |
| conf_noobj | 0.000141     | 0.000196     | 0.000142     |
+------------+--------------+--------------+--------------+
2020-12-20 19:03:58.839 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.881835
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.270050     | 0.297286     | 0.314499     |
| x          | 0.013868     | 0.017660     | 0.020953     |
| y          | 0.004648     | 0.009669     | 0.021091     |
| w          | 0.023209     | 0.031215     | 0.029774     |
| h          | 0.026504     | 0.024477     | 0.019999     |
| conf       | 0.149364     | 0.178587     | 0.171176     |
| cls        | 0.052456     | 0.035679     | 0.051506     |
| cls_acc    | 96.55%       | 96.97%       | 97.06%       |
| recall50   | 0.931035     | 0.939394     | 0.941176     |
| recall75   | 0.827586     | 0.818182     | 0.764706     |
| precision  | 0.818182     | 0.553571     | 0.253968     |
| conf_obj   | 0.951564     | 0.943035     | 0.947577     |
| conf_noobj | 0.000491     | 0.000466     | 0.000440     |
+------------+--------------+--------------+--------------+
2020-12-20 19:05:01.679 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.673122
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.286891     | 0.244889     | 0.141342     |
| x          | 0.004520     | 0.004850     | 0.017571     |
| y          | 0.006081     | 0.020581     | 0.045132     |
| w          | 0.018022     | 0.007986     | 0.004019     |
| h          | 0.012207     | 0.006003     | 0.006781     |
| conf       | 0.244993     | 0.204986     | 0.067355     |
| cls        | 0.001068     | 0.000483     | 0.000484     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 1.000000     |
| recall75   | 0.900000     | 0.850000     | 0.950000     |
| precision  | 0.950000     | 0.441860     | 0.298507     |
| conf_obj   | 0.940657     | 0.935407     | 0.981716     |
| conf_noobj | 0.000197     | 0.000314     | 0.000207     |
+------------+--------------+--------------+--------------+
2020-12-20 19:06:03.809 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.752318
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.251048     | 0.215749     | 0.285522     |
| x          | 0.010527     | 0.014343     | 0.014989     |
| y          | 0.003109     | 0.007916     | 0.028147     |
| w          | 0.035290     | 0.020458     | 0.015279     |
| h          | 0.017742     | 0.015111     | 0.010371     |
| conf       | 0.164963     | 0.117153     | 0.129509     |
| cls        | 0.019417     | 0.040767     | 0.087227     |
| cls_acc    | 100.00%      | 96.67%       | 96.67%       |
| recall50   | 0.965517     | 0.933333     | 0.933333     |
| recall75   | 0.931035     | 0.833333     | 0.833333     |
| precision  | 0.700000     | 0.430769     | 0.208955     |
| conf_obj   | 0.968598     | 0.984256     | 0.968735     |
| conf_noobj | 0.000690     | 0.000490     | 0.000383     |
+------------+--------------+--------------+--------------+
2020-12-20 19:07:09.568 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.843121
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.160749     | 0.334783     | 0.347588     |
| x          | 0.004877     | 0.046566     | 0.014735     |
| y          | 0.005657     | 0.014965     | 0.050636     |
| w          | 0.029309     | 0.046687     | 0.039711     |
| h          | 0.017563     | 0.023610     | 0.023189     |
| conf       | 0.099914     | 0.190463     | 0.210879     |
| cls        | 0.003429     | 0.012491     | 0.008437     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.875000     | 0.958333     |
| recall75   | 0.909091     | 0.833333     | 0.833333     |
| precision  | 0.785714     | 0.375000     | 0.211009     |
| conf_obj   | 0.983515     | 0.926007     | 0.939827     |
| conf_noobj | 0.000385     | 0.000411     | 0.000304     |
+------------+--------------+--------------+--------------+
2020-12-20 19:08:12.373 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 1.192683
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.482437     | 0.395599     | 0.314647     |
| x          | 0.006841     | 0.006003     | 0.020954     |
| y          | 0.004124     | 0.005700     | 0.010936     |
| w          | 0.019766     | 0.027057     | 0.022487     |
| h          | 0.015768     | 0.015935     | 0.011345     |
| conf       | 0.434410     | 0.340676     | 0.248296     |
| cls        | 0.001528     | 0.000228     | 0.000628     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.958333     | 0.958333     |
| recall75   | 0.869565     | 0.958333     | 0.958333     |
| precision  | 0.750000     | 0.479167     | 0.242105     |
| conf_obj   | 0.890098     | 0.924626     | 0.921210     |
| conf_noobj | 0.000622     | 0.000473     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 19:08:15.748 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.620
2020-12-20 19:08:15.752 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 19:09:10.454 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16465   | 0.47387 | 0.24438 | 0.33511 |
| 1     | Wear_helmet | 0.76034   | 0.95703 | 0.84743 | 0.94044 |
| 2     | Total       | 0.46250   | 0.71545 | 0.54590 | 0.63778 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:09:10.455 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6377752276637226
2020-12-20 19:09:10.455 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 19:09:10.455 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:54.702625

2020-12-20 19:09:10.965 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 2/2, epo 3/5
2020-12-20 19:09:10.965 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 2/2, epo 3/5; time cost: 0:14:51.563458

2020-12-20 19:09:10.966 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 2/2, epo 4/5
2020-12-20 19:09:12.449 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.591999
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.229041     | 0.154460     | 0.208499     |
| x          | 0.003634     | 0.010911     | 0.029960     |
| y          | 0.004933     | 0.016403     | 0.035137     |
| w          | 0.029907     | 0.020534     | 0.018447     |
| h          | 0.035412     | 0.022630     | 0.020896     |
| conf       | 0.154708     | 0.083764     | 0.103839     |
| cls        | 0.000447     | 0.000219     | 0.000221     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.954545     | 0.909091     |
| precision  | 0.840000     | 0.611111     | 0.222222     |
| conf_obj   | 0.935746     | 0.969482     | 0.970725     |
| conf_noobj | 0.000360     | 0.000241     | 0.000282     |
+------------+--------------+--------------+--------------+
2020-12-20 19:10:19.092 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.683394
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.316448     | 0.175609     | 0.191338     |
| x          | 0.004667     | 0.006771     | 0.013790     |
| y          | 0.004203     | 0.012696     | 0.026052     |
| w          | 0.012999     | 0.018068     | 0.012054     |
| h          | 0.014993     | 0.015874     | 0.016425     |
| conf       | 0.278693     | 0.120932     | 0.122489     |
| cls        | 0.000893     | 0.001268     | 0.000528     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 0.960000     |
| recall75   | 0.833333     | 0.960000     | 0.920000     |
| precision  | 0.846154     | 0.510204     | 0.208696     |
| conf_obj   | 0.911872     | 0.951022     | 0.959066     |
| conf_noobj | 0.000349     | 0.000321     | 0.000337     |
+------------+--------------+--------------+--------------+
2020-12-20 19:11:26.898 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.686738
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.281889     | 0.199026     | 0.205823     |
| x          | 0.005258     | 0.006970     | 0.023205     |
| y          | 0.007453     | 0.008928     | 0.023821     |
| w          | 0.020423     | 0.016240     | 0.011228     |
| h          | 0.013311     | 0.011641     | 0.009464     |
| conf       | 0.186572     | 0.134963     | 0.112621     |
| cls        | 0.048873     | 0.020285     | 0.025484     |
| cls_acc    | 100.00%      | 100.00%      | 97.06%       |
| recall50   | 0.969697     | 1.000000     | 0.970588     |
| recall75   | 0.878788     | 0.848485     | 0.852941     |
| precision  | 0.800000     | 0.464789     | 0.221477     |
| conf_obj   | 0.942988     | 0.974244     | 0.980132     |
| conf_noobj | 0.000483     | 0.000492     | 0.000372     |
+------------+--------------+--------------+--------------+
2020-12-20 19:12:32.269 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.538572
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.184406     | 0.181423     | 0.172743     |
| x          | 0.002072     | 0.008441     | 0.016752     |
| y          | 0.003272     | 0.010046     | 0.020172     |
| w          | 0.015174     | 0.013139     | 0.005158     |
| h          | 0.016153     | 0.014643     | 0.010268     |
| conf       | 0.147550     | 0.134691     | 0.120277     |
| cls        | 0.000184     | 0.000465     | 0.000116     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 1.000000     |
| recall75   | 0.900000     | 0.900000     | 1.000000     |
| precision  | 0.863636     | 0.475000     | 0.235294     |
| conf_obj   | 0.944736     | 0.954522     | 0.961384     |
| conf_noobj | 0.000276     | 0.000368     | 0.000332     |
+------------+--------------+--------------+--------------+
2020-12-20 19:13:38.012 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.391423
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.137300     | 0.130182     | 0.123942     |
| x          | 0.002449     | 0.004904     | 0.009128     |
| y          | 0.005914     | 0.008102     | 0.013687     |
| w          | 0.019166     | 0.030201     | 0.009233     |
| h          | 0.007519     | 0.009391     | 0.005951     |
| conf       | 0.096862     | 0.073192     | 0.078407     |
| cls        | 0.005390     | 0.004392     | 0.007535     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.950000     | 1.000000     |
| precision  | 0.869565     | 0.526316     | 0.215054     |
| conf_obj   | 0.960913     | 0.988737     | 0.986392     |
| conf_noobj | 0.000271     | 0.000241     | 0.000244     |
+------------+--------------+--------------+--------------+
2020-12-20 19:14:38.411 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.594273
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.170390     | 0.264849     | 0.159034     |
| x          | 0.001195     | 0.008285     | 0.013941     |
| y          | 0.004885     | 0.008726     | 0.015191     |
| w          | 0.012306     | 0.008231     | 0.006019     |
| h          | 0.014730     | 0.016713     | 0.009459     |
| conf       | 0.136314     | 0.221428     | 0.112201     |
| cls        | 0.000959     | 0.001465     | 0.002223     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.947368     | 0.900000     | 0.950000     |
| precision  | 0.791667     | 0.527778     | 0.235294     |
| conf_obj   | 0.981619     | 0.934287     | 0.963943     |
| conf_noobj | 0.000418     | 0.000342     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 19:15:38.537 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.893420
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.307402     | 0.298751     | 0.287268     |
| x          | 0.012656     | 0.026494     | 0.025305     |
| y          | 0.004223     | 0.003903     | 0.021193     |
| w          | 0.009738     | 0.013834     | 0.008569     |
| h          | 0.012356     | 0.008911     | 0.010187     |
| conf       | 0.200920     | 0.228655     | 0.183496     |
| cls        | 0.067509     | 0.016954     | 0.038517     |
| cls_acc    | 96.15%       | 100.00%      | 96.43%       |
| recall50   | 0.923077     | 0.964286     | 0.928571     |
| recall75   | 0.846154     | 0.857143     | 0.821429     |
| precision  | 0.800000     | 0.465517     | 0.206349     |
| conf_obj   | 0.930084     | 0.928323     | 0.952795     |
| conf_noobj | 0.000537     | 0.000577     | 0.000517     |
+------------+--------------+--------------+--------------+
2020-12-20 19:16:37.606 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 0.733721
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.230084     | 0.288023     | 0.215614     |
| x          | 0.014406     | 0.041047     | 0.042987     |
| y          | 0.007235     | 0.010702     | 0.026170     |
| w          | 0.019321     | 0.017671     | 0.004565     |
| h          | 0.020132     | 0.014206     | 0.008520     |
| conf       | 0.167269     | 0.202782     | 0.131595     |
| cls        | 0.001722     | 0.001614     | 0.001777     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 1.000000     |
| recall75   | 0.863636     | 0.875000     | 1.000000     |
| precision  | 0.807692     | 0.469388     | 0.212389     |
| conf_obj   | 0.944043     | 0.927614     | 0.966731     |
| conf_noobj | 0.000412     | 0.000429     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 19:17:43.184 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 1.078520
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.322910     | 0.375017     | 0.380593     |
| x          | 0.011735     | 0.021908     | 0.019488     |
| y          | 0.005855     | 0.011632     | 0.020060     |
| w          | 0.038749     | 0.031441     | 0.021453     |
| h          | 0.024156     | 0.017917     | 0.011851     |
| conf       | 0.125212     | 0.139388     | 0.137278     |
| cls        | 0.117203     | 0.152731     | 0.170463     |
| cls_acc    | 96.43%       | 96.67%       | 96.67%       |
| recall50   | 0.964286     | 0.933333     | 0.966667     |
| recall75   | 0.821429     | 0.866667     | 0.900000     |
| precision  | 0.794118     | 0.466667     | 0.201389     |
| conf_obj   | 0.967298     | 0.964167     | 0.964894     |
| conf_noobj | 0.000511     | 0.000435     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 19:18:50.166 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.582963
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.188041     | 0.191196     | 0.203727     |
| x          | 0.003561     | 0.008356     | 0.016000     |
| y          | 0.005133     | 0.017558     | 0.054511     |
| w          | 0.011947     | 0.014432     | 0.008695     |
| h          | 0.015842     | 0.023220     | 0.022227     |
| conf       | 0.150536     | 0.126880     | 0.101393     |
| cls        | 0.001021     | 0.000750     | 0.000901     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.925926     | 0.892857     | 0.857143     |
| precision  | 0.812500     | 0.482759     | 0.241379     |
| conf_obj   | 0.946717     | 0.963171     | 0.977151     |
| conf_noobj | 0.000368     | 0.000398     | 0.000325     |
+------------+--------------+--------------+--------------+
2020-12-20 19:19:54.468 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.607582
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.213486     | 0.173581     | 0.220515     |
| x          | 0.012885     | 0.007060     | 0.012529     |
| y          | 0.003507     | 0.007411     | 0.022019     |
| w          | 0.029821     | 0.032544     | 0.018642     |
| h          | 0.024578     | 0.023274     | 0.018705     |
| conf       | 0.114981     | 0.093518     | 0.147071     |
| cls        | 0.027713     | 0.009774     | 0.001548     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 0.961538     |
| recall75   | 0.869565     | 0.920000     | 0.846154     |
| precision  | 0.785714     | 0.510204     | 0.227273     |
| conf_obj   | 0.966147     | 0.980557     | 0.961512     |
| conf_noobj | 0.000487     | 0.000402     | 0.000428     |
+------------+--------------+--------------+--------------+
2020-12-20 19:20:57.722 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.713255
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.215638     | 0.227854     | 0.269763     |
| x          | 0.006596     | 0.003545     | 0.014042     |
| y          | 0.006847     | 0.007176     | 0.022992     |
| w          | 0.027987     | 0.019606     | 0.008622     |
| h          | 0.028872     | 0.014704     | 0.007212     |
| conf       | 0.144037     | 0.181114     | 0.214602     |
| cls        | 0.001300     | 0.001709     | 0.002294     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.913043     | 0.956522     |
| recall75   | 0.900000     | 0.913043     | 0.956522     |
| precision  | 0.791667     | 0.477273     | 0.203704     |
| conf_obj   | 0.955170     | 0.927638     | 0.939946     |
| conf_noobj | 0.000436     | 0.000273     | 0.000333     |
+------------+--------------+--------------+--------------+
2020-12-20 19:22:04.782 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.697740
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.311528     | 0.184977     | 0.201235     |
| x          | 0.041399     | 0.016135     | 0.032322     |
| y          | 0.006313     | 0.015136     | 0.035179     |
| w          | 0.010992     | 0.008811     | 0.005798     |
| h          | 0.023888     | 0.010995     | 0.010884     |
| conf       | 0.219293     | 0.133113     | 0.116338     |
| cls        | 0.009643     | 0.000787     | 0.000715     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.863636     | 0.869565     | 0.913043     |
| precision  | 0.656250     | 0.410714     | 0.200000     |
| conf_obj   | 0.937056     | 0.973634     | 0.973122     |
| conf_noobj | 0.000685     | 0.000519     | 0.000366     |
+------------+--------------+--------------+--------------+
2020-12-20 19:23:12.829 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.567524
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.231496     | 0.190255     | 0.145773     |
| x          | 0.004222     | 0.005553     | 0.012907     |
| y          | 0.003258     | 0.007932     | 0.022188     |
| w          | 0.013872     | 0.016123     | 0.009929     |
| h          | 0.011179     | 0.010742     | 0.007220     |
| conf       | 0.195209     | 0.147375     | 0.091150     |
| cls        | 0.003756     | 0.002531     | 0.002379     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.961538     | 1.000000     |
| recall75   | 0.846154     | 0.961538     | 0.961538     |
| precision  | 0.827586     | 0.568182     | 0.285714     |
| conf_obj   | 0.922399     | 0.943683     | 0.974529     |
| conf_noobj | 0.000411     | 0.000279     | 0.000268     |
+------------+--------------+--------------+--------------+
2020-12-20 19:23:16.239 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.655
2020-12-20 19:23:16.243 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 19:24:12.490 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15884   | 0.49477 | 0.24047 | 0.36355 |
| 1     | Wear_helmet | 0.72602   | 0.95920 | 0.82648 | 0.94476 |
| 2     | Total       | 0.44243   | 0.72699 | 0.53348 | 0.65415 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:24:12.491 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6541538743352974
2020-12-20 19:24:12.491 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 19:24:12.491 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:56.248576

2020-12-20 19:24:12.955 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 2/2, epo 4/5
2020-12-20 19:24:12.956 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 2/2, epo 4/5; time cost: 0:15:01.989653

2020-12-20 19:24:12.956 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 2/2, epo 5/5
2020-12-20 19:24:14.329 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5228 (0%)]	loss: 0.563951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.189723     | 0.169798     | 0.204430     |
| x          | 0.010885     | 0.023311     | 0.028828     |
| y          | 0.012126     | 0.022662     | 0.038802     |
| w          | 0.005244     | 0.017065     | 0.011285     |
| h          | 0.007092     | 0.003865     | 0.006187     |
| conf       | 0.153595     | 0.095942     | 0.080521     |
| cls        | 0.000779     | 0.006952     | 0.038807     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.923077     | 0.923077     |
| precision  | 0.684211     | 0.406250     | 0.175676     |
| conf_obj   | 0.951498     | 0.975086     | 0.983085     |
| conf_noobj | 0.000448     | 0.000350     | 0.000260     |
+------------+--------------+--------------+--------------+
2020-12-20 19:25:26.294 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5228 (8%)]	loss: 0.329447
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.089353     | 0.116411     | 0.123683     |
| x          | 0.003130     | 0.006876     | 0.020686     |
| y          | 0.002629     | 0.007032     | 0.016900     |
| w          | 0.014436     | 0.007479     | 0.004672     |
| h          | 0.013057     | 0.011400     | 0.011476     |
| conf       | 0.055588     | 0.083106     | 0.069483     |
| cls        | 0.000512     | 0.000519     | 0.000465     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.923077     |
| precision  | 0.892857     | 0.509804     | 0.273684     |
| conf_obj   | 0.986114     | 0.985441     | 0.993946     |
| conf_noobj | 0.000223     | 0.000301     | 0.000255     |
+------------+--------------+--------------+--------------+
2020-12-20 19:26:26.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5228 (15%)]	loss: 0.487948
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.224584     | 0.146662     | 0.116702     |
| x          | 0.003343     | 0.003896     | 0.018277     |
| y          | 0.000800     | 0.007646     | 0.005966     |
| w          | 0.019343     | 0.008374     | 0.008011     |
| h          | 0.026203     | 0.015216     | 0.012364     |
| conf       | 0.174612     | 0.111163     | 0.071755     |
| cls        | 0.000284     | 0.000367     | 0.000328     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.772727     | 0.459459     | 0.265625     |
| conf_obj   | 0.931617     | 0.965235     | 0.980575     |
| conf_noobj | 0.000408     | 0.000363     | 0.000209     |
+------------+--------------+--------------+--------------+
2020-12-20 19:27:32.198 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5228 (23%)]	loss: 0.618444
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.274668     | 0.156736     | 0.187040     |
| x          | 0.003073     | 0.004302     | 0.010633     |
| y          | 0.002436     | 0.007545     | 0.015874     |
| w          | 0.021021     | 0.022769     | 0.014264     |
| h          | 0.009221     | 0.008590     | 0.008583     |
| conf       | 0.237875     | 0.112757     | 0.137140     |
| cls        | 0.001043     | 0.000772     | 0.000547     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 0.962963     |
| recall75   | 0.925926     | 0.962963     | 0.962963     |
| precision  | 0.702703     | 0.551020     | 0.236364     |
| conf_obj   | 0.943208     | 0.982875     | 0.966802     |
| conf_noobj | 0.000688     | 0.000455     | 0.000388     |
+------------+--------------+--------------+--------------+
2020-12-20 19:28:39.506 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5228 (31%)]	loss: 0.659316
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.203672     | 0.276272     | 0.179372     |
| x          | 0.004274     | 0.015005     | 0.012026     |
| y          | 0.006957     | 0.015166     | 0.024746     |
| w          | 0.009243     | 0.013090     | 0.012086     |
| h          | 0.015555     | 0.016565     | 0.011332     |
| conf       | 0.167377     | 0.216335     | 0.119111     |
| cls        | 0.000265     | 0.000111     | 0.000071     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.944444     |
| precision  | 0.739130     | 0.459459     | 0.185567     |
| conf_obj   | 0.935444     | 0.932207     | 0.957868     |
| conf_noobj | 0.000333     | 0.000292     | 0.000270     |
+------------+--------------+--------------+--------------+
2020-12-20 19:29:46.262 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5228 (38%)]	loss: 0.616257
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.200027     | 0.217893     | 0.198337     |
| x          | 0.001475     | 0.005263     | 0.015293     |
| y          | 0.005610     | 0.009546     | 0.025856     |
| w          | 0.021334     | 0.011320     | 0.006878     |
| h          | 0.027429     | 0.026200     | 0.020017     |
| conf       | 0.144111     | 0.165377     | 0.129963     |
| cls        | 0.000068     | 0.000188     | 0.000331     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.965517     | 0.965517     |
| recall75   | 0.965517     | 0.896552     | 0.931035     |
| precision  | 0.783784     | 0.424242     | 0.247788     |
| conf_obj   | 0.967354     | 0.952597     | 0.954284     |
| conf_noobj | 0.000503     | 0.000442     | 0.000288     |
+------------+--------------+--------------+--------------+
2020-12-20 19:30:47.452 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5228 (46%)]	loss: 0.504566
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.130849     | 0.165770     | 0.207948     |
| x          | 0.003781     | 0.008691     | 0.023917     |
| y          | 0.006091     | 0.009862     | 0.045848     |
| w          | 0.013172     | 0.011093     | 0.008752     |
| h          | 0.020559     | 0.021330     | 0.016358     |
| conf       | 0.075433     | 0.111602     | 0.108275     |
| cls        | 0.011813     | 0.003192     | 0.004796     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.916667     | 0.875000     |
| precision  | 0.920000     | 0.470588     | 0.235294     |
| conf_obj   | 0.970739     | 0.973845     | 0.981059     |
| conf_noobj | 0.000253     | 0.000455     | 0.000410     |
+------------+--------------+--------------+--------------+
2020-12-20 19:31:55.807 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5228 (54%)]	loss: 1.575067
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.551370     | 0.559857     | 0.463840     |
| x          | 0.018170     | 0.011793     | 0.026223     |
| y          | 0.004200     | 0.008274     | 0.029877     |
| w          | 0.047944     | 0.011160     | 0.020984     |
| h          | 0.040588     | 0.010564     | 0.018410     |
| conf       | 0.437510     | 0.514025     | 0.365591     |
| cls        | 0.002958     | 0.004041     | 0.002755     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.916667     | 0.962963     |
| recall75   | 0.761905     | 0.791667     | 0.740741     |
| precision  | 0.800000     | 0.468085     | 0.317073     |
| conf_obj   | 0.903817     | 0.903770     | 0.926361     |
| conf_noobj | 0.000327     | 0.000312     | 0.000216     |
+------------+--------------+--------------+--------------+
2020-12-20 19:33:00.586 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5228 (61%)]	loss: 0.535123
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.161650     | 0.175720     | 0.197753     |
| x          | 0.004288     | 0.014930     | 0.016315     |
| y          | 0.002879     | 0.011902     | 0.021258     |
| w          | 0.013429     | 0.032071     | 0.038232     |
| h          | 0.009997     | 0.021175     | 0.019258     |
| conf       | 0.127835     | 0.094722     | 0.099364     |
| cls        | 0.003222     | 0.000920     | 0.003325     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.809524     | 0.904762     |
| precision  | 0.689655     | 0.477273     | 0.259259     |
| conf_obj   | 0.971016     | 0.980005     | 0.966894     |
| conf_noobj | 0.000468     | 0.000297     | 0.000247     |
+------------+--------------+--------------+--------------+
2020-12-20 19:34:06.143 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5228 (69%)]	loss: 0.527539
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.210773     | 0.148773     | 0.167993     |
| x          | 0.007226     | 0.019980     | 0.017455     |
| y          | 0.001779     | 0.005149     | 0.013080     |
| w          | 0.010245     | 0.012434     | 0.006752     |
| h          | 0.016472     | 0.022622     | 0.009900     |
| conf       | 0.154810     | 0.079471     | 0.116392     |
| cls        | 0.020241     | 0.009117     | 0.004413     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.880000     | 0.961538     |
| precision  | 0.851852     | 0.609756     | 0.211382     |
| conf_obj   | 0.921776     | 0.975293     | 0.960957     |
| conf_noobj | 0.000284     | 0.000299     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 19:35:08.299 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5228 (76%)]	loss: 0.387477
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.132342     | 0.109786     | 0.145348     |
| x          | 0.002830     | 0.012506     | 0.014545     |
| y          | 0.004832     | 0.003928     | 0.007549     |
| w          | 0.014244     | 0.008334     | 0.006331     |
| h          | 0.012907     | 0.012368     | 0.007217     |
| conf       | 0.083460     | 0.071783     | 0.104708     |
| cls        | 0.014070     | 0.000868     | 0.004997     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.931035     | 0.966667     | 0.967742     |
| precision  | 0.906250     | 0.612245     | 0.271930     |
| conf_obj   | 0.968022     | 0.987267     | 0.984524     |
| conf_noobj | 0.000292     | 0.000300     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 19:36:16.102 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5228 (84%)]	loss: 0.506080
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.207040     | 0.166208     | 0.132832     |
| x          | 0.002914     | 0.005747     | 0.026600     |
| y          | 0.004147     | 0.004673     | 0.012764     |
| w          | 0.007000     | 0.004897     | 0.003047     |
| h          | 0.008065     | 0.006853     | 0.005256     |
| conf       | 0.184844     | 0.143694     | 0.084935     |
| cls        | 0.000069     | 0.000343     | 0.000231     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 1.000000     |
| recall75   | 0.950000     | 0.950000     | 1.000000     |
| precision  | 0.760000     | 0.513514     | 0.250000     |
| conf_obj   | 0.947148     | 0.942965     | 0.975558     |
| conf_noobj | 0.000365     | 0.000261     | 0.000223     |
+------------+--------------+--------------+--------------+
2020-12-20 19:37:19.614 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5228 (92%)]	loss: 0.454532
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.134185     | 0.149995     | 0.170353     |
| x          | 0.002299     | 0.011644     | 0.018599     |
| y          | 0.005410     | 0.009729     | 0.029623     |
| w          | 0.016943     | 0.015308     | 0.006263     |
| h          | 0.011659     | 0.011838     | 0.010093     |
| conf       | 0.097506     | 0.101330     | 0.105408     |
| cls        | 0.000368     | 0.000146     | 0.000366     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.962963     | 0.925926     | 0.925926     |
| precision  | 0.818182     | 0.500000     | 0.243243     |
| conf_obj   | 0.984730     | 0.992268     | 0.982352     |
| conf_noobj | 0.000453     | 0.000474     | 0.000374     |
+------------+--------------+--------------+--------------+
2020-12-20 19:38:22.825 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5228 (99%)]	loss: 0.403555
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.122035     | 0.127030     | 0.154491     |
| x          | 0.003360     | 0.012047     | 0.027186     |
| y          | 0.002692     | 0.012952     | 0.046685     |
| w          | 0.009392     | 0.008897     | 0.003729     |
| h          | 0.017099     | 0.011869     | 0.011816     |
| conf       | 0.089419     | 0.081059     | 0.064706     |
| cls        | 0.000074     | 0.000206     | 0.000369     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.933333     | 0.933333     |
| precision  | 0.681818     | 0.333333     | 0.197368     |
| conf_obj   | 0.984230     | 0.990216     | 0.992240     |
| conf_noobj | 0.000440     | 0.000351     | 0.000236     |
+------------+--------------+--------------+--------------+
2020-12-20 19:38:26.471 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.616
2020-12-20 19:38:26.474 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 2
2020-12-20 19:39:19.933 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09961   | 0.53310 | 0.16786 | 0.32839 |
| 1     | Wear_helmet | 0.74695   | 0.95703 | 0.83904 | 0.93557 |
| 2     | Total       | 0.42328   | 0.74507 | 0.50345 | 0.63198 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:39:19.934 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.631983156860043
2020-12-20 19:39:19.935 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 2
2020-12-20 19:39:19.935 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 2; time cost: 0:00:53.460449

2020-12-20 19:39:20.422 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 2/2, epo 5/5
2020-12-20 19:39:20.423 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 2/2, epo 5/5; time cost: 0:15:07.466059

2020-12-20 19:39:20.423 | INFO     | service.federated.client_service:train:158 - user id   2, average loss 0.638
2020-12-20 19:39:20.697 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 19:43:20.857 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15339   | 0.63123 | 0.24680 | 0.46024 |
| 1     | Wear_helmet | 0.66700   | 0.90243 | 0.76706 | 0.86804 |
| 2     | Total       | 0.41020   | 0.76683 | 0.50693 | 0.66414 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:43:20.858 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6641371751443643
2020-12-20 19:43:20.858 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 19:43:20.858 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:00.161140

2020-12-20 19:44:47.833 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 2
2020-12-20 19:48:48.600 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.19040   | 0.62528 | 0.29191 | 0.48738 |
| 1     | Wear_helmet | 0.60727   | 0.93243 | 0.73551 | 0.89598 |
| 2     | Total       | 0.39883   | 0.77886 | 0.51371 | 0.69168 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:48:48.601 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6916823156431635
2020-12-20 19:48:48.602 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 2
2020-12-20 19:48:48.602 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 2; time cost: 0:04:00.769034

2020-12-20 19:48:54.722 | INFO     | utils.tool_utils:timer:35 - Start executing step: detect for user id 2
2020-12-20 19:53:30.312 | INFO     | utils.tool_utils:timer:35 - Start executing step: writing to ./log/D_finals_contest_helmet_federal_conf_M_yolov3_SE_20_CE_5_ID_2.json
2020-12-20 19:53:30.618 | INFO     | utils.tool_utils:timer:39 - Finished executing step: writing to ./log/D_finals_contest_helmet_federal_conf_M_yolov3_SE_20_CE_5_ID_2.json
2020-12-20 19:53:30.619 | INFO     | utils.tool_utils:timer:48 - Step name: writing to ./log/D_finals_contest_helmet_federal_conf_M_yolov3_SE_20_CE_5_ID_2.json; time cost: 0:00:00.306548

2020-12-20 19:53:30.619 | INFO     | utils.tool_utils:timer:39 - Finished executing step: detect for user id 2
2020-12-20 19:53:30.619 | INFO     | utils.tool_utils:timer:48 - Step name: detect for user id 2; time cost: 0:04:35.896790

