2020-12-19 16:42:05.854 | INFO     | utils.data_utils:get_data:214 - client id: 1, federated train size: 5274, federated valid size: 741, federated test size: 3010
2020-12-19 16:42:37.488 | INFO     | utils.data_utils:get_data:214 - client id: 1, federated train size: 5274, federated valid size: 741, federated test size: 3010
2020-12-19 16:42:37.495 | INFO     | __main__:__init__:18 - initialize project
2020-12-19 16:42:37.495 | INFO     | __main__:__init__:21 - Host: 127.0.0.1
2020-12-19 16:42:37.495 | INFO     | __main__:__init__:22 - Port: 5001
2020-12-19 16:42:37.495 | INFO     | __main__:run:25 - start project
2020-12-19 16:44:49.006 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 1!
2020-12-19 16:44:52.007 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 1/2, epo 1/5
2020-12-19 16:44:54.508 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 226.691589
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 86.925041    | 71.018707    | 68.747833    |
| x          | 0.097774     | 0.094896     | 0.089484     |
| y          | 0.153578     | 0.109634     | 0.083275     |
| w          | 3.288764     | 1.099243     | 0.417523     |
| h          | 2.515019     | 1.488868     | 0.509303     |
| conf       | 80.104485    | 67.549149    | 66.935127    |
| cls        | 0.765420     | 0.676921     | 0.713118     |
| cls_acc    | 50.00%       | 66.67%       | 56.00%       |
| recall50   | 0.000000     | 0.041667     | 0.160000     |
| recall75   | 0.000000     | 0.000000     | 0.000000     |
| precision  | 0.000000     | 0.000045     | 0.000052     |
| conf_obj   | 0.571602     | 0.491266     | 0.512014     |
| conf_noobj | 0.536224     | 0.482535     | 0.480491     |
+------------+--------------+--------------+--------------+
2020-12-19 16:45:57.850 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 22.135639
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 5.874393     | 6.034117     | 10.227128    |
| x          | 0.107147     | 0.046655     | 0.093992     |
| y          | 0.078489     | 0.079912     | 0.098126     |
| w          | 0.326259     | 0.340790     | 0.201598     |
| h          | 0.321660     | 0.392781     | 0.283377     |
| conf       | 4.566403     | 4.685682     | 9.196424     |
| cls        | 0.474433     | 0.488296     | 0.353610     |
| cls_acc    | 85.71%       | 79.17%       | 76.00%       |
| recall50   | 0.000000     | 0.000000     | 0.080000     |
| recall75   | 0.000000     | 0.000000     | 0.000000     |
| precision  | 0.000000     | 0.000000     | 0.050000     |
| conf_obj   | 0.019097     | 0.109649     | 0.252584     |
| conf_noobj | 0.006034     | 0.022588     | 0.071464     |
+------------+--------------+--------------+--------------+
2020-12-19 16:46:52.157 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 11.500360
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 4.849066     | 2.678392     | 3.972902     |
| x          | 0.099089     | 0.061847     | 0.078401     |
| y          | 0.110658     | 0.104390     | 0.056943     |
| w          | 0.222439     | 0.125281     | 0.042033     |
| h          | 0.195438     | 0.103976     | 0.049594     |
| conf       | 4.106948     | 2.084863     | 3.652822     |
| cls        | 0.114494     | 0.198035     | 0.093109     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.000000     | 0.687500     | 0.470588     |
| recall75   | 0.000000     | 0.125000     | 0.411765     |
| precision  | 0.000000     | 0.120879     | 0.037383     |
| conf_obj   | 0.045056     | 0.559802     | 0.495123     |
| conf_noobj | 0.009605     | 0.011668     | 0.026382     |
+------------+--------------+--------------+--------------+
2020-12-19 16:47:51.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 9.967117
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 4.063079     | 2.442237     | 3.461801     |
| x          | 0.073064     | 0.058674     | 0.072888     |
| y          | 0.102929     | 0.069308     | 0.082764     |
| w          | 0.225877     | 0.157647     | 0.072740     |
| h          | 0.180521     | 0.101298     | 0.089858     |
| conf       | 3.119401     | 1.731811     | 2.777113     |
| cls        | 0.361286     | 0.323501     | 0.366436     |
| cls_acc    | 88.89%       | 89.66%       | 86.67%       |
| recall50   | 0.000000     | 0.517241     | 0.400000     |
| recall75   | 0.000000     | 0.034483     | 0.066667     |
| precision  | 0.000000     | 0.157895     | 0.049180     |
| conf_obj   | 0.103097     | 0.557813     | 0.447390     |
| conf_noobj | 0.005917     | 0.008647     | 0.015627     |
+------------+--------------+--------------+--------------+
2020-12-19 16:48:45.258 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 9.697050
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 3.750504     | 2.756979     | 3.189566     |
| x          | 0.085016     | 0.085946     | 0.077238     |
| y          | 0.049053     | 0.057374     | 0.078288     |
| w          | 0.360616     | 0.132159     | 0.124435     |
| h          | 0.368106     | 0.107935     | 0.094109     |
| conf       | 2.188570     | 1.928391     | 2.209552     |
| cls        | 0.699143     | 0.445173     | 0.605946     |
| cls_acc    | 66.67%       | 71.43%       | 64.29%       |
| recall50   | 0.259259     | 0.357143     | 0.357143     |
| recall75   | 0.000000     | 0.071429     | 0.142857     |
| precision  | 0.140000     | 0.102041     | 0.032362     |
| conf_obj   | 0.425100     | 0.510746     | 0.540172     |
| conf_noobj | 0.007392     | 0.006701     | 0.011494     |
+------------+--------------+--------------+--------------+
2020-12-19 16:49:46.719 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 6.275082
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 2.109099     | 2.078679     | 2.087303     |
| x          | 0.070684     | 0.045322     | 0.047633     |
| y          | 0.035744     | 0.036178     | 0.055332     |
| w          | 0.222975     | 0.237562     | 0.135183     |
| h          | 0.224209     | 0.262086     | 0.161390     |
| conf       | 1.397947     | 1.281994     | 1.556001     |
| cls        | 0.157540     | 0.215538     | 0.131765     |
| cls_acc    | 92.86%       | 89.29%       | 89.29%       |
| recall50   | 0.714286     | 0.821429     | 0.821429     |
| recall75   | 0.214286     | 0.321429     | 0.428571     |
| precision  | 0.500000     | 0.185484     | 0.054632     |
| conf_obj   | 0.644514     | 0.734077     | 0.738276     |
| conf_noobj | 0.004439     | 0.006576     | 0.010159     |
+------------+--------------+--------------+--------------+
2020-12-19 16:50:43.902 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 7.362335
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 2.735948     | 2.333153     | 2.293234     |
| x          | 0.068263     | 0.038978     | 0.064641     |
| y          | 0.041972     | 0.038930     | 0.068231     |
| w          | 0.346184     | 0.210975     | 0.121325     |
| h          | 0.312534     | 0.251989     | 0.136401     |
| conf       | 1.563160     | 1.457702     | 1.735278     |
| cls        | 0.403835     | 0.334579     | 0.167359     |
| cls_acc    | 73.91%       | 72.00%       | 100.00%      |
| recall50   | 0.478261     | 0.520000     | 0.640000     |
| recall75   | 0.043478     | 0.200000     | 0.320000     |
| precision  | 0.200000     | 0.086667     | 0.032587     |
| conf_obj   | 0.616940     | 0.691627     | 0.700484     |
| conf_noobj | 0.005880     | 0.005625     | 0.008158     |
+------------+--------------+--------------+--------------+
2020-12-19 16:51:39.402 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 6.407825
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 2.822076     | 1.659892     | 1.925857     |
| x          | 0.041496     | 0.023494     | 0.036209     |
| y          | 0.031401     | 0.043844     | 0.089527     |
| w          | 0.387853     | 0.081028     | 0.057823     |
| h          | 0.577489     | 0.101691     | 0.084313     |
| conf       | 1.631363     | 1.295667     | 1.560845     |
| cls        | 0.152474     | 0.114167     | 0.097141     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.400000     | 0.750000     | 0.700000     |
| recall75   | 0.050000     | 0.300000     | 0.250000     |
| precision  | 0.285714     | 0.267857     | 0.053640     |
| conf_obj   | 0.589576     | 0.676824     | 0.674955     |
| conf_noobj | 0.004312     | 0.004609     | 0.006739     |
+------------+--------------+--------------+--------------+
2020-12-19 16:52:31.982 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 6.996802
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 2.639819     | 2.241914     | 2.115069     |
| x          | 0.059184     | 0.037782     | 0.050368     |
| y          | 0.045231     | 0.042406     | 0.072851     |
| w          | 0.183209     | 0.142249     | 0.094310     |
| h          | 0.128607     | 0.130103     | 0.135010     |
| conf       | 2.065642     | 1.786878     | 1.534408     |
| cls        | 0.157946     | 0.102497     | 0.228123     |
| cls_acc    | 100.00%      | 100.00%      | 88.24%       |
| recall50   | 0.437500     | 0.437500     | 0.529412     |
| recall75   | 0.062500     | 0.250000     | 0.235294     |
| precision  | 0.318182     | 0.111111     | 0.035857     |
| conf_obj   | 0.457293     | 0.492598     | 0.619339     |
| conf_noobj | 0.003614     | 0.005166     | 0.006502     |
+------------+--------------+--------------+--------------+
2020-12-19 16:53:26.678 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 5.501210
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 2.157237     | 1.716789     | 1.627184     |
| x          | 0.051359     | 0.028121     | 0.043036     |
| y          | 0.032105     | 0.038127     | 0.052479     |
| w          | 0.156678     | 0.038384     | 0.032164     |
| h          | 0.181696     | 0.056906     | 0.036712     |
| conf       | 1.595407     | 1.405680     | 1.316716     |
| cls        | 0.139992     | 0.149570     | 0.146077     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.615385     | 0.615385     | 0.692308     |
| recall75   | 0.153846     | 0.423077     | 0.538462     |
| precision  | 0.571429     | 0.146789     | 0.049724     |
| conf_obj   | 0.611238     | 0.631597     | 0.686537     |
| conf_noobj | 0.003475     | 0.003982     | 0.005384     |
+------------+--------------+--------------+--------------+
2020-12-19 16:54:24.808 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 5.955477
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 2.081077     | 1.913092     | 1.961308     |
| x          | 0.047527     | 0.058110     | 0.064051     |
| y          | 0.019637     | 0.089385     | 0.118630     |
| w          | 0.120109     | 0.055501     | 0.141883     |
| h          | 0.124826     | 0.062915     | 0.100423     |
| conf       | 1.525783     | 1.486190     | 1.443345     |
| cls        | 0.243195     | 0.160991     | 0.092976     |
| cls_acc    | 85.71%       | 100.00%      | 100.00%      |
| recall50   | 0.642857     | 0.600000     | 0.600000     |
| recall75   | 0.000000     | 0.400000     | 0.400000     |
| precision  | 0.409091     | 0.108434     | 0.024194     |
| conf_obj   | 0.541181     | 0.548894     | 0.631112     |
| conf_noobj | 0.003517     | 0.004031     | 0.005431     |
+------------+--------------+--------------+--------------+
2020-12-19 16:55:20.963 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 3.641158
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.570551     | 1.053701     | 1.016906     |
| x          | 0.050524     | 0.037459     | 0.047300     |
| y          | 0.016438     | 0.021312     | 0.056016     |
| w          | 0.282055     | 0.143327     | 0.049305     |
| h          | 0.249575     | 0.146520     | 0.060470     |
| conf       | 0.753871     | 0.641655     | 0.726872     |
| cls        | 0.218088     | 0.063429     | 0.076943     |
| cls_acc    | 91.30%       | 100.00%      | 100.00%      |
| recall50   | 0.695652     | 0.807692     | 0.896552     |
| recall75   | 0.043478     | 0.423077     | 0.413793     |
| precision  | 0.470588     | 0.244186     | 0.104000     |
| conf_obj   | 0.751673     | 0.839326     | 0.850250     |
| conf_noobj | 0.002937     | 0.003522     | 0.004406     |
+------------+--------------+--------------+--------------+
2020-12-19 16:56:18.568 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 3.729212
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.211727     | 1.400507     | 1.116978     |
| x          | 0.048003     | 0.025216     | 0.037352     |
| y          | 0.027018     | 0.021150     | 0.046217     |
| w          | 0.073855     | 0.111393     | 0.039866     |
| h          | 0.084000     | 0.098854     | 0.037130     |
| conf       | 0.915686     | 1.099861     | 0.913617     |
| cls        | 0.063165     | 0.044034     | 0.042796     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.750000     | 0.950000     |
| recall75   | 0.400000     | 0.550000     | 0.650000     |
| precision  | 0.425000     | 0.157895     | 0.055072     |
| conf_obj   | 0.833527     | 0.765690     | 0.872514     |
| conf_noobj | 0.003393     | 0.003816     | 0.004555     |
+------------+--------------+--------------+--------------+
2020-12-19 16:57:15.477 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 5.369139
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 2.128513     | 1.666782     | 1.573844     |
| x          | 0.041629     | 0.029627     | 0.047192     |
| y          | 0.022159     | 0.027554     | 0.060811     |
| w          | 0.170088     | 0.120564     | 0.037284     |
| h          | 0.144954     | 0.107188     | 0.049292     |
| conf       | 1.517257     | 1.211512     | 1.198998     |
| cls        | 0.232425     | 0.170337     | 0.180268     |
| cls_acc    | 90.00%       | 96.67%       | 96.67%       |
| recall50   | 0.633333     | 0.666667     | 0.733333     |
| recall75   | 0.400000     | 0.433333     | 0.566667     |
| precision  | 0.441860     | 0.141844     | 0.051282     |
| conf_obj   | 0.643269     | 0.680341     | 0.748444     |
| conf_noobj | 0.003132     | 0.003217     | 0.003893     |
+------------+--------------+--------------+--------------+
2020-12-19 16:57:27.057 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 12.697
2020-12-19 16:57:27.060 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 16:58:22.809 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.00412   | 0.03731 | 0.00742 | 0.00163 |
| 1     | Wear_helmet | 0.06080   | 0.90237 | 0.11392 | 0.66453 |
| 2     | Total       | 0.03246   | 0.46984 | 0.06067 | 0.33308 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 16:58:22.809 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.33308135778715825
2020-12-19 16:58:22.810 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 16:58:22.810 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.750138

2020-12-19 16:58:24.306 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 1/2, epo 1/5
2020-12-19 16:58:24.306 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 1/2, epo 1/5; time cost: 0:13:32.298271

2020-12-19 16:58:24.306 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 1/2, epo 2/5
2020-12-19 16:58:25.422 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 7.588466
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 2.710788     | 2.447782     | 2.429897     |
| x          | 0.065497     | 0.076714     | 0.066952     |
| y          | 0.036329     | 0.031099     | 0.067958     |
| w          | 0.047089     | 0.101854     | 0.027920     |
| h          | 0.046310     | 0.068247     | 0.039963     |
| conf       | 2.141109     | 1.799573     | 1.778664     |
| cls        | 0.374454     | 0.370294     | 0.448441     |
| cls_acc    | 88.00%       | 89.29%       | 90.00%       |
| recall50   | 0.440000     | 0.500000     | 0.566667     |
| recall75   | 0.200000     | 0.321429     | 0.433333     |
| precision  | 0.392857     | 0.175000     | 0.082524     |
| conf_obj   | 0.572486     | 0.578536     | 0.582351     |
| conf_noobj | 0.002564     | 0.003110     | 0.003276     |
+------------+--------------+--------------+--------------+
2020-12-19 16:59:28.062 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 3.931244
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.470706     | 1.232540     | 1.227998     |
| x          | 0.037297     | 0.034004     | 0.046068     |
| y          | 0.044109     | 0.017667     | 0.043744     |
| w          | 0.123523     | 0.061949     | 0.027962     |
| h          | 0.121196     | 0.050487     | 0.049218     |
| conf       | 1.110206     | 0.993454     | 1.020933     |
| cls        | 0.034374     | 0.074980     | 0.040073     |
| cls_acc    | 100.00%      | 96.30%       | 100.00%      |
| recall50   | 0.703704     | 0.777778     | 0.785714     |
| recall75   | 0.185185     | 0.481481     | 0.535714     |
| precision  | 0.527778     | 0.200000     | 0.056410     |
| conf_obj   | 0.738660     | 0.754242     | 0.761708     |
| conf_noobj | 0.002342     | 0.003184     | 0.003826     |
+------------+--------------+--------------+--------------+
2020-12-19 17:00:31.813 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 5.392715
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.865088     | 2.024517     | 1.503110     |
| x          | 0.040755     | 0.045700     | 0.033166     |
| y          | 0.041517     | 0.031618     | 0.068744     |
| w          | 0.150329     | 0.093915     | 0.034557     |
| h          | 0.110068     | 0.089269     | 0.048906     |
| conf       | 1.101907     | 1.199553     | 1.035596     |
| cls        | 0.420512     | 0.564461     | 0.282142     |
| cls_acc    | 86.36%       | 79.17%       | 83.33%       |
| recall50   | 0.636364     | 0.625000     | 0.666667     |
| recall75   | 0.454545     | 0.375000     | 0.416667     |
| precision  | 0.538462     | 0.189873     | 0.058824     |
| conf_obj   | 0.660398     | 0.694016     | 0.714296     |
| conf_noobj | 0.002362     | 0.002448     | 0.003071     |
+------------+--------------+--------------+--------------+
2020-12-19 17:01:37.592 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.307512
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.094158     | 1.217394     | 0.995960     |
| x          | 0.045163     | 0.030060     | 0.062688     |
| y          | 0.025123     | 0.029456     | 0.022742     |
| w          | 0.056087     | 0.079919     | 0.024320     |
| h          | 0.080680     | 0.084368     | 0.040403     |
| conf       | 0.708089     | 0.873310     | 0.790016     |
| cls        | 0.179017     | 0.120282     | 0.055789     |
| cls_acc    | 90.91%       | 95.65%       | 100.00%      |
| recall50   | 0.818182     | 0.782609     | 0.869565     |
| recall75   | 0.363636     | 0.521739     | 0.608696     |
| precision  | 0.352941     | 0.128571     | 0.041754     |
| conf_obj   | 0.846307     | 0.830751     | 0.832529     |
| conf_noobj | 0.003607     | 0.003476     | 0.003681     |
+------------+--------------+--------------+--------------+
2020-12-19 17:02:40.012 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 6.828088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 2.605933     | 2.166108     | 2.056047     |
| x          | 0.066927     | 0.070660     | 0.048447     |
| y          | 0.024789     | 0.042080     | 0.051476     |
| w          | 0.094616     | 0.042626     | 0.051575     |
| h          | 0.125337     | 0.063647     | 0.068683     |
| conf       | 1.852772     | 1.633604     | 1.480339     |
| cls        | 0.441491     | 0.313491     | 0.355527     |
| cls_acc    | 75.56%       | 88.00%       | 78.85%       |
| recall50   | 0.422222     | 0.480000     | 0.519231     |
| recall75   | 0.155556     | 0.240000     | 0.384615     |
| precision  | 0.612903     | 0.393443     | 0.103846     |
| conf_obj   | 0.478295     | 0.522528     | 0.555749     |
| conf_noobj | 0.001805     | 0.001711     | 0.002618     |
+------------+--------------+--------------+--------------+
2020-12-19 17:03:46.552 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 5.251283
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.835625     | 1.773336     | 1.642322     |
| x          | 0.057085     | 0.052896     | 0.052225     |
| y          | 0.023501     | 0.033815     | 0.053986     |
| w          | 0.071814     | 0.105034     | 0.055741     |
| h          | 0.066331     | 0.107018     | 0.058448     |
| conf       | 1.510482     | 1.369850     | 1.302496     |
| cls        | 0.106412     | 0.104724     | 0.119426     |
| cls_acc    | 96.67%       | 96.88%       | 96.88%       |
| recall50   | 0.733333     | 0.718750     | 0.812500     |
| recall75   | 0.400000     | 0.375000     | 0.468750     |
| precision  | 0.431373     | 0.141104     | 0.060046     |
| conf_obj   | 0.734518     | 0.771866     | 0.772395     |
| conf_noobj | 0.003282     | 0.003347     | 0.003286     |
+------------+--------------+--------------+--------------+
2020-12-19 17:04:48.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.252323
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.855209     | 0.717969     | 0.679145     |
| x          | 0.027238     | 0.031267     | 0.034743     |
| y          | 0.013394     | 0.030817     | 0.056693     |
| w          | 0.034989     | 0.028097     | 0.029676     |
| h          | 0.046975     | 0.040805     | 0.023272     |
| conf       | 0.680570     | 0.554186     | 0.503776     |
| cls        | 0.052043     | 0.032797     | 0.030986     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.789474     | 0.894737     | 0.894737     |
| recall75   | 0.736842     | 0.736842     | 0.842105     |
| precision  | 0.625000     | 0.175258     | 0.056478     |
| conf_obj   | 0.769015     | 0.850825     | 0.903610     |
| conf_noobj | 0.001950     | 0.002308     | 0.002667     |
+------------+--------------+--------------+--------------+
2020-12-19 17:05:52.793 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.874771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.991721     | 0.996145     | 0.886904     |
| x          | 0.049183     | 0.041901     | 0.043643     |
| y          | 0.029433     | 0.035720     | 0.052562     |
| w          | 0.068929     | 0.069193     | 0.009038     |
| h          | 0.068364     | 0.062753     | 0.048965     |
| conf       | 0.597743     | 0.659328     | 0.633143     |
| cls        | 0.178069     | 0.127251     | 0.099553     |
| cls_acc    | 90.48%       | 100.00%      | 95.45%       |
| recall50   | 0.714286     | 0.863636     | 0.818182     |
| recall75   | 0.285714     | 0.500000     | 0.590909     |
| precision  | 0.483871     | 0.231707     | 0.071146     |
| conf_obj   | 0.822812     | 0.830318     | 0.832507     |
| conf_noobj | 0.002439     | 0.002798     | 0.002843     |
+------------+--------------+--------------+--------------+
2020-12-19 17:06:59.986 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 4.334754
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.631231     | 1.283367     | 1.420156     |
| x          | 0.059355     | 0.053305     | 0.054165     |
| y          | 0.017974     | 0.043619     | 0.079929     |
| w          | 0.145934     | 0.105318     | 0.050223     |
| h          | 0.118044     | 0.080128     | 0.040803     |
| conf       | 1.210427     | 0.951648     | 1.113216     |
| cls        | 0.079496     | 0.049349     | 0.081820     |
| cls_acc    | 100.00%      | 100.00%      | 95.00%       |
| recall50   | 0.600000     | 0.800000     | 0.750000     |
| recall75   | 0.250000     | 0.400000     | 0.500000     |
| precision  | 0.218182     | 0.105960     | 0.050505     |
| conf_obj   | 0.729306     | 0.800755     | 0.712135     |
| conf_noobj | 0.004008     | 0.003679     | 0.002982     |
+------------+--------------+--------------+--------------+
2020-12-19 17:08:04.888 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 4.374746
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.771001     | 1.354250     | 1.249494     |
| x          | 0.053980     | 0.052006     | 0.044165     |
| y          | 0.038994     | 0.030575     | 0.033472     |
| w          | 0.228843     | 0.196309     | 0.146602     |
| h          | 0.224277     | 0.193425     | 0.146516     |
| conf       | 1.185182     | 0.855165     | 0.836358     |
| cls        | 0.039724     | 0.026770     | 0.042381     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.684211     | 0.666667     | 0.590909     |
| recall75   | 0.368421     | 0.476190     | 0.545455     |
| precision  | 0.541667     | 0.155556     | 0.048872     |
| conf_obj   | 0.679302     | 0.786564     | 0.768692     |
| conf_noobj | 0.001889     | 0.002446     | 0.002528     |
+------------+--------------+--------------+--------------+
2020-12-19 17:09:10.675 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 3.281587
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.153435     | 1.289452     | 0.838700     |
| x          | 0.009983     | 0.038376     | 0.025544     |
| y          | 0.034901     | 0.091009     | 0.077296     |
| w          | 0.078456     | 0.051161     | 0.038502     |
| h          | 0.054627     | 0.051555     | 0.042601     |
| conf       | 0.910071     | 1.008918     | 0.600352     |
| cls        | 0.065397     | 0.048434     | 0.054405     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.750000     | 0.750000     | 0.923077     |
| recall75   | 0.666667     | 0.500000     | 0.461538     |
| precision  | 0.750000     | 0.145161     | 0.038095     |
| conf_obj   | 0.720045     | 0.775620     | 0.834579     |
| conf_noobj | 0.001808     | 0.002035     | 0.002806     |
+------------+--------------+--------------+--------------+
2020-12-19 17:10:15.918 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 3.949188
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.651322     | 1.237730     | 1.060137     |
| x          | 0.046784     | 0.029796     | 0.042555     |
| y          | 0.031640     | 0.023378     | 0.038381     |
| w          | 0.274645     | 0.055252     | 0.021791     |
| h          | 0.168858     | 0.054439     | 0.023910     |
| conf       | 1.047459     | 1.006980     | 0.834472     |
| cls        | 0.081935     | 0.067884     | 0.099028     |
| cls_acc    | 100.00%      | 95.83%       | 95.83%       |
| recall50   | 0.666667     | 0.791667     | 0.833333     |
| recall75   | 0.208333     | 0.583333     | 0.625000     |
| precision  | 0.615385     | 0.333333     | 0.101523     |
| conf_obj   | 0.679559     | 0.735367     | 0.814066     |
| conf_noobj | 0.001694     | 0.002129     | 0.002516     |
+------------+--------------+--------------+--------------+
2020-12-19 17:11:16.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 6.400984
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 2.191808     | 2.158853     | 2.050324     |
| x          | 0.064795     | 0.035423     | 0.038230     |
| y          | 0.054590     | 0.036707     | 0.054833     |
| w          | 0.127511     | 0.099577     | 0.058239     |
| h          | 0.121612     | 0.083110     | 0.076567     |
| conf       | 1.461749     | 1.598177     | 1.572072     |
| cls        | 0.361552     | 0.305859     | 0.250384     |
| cls_acc    | 83.87%       | 85.71%       | 85.71%       |
| recall50   | 0.483871     | 0.514286     | 0.542857     |
| recall75   | 0.258065     | 0.228571     | 0.400000     |
| precision  | 0.340909     | 0.148760     | 0.048469     |
| conf_obj   | 0.599641     | 0.617870     | 0.615431     |
| conf_noobj | 0.002692     | 0.002741     | 0.002740     |
+------------+--------------+--------------+--------------+
2020-12-19 17:12:26.535 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 4.247996
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.316388     | 1.408394     | 1.523214     |
| x          | 0.044959     | 0.052225     | 0.060017     |
| y          | 0.032781     | 0.023244     | 0.039974     |
| w          | 0.075449     | 0.058863     | 0.048503     |
| h          | 0.070479     | 0.037963     | 0.028913     |
| conf       | 0.986881     | 1.100209     | 1.163380     |
| cls        | 0.105839     | 0.135891     | 0.182426     |
| cls_acc    | 95.83%       | 95.83%       | 95.83%       |
| recall50   | 0.750000     | 0.625000     | 0.750000     |
| recall75   | 0.375000     | 0.333333     | 0.416667     |
| precision  | 0.352941     | 0.159574     | 0.043373     |
| conf_obj   | 0.778443     | 0.670616     | 0.752704     |
| conf_noobj | 0.003592     | 0.002556     | 0.003163     |
+------------+--------------+--------------+--------------+
2020-12-19 17:12:39.954 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 4.157
2020-12-19 17:12:39.958 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 17:13:50.666 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.01120   | 0.26866 | 0.02151 | 0.03007 |
| 1     | Wear_helmet | 0.12785   | 0.87773 | 0.22319 | 0.63559 |
| 2     | Total       | 0.06952   | 0.57319 | 0.12235 | 0.33283 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:13:50.667 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.33282936871651647
2020-12-19 17:13:50.668 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 17:13:50.668 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:10.709534

2020-12-19 17:13:51.127 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 1/2, epo 2/5
2020-12-19 17:13:51.127 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 1/2, epo 2/5; time cost: 0:15:26.820833

2020-12-19 17:13:51.128 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 1/2, epo 3/5
2020-12-19 17:13:52.378 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 3.160228
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.924043     | 1.254662     | 0.981522     |
| x          | 0.047412     | 0.057797     | 0.050958     |
| y          | 0.028455     | 0.027554     | 0.040663     |
| w          | 0.048145     | 0.097742     | 0.068467     |
| h          | 0.050510     | 0.075481     | 0.029813     |
| conf       | 0.686257     | 0.819308     | 0.652652     |
| cls        | 0.063264     | 0.176780     | 0.138970     |
| cls_acc    | 95.83%       | 95.83%       | 95.83%       |
| recall50   | 0.833333     | 0.875000     | 0.958333     |
| recall75   | 0.416667     | 0.416667     | 0.333333     |
| precision  | 0.408163     | 0.145833     | 0.069486     |
| conf_obj   | 0.860123     | 0.847406     | 0.860140     |
| conf_noobj | 0.003567     | 0.004553     | 0.003617     |
+------------+--------------+--------------+--------------+
2020-12-19 17:14:52.628 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 3.164257
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.198004     | 0.920864     | 1.045389     |
| x          | 0.068801     | 0.028542     | 0.048061     |
| y          | 0.014363     | 0.018489     | 0.034237     |
| w          | 0.176759     | 0.063847     | 0.052171     |
| h          | 0.136243     | 0.045716     | 0.044725     |
| conf       | 0.778422     | 0.692324     | 0.758363     |
| cls        | 0.023417     | 0.071946     | 0.107832     |
| cls_acc    | 100.00%      | 100.00%      | 94.44%       |
| recall50   | 0.787879     | 0.823529     | 0.861111     |
| recall75   | 0.272727     | 0.588235     | 0.666667     |
| precision  | 0.464286     | 0.233333     | 0.093093     |
| conf_obj   | 0.809887     | 0.813567     | 0.810471     |
| conf_noobj | 0.002991     | 0.002458     | 0.002373     |
+------------+--------------+--------------+--------------+
2020-12-19 17:16:07.448 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 4.295261
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.573996     | 1.362402     | 1.358862     |
| x          | 0.031747     | 0.036478     | 0.069180     |
| y          | 0.024634     | 0.034840     | 0.058661     |
| w          | 0.229976     | 0.083108     | 0.039400     |
| h          | 0.149441     | 0.084390     | 0.073137     |
| conf       | 1.008517     | 1.045675     | 0.950195     |
| cls        | 0.129682     | 0.077911     | 0.168289     |
| cls_acc    | 94.44%       | 100.00%      | 94.74%       |
| recall50   | 0.777778     | 0.789474     | 0.736842     |
| recall75   | 0.333333     | 0.631579     | 0.578947     |
| precision  | 0.437500     | 0.172414     | 0.064220     |
| conf_obj   | 0.794193     | 0.801210     | 0.773056     |
| conf_noobj | 0.002688     | 0.002867     | 0.002591     |
+------------+--------------+--------------+--------------+
2020-12-19 17:17:13.197 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 4.892267
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.748927     | 1.590939     | 1.552402     |
| x          | 0.085291     | 0.044611     | 0.047705     |
| y          | 0.047177     | 0.046051     | 0.049947     |
| w          | 0.146780     | 0.081768     | 0.067052     |
| h          | 0.100496     | 0.081882     | 0.047165     |
| conf       | 1.312988     | 1.256920     | 1.242509     |
| cls        | 0.056195     | 0.079706     | 0.098025     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 0.700000     | 0.714286     | 0.761905     |
| recall75   | 0.250000     | 0.476190     | 0.571429     |
| precision  | 0.518519     | 0.178571     | 0.069869     |
| conf_obj   | 0.708101     | 0.744897     | 0.750478     |
| conf_noobj | 0.001955     | 0.002039     | 0.002097     |
+------------+--------------+--------------+--------------+
2020-12-19 17:18:16.149 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.400266
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.433817     | 1.082148     | 0.884301     |
| x          | 0.046440     | 0.027167     | 0.062800     |
| y          | 0.044394     | 0.019424     | 0.036165     |
| w          | 0.220025     | 0.060215     | 0.030517     |
| h          | 0.201148     | 0.074728     | 0.025028     |
| conf       | 0.754345     | 0.846782     | 0.682053     |
| cls        | 0.167465     | 0.053831     | 0.047739     |
| cls_acc    | 92.31%       | 96.43%       | 96.55%       |
| recall50   | 0.730769     | 0.928571     | 0.827586     |
| recall75   | 0.153846     | 0.464286     | 0.448276     |
| precision  | 0.422222     | 0.192593     | 0.069767     |
| conf_obj   | 0.833512     | 0.843221     | 0.852535     |
| conf_noobj | 0.002906     | 0.002810     | 0.002365     |
+------------+--------------+--------------+--------------+
2020-12-19 17:19:19.986 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.536862
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.907229     | 0.789473     | 0.840159     |
| x          | 0.043081     | 0.025941     | 0.043651     |
| y          | 0.010321     | 0.027056     | 0.039224     |
| w          | 0.061414     | 0.028196     | 0.067874     |
| h          | 0.065906     | 0.042395     | 0.058092     |
| conf       | 0.689572     | 0.633698     | 0.591040     |
| cls        | 0.036936     | 0.032187     | 0.040278     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.814815     | 0.931035     | 0.862069     |
| recall75   | 0.555556     | 0.758621     | 0.724138     |
| precision  | 0.500000     | 0.230769     | 0.073314     |
| conf_obj   | 0.831700     | 0.880237     | 0.907730     |
| conf_noobj | 0.002290     | 0.002001     | 0.002178     |
+------------+--------------+--------------+--------------+
2020-12-19 17:20:30.224 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.253851
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.094494     | 1.107943     | 1.051415     |
| x          | 0.031319     | 0.055088     | 0.046761     |
| y          | 0.013823     | 0.031159     | 0.060004     |
| w          | 0.044768     | 0.074042     | 0.020034     |
| h          | 0.054621     | 0.084341     | 0.027743     |
| conf       | 0.709768     | 0.647485     | 0.712230     |
| cls        | 0.240194     | 0.215827     | 0.184643     |
| cls_acc    | 100.00%      | 93.10%       | 96.55%       |
| recall50   | 0.888889     | 0.827586     | 0.862069     |
| recall75   | 0.518519     | 0.448276     | 0.620690     |
| precision  | 0.452830     | 0.222222     | 0.078125     |
| conf_obj   | 0.800924     | 0.802771     | 0.805525     |
| conf_noobj | 0.002497     | 0.002120     | 0.002159     |
+------------+--------------+--------------+--------------+
2020-12-19 17:21:38.671 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 3.751294
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.437201     | 1.147539     | 1.166555     |
| x          | 0.056153     | 0.052278     | 0.055420     |
| y          | 0.037052     | 0.032844     | 0.046599     |
| w          | 0.126923     | 0.031872     | 0.027980     |
| h          | 0.140617     | 0.059772     | 0.043760     |
| conf       | 0.980479     | 0.834658     | 0.871034     |
| cls        | 0.095978     | 0.136115     | 0.121763     |
| cls_acc    | 96.15%       | 93.75%       | 96.88%       |
| recall50   | 0.730769     | 0.812500     | 0.781250     |
| recall75   | 0.307692     | 0.468750     | 0.562500     |
| precision  | 0.339286     | 0.201550     | 0.109170     |
| conf_obj   | 0.802356     | 0.769663     | 0.700128     |
| conf_noobj | 0.004219     | 0.003382     | 0.002521     |
+------------+--------------+--------------+--------------+
2020-12-19 17:22:41.815 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.202097
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.106720     | 0.979749     | 1.115629     |
| x          | 0.028973     | 0.031985     | 0.042046     |
| y          | 0.023468     | 0.042124     | 0.042381     |
| w          | 0.133320     | 0.082904     | 0.033163     |
| h          | 0.119499     | 0.058998     | 0.089620     |
| conf       | 0.714973     | 0.720015     | 0.836392     |
| cls        | 0.086486     | 0.043724     | 0.072027     |
| cls_acc    | 100.00%      | 100.00%      | 96.97%       |
| recall50   | 0.821429     | 0.833333     | 0.848485     |
| recall75   | 0.428571     | 0.566667     | 0.424242     |
| precision  | 0.696970     | 0.297619     | 0.128440     |
| conf_obj   | 0.763620     | 0.836515     | 0.803111     |
| conf_noobj | 0.001761     | 0.002149     | 0.002095     |
+------------+--------------+--------------+--------------+
2020-12-19 17:23:47.244 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 3.962648
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.417371     | 1.328468     | 1.216810     |
| x          | 0.056033     | 0.045438     | 0.073244     |
| y          | 0.026642     | 0.025727     | 0.035323     |
| w          | 0.089663     | 0.037869     | 0.030188     |
| h          | 0.148879     | 0.116086     | 0.041077     |
| conf       | 0.913209     | 0.988934     | 0.949369     |
| cls        | 0.182944     | 0.114414     | 0.087608     |
| cls_acc    | 95.24%       | 91.30%       | 95.65%       |
| recall50   | 0.666667     | 0.782609     | 0.782609     |
| recall75   | 0.333333     | 0.478261     | 0.434783     |
| precision  | 0.518519     | 0.187500     | 0.060201     |
| conf_obj   | 0.721933     | 0.737528     | 0.791341     |
| conf_noobj | 0.001709     | 0.002242     | 0.002211     |
+------------+--------------+--------------+--------------+
2020-12-19 17:24:52.081 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.461077
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.034713     | 0.858536     | 0.567828     |
| x          | 0.013524     | 0.011983     | 0.052767     |
| y          | 0.010740     | 0.016231     | 0.031284     |
| w          | 0.149368     | 0.035031     | 0.041540     |
| h          | 0.108573     | 0.041084     | 0.036859     |
| conf       | 0.748855     | 0.747394     | 0.398369     |
| cls        | 0.003654     | 0.006813     | 0.007008     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.823529     | 0.882353     |
| recall75   | 0.470588     | 0.705882     | 0.647059     |
| precision  | 0.405405     | 0.175000     | 0.092025     |
| conf_obj   | 0.850658     | 0.786582     | 0.872778     |
| conf_noobj | 0.002650     | 0.002126     | 0.001652     |
+------------+--------------+--------------+--------------+
2020-12-19 17:25:56.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 4.262642
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.367385     | 1.289478     | 1.605779     |
| x          | 0.027741     | 0.029498     | 0.042610     |
| y          | 0.029466     | 0.030860     | 0.086611     |
| w          | 0.059952     | 0.070835     | 0.040213     |
| h          | 0.092533     | 0.080219     | 0.091482     |
| conf       | 1.061186     | 0.997410     | 1.217687     |
| cls        | 0.096508     | 0.080655     | 0.127177     |
| cls_acc    | 94.74%       | 100.00%      | 94.74%       |
| recall50   | 0.736842     | 0.842105     | 0.684211     |
| recall75   | 0.210526     | 0.526316     | 0.315789     |
| precision  | 0.269231     | 0.152381     | 0.042763     |
| conf_obj   | 0.736285     | 0.704962     | 0.686503     |
| conf_noobj | 0.003789     | 0.002384     | 0.002270     |
+------------+--------------+--------------+--------------+
2020-12-19 17:27:02.651 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 4.318329
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.596558     | 1.287550     | 1.434221     |
| x          | 0.049174     | 0.045224     | 0.049282     |
| y          | 0.018211     | 0.053313     | 0.065581     |
| w          | 0.084374     | 0.059348     | 0.086954     |
| h          | 0.078590     | 0.050936     | 0.087061     |
| conf       | 1.127204     | 0.831370     | 0.814491     |
| cls        | 0.239005     | 0.247359     | 0.330853     |
| cls_acc    | 90.00%       | 91.30%       | 79.17%       |
| recall50   | 0.600000     | 0.782609     | 0.708333     |
| recall75   | 0.300000     | 0.565217     | 0.291667     |
| precision  | 0.500000     | 0.246575     | 0.073593     |
| conf_obj   | 0.728272     | 0.794676     | 0.832377     |
| conf_noobj | 0.001859     | 0.002059     | 0.002272     |
+------------+--------------+--------------+--------------+
2020-12-19 17:28:08.633 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.115848
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.199936     | 0.977350     | 0.938562     |
| x          | 0.041546     | 0.027907     | 0.058122     |
| y          | 0.029674     | 0.049210     | 0.052523     |
| w          | 0.048555     | 0.039166     | 0.024205     |
| h          | 0.068910     | 0.077947     | 0.060833     |
| conf       | 0.797461     | 0.657266     | 0.697864     |
| cls        | 0.213790     | 0.125854     | 0.045015     |
| cls_acc    | 89.29%       | 96.55%       | 100.00%      |
| recall50   | 0.750000     | 0.724138     | 0.758621     |
| recall75   | 0.535714     | 0.482759     | 0.655172     |
| precision  | 0.617647     | 0.233333     | 0.080000     |
| conf_obj   | 0.744896     | 0.778785     | 0.771405     |
| conf_noobj | 0.001987     | 0.002125     | 0.002017     |
+------------+--------------+--------------+--------------+
2020-12-19 17:28:21.393 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 3.459
2020-12-19 17:28:21.514 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 17:29:24.194 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02960   | 0.26866 | 0.05332 | 0.05527 |
| 1     | Wear_helmet | 0.14946   | 0.89905 | 0.25632 | 0.70951 |
| 2     | Total       | 0.08953   | 0.58385 | 0.15482 | 0.38239 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:29:24.195 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.3823874864622283
2020-12-19 17:29:24.195 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 17:29:24.195 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:02.681239

2020-12-19 17:29:24.643 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 1/2, epo 3/5
2020-12-19 17:29:24.643 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 1/2, epo 3/5; time cost: 0:15:33.514945

2020-12-19 17:29:24.643 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 1/2, epo 4/5
2020-12-19 17:29:26.205 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 3.551454
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.281924     | 1.173113     | 1.096417     |
| x          | 0.047769     | 0.043494     | 0.040308     |
| y          | 0.032828     | 0.040792     | 0.046454     |
| w          | 0.097229     | 0.078927     | 0.030063     |
| h          | 0.084619     | 0.071241     | 0.022300     |
| conf       | 0.871997     | 0.739956     | 0.781272     |
| cls        | 0.147482     | 0.198704     | 0.176020     |
| cls_acc    | 92.11%       | 95.12%       | 92.86%       |
| recall50   | 0.736842     | 0.731707     | 0.761905     |
| recall75   | 0.263158     | 0.414634     | 0.523810     |
| precision  | 0.583333     | 0.309278     | 0.122137     |
| conf_obj   | 0.748365     | 0.768298     | 0.776046     |
| conf_noobj | 0.002376     | 0.001965     | 0.001896     |
+------------+--------------+--------------+--------------+
2020-12-19 17:30:31.330 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.087170
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.898827     | 0.596214     | 0.592129     |
| x          | 0.031511     | 0.034244     | 0.043292     |
| y          | 0.079264     | 0.014098     | 0.042065     |
| w          | 0.191819     | 0.027924     | 0.023279     |
| h          | 0.149601     | 0.072361     | 0.038797     |
| conf       | 0.438013     | 0.437297     | 0.416545     |
| cls        | 0.008619     | 0.010291     | 0.028151     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.947368     | 1.000000     |
| recall75   | 0.294118     | 0.684211     | 0.736842     |
| precision  | 0.636364     | 0.236842     | 0.079832     |
| conf_obj   | 0.851850     | 0.864431     | 0.876732     |
| conf_noobj | 0.001454     | 0.002084     | 0.001970     |
+------------+--------------+--------------+--------------+
2020-12-19 17:31:36.084 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 4.598638
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.616106     | 1.438330     | 1.544202     |
| x          | 0.046339     | 0.045537     | 0.034886     |
| y          | 0.035994     | 0.026074     | 0.037162     |
| w          | 0.132730     | 0.044190     | 0.060107     |
| h          | 0.116747     | 0.042442     | 0.041997     |
| conf       | 1.095187     | 1.038926     | 1.224639     |
| cls        | 0.189109     | 0.241161     | 0.145411     |
| cls_acc    | 95.83%       | 92.59%       | 96.30%       |
| recall50   | 0.583333     | 0.666667     | 0.703704     |
| recall75   | 0.375000     | 0.296296     | 0.296296     |
| precision  | 0.437500     | 0.272727     | 0.095477     |
| conf_obj   | 0.766633     | 0.707309     | 0.695341     |
| conf_noobj | 0.001994     | 0.001919     | 0.001911     |
+------------+--------------+--------------+--------------+
2020-12-19 17:32:32.672 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.342476
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.492764     | 0.394822     | 0.454890     |
| x          | 0.015244     | 0.021240     | 0.021607     |
| y          | 0.020928     | 0.018781     | 0.027157     |
| w          | 0.044337     | 0.018438     | 0.012844     |
| h          | 0.030094     | 0.019781     | 0.020029     |
| conf       | 0.363685     | 0.310435     | 0.369735     |
| cls        | 0.018475     | 0.006147     | 0.003517     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.906250     | 1.000000     | 1.000000     |
| recall75   | 0.812500     | 0.843750     | 0.968750     |
| precision  | 0.707317     | 0.273504     | 0.095238     |
| conf_obj   | 0.891705     | 0.944096     | 0.955469     |
| conf_noobj | 0.001761     | 0.001729     | 0.002034     |
+------------+--------------+--------------+--------------+
2020-12-19 17:33:31.070 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 4.276581
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.515204     | 1.444184     | 1.317193     |
| x          | 0.038105     | 0.043298     | 0.065460     |
| y          | 0.017966     | 0.029803     | 0.048532     |
| w          | 0.086030     | 0.059493     | 0.032183     |
| h          | 0.088907     | 0.061665     | 0.052349     |
| conf       | 1.067667     | 1.036669     | 0.944892     |
| cls        | 0.216529     | 0.213257     | 0.173776     |
| cls_acc    | 88.89%       | 90.00%       | 90.62%       |
| recall50   | 0.740741     | 0.733333     | 0.812500     |
| recall75   | 0.444444     | 0.533333     | 0.531250     |
| precision  | 0.512821     | 0.200000     | 0.073864     |
| conf_obj   | 0.736018     | 0.763825     | 0.761334     |
| conf_noobj | 0.002556     | 0.002229     | 0.001970     |
+------------+--------------+--------------+--------------+
2020-12-19 17:34:30.800 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 3.363070
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.212824     | 1.073487     | 1.076760     |
| x          | 0.022426     | 0.021622     | 0.038986     |
| y          | 0.032081     | 0.038112     | 0.052663     |
| w          | 0.047594     | 0.052227     | 0.042180     |
| h          | 0.080479     | 0.056738     | 0.054227     |
| conf       | 0.987252     | 0.869929     | 0.872815     |
| cls        | 0.042991     | 0.034857     | 0.015888     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.724138     | 0.793103     | 0.758621     |
| recall75   | 0.482759     | 0.551724     | 0.655172     |
| precision  | 0.500000     | 0.200000     | 0.060606     |
| conf_obj   | 0.731901     | 0.758996     | 0.783994     |
| conf_noobj | 0.002487     | 0.002194     | 0.002275     |
+------------+--------------+--------------+--------------+
2020-12-19 17:35:36.166 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.296635
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.865881     | 0.779414     | 0.651340     |
| x          | 0.031622     | 0.013925     | 0.031660     |
| y          | 0.014752     | 0.014762     | 0.070254     |
| w          | 0.045695     | 0.063610     | 0.023868     |
| h          | 0.061166     | 0.041002     | 0.023603     |
| conf       | 0.640108     | 0.608397     | 0.459465     |
| cls        | 0.072538     | 0.037718     | 0.042490     |
| cls_acc    | 94.44%       | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.894737     | 0.947368     |
| recall75   | 0.500000     | 0.631579     | 0.842105     |
| precision  | 0.441176     | 0.215190     | 0.086124     |
| conf_obj   | 0.864937     | 0.844371     | 0.917582     |
| conf_noobj | 0.002838     | 0.002474     | 0.002105     |
+------------+--------------+--------------+--------------+
2020-12-19 17:36:35.146 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.277654
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.997063     | 0.609055     | 0.671536     |
| x          | 0.032657     | 0.032848     | 0.028954     |
| y          | 0.021624     | 0.008495     | 0.018581     |
| w          | 0.164172     | 0.030576     | 0.028807     |
| h          | 0.143775     | 0.047451     | 0.028072     |
| conf       | 0.502790     | 0.424570     | 0.464894     |
| cls        | 0.132044     | 0.065114     | 0.102229     |
| cls_acc    | 100.00%      | 100.00%      | 95.24%       |
| recall50   | 0.857143     | 0.952381     | 0.857143     |
| recall75   | 0.190476     | 0.809524     | 0.714286     |
| precision  | 0.666667     | 0.307692     | 0.090452     |
| conf_obj   | 0.823962     | 0.881625     | 0.859784     |
| conf_noobj | 0.001440     | 0.001756     | 0.001656     |
+------------+--------------+--------------+--------------+
2020-12-19 17:37:40.120 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.056445
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.217897     | 0.977643     | 0.860906     |
| x          | 0.037654     | 0.037432     | 0.047082     |
| y          | 0.019693     | 0.015866     | 0.020719     |
| w          | 0.036916     | 0.026639     | 0.031467     |
| h          | 0.043660     | 0.031841     | 0.046885     |
| conf       | 0.733408     | 0.603373     | 0.486375     |
| cls        | 0.346566     | 0.262492     | 0.228376     |
| cls_acc    | 85.71%       | 92.86%       | 89.29%       |
| recall50   | 0.750000     | 0.821429     | 0.821429     |
| recall75   | 0.500000     | 0.607143     | 0.607143     |
| precision  | 0.525000     | 0.283951     | 0.081272     |
| conf_obj   | 0.821876     | 0.828609     | 0.892408     |
| conf_noobj | 0.001930     | 0.001836     | 0.001950     |
+------------+--------------+--------------+--------------+
2020-12-19 17:38:42.209 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.387427
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.925040     | 0.781654     | 0.680733     |
| x          | 0.056130     | 0.043441     | 0.030538     |
| y          | 0.022699     | 0.033753     | 0.038464     |
| w          | 0.089196     | 0.062095     | 0.021686     |
| h          | 0.094223     | 0.071779     | 0.036521     |
| conf       | 0.545308     | 0.473155     | 0.490944     |
| cls        | 0.117483     | 0.097431     | 0.062581     |
| cls_acc    | 93.75%       | 94.12%       | 97.06%       |
| recall50   | 0.687500     | 0.852941     | 0.911765     |
| recall75   | 0.343750     | 0.441176     | 0.735294     |
| precision  | 0.523810     | 0.329545     | 0.147619     |
| conf_obj   | 0.856336     | 0.876210     | 0.884744     |
| conf_noobj | 0.001821     | 0.001636     | 0.001428     |
+------------+--------------+--------------+--------------+
2020-12-19 17:39:43.091 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.083567
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.788299     | 0.591382     | 0.703886     |
| x          | 0.039612     | 0.019476     | 0.073048     |
| y          | 0.015598     | 0.028542     | 0.068786     |
| w          | 0.064223     | 0.016691     | 0.011380     |
| h          | 0.135461     | 0.063543     | 0.096725     |
| conf       | 0.513866     | 0.455801     | 0.447150     |
| cls        | 0.019539     | 0.007330     | 0.006797     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.937500     | 0.937500     |
| recall75   | 0.312500     | 0.750000     | 0.562500     |
| precision  | 0.454545     | 0.138889     | 0.053763     |
| conf_obj   | 0.891635     | 0.926669     | 0.936153     |
| conf_noobj | 0.002262     | 0.002299     | 0.002118     |
+------------+--------------+--------------+--------------+
2020-12-19 17:40:46.111 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.639437
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.608435     | 0.568033     | 0.462968     |
| x          | 0.007417     | 0.019434     | 0.023109     |
| y          | 0.014006     | 0.017308     | 0.032107     |
| w          | 0.086940     | 0.026583     | 0.013224     |
| h          | 0.078562     | 0.013259     | 0.008766     |
| conf       | 0.391306     | 0.483176     | 0.383101     |
| cls        | 0.030205     | 0.008274     | 0.002661     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.722222     | 0.888889     | 1.000000     |
| precision  | 0.514286     | 0.242857     | 0.086124     |
| conf_obj   | 0.931348     | 0.851413     | 0.914336     |
| conf_noobj | 0.002248     | 0.001809     | 0.001790     |
+------------+--------------+--------------+--------------+
2020-12-19 17:41:49.309 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.615347
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.650392     | 0.491511     | 0.473445     |
| x          | 0.046683     | 0.011722     | 0.020814     |
| y          | 0.010077     | 0.026404     | 0.051420     |
| w          | 0.018555     | 0.033114     | 0.017605     |
| h          | 0.032600     | 0.041446     | 0.038473     |
| conf       | 0.512270     | 0.342550     | 0.335942     |
| cls        | 0.030208     | 0.036276     | 0.009190     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 1.000000     |
| recall75   | 0.450000     | 0.666667     | 0.761905     |
| precision  | 0.428571     | 0.241379     | 0.080460     |
| conf_obj   | 0.922296     | 0.961745     | 0.965743     |
| conf_noobj | 0.002683     | 0.001930     | 0.002068     |
+------------+--------------+--------------+--------------+
2020-12-19 17:42:58.629 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.866662
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.632578     | 0.555931     | 0.678153     |
| x          | 0.010292     | 0.014846     | 0.024845     |
| y          | 0.030722     | 0.046645     | 0.065155     |
| w          | 0.096153     | 0.023530     | 0.036374     |
| h          | 0.039823     | 0.019795     | 0.025462     |
| conf       | 0.418735     | 0.427360     | 0.419820     |
| cls        | 0.036853     | 0.023756     | 0.106495     |
| cls_acc    | 100.00%      | 100.00%      | 92.86%       |
| recall50   | 0.928571     | 1.000000     | 0.857143     |
| recall75   | 0.500000     | 0.785714     | 0.571429     |
| precision  | 0.650000     | 0.225806     | 0.089552     |
| conf_obj   | 0.867093     | 0.845815     | 0.837699     |
| conf_noobj | 0.001723     | 0.001641     | 0.001416     |
+------------+--------------+--------------+--------------+
2020-12-19 17:43:09.526 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 3.159
2020-12-19 17:43:09.530 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 17:44:08.242 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05037   | 0.16915 | 0.07763 | 0.04063 |
| 1     | Wear_helmet | 0.22187   | 0.92133 | 0.35762 | 0.79072 |
| 2     | Total       | 0.13612   | 0.54524 | 0.21762 | 0.41567 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:44:08.242 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.41567335591666954
2020-12-19 17:44:08.242 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 17:44:08.242 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.711921

2020-12-19 17:44:08.702 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 1/2, epo 4/5
2020-12-19 17:44:08.702 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 1/2, epo 4/5; time cost: 0:14:44.058403

2020-12-19 17:44:08.702 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 1/20, idx 1/2, epo 5/5
2020-12-19 17:44:10.277 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.895296
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.683865     | 0.615794     | 0.595637     |
| x          | 0.024428     | 0.010295     | 0.021688     |
| y          | 0.008884     | 0.020332     | 0.032545     |
| w          | 0.064597     | 0.046542     | 0.033956     |
| h          | 0.046528     | 0.045078     | 0.022507     |
| conf       | 0.346998     | 0.333534     | 0.322386     |
| cls        | 0.192431     | 0.160012     | 0.162554     |
| cls_acc    | 95.65%       | 92.00%       | 92.00%       |
| recall50   | 0.869565     | 0.920000     | 0.880000     |
| recall75   | 0.608696     | 0.680000     | 0.680000     |
| precision  | 0.555556     | 0.338235     | 0.093617     |
| conf_obj   | 0.913134     | 0.912743     | 0.935298     |
| conf_noobj | 0.001839     | 0.001543     | 0.001575     |
+------------+--------------+--------------+--------------+
2020-12-19 17:45:11.571 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 3.218572
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.115030     | 1.054267     | 1.049275     |
| x          | 0.034755     | 0.039784     | 0.037881     |
| y          | 0.026205     | 0.026979     | 0.042383     |
| w          | 0.073135     | 0.091295     | 0.033878     |
| h          | 0.079980     | 0.092083     | 0.040051     |
| conf       | 0.768707     | 0.668814     | 0.734383     |
| cls        | 0.132249     | 0.135312     | 0.160699     |
| cls_acc    | 95.24%       | 93.48%       | 91.30%       |
| recall50   | 0.809524     | 0.760870     | 0.739130     |
| recall75   | 0.380952     | 0.500000     | 0.630435     |
| precision  | 0.596491     | 0.284553     | 0.113333     |
| conf_obj   | 0.821375     | 0.824265     | 0.761079     |
| conf_noobj | 0.002871     | 0.002443     | 0.001979     |
+------------+--------------+--------------+--------------+
2020-12-19 17:46:17.352 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 4.140888
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.860940     | 1.304947     | 0.975001     |
| x          | 0.032836     | 0.021704     | 0.033925     |
| y          | 0.039172     | 0.047525     | 0.030166     |
| w          | 0.203217     | 0.055592     | 0.035914     |
| h          | 0.172002     | 0.055508     | 0.031920     |
| conf       | 0.987111     | 0.781796     | 0.661352     |
| cls        | 0.426601     | 0.342821     | 0.181723     |
| cls_acc    | 82.61%       | 87.50%       | 92.00%       |
| recall50   | 0.608696     | 0.750000     | 0.840000     |
| recall75   | 0.217391     | 0.458333     | 0.560000     |
| precision  | 0.482759     | 0.209302     | 0.072414     |
| conf_obj   | 0.701835     | 0.774029     | 0.798137     |
| conf_noobj | 0.001815     | 0.002059     | 0.001879     |
+------------+--------------+--------------+--------------+
2020-12-19 17:47:24.429 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.074830
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.615570     | 0.763293     | 0.695967     |
| x          | 0.015568     | 0.022672     | 0.051473     |
| y          | 0.021125     | 0.012646     | 0.042098     |
| w          | 0.044743     | 0.017258     | 0.013038     |
| h          | 0.049578     | 0.031360     | 0.011995     |
| conf       | 0.464661     | 0.671607     | 0.565993     |
| cls        | 0.019896     | 0.007750     | 0.011370     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.888889     | 0.888889     |
| recall75   | 0.833333     | 0.777778     | 0.777778     |
| precision  | 0.548387     | 0.202532     | 0.064000     |
| conf_obj   | 0.835445     | 0.799619     | 0.846422     |
| conf_noobj | 0.001843     | 0.001709     | 0.001700     |
+------------+--------------+--------------+--------------+
2020-12-19 17:48:28.808 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.430359
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.175498     | 1.089649     | 1.165211     |
| x          | 0.018959     | 0.026569     | 0.040370     |
| y          | 0.024043     | 0.045898     | 0.053351     |
| w          | 0.064150     | 0.055213     | 0.027686     |
| h          | 0.049993     | 0.033633     | 0.023459     |
| conf       | 0.874469     | 0.733569     | 0.868107     |
| cls        | 0.143884     | 0.194767     | 0.152238     |
| cls_acc    | 95.83%       | 87.50%       | 91.67%       |
| recall50   | 0.708333     | 0.791667     | 0.833333     |
| recall75   | 0.583333     | 0.750000     | 0.708333     |
| precision  | 0.548387     | 0.208791     | 0.071174     |
| conf_obj   | 0.734562     | 0.804992     | 0.799541     |
| conf_noobj | 0.001645     | 0.001662     | 0.001649     |
+------------+--------------+--------------+--------------+
2020-12-19 17:49:33.658 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.904858
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.540800     | 0.709649     | 0.654410     |
| x          | 0.073218     | 0.036173     | 0.041326     |
| y          | 0.030200     | 0.033240     | 0.039460     |
| w          | 0.037475     | 0.078376     | 0.053039     |
| h          | 0.035960     | 0.103011     | 0.069804     |
| conf       | 0.320177     | 0.376086     | 0.352236     |
| cls        | 0.043770     | 0.082764     | 0.098544     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 0.909091     | 0.826087     | 0.913043     |
| recall75   | 0.363636     | 0.434783     | 0.434783     |
| precision  | 0.540541     | 0.193878     | 0.076087     |
| conf_obj   | 0.956277     | 0.909927     | 0.921871     |
| conf_noobj | 0.001870     | 0.001630     | 0.001497     |
+------------+--------------+--------------+--------------+
2020-12-19 17:50:46.319 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.190885
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.216048     | 0.925418     | 1.049419     |
| x          | 0.073412     | 0.025190     | 0.024304     |
| y          | 0.016609     | 0.023781     | 0.031404     |
| w          | 0.065133     | 0.033240     | 0.019426     |
| h          | 0.060849     | 0.031386     | 0.026640     |
| conf       | 0.643465     | 0.595076     | 0.746505     |
| cls        | 0.356580     | 0.216744     | 0.201141     |
| cls_acc    | 82.61%       | 88.00%       | 92.00%       |
| recall50   | 0.695652     | 0.840000     | 0.840000     |
| recall75   | 0.304348     | 0.480000     | 0.640000     |
| precision  | 0.640000     | 0.262500     | 0.114130     |
| conf_obj   | 0.788430     | 0.858658     | 0.816573     |
| conf_noobj | 0.001568     | 0.002021     | 0.001811     |
+------------+--------------+--------------+--------------+
2020-12-19 17:51:50.244 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.826022
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.600008     | 0.647129     | 0.578885     |
| x          | 0.021150     | 0.015062     | 0.032534     |
| y          | 0.009553     | 0.035023     | 0.072615     |
| w          | 0.064154     | 0.057811     | 0.012860     |
| h          | 0.085927     | 0.094716     | 0.038338     |
| conf       | 0.403599     | 0.426416     | 0.418313     |
| cls        | 0.015624     | 0.018101     | 0.004225     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 0.882353     |
| recall75   | 0.705882     | 0.647059     | 0.823529     |
| precision  | 0.761905     | 0.242424     | 0.076142     |
| conf_obj   | 0.885367     | 0.871085     | 0.908907     |
| conf_noobj | 0.001333     | 0.001843     | 0.001941     |
+------------+--------------+--------------+--------------+
2020-12-19 17:52:51.051 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.713342
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.588015     | 1.080032     | 1.045295     |
| x          | 0.026582     | 0.033095     | 0.042067     |
| y          | 0.031433     | 0.044152     | 0.067753     |
| w          | 0.208327     | 0.043723     | 0.033998     |
| h          | 0.150309     | 0.039172     | 0.051650     |
| conf       | 1.084656     | 0.839236     | 0.798311     |
| cls        | 0.086708     | 0.080655     | 0.051516     |
| cls_acc    | 95.45%       | 95.65%       | 95.83%       |
| recall50   | 0.772727     | 0.826087     | 0.833333     |
| recall75   | 0.318182     | 0.521739     | 0.458333     |
| precision  | 0.531250     | 0.296875     | 0.094787     |
| conf_obj   | 0.757177     | 0.777980     | 0.816442     |
| conf_noobj | 0.002023     | 0.001351     | 0.001474     |
+------------+--------------+--------------+--------------+
2020-12-19 17:53:54.988 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.765411
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.083977     | 0.888115     | 0.793319     |
| x          | 0.037067     | 0.042149     | 0.054106     |
| y          | 0.014118     | 0.008421     | 0.055066     |
| w          | 0.119833     | 0.039885     | 0.047665     |
| h          | 0.130246     | 0.035864     | 0.035005     |
| conf       | 0.746830     | 0.677802     | 0.523767     |
| cls        | 0.035883     | 0.083994     | 0.077709     |
| cls_acc    | 100.00%      | 92.31%       | 96.55%       |
| recall50   | 0.692308     | 0.769231     | 0.793103     |
| recall75   | 0.384615     | 0.576923     | 0.620690     |
| precision  | 0.562500     | 0.238095     | 0.132948     |
| conf_obj   | 0.770309     | 0.828260     | 0.815649     |
| conf_noobj | 0.001403     | 0.001314     | 0.001044     |
+------------+--------------+--------------+--------------+
2020-12-19 17:54:56.777 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 3.344424
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.319944     | 1.103136     | 0.921344     |
| x          | 0.047788     | 0.039361     | 0.050376     |
| y          | 0.017992     | 0.026786     | 0.043568     |
| w          | 0.080138     | 0.069740     | 0.039673     |
| h          | 0.057530     | 0.057832     | 0.038725     |
| conf       | 0.887153     | 0.738056     | 0.628540     |
| cls        | 0.229343     | 0.171360     | 0.120463     |
| cls_acc    | 92.86%       | 91.49%       | 94.12%       |
| recall50   | 0.642857     | 0.723404     | 0.823529     |
| recall75   | 0.357143     | 0.425532     | 0.470588     |
| precision  | 0.586957     | 0.323810     | 0.135048     |
| conf_obj   | 0.737339     | 0.802286     | 0.846376     |
| conf_noobj | 0.001869     | 0.001534     | 0.001577     |
+------------+--------------+--------------+--------------+
2020-12-19 17:56:02.034 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.551356
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.851662     | 0.746718     | 0.952976     |
| x          | 0.015715     | 0.020117     | 0.036153     |
| y          | 0.025701     | 0.027631     | 0.036574     |
| w          | 0.050725     | 0.041642     | 0.059552     |
| h          | 0.053267     | 0.024313     | 0.027248     |
| conf       | 0.629651     | 0.606856     | 0.773097     |
| cls        | 0.076602     | 0.026159     | 0.020352     |
| cls_acc    | 91.67%       | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.833333     | 0.833333     |
| recall75   | 0.500000     | 0.666667     | 0.500000     |
| precision  | 0.243902     | 0.133333     | 0.052910     |
| conf_obj   | 0.881479     | 0.804893     | 0.778611     |
| conf_noobj | 0.002837     | 0.001867     | 0.001492     |
+------------+--------------+--------------+--------------+
2020-12-19 17:57:08.212 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.504201
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.833995     | 0.944687     | 0.725519     |
| x          | 0.020014     | 0.031430     | 0.028676     |
| y          | 0.014937     | 0.032323     | 0.037109     |
| w          | 0.025465     | 0.030351     | 0.014063     |
| h          | 0.053612     | 0.072599     | 0.067425     |
| conf       | 0.608086     | 0.619161     | 0.523025     |
| cls        | 0.111881     | 0.158824     | 0.055221     |
| cls_acc    | 92.31%       | 92.86%       | 96.43%       |
| recall50   | 0.730769     | 0.750000     | 0.785714     |
| recall75   | 0.692308     | 0.678571     | 0.714286     |
| precision  | 0.575758     | 0.256098     | 0.091286     |
| conf_obj   | 0.805018     | 0.806683     | 0.833640     |
| conf_noobj | 0.001385     | 0.001381     | 0.001361     |
+------------+--------------+--------------+--------------+
2020-12-19 17:58:24.525 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.541264
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.857730     | 0.833723     | 0.849811     |
| x          | 0.025666     | 0.035111     | 0.039811     |
| y          | 0.019770     | 0.017630     | 0.034949     |
| w          | 0.084981     | 0.057729     | 0.022500     |
| h          | 0.095081     | 0.084033     | 0.057134     |
| conf       | 0.547613     | 0.573007     | 0.578093     |
| cls        | 0.084619     | 0.066212     | 0.117323     |
| cls_acc    | 96.00%       | 96.30%       | 96.30%       |
| recall50   | 0.840000     | 0.814815     | 0.814815     |
| recall75   | 0.640000     | 0.555556     | 0.555556     |
| precision  | 0.656250     | 0.360656     | 0.129412     |
| conf_obj   | 0.854633     | 0.818482     | 0.825705     |
| conf_noobj | 0.001170     | 0.001522     | 0.001466     |
+------------+--------------+--------------+--------------+
2020-12-19 17:58:35.478 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 2.861
2020-12-19 17:58:35.482 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 17:59:54.099 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02228   | 0.26119 | 0.04106 | 0.05590 |
| 1     | Wear_helmet | 0.07817   | 0.95213 | 0.14448 | 0.69433 |
| 2     | Total       | 0.05023   | 0.60666 | 0.09277 | 0.37511 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 17:59:54.100 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.3751119894119847
2020-12-19 17:59:54.100 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 17:59:54.100 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:18.617767

2020-12-19 17:59:54.634 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 1/20, idx 1/2, epo 5/5
2020-12-19 17:59:54.635 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 1/20, idx 1/2, epo 5/5; time cost: 0:15:45.932196

2020-12-19 17:59:54.635 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 5.266
2020-12-19 17:59:54.844 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-19 18:04:29.118 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02822   | 0.37844 | 0.05251 | 0.10841 |
| 1     | Wear_helmet | 0.08584   | 0.89412 | 0.15664 | 0.60820 |
| 2     | Total       | 0.05703   | 0.63628 | 0.10458 | 0.35830 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:04:29.118 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.35830358868702394
2020-12-19 18:04:29.119 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-19 18:04:29.119 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:04:34.274204

2020-12-19 18:04:35.882 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 2!
2020-12-19 18:04:36.058 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 1/2, epo 1/5
2020-12-19 18:04:38.652 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 6.004382
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 2.256806     | 1.693889     | 2.053687     |
| x          | 0.034969     | 0.036675     | 0.053501     |
| y          | 0.024649     | 0.047718     | 0.064757     |
| w          | 0.365805     | 0.154171     | 0.056478     |
| h          | 0.261889     | 0.168422     | 0.046172     |
| conf       | 1.468876     | 1.149344     | 1.710400     |
| cls        | 0.100618     | 0.137559     | 0.122380     |
| cls_acc    | 100.00%      | 96.43%       | 96.55%       |
| recall50   | 0.538462     | 0.642857     | 0.586207     |
| recall75   | 0.076923     | 0.178571     | 0.344828     |
| precision  | 0.700000     | 0.206897     | 0.114865     |
| conf_obj   | 0.551391     | 0.702181     | 0.552736     |
| conf_noobj | 0.000833     | 0.002399     | 0.001066     |
+------------+--------------+--------------+--------------+
2020-12-19 18:05:39.617 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 6.990787
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 2.766529     | 2.329305     | 1.894953     |
| x          | 0.073595     | 0.030605     | 0.039873     |
| y          | 0.047744     | 0.039442     | 0.034327     |
| w          | 0.296142     | 0.112843     | 0.036844     |
| h          | 0.249460     | 0.076671     | 0.024739     |
| conf       | 1.838408     | 1.908783     | 1.693006     |
| cls        | 0.261180     | 0.160961     | 0.066164     |
| cls_acc    | 95.24%       | 90.48%       | 95.24%       |
| recall50   | 0.428571     | 0.571429     | 0.714286     |
| recall75   | 0.095238     | 0.428571     | 0.571429     |
| precision  | 0.360000     | 0.134831     | 0.046440     |
| conf_obj   | 0.503590     | 0.572576     | 0.668156     |
| conf_noobj | 0.005502     | 0.005460     | 0.003423     |
+------------+--------------+--------------+--------------+
2020-12-19 18:06:47.566 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 5.329637
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 2.086724     | 1.806616     | 1.436296     |
| x          | 0.065755     | 0.059718     | 0.048817     |
| y          | 0.044841     | 0.047957     | 0.060531     |
| w          | 0.172748     | 0.095594     | 0.086238     |
| h          | 0.190346     | 0.112785     | 0.067510     |
| conf       | 1.412139     | 1.173688     | 0.970393     |
| cls        | 0.200896     | 0.316875     | 0.202807     |
| cls_acc    | 92.00%       | 78.57%       | 85.71%       |
| recall50   | 0.600000     | 0.571429     | 0.678571     |
| recall75   | 0.200000     | 0.392857     | 0.392857     |
| precision  | 0.306122     | 0.139130     | 0.055556     |
| conf_obj   | 0.672245     | 0.686397     | 0.720285     |
| conf_noobj | 0.004890     | 0.004100     | 0.003089     |
+------------+--------------+--------------+--------------+
2020-12-19 18:07:51.905 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.451247
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.563547     | 0.974424     | 0.913276     |
| x          | 0.043893     | 0.028229     | 0.036759     |
| y          | 0.026337     | 0.020415     | 0.029699     |
| w          | 0.122333     | 0.059549     | 0.072959     |
| h          | 0.149396     | 0.037108     | 0.090850     |
| conf       | 1.160332     | 0.786200     | 0.629297     |
| cls        | 0.061256     | 0.042922     | 0.053713     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.636364     | 0.869565     | 0.826087     |
| recall75   | 0.181818     | 0.565217     | 0.652174     |
| precision  | 0.378378     | 0.243902     | 0.066202     |
| conf_obj   | 0.693557     | 0.785731     | 0.811091     |
| conf_noobj | 0.003214     | 0.002908     | 0.002295     |
+------------+--------------+--------------+--------------+
2020-12-19 18:09:00.651 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 5.524064
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 2.054773     | 1.810946     | 1.658345     |
| x          | 0.032831     | 0.042016     | 0.039903     |
| y          | 0.038159     | 0.029412     | 0.059854     |
| w          | 0.141915     | 0.067914     | 0.044547     |
| h          | 0.130874     | 0.057843     | 0.057741     |
| conf       | 1.020831     | 0.673785     | 0.778192     |
| cls        | 0.690164     | 0.939977     | 0.678108     |
| cls_acc    | 74.19%       | 72.73%       | 81.82%       |
| recall50   | 0.548387     | 0.636364     | 0.696970     |
| recall75   | 0.193548     | 0.484848     | 0.424242     |
| precision  | 0.531250     | 0.223404     | 0.065156     |
| conf_obj   | 0.714849     | 0.786260     | 0.771901     |
| conf_noobj | 0.002269     | 0.002284     | 0.002297     |
+------------+--------------+--------------+--------------+
2020-12-19 18:10:09.820 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 7.414079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 2.768734     | 2.446985     | 2.198360     |
| x          | 0.046764     | 0.043492     | 0.028799     |
| y          | 0.045018     | 0.048209     | 0.048328     |
| w          | 0.343311     | 0.159703     | 0.044118     |
| h          | 0.427339     | 0.197102     | 0.043796     |
| conf       | 1.470219     | 1.710246     | 1.762782     |
| cls        | 0.436082     | 0.288233     | 0.270537     |
| cls_acc    | 64.52%       | 83.87%       | 81.82%       |
| recall50   | 0.387097     | 0.516129     | 0.545455     |
| recall75   | 0.129032     | 0.354839     | 0.272727     |
| precision  | 0.352941     | 0.202532     | 0.079646     |
| conf_obj   | 0.601515     | 0.603260     | 0.600670     |
| conf_noobj | 0.002920     | 0.002197     | 0.001958     |
+------------+--------------+--------------+--------------+
2020-12-19 18:11:19.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 4.904528
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 2.083933     | 1.442952     | 1.377642     |
| x          | 0.053074     | 0.031763     | 0.046236     |
| y          | 0.027717     | 0.022263     | 0.044463     |
| w          | 0.081742     | 0.105205     | 0.182776     |
| h          | 0.068089     | 0.031361     | 0.100987     |
| conf       | 1.613803     | 1.092146     | 0.929485     |
| cls        | 0.239507     | 0.160214     | 0.073697     |
| cls_acc    | 92.00%       | 96.15%       | 100.00%      |
| recall50   | 0.720000     | 0.807692     | 0.896552     |
| recall75   | 0.200000     | 0.500000     | 0.758621     |
| precision  | 0.281250     | 0.172131     | 0.067010     |
| conf_obj   | 0.811151     | 0.785911     | 0.821129     |
| conf_noobj | 0.004631     | 0.002782     | 0.002672     |
+------------+--------------+--------------+--------------+
2020-12-19 18:12:23.984 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 3.908998
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.642628     | 1.189849     | 1.076521     |
| x          | 0.047252     | 0.009401     | 0.043070     |
| y          | 0.050493     | 0.022667     | 0.046909     |
| w          | 0.158041     | 0.113245     | 0.085564     |
| h          | 0.095106     | 0.090440     | 0.058683     |
| conf       | 1.075105     | 0.854533     | 0.811099     |
| cls        | 0.216631     | 0.099565     | 0.031196     |
| cls_acc    | 90.00%       | 95.24%       | 100.00%      |
| recall50   | 0.700000     | 0.809524     | 0.772727     |
| recall75   | 0.350000     | 0.714286     | 0.500000     |
| precision  | 0.500000     | 0.269841     | 0.084577     |
| conf_obj   | 0.723846     | 0.758177     | 0.787810     |
| conf_noobj | 0.002503     | 0.001917     | 0.001966     |
+------------+--------------+--------------+--------------+
2020-12-19 18:13:31.237 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.561653
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.410729     | 1.032462     | 1.118462     |
| x          | 0.020988     | 0.025819     | 0.049955     |
| y          | 0.017894     | 0.016883     | 0.036787     |
| w          | 0.078501     | 0.084392     | 0.063333     |
| h          | 0.121032     | 0.114522     | 0.063824     |
| conf       | 1.057016     | 0.664318     | 0.869924     |
| cls        | 0.115298     | 0.126529     | 0.034639     |
| cls_acc    | 92.86%       | 92.86%       | 100.00%      |
| recall50   | 0.785714     | 0.785714     | 0.785714     |
| recall75   | 0.500000     | 0.428571     | 0.785714     |
| precision  | 0.275000     | 0.122222     | 0.042969     |
| conf_obj   | 0.754269     | 0.790062     | 0.759145     |
| conf_noobj | 0.002799     | 0.002205     | 0.001837     |
+------------+--------------+--------------+--------------+
2020-12-19 18:14:39.754 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 3.991596
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.606854     | 1.428791     | 0.955950     |
| x          | 0.047475     | 0.032904     | 0.056619     |
| y          | 0.020960     | 0.054957     | 0.063918     |
| w          | 0.235340     | 0.194452     | 0.078404     |
| h          | 0.192158     | 0.164158     | 0.067402     |
| conf       | 0.845141     | 0.712554     | 0.631024     |
| cls        | 0.265780     | 0.269766     | 0.058582     |
| cls_acc    | 87.50%       | 88.89%       | 100.00%      |
| recall50   | 0.666667     | 0.777778     | 0.896552     |
| recall75   | 0.250000     | 0.518519     | 0.517241     |
| precision  | 0.355556     | 0.205882     | 0.093863     |
| conf_obj   | 0.795292     | 0.812391     | 0.823161     |
| conf_noobj | 0.003174     | 0.002399     | 0.002293     |
+------------+--------------+--------------+--------------+
2020-12-19 18:15:44.898 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.209631
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.772376     | 0.905227     | 0.532028     |
| x          | 0.028276     | 0.012725     | 0.029590     |
| y          | 0.031192     | 0.030814     | 0.023211     |
| w          | 0.081186     | 0.058884     | 0.018873     |
| h          | 0.058563     | 0.079815     | 0.016667     |
| conf       | 0.566605     | 0.717746     | 0.441695     |
| cls        | 0.006554     | 0.005242     | 0.001992     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 0.866667     | 0.933333     |
| recall75   | 0.266667     | 0.333333     | 0.800000     |
| precision  | 0.333333     | 0.196970     | 0.056452     |
| conf_obj   | 0.861100     | 0.819066     | 0.891866     |
| conf_noobj | 0.002448     | 0.001707     | 0.001846     |
+------------+--------------+--------------+--------------+
2020-12-19 18:16:43.895 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 3.616255
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.474100     | 1.105974     | 1.036181     |
| x          | 0.050021     | 0.029894     | 0.047270     |
| y          | 0.029190     | 0.026403     | 0.030615     |
| w          | 0.175289     | 0.060592     | 0.070201     |
| h          | 0.155521     | 0.055199     | 0.047678     |
| conf       | 0.863982     | 0.865282     | 0.795336     |
| cls        | 0.200097     | 0.068604     | 0.045080     |
| cls_acc    | 94.59%       | 100.00%      | 100.00%      |
| recall50   | 0.756757     | 0.868421     | 0.820513     |
| recall75   | 0.189189     | 0.605263     | 0.615385     |
| precision  | 0.509091     | 0.292035     | 0.119403     |
| conf_obj   | 0.745229     | 0.774164     | 0.754776     |
| conf_noobj | 0.002849     | 0.002355     | 0.002003     |
+------------+--------------+--------------+--------------+
2020-12-19 18:17:46.867 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.803195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.002423     | 0.886415     | 0.914357     |
| x          | 0.042646     | 0.028452     | 0.048302     |
| y          | 0.012504     | 0.030865     | 0.075081     |
| w          | 0.085895     | 0.013986     | 0.018889     |
| h          | 0.096987     | 0.036334     | 0.061589     |
| conf       | 0.655555     | 0.671908     | 0.584353     |
| cls        | 0.108836     | 0.104870     | 0.126143     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.818182     | 0.818182     | 0.772727     |
| recall75   | 0.545455     | 0.636364     | 0.545455     |
| precision  | 0.529412     | 0.240000     | 0.076577     |
| conf_obj   | 0.823317     | 0.805436     | 0.810105     |
| conf_noobj | 0.002538     | 0.001976     | 0.001967     |
+------------+--------------+--------------+--------------+
2020-12-19 18:18:55.807 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.541713
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.176987     | 1.281420     | 1.083306     |
| x          | 0.035101     | 0.035239     | 0.061190     |
| y          | 0.017694     | 0.015236     | 0.031029     |
| w          | 0.195141     | 0.125711     | 0.134038     |
| h          | 0.274477     | 0.236081     | 0.141800     |
| conf       | 0.606893     | 0.836061     | 0.705103     |
| cls        | 0.047681     | 0.033092     | 0.010146     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.800000     | 0.772727     |
| recall75   | 0.210526     | 0.300000     | 0.590909     |
| precision  | 0.592593     | 0.225352     | 0.073276     |
| conf_obj   | 0.859920     | 0.824125     | 0.884087     |
| conf_noobj | 0.002040     | 0.001982     | 0.001627     |
+------------+--------------+--------------+--------------+
2020-12-19 18:19:08.103 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 5.656
2020-12-19 18:19:08.107 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 18:20:14.238 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03251   | 0.18408 | 0.05527 | 0.03937 |
| 1     | Wear_helmet | 0.23037   | 0.90237 | 0.36704 | 0.67017 |
| 2     | Total       | 0.13144   | 0.54322 | 0.21115 | 0.35477 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:20:14.239 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.3547710645399597
2020-12-19 18:20:14.239 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 18:20:14.239 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:06.131929

2020-12-19 18:20:14.713 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 1/2, epo 1/5
2020-12-19 18:20:14.713 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 1/2, epo 1/5; time cost: 0:15:38.654783

2020-12-19 18:20:14.713 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 1/2, epo 2/5
2020-12-19 18:20:15.939 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.551290
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.001913     | 0.835068     | 0.714309     |
| x          | 0.025331     | 0.034775     | 0.061755     |
| y          | 0.019640     | 0.010207     | 0.017544     |
| w          | 0.113012     | 0.118715     | 0.021641     |
| h          | 0.080431     | 0.085050     | 0.024120     |
| conf       | 0.671811     | 0.512096     | 0.471124     |
| cls        | 0.091687     | 0.074226     | 0.118126     |
| cls_acc    | 94.12%       | 94.44%       | 94.44%       |
| recall50   | 0.823529     | 0.888889     | 0.833333     |
| recall75   | 0.529412     | 0.611111     | 0.777778     |
| precision  | 0.500000     | 0.313726     | 0.092593     |
| conf_obj   | 0.874578     | 0.897497     | 0.913951     |
| conf_noobj | 0.002239     | 0.001479     | 0.001411     |
+------------+--------------+--------------+--------------+
2020-12-19 18:21:16.799 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.287553
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.903297     | 0.746850     | 0.637407     |
| x          | 0.041687     | 0.018205     | 0.043249     |
| y          | 0.028016     | 0.019564     | 0.055258     |
| w          | 0.077762     | 0.026910     | 0.028526     |
| h          | 0.067743     | 0.027216     | 0.018528     |
| conf       | 0.617349     | 0.623850     | 0.459041     |
| cls        | 0.070740     | 0.031106     | 0.032805     |
| cls_acc    | 95.24%       | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 0.904762     |
| recall75   | 0.285714     | 0.761905     | 0.714286     |
| precision  | 0.377358     | 0.166667     | 0.065972     |
| conf_obj   | 0.880502     | 0.810731     | 0.864451     |
| conf_noobj | 0.002963     | 0.002348     | 0.001615     |
+------------+--------------+--------------+--------------+
2020-12-19 18:22:28.245 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.263990
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.785182     | 0.841572     | 0.637236     |
| x          | 0.032657     | 0.024334     | 0.029343     |
| y          | 0.020305     | 0.013272     | 0.046663     |
| w          | 0.111328     | 0.058965     | 0.011895     |
| h          | 0.134037     | 0.071416     | 0.035958     |
| conf       | 0.471423     | 0.662324     | 0.501382     |
| cls        | 0.015432     | 0.011260     | 0.011995     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.913043     | 0.913043     |
| recall75   | 0.347826     | 0.521739     | 0.739130     |
| precision  | 0.612903     | 0.318182     | 0.078947     |
| conf_obj   | 0.876493     | 0.870104     | 0.872802     |
| conf_noobj | 0.001726     | 0.001437     | 0.002087     |
+------------+--------------+--------------+--------------+
2020-12-19 18:23:35.017 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.789753
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.655903     | 1.093775     | 1.040075     |
| x          | 0.033447     | 0.031333     | 0.042035     |
| y          | 0.020179     | 0.025661     | 0.052262     |
| w          | 0.197633     | 0.071361     | 0.020490     |
| h          | 0.262278     | 0.067173     | 0.035682     |
| conf       | 1.012427     | 0.821936     | 0.775660     |
| cls        | 0.129939     | 0.076310     | 0.113947     |
| cls_acc    | 92.86%       | 96.55%       | 93.10%       |
| recall50   | 0.714286     | 0.758621     | 0.862069     |
| recall75   | 0.214286     | 0.448276     | 0.689655     |
| precision  | 0.465116     | 0.255814     | 0.076923     |
| conf_obj   | 0.818241     | 0.782728     | 0.854244     |
| conf_noobj | 0.002851     | 0.002167     | 0.002419     |
+------------+--------------+--------------+--------------+
2020-12-19 18:24:36.111 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.589650
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.334159     | 1.126519     | 1.128972     |
| x          | 0.026110     | 0.042054     | 0.040918     |
| y          | 0.040188     | 0.029569     | 0.054554     |
| w          | 0.174316     | 0.067938     | 0.019306     |
| h          | 0.149083     | 0.071774     | 0.026212     |
| conf       | 0.825997     | 0.838112     | 0.864212     |
| cls        | 0.118464     | 0.077072     | 0.123771     |
| cls_acc    | 96.43%       | 100.00%      | 93.10%       |
| recall50   | 0.678571     | 0.793103     | 0.724138     |
| recall75   | 0.285714     | 0.586207     | 0.586207     |
| precision  | 0.487179     | 0.237113     | 0.095023     |
| conf_obj   | 0.745287     | 0.749639     | 0.682727     |
| conf_noobj | 0.001880     | 0.002056     | 0.001553     |
+------------+--------------+--------------+--------------+
2020-12-19 18:25:43.741 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 3.357620
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.359600     | 1.041161     | 0.956859     |
| x          | 0.038078     | 0.033475     | 0.027694     |
| y          | 0.042788     | 0.021925     | 0.029261     |
| w          | 0.133320     | 0.064910     | 0.013851     |
| h          | 0.113685     | 0.052446     | 0.029216     |
| conf       | 0.865637     | 0.771946     | 0.745768     |
| cls        | 0.166093     | 0.096461     | 0.111068     |
| cls_acc    | 96.43%       | 96.55%       | 96.55%       |
| recall50   | 0.678571     | 0.862069     | 0.827586     |
| recall75   | 0.285714     | 0.551724     | 0.758621     |
| precision  | 0.500000     | 0.268817     | 0.100840     |
| conf_obj   | 0.739926     | 0.811574     | 0.838846     |
| conf_noobj | 0.002566     | 0.002417     | 0.001786     |
+------------+--------------+--------------+--------------+
2020-12-19 18:26:51.533 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.568576
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.050166     | 0.841134     | 0.677277     |
| x          | 0.015943     | 0.021192     | 0.018434     |
| y          | 0.022123     | 0.024787     | 0.036212     |
| w          | 0.122946     | 0.034309     | 0.021797     |
| h          | 0.117430     | 0.025423     | 0.026176     |
| conf       | 0.550931     | 0.582744     | 0.523904     |
| cls        | 0.220794     | 0.152679     | 0.050754     |
| cls_acc    | 86.67%       | 93.33%       | 100.00%      |
| recall50   | 0.766667     | 0.766667     | 0.900000     |
| recall75   | 0.400000     | 0.600000     | 0.800000     |
| precision  | 0.605263     | 0.232323     | 0.090909     |
| conf_obj   | 0.825724     | 0.825116     | 0.880886     |
| conf_noobj | 0.001668     | 0.002008     | 0.001968     |
+------------+--------------+--------------+--------------+
2020-12-19 18:28:00.379 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.295532
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.533252     | 0.411083     | 0.351197     |
| x          | 0.019517     | 0.037262     | 0.053833     |
| y          | 0.013053     | 0.023165     | 0.035852     |
| w          | 0.054403     | 0.034351     | 0.015175     |
| h          | 0.065756     | 0.032604     | 0.016022     |
| conf       | 0.373561     | 0.279231     | 0.225750     |
| cls        | 0.006961     | 0.004470     | 0.004566     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.666667     | 0.684211     | 0.842105     |
| precision  | 0.514286     | 0.279412     | 0.115152     |
| conf_obj   | 0.938416     | 0.936897     | 0.952471     |
| conf_noobj | 0.002251     | 0.001489     | 0.001124     |
+------------+--------------+--------------+--------------+
2020-12-19 18:29:05.990 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 4.527555
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.788933     | 1.424181     | 1.314442     |
| x          | 0.039109     | 0.048114     | 0.036535     |
| y          | 0.021072     | 0.027453     | 0.033368     |
| w          | 0.151760     | 0.088319     | 0.052753     |
| h          | 0.178143     | 0.121597     | 0.078344     |
| conf       | 1.134837     | 0.940082     | 0.887784     |
| cls        | 0.264011     | 0.198616     | 0.225657     |
| cls_acc    | 88.46%       | 89.66%       | 90.00%       |
| recall50   | 0.615385     | 0.689655     | 0.800000     |
| recall75   | 0.307692     | 0.448276     | 0.633333     |
| precision  | 0.457143     | 0.256410     | 0.084507     |
| conf_obj   | 0.678115     | 0.751765     | 0.772387     |
| conf_noobj | 0.002034     | 0.001755     | 0.001851     |
+------------+--------------+--------------+--------------+
2020-12-19 18:30:10.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.602905
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.012997     | 0.810021     | 0.779887     |
| x          | 0.027573     | 0.020383     | 0.026581     |
| y          | 0.008340     | 0.009362     | 0.026069     |
| w          | 0.041665     | 0.035195     | 0.018570     |
| h          | 0.056269     | 0.017579     | 0.031964     |
| conf       | 0.742713     | 0.538670     | 0.486377     |
| cls        | 0.136437     | 0.188832     | 0.190327     |
| cls_acc    | 95.00%       | 90.00%       | 90.00%       |
| recall50   | 0.750000     | 0.800000     | 0.850000     |
| recall75   | 0.550000     | 0.600000     | 0.600000     |
| precision  | 0.483871     | 0.242424     | 0.095506     |
| conf_obj   | 0.772135     | 0.839701     | 0.876270     |
| conf_noobj | 0.001987     | 0.001751     | 0.001370     |
+------------+--------------+--------------+--------------+
2020-12-19 18:31:14.893 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.638244
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.743869     | 0.532429     | 0.361946     |
| x          | 0.033161     | 0.017447     | 0.015757     |
| y          | 0.029692     | 0.011807     | 0.028994     |
| w          | 0.093787     | 0.052601     | 0.008067     |
| h          | 0.037542     | 0.036387     | 0.023364     |
| conf       | 0.475815     | 0.377586     | 0.275041     |
| cls        | 0.073873     | 0.036601     | 0.010721     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 1.000000     | 1.000000     |
| recall75   | 0.600000     | 0.647059     | 1.000000     |
| precision  | 0.419355     | 0.239437     | 0.107595     |
| conf_obj   | 0.918091     | 0.917128     | 0.967811     |
| conf_noobj | 0.002466     | 0.001884     | 0.001535     |
+------------+--------------+--------------+--------------+
2020-12-19 18:32:18.835 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.263489
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.883245     | 0.668674     | 0.711570     |
| x          | 0.027442     | 0.035230     | 0.032073     |
| y          | 0.019781     | 0.013895     | 0.049635     |
| w          | 0.068213     | 0.040482     | 0.033954     |
| h          | 0.086179     | 0.037951     | 0.029308     |
| conf       | 0.595506     | 0.479468     | 0.529019     |
| cls        | 0.086125     | 0.061648     | 0.037581     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.760000     | 0.892857     | 0.928571     |
| recall75   | 0.520000     | 0.678571     | 0.678571     |
| precision  | 0.760000     | 0.373134     | 0.102767     |
| conf_obj   | 0.816388     | 0.846879     | 0.862247     |
| conf_noobj | 0.001178     | 0.001301     | 0.001666     |
+------------+--------------+--------------+--------------+
2020-12-19 18:33:25.327 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 3.059063
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.105670     | 0.888772     | 1.064622     |
| x          | 0.038746     | 0.017650     | 0.035336     |
| y          | 0.020368     | 0.034411     | 0.028452     |
| w          | 0.067232     | 0.031123     | 0.021535     |
| h          | 0.061223     | 0.029030     | 0.044231     |
| conf       | 0.802453     | 0.643690     | 0.770178     |
| cls        | 0.115648     | 0.132868     | 0.164888     |
| cls_acc    | 95.45%       | 95.65%       | 92.00%       |
| recall50   | 0.818182     | 0.913043     | 0.840000     |
| recall75   | 0.500000     | 0.695652     | 0.560000     |
| precision  | 0.450000     | 0.218750     | 0.080769     |
| conf_obj   | 0.813078     | 0.854537     | 0.821950     |
| conf_noobj | 0.003219     | 0.002713     | 0.002288     |
+------------+--------------+--------------+--------------+
2020-12-19 18:34:32.272 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.457732
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.876974     | 0.704022     | 0.876736     |
| x          | 0.012915     | 0.032754     | 0.039507     |
| y          | 0.021248     | 0.021745     | 0.047402     |
| w          | 0.184869     | 0.115252     | 0.088108     |
| h          | 0.115233     | 0.093086     | 0.065183     |
| conf       | 0.495879     | 0.415481     | 0.581782     |
| cls        | 0.046829     | 0.025704     | 0.054754     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.851852     | 0.827586     |
| recall75   | 0.600000     | 0.592593     | 0.482759     |
| precision  | 0.750000     | 0.261364     | 0.109589     |
| conf_obj   | 0.856449     | 0.911132     | 0.848997     |
| conf_noobj | 0.001789     | 0.001904     | 0.001697     |
+------------+--------------+--------------+--------------+
2020-12-19 18:34:44.030 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 3.160
2020-12-19 18:34:44.043 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 18:35:52.244 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02212   | 0.20647 | 0.03996 | 0.03765 |
| 1     | Wear_helmet | 0.14163   | 0.94028 | 0.24618 | 0.75277 |
| 2     | Total       | 0.08188   | 0.57338 | 0.14307 | 0.39521 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:35:52.244 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.3952115119349925
2020-12-19 18:35:52.245 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 18:35:52.245 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:08.201396

2020-12-19 18:35:52.709 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 1/2, epo 2/5
2020-12-19 18:35:52.709 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 1/2, epo 2/5; time cost: 0:15:37.995549

2020-12-19 18:35:52.710 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 1/2, epo 3/5
2020-12-19 18:35:53.863 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 3.366210
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.324502     | 1.050778     | 0.990931     |
| x          | 0.048857     | 0.022313     | 0.025299     |
| y          | 0.021721     | 0.027328     | 0.044098     |
| w          | 0.105451     | 0.081164     | 0.011040     |
| h          | 0.107075     | 0.064767     | 0.018167     |
| conf       | 0.967090     | 0.759457     | 0.818450     |
| cls        | 0.074307     | 0.095750     | 0.073876     |
| cls_acc    | 100.00%      | 95.00%       | 95.00%       |
| recall50   | 0.800000     | 0.800000     | 0.850000     |
| recall75   | 0.550000     | 0.700000     | 0.800000     |
| precision  | 0.615385     | 0.250000     | 0.087629     |
| conf_obj   | 0.786213     | 0.812403     | 0.804254     |
| conf_noobj | 0.002024     | 0.001752     | 0.001784     |
+------------+--------------+--------------+--------------+
2020-12-19 18:36:57.843 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.720760
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.995328     | 0.912590     | 0.812842     |
| x          | 0.040904     | 0.013375     | 0.016599     |
| y          | 0.056345     | 0.018976     | 0.033744     |
| w          | 0.122723     | 0.050329     | 0.027715     |
| h          | 0.119120     | 0.047399     | 0.041186     |
| conf       | 0.606838     | 0.692035     | 0.622616     |
| cls        | 0.049398     | 0.090476     | 0.070982     |
| cls_acc    | 100.00%      | 94.12%       | 97.14%       |
| recall50   | 0.781250     | 0.852941     | 0.885714     |
| recall75   | 0.437500     | 0.676471     | 0.714286     |
| precision  | 0.675676     | 0.439394     | 0.149758     |
| conf_obj   | 0.785659     | 0.791947     | 0.846328     |
| conf_noobj | 0.001460     | 0.001453     | 0.001408     |
+------------+--------------+--------------+--------------+
2020-12-19 18:38:03.687 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.190704
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.846015     | 0.670748     | 0.673942     |
| x          | 0.013325     | 0.018616     | 0.042445     |
| y          | 0.021834     | 0.017847     | 0.056364     |
| w          | 0.071352     | 0.046241     | 0.017738     |
| h          | 0.063651     | 0.029063     | 0.026008     |
| conf       | 0.648266     | 0.543553     | 0.514763     |
| cls        | 0.027586     | 0.015428     | 0.016624     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.947368     | 0.894737     |
| recall75   | 0.578947     | 0.736842     | 0.842105     |
| precision  | 0.500000     | 0.230769     | 0.061818     |
| conf_obj   | 0.871116     | 0.899300     | 0.885029     |
| conf_noobj | 0.002323     | 0.001922     | 0.002080     |
+------------+--------------+--------------+--------------+
2020-12-19 18:39:12.210 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.337699
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.298949     | 1.095428     | 0.943322     |
| x          | 0.026912     | 0.026273     | 0.032406     |
| y          | 0.027563     | 0.040327     | 0.051687     |
| w          | 0.040741     | 0.035783     | 0.022159     |
| h          | 0.038660     | 0.054170     | 0.047035     |
| conf       | 1.107795     | 0.869405     | 0.747028     |
| cls        | 0.057277     | 0.069470     | 0.043007     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.720000     | 0.777778     | 0.888889     |
| recall75   | 0.640000     | 0.555556     | 0.555556     |
| precision  | 0.486486     | 0.238636     | 0.086022     |
| conf_obj   | 0.771394     | 0.782109     | 0.831723     |
| conf_noobj | 0.001908     | 0.001621     | 0.001596     |
+------------+--------------+--------------+--------------+
2020-12-19 18:40:18.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 4.428722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.731359     | 1.554903     | 1.142460     |
| x          | 0.031079     | 0.038364     | 0.043985     |
| y          | 0.037918     | 0.035046     | 0.033256     |
| w          | 0.147113     | 0.077998     | 0.049634     |
| h          | 0.252099     | 0.135165     | 0.101042     |
| conf       | 1.066580     | 1.192139     | 0.840824     |
| cls        | 0.196570     | 0.076190     | 0.073719     |
| cls_acc    | 92.59%       | 100.00%      | 100.00%      |
| recall50   | 0.777778     | 0.750000     | 0.793103     |
| recall75   | 0.629630     | 0.607143     | 0.620690     |
| precision  | 0.552632     | 0.247059     | 0.076159     |
| conf_obj   | 0.773735     | 0.726673     | 0.777209     |
| conf_noobj | 0.001919     | 0.002240     | 0.002141     |
+------------+--------------+--------------+--------------+
2020-12-19 18:41:22.571 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.361120
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.833829     | 0.831220     | 0.696070     |
| x          | 0.027064     | 0.034448     | 0.040673     |
| y          | 0.010620     | 0.014934     | 0.045855     |
| w          | 0.040808     | 0.034820     | 0.016488     |
| h          | 0.086441     | 0.026402     | 0.036655     |
| conf       | 0.474590     | 0.489188     | 0.346991     |
| cls        | 0.194307     | 0.231427     | 0.209408     |
| cls_acc    | 95.24%       | 90.91%       | 90.91%       |
| recall50   | 0.857143     | 0.772727     | 0.909091     |
| recall75   | 0.666667     | 0.636364     | 0.681818     |
| precision  | 0.666667     | 0.274194     | 0.101010     |
| conf_obj   | 0.846593     | 0.844240     | 0.921900     |
| conf_noobj | 0.001668     | 0.001655     | 0.001659     |
+------------+--------------+--------------+--------------+
2020-12-19 18:42:28.215 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.383035
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.062600     | 0.680156     | 0.640278     |
| x          | 0.027713     | 0.037621     | 0.046981     |
| y          | 0.048612     | 0.017932     | 0.047746     |
| w          | 0.099395     | 0.040570     | 0.043983     |
| h          | 0.145188     | 0.057977     | 0.049925     |
| conf       | 0.711777     | 0.489667     | 0.428330     |
| cls        | 0.029916     | 0.036388     | 0.023313     |
| cls_acc    | 100.00%      | 95.83%       | 100.00%      |
| recall50   | 0.681818     | 0.875000     | 0.833333     |
| recall75   | 0.363636     | 0.625000     | 0.541667     |
| precision  | 0.394737     | 0.214286     | 0.067114     |
| conf_obj   | 0.803576     | 0.875935     | 0.898103     |
| conf_noobj | 0.002136     | 0.001906     | 0.001826     |
+------------+--------------+--------------+--------------+
2020-12-19 18:43:32.972 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.530460
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.546457     | 0.589358     | 0.394646     |
| x          | 0.019214     | 0.020395     | 0.029344     |
| y          | 0.018262     | 0.027633     | 0.039540     |
| w          | 0.075466     | 0.043775     | 0.035653     |
| h          | 0.060951     | 0.029315     | 0.026078     |
| conf       | 0.309600     | 0.430302     | 0.252665     |
| cls        | 0.062964     | 0.037938     | 0.011365     |
| cls_acc    | 96.15%       | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.884615     | 0.961538     |
| recall75   | 0.538462     | 0.692308     | 0.846154     |
| precision  | 0.575000     | 0.291139     | 0.115741     |
| conf_obj   | 0.915910     | 0.854781     | 0.960175     |
| conf_noobj | 0.001538     | 0.001556     | 0.001326     |
+------------+--------------+--------------+--------------+
2020-12-19 18:44:36.637 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.104665
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.659426     | 0.737898     | 0.707341     |
| x          | 0.014738     | 0.009218     | 0.028860     |
| y          | 0.024283     | 0.025719     | 0.064458     |
| w          | 0.050141     | 0.042310     | 0.030081     |
| h          | 0.079876     | 0.043532     | 0.035110     |
| conf       | 0.457069     | 0.552566     | 0.469822     |
| cls        | 0.033321     | 0.064553     | 0.079009     |
| cls_acc    | 100.00%      | 96.43%       | 96.43%       |
| recall50   | 0.925926     | 0.857143     | 0.892857     |
| recall75   | 0.629630     | 0.678571     | 0.642857     |
| precision  | 0.675676     | 0.289157     | 0.109170     |
| conf_obj   | 0.886578     | 0.839310     | 0.892479     |
| conf_noobj | 0.001500     | 0.001501     | 0.001352     |
+------------+--------------+--------------+--------------+
2020-12-19 18:45:44.728 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.749333
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.580413     | 0.601112     | 0.567808     |
| x          | 0.014332     | 0.032682     | 0.024922     |
| y          | 0.015493     | 0.013668     | 0.022246     |
| w          | 0.047444     | 0.030705     | 0.020451     |
| h          | 0.042210     | 0.028936     | 0.038702     |
| conf       | 0.426039     | 0.484584     | 0.445372     |
| cls        | 0.034894     | 0.010537     | 0.016114     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.846154     | 0.923077     |
| recall75   | 0.720000     | 0.769231     | 0.807692     |
| precision  | 0.687500     | 0.289474     | 0.098765     |
| conf_obj   | 0.861442     | 0.857605     | 0.890551     |
| conf_noobj | 0.001302     | 0.001486     | 0.001574     |
+------------+--------------+--------------+--------------+
2020-12-19 18:47:00.467 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 3.358008
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.089881     | 1.236257     | 1.031871     |
| x          | 0.048902     | 0.034252     | 0.046546     |
| y          | 0.028574     | 0.029279     | 0.035681     |
| w          | 0.096952     | 0.049724     | 0.023954     |
| h          | 0.091025     | 0.052800     | 0.039578     |
| conf       | 0.568321     | 0.775129     | 0.678919     |
| cls        | 0.256107     | 0.295071     | 0.207193     |
| cls_acc    | 88.10%       | 91.67%       | 91.84%       |
| recall50   | 0.761905     | 0.791667     | 0.795918     |
| recall75   | 0.357143     | 0.541667     | 0.673469     |
| precision  | 0.640000     | 0.358491     | 0.123418     |
| conf_obj   | 0.836475     | 0.816137     | 0.833072     |
| conf_noobj | 0.001322     | 0.001414     | 0.001603     |
+------------+--------------+--------------+--------------+
2020-12-19 18:48:04.526 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.053418
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.786629     | 0.647378     | 0.619411     |
| x          | 0.038098     | 0.026164     | 0.055050     |
| y          | 0.010591     | 0.008245     | 0.038005     |
| w          | 0.064858     | 0.063340     | 0.061840     |
| h          | 0.060585     | 0.050561     | 0.049646     |
| conf       | 0.586795     | 0.467827     | 0.365493     |
| cls        | 0.025704     | 0.031240     | 0.049378     |
| cls_acc    | 100.00%      | 100.00%      | 96.30%       |
| recall50   | 0.750000     | 0.916667     | 0.814815     |
| recall75   | 0.583333     | 0.666667     | 0.592593     |
| precision  | 0.473684     | 0.255814     | 0.080882     |
| conf_obj   | 0.856887     | 0.884173     | 0.913832     |
| conf_noobj | 0.002330     | 0.001865     | 0.001719     |
+------------+--------------+--------------+--------------+
2020-12-19 18:49:05.781 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.755543
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.965084     | 1.090461     | 0.699997     |
| x          | 0.030200     | 0.018525     | 0.027241     |
| y          | 0.014800     | 0.014534     | 0.037930     |
| w          | 0.118693     | 0.074131     | 0.048446     |
| h          | 0.075310     | 0.087245     | 0.048404     |
| conf       | 0.608464     | 0.829208     | 0.491111     |
| cls        | 0.117618     | 0.066818     | 0.046866     |
| cls_acc    | 95.00%       | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.857143     | 0.857143     |
| recall75   | 0.500000     | 0.523810     | 0.571429     |
| precision  | 0.459459     | 0.243243     | 0.091371     |
| conf_obj   | 0.896096     | 0.827005     | 0.853387     |
| conf_noobj | 0.002362     | 0.001775     | 0.001441     |
+------------+--------------+--------------+--------------+
2020-12-19 18:50:10.592 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.076010
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.167499     | 0.883320     | 1.025192     |
| x          | 0.019698     | 0.020220     | 0.020701     |
| y          | 0.010511     | 0.028654     | 0.038671     |
| w          | 0.141462     | 0.087311     | 0.054543     |
| h          | 0.130773     | 0.106455     | 0.054129     |
| conf       | 0.805516     | 0.600421     | 0.824490     |
| cls        | 0.059539     | 0.040259     | 0.032657     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.809524     | 0.818182     |
| recall75   | 0.450000     | 0.666667     | 0.681818     |
| precision  | 0.432432     | 0.182796     | 0.067925     |
| conf_obj   | 0.807735     | 0.825161     | 0.841653     |
| conf_noobj | 0.001971     | 0.001610     | 0.001637     |
+------------+--------------+--------------+--------------+
2020-12-19 18:50:24.378 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 2.800
2020-12-19 18:50:24.387 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 18:51:52.989 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.00855   | 0.28856 | 0.01661 | 0.05874 |
| 1     | Wear_helmet | 0.05002   | 0.90616 | 0.09482 | 0.69856 |
| 2     | Total       | 0.02929   | 0.59736 | 0.05571 | 0.37865 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 18:51:52.989 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.37865277649787
2020-12-19 18:51:52.990 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 18:51:52.990 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:28.602769

2020-12-19 18:51:53.577 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 1/2, epo 3/5
2020-12-19 18:51:53.578 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 1/2, epo 3/5; time cost: 0:16:00.867423

2020-12-19 18:51:53.578 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 1/2, epo 4/5
2020-12-19 18:51:54.774 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.910310
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.794656     | 0.651435     | 0.464219     |
| x          | 0.006423     | 0.017283     | 0.023751     |
| y          | 0.006404     | 0.010034     | 0.053350     |
| w          | 0.071939     | 0.025942     | 0.022507     |
| h          | 0.041477     | 0.015853     | 0.023303     |
| conf       | 0.598581     | 0.559698     | 0.322519     |
| cls        | 0.069831     | 0.022625     | 0.018789     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.928571     | 1.000000     |
| recall75   | 0.500000     | 0.785714     | 0.785714     |
| precision  | 0.363636     | 0.142857     | 0.056911     |
| conf_obj   | 0.845050     | 0.863635     | 0.958280     |
| conf_noobj | 0.002094     | 0.001933     | 0.001811     |
+------------+--------------+--------------+--------------+
2020-12-19 18:52:59.708 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 3.429768
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.202823     | 1.098423     | 1.128521     |
| x          | 0.014715     | 0.005643     | 0.019746     |
| y          | 0.013260     | 0.031611     | 0.057140     |
| w          | 0.081203     | 0.101403     | 0.046922     |
| h          | 0.187613     | 0.213636     | 0.095410     |
| conf       | 0.815190     | 0.652120     | 0.808990     |
| cls        | 0.090841     | 0.094010     | 0.100313     |
| cls_acc    | 95.65%       | 95.83%       | 95.83%       |
| recall50   | 0.869565     | 0.875000     | 0.833333     |
| recall75   | 0.739130     | 0.708333     | 0.708333     |
| precision  | 0.540541     | 0.269231     | 0.108108     |
| conf_obj   | 0.842331     | 0.873154     | 0.790460     |
| conf_noobj | 0.001880     | 0.001620     | 0.001190     |
+------------+--------------+--------------+--------------+
2020-12-19 18:53:59.248 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.293046
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.890352     | 0.678689     | 0.724006     |
| x          | 0.024870     | 0.008760     | 0.019694     |
| y          | 0.009176     | 0.013096     | 0.042992     |
| w          | 0.045481     | 0.027530     | 0.018889     |
| h          | 0.032225     | 0.034455     | 0.025344     |
| conf       | 0.730139     | 0.522935     | 0.540940     |
| cls        | 0.048462     | 0.071913     | 0.076146     |
| cls_acc    | 100.00%      | 100.00%      | 95.45%       |
| recall50   | 0.863636     | 0.909091     | 0.818182     |
| recall75   | 0.681818     | 0.863636     | 0.772727     |
| precision  | 0.500000     | 0.250000     | 0.089552     |
| conf_obj   | 0.845271     | 0.881542     | 0.853773     |
| conf_noobj | 0.002217     | 0.001749     | 0.001462     |
+------------+--------------+--------------+--------------+
2020-12-19 18:55:03.732 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.140698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.934254     | 0.715970     | 0.490474     |
| x          | 0.009999     | 0.021574     | 0.022454     |
| y          | 0.007703     | 0.008903     | 0.019908     |
| w          | 0.060760     | 0.017162     | 0.019835     |
| h          | 0.048341     | 0.013440     | 0.007139     |
| conf       | 0.717205     | 0.633722     | 0.414238     |
| cls        | 0.090246     | 0.021168     | 0.006899     |
| cls_acc    | 95.00%       | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.950000     |
| recall75   | 0.450000     | 0.800000     | 0.900000     |
| precision  | 0.439024     | 0.219512     | 0.090047     |
| conf_obj   | 0.833801     | 0.818573     | 0.922818     |
| conf_noobj | 0.001913     | 0.001583     | 0.001243     |
+------------+--------------+--------------+--------------+
2020-12-19 18:56:06.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.336079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.343329     | 1.104426     | 0.888324     |
| x          | 0.059837     | 0.052922     | 0.052872     |
| y          | 0.023720     | 0.024727     | 0.026065     |
| w          | 0.098985     | 0.064079     | 0.046478     |
| h          | 0.077141     | 0.039632     | 0.038207     |
| conf       | 0.893725     | 0.813880     | 0.610044     |
| cls        | 0.189922     | 0.109186     | 0.114659     |
| cls_acc    | 91.67%       | 96.00%       | 96.15%       |
| recall50   | 0.708333     | 0.720000     | 0.807692     |
| recall75   | 0.416667     | 0.560000     | 0.576923     |
| precision  | 0.320755     | 0.180000     | 0.070946     |
| conf_obj   | 0.791282     | 0.758307     | 0.797501     |
| conf_noobj | 0.002667     | 0.001888     | 0.001582     |
+------------+--------------+--------------+--------------+
2020-12-19 18:57:13.662 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.654623
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.908246     | 0.962115     | 0.784262     |
| x          | 0.031886     | 0.045542     | 0.053722     |
| y          | 0.031363     | 0.023159     | 0.019861     |
| w          | 0.081990     | 0.106373     | 0.029911     |
| h          | 0.123969     | 0.126227     | 0.039877     |
| conf       | 0.541975     | 0.527098     | 0.514802     |
| cls        | 0.097062     | 0.133716     | 0.126089     |
| cls_acc    | 100.00%      | 95.45%       | 95.45%       |
| recall50   | 0.736842     | 0.818182     | 0.818182     |
| recall75   | 0.526316     | 0.454545     | 0.545455     |
| precision  | 0.482759     | 0.250000     | 0.082949     |
| conf_obj   | 0.810093     | 0.834604     | 0.852324     |
| conf_noobj | 0.002099     | 0.002073     | 0.001914     |
+------------+--------------+--------------+--------------+
2020-12-19 18:58:15.338 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.749928
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.584845     | 0.535508     | 0.629575     |
| x          | 0.033489     | 0.023948     | 0.043035     |
| y          | 0.010520     | 0.014672     | 0.030016     |
| w          | 0.039564     | 0.024081     | 0.014326     |
| h          | 0.024847     | 0.052769     | 0.032327     |
| conf       | 0.455837     | 0.398024     | 0.472023     |
| cls        | 0.020588     | 0.022014     | 0.037847     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.916667     | 0.916667     |
| recall75   | 0.833333     | 0.833333     | 0.750000     |
| precision  | 0.588235     | 0.203704     | 0.056701     |
| conf_obj   | 0.842408     | 0.903413     | 0.909954     |
| conf_noobj | 0.001789     | 0.001812     | 0.001714     |
+------------+--------------+--------------+--------------+
2020-12-19 18:59:17.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.051675
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.638051     | 0.690777     | 0.722847     |
| x          | 0.018841     | 0.021829     | 0.042237     |
| y          | 0.009817     | 0.017386     | 0.036525     |
| w          | 0.036627     | 0.016086     | 0.020404     |
| h          | 0.027977     | 0.017945     | 0.012392     |
| conf       | 0.403281     | 0.489878     | 0.503720     |
| cls        | 0.141509     | 0.127653     | 0.107569     |
| cls_acc    | 96.15%       | 96.30%       | 96.30%       |
| recall50   | 0.923077     | 0.888889     | 0.814815     |
| recall75   | 0.769231     | 0.777778     | 0.740741     |
| precision  | 0.571429     | 0.250000     | 0.076923     |
| conf_obj   | 0.907514     | 0.867084     | 0.862013     |
| conf_noobj | 0.002178     | 0.001634     | 0.001540     |
+------------+--------------+--------------+--------------+
2020-12-19 19:00:20.150 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.501915
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.883771     | 0.820426     | 0.797718     |
| x          | 0.006529     | 0.011616     | 0.030689     |
| y          | 0.024130     | 0.024221     | 0.102532     |
| w          | 0.041617     | 0.046156     | 0.015978     |
| h          | 0.057084     | 0.056516     | 0.052732     |
| conf       | 0.706271     | 0.634080     | 0.543234     |
| cls        | 0.048140     | 0.047836     | 0.052552     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.812500     | 0.875000     |
| recall75   | 0.687500     | 0.687500     | 0.687500     |
| precision  | 0.295455     | 0.141304     | 0.045455     |
| conf_obj   | 0.831770     | 0.822513     | 0.844974     |
| conf_noobj | 0.003083     | 0.002016     | 0.001830     |
+------------+--------------+--------------+--------------+
2020-12-19 19:01:27.260 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.276708
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.459294     | 0.438802     | 0.378612     |
| x          | 0.016380     | 0.016313     | 0.017887     |
| y          | 0.017632     | 0.018396     | 0.049927     |
| w          | 0.031294     | 0.021699     | 0.014951     |
| h          | 0.026015     | 0.018160     | 0.012290     |
| conf       | 0.334532     | 0.357390     | 0.279474     |
| cls        | 0.033440     | 0.006845     | 0.004083     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 1.000000     |
| recall75   | 0.764706     | 0.823529     | 0.941176     |
| precision  | 0.695652     | 0.280702     | 0.092896     |
| conf_obj   | 0.869557     | 0.890912     | 0.928561     |
| conf_noobj | 0.001104     | 0.001281     | 0.001248     |
+------------+--------------+--------------+--------------+
2020-12-19 19:02:36.938 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 5.526581
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 2.104916     | 1.760178     | 1.661486     |
| x          | 0.037385     | 0.048580     | 0.051116     |
| y          | 0.023063     | 0.064231     | 0.038650     |
| w          | 0.213447     | 0.126217     | 0.059312     |
| h          | 0.199081     | 0.147079     | 0.083538     |
| conf       | 1.165176     | 0.969387     | 1.014506     |
| cls        | 0.466764     | 0.404683     | 0.414364     |
| cls_acc    | 80.77%       | 85.71%       | 82.76%       |
| recall50   | 0.538462     | 0.571429     | 0.620690     |
| recall75   | 0.423077     | 0.178571     | 0.344828     |
| precision  | 0.451613     | 0.290909     | 0.127660     |
| conf_obj   | 0.639973     | 0.667007     | 0.651683     |
| conf_noobj | 0.001936     | 0.001324     | 0.001131     |
+------------+--------------+--------------+--------------+
2020-12-19 19:03:46.190 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 4.445316
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.582655     | 1.474841     | 1.387820     |
| x          | 0.047435     | 0.039199     | 0.056767     |
| y          | 0.018308     | 0.026948     | 0.044551     |
| w          | 0.274091     | 0.178350     | 0.080775     |
| h          | 0.213657     | 0.182094     | 0.097862     |
| conf       | 0.885453     | 0.937663     | 1.000127     |
| cls        | 0.143711     | 0.110588     | 0.107737     |
| cls_acc    | 93.75%       | 96.97%       | 94.12%       |
| recall50   | 0.687500     | 0.696970     | 0.735294     |
| recall75   | 0.406250     | 0.424242     | 0.470588     |
| precision  | 0.511628     | 0.244681     | 0.113122     |
| conf_obj   | 0.735469     | 0.727777     | 0.727392     |
| conf_noobj | 0.002228     | 0.001651     | 0.001325     |
+------------+--------------+--------------+--------------+
2020-12-19 19:04:53.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.095062
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.392648     | 0.413703     | 0.288711     |
| x          | 0.004839     | 0.005297     | 0.014292     |
| y          | 0.009419     | 0.012640     | 0.012063     |
| w          | 0.064941     | 0.040348     | 0.006657     |
| h          | 0.052951     | 0.033567     | 0.013156     |
| conf       | 0.258979     | 0.320763     | 0.237969     |
| cls        | 0.001519     | 0.001088     | 0.004575     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 0.812500     | 0.687500     | 0.937500     |
| precision  | 0.666667     | 0.277778     | 0.111888     |
| conf_obj   | 0.954451     | 0.922742     | 0.949590     |
| conf_noobj | 0.001374     | 0.001338     | 0.001216     |
+------------+--------------+--------------+--------------+
2020-12-19 19:06:11.911 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.354152
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.464014     | 0.417761     | 0.472377     |
| x          | 0.006713     | 0.005522     | 0.015380     |
| y          | 0.010549     | 0.026563     | 0.037928     |
| w          | 0.053028     | 0.062504     | 0.033028     |
| h          | 0.047425     | 0.062238     | 0.035306     |
| conf       | 0.328249     | 0.230336     | 0.295364     |
| cls        | 0.018049     | 0.030599     | 0.055371     |
| cls_acc    | 100.00%      | 100.00%      | 94.74%       |
| recall50   | 0.894737     | 0.947368     | 0.947368     |
| recall75   | 0.842105     | 0.842105     | 0.894737     |
| precision  | 0.500000     | 0.250000     | 0.068182     |
| conf_obj   | 0.913174     | 0.959778     | 0.935650     |
| conf_noobj | 0.001503     | 0.001261     | 0.001310     |
+------------+--------------+--------------+--------------+
2020-12-19 19:06:24.771 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 2.693
2020-12-19 19:06:24.776 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 19:07:25.942 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14949   | 0.25622 | 0.18882 | 0.14637 |
| 1     | Wear_helmet | 0.37126   | 0.88152 | 0.52247 | 0.79665 |
| 2     | Total       | 0.26037   | 0.56887 | 0.35564 | 0.47151 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:07:25.942 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.47150941309623284
2020-12-19 19:07:25.943 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 19:07:25.943 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.166940

2020-12-19 19:07:26.499 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 1/2, epo 4/5
2020-12-19 19:07:26.500 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 1/2, epo 4/5; time cost: 0:15:32.921390

2020-12-19 19:07:26.500 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 2/20, idx 1/2, epo 5/5
2020-12-19 19:07:27.763 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.855205
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.533813     | 0.618009     | 0.703383     |
| x          | 0.021441     | 0.020731     | 0.056066     |
| y          | 0.014210     | 0.025695     | 0.060112     |
| w          | 0.045401     | 0.029239     | 0.022523     |
| h          | 0.031272     | 0.013722     | 0.016457     |
| conf       | 0.321704     | 0.354517     | 0.348638     |
| cls        | 0.099784     | 0.174105     | 0.199586     |
| cls_acc    | 95.65%       | 92.31%       | 92.86%       |
| recall50   | 0.869565     | 0.846154     | 0.821429     |
| recall75   | 0.695652     | 0.769231     | 0.750000     |
| precision  | 0.666667     | 0.301370     | 0.116751     |
| conf_obj   | 0.904020     | 0.878779     | 0.873561     |
| conf_noobj | 0.001438     | 0.001337     | 0.001125     |
+------------+--------------+--------------+--------------+
2020-12-19 19:08:36.696 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.829778
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.628922     | 0.605122     | 0.595733     |
| x          | 0.007344     | 0.033679     | 0.030274     |
| y          | 0.013226     | 0.023018     | 0.066097     |
| w          | 0.028331     | 0.046084     | 0.018114     |
| h          | 0.041709     | 0.047946     | 0.030865     |
| conf       | 0.217450     | 0.231794     | 0.392503     |
| cls        | 0.320862     | 0.222601     | 0.057880     |
| cls_acc    | 85.71%       | 96.55%       | 96.55%       |
| recall50   | 0.821429     | 0.965517     | 0.931035     |
| recall75   | 0.678571     | 0.862069     | 0.827586     |
| precision  | 0.657143     | 0.321839     | 0.102273     |
| conf_obj   | 0.948813     | 0.947380     | 0.900685     |
| conf_noobj | 0.001167     | 0.001100     | 0.001275     |
+------------+--------------+--------------+--------------+
2020-12-19 19:09:39.671 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 3.326960
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.175450     | 1.062462     | 1.089048     |
| x          | 0.021222     | 0.051357     | 0.053926     |
| y          | 0.011458     | 0.034003     | 0.042039     |
| w          | 0.053030     | 0.048870     | 0.027083     |
| h          | 0.058766     | 0.048755     | 0.028883     |
| conf       | 0.550165     | 0.433451     | 0.520925     |
| cls        | 0.480808     | 0.446026     | 0.416192     |
| cls_acc    | 84.38%       | 85.29%       | 91.89%       |
| recall50   | 0.812500     | 0.764706     | 0.810811     |
| recall75   | 0.562500     | 0.588235     | 0.621622     |
| precision  | 0.604651     | 0.250000     | 0.124481     |
| conf_obj   | 0.850947     | 0.911463     | 0.887634     |
| conf_noobj | 0.001730     | 0.001831     | 0.001417     |
+------------+--------------+--------------+--------------+
2020-12-19 19:10:45.329 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.886079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.034799     | 0.984855     | 0.866425     |
| x          | 0.021510     | 0.014630     | 0.060622     |
| y          | 0.010491     | 0.025379     | 0.034156     |
| w          | 0.042805     | 0.036915     | 0.027090     |
| h          | 0.034341     | 0.032862     | 0.025149     |
| conf       | 0.878523     | 0.830275     | 0.633926     |
| cls        | 0.047129     | 0.044793     | 0.085483     |
| cls_acc    | 100.00%      | 100.00%      | 95.83%       |
| recall50   | 0.826087     | 0.875000     | 0.875000     |
| recall75   | 0.652174     | 0.666667     | 0.750000     |
| precision  | 0.703704     | 0.411765     | 0.135484     |
| conf_obj   | 0.795926     | 0.812493     | 0.857092     |
| conf_noobj | 0.001180     | 0.000901     | 0.001039     |
+------------+--------------+--------------+--------------+
2020-12-19 19:11:55.007 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.376127
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.910907     | 0.756817     | 0.708402     |
| x          | 0.021598     | 0.023336     | 0.042901     |
| y          | 0.026680     | 0.039239     | 0.058818     |
| w          | 0.088366     | 0.041009     | 0.031598     |
| h          | 0.067236     | 0.021311     | 0.029746     |
| conf       | 0.701903     | 0.614254     | 0.516821     |
| cls        | 0.005125     | 0.017668     | 0.028519     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.800000     | 0.850000     |
| recall75   | 0.450000     | 0.600000     | 0.650000     |
| precision  | 0.485714     | 0.231884     | 0.080569     |
| conf_obj   | 0.840989     | 0.795593     | 0.826122     |
| conf_noobj | 0.001808     | 0.001376     | 0.001237     |
+------------+--------------+--------------+--------------+
2020-12-19 19:13:03.136 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.561510
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.895786     | 0.854171     | 0.811553     |
| x          | 0.034300     | 0.033168     | 0.060003     |
| y          | 0.017435     | 0.022087     | 0.033685     |
| w          | 0.073975     | 0.103705     | 0.059738     |
| h          | 0.068334     | 0.087549     | 0.058042     |
| conf       | 0.609024     | 0.499948     | 0.466344     |
| cls        | 0.092719     | 0.107714     | 0.133741     |
| cls_acc    | 94.44%       | 97.37%       | 92.68%       |
| recall50   | 0.805556     | 0.868421     | 0.804878     |
| recall75   | 0.583333     | 0.605263     | 0.609756     |
| precision  | 0.617021     | 0.268293     | 0.121324     |
| conf_obj   | 0.811072     | 0.897101     | 0.870273     |
| conf_noobj | 0.001962     | 0.002238     | 0.001600     |
+------------+--------------+--------------+--------------+
2020-12-19 19:14:04.861 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.356816
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.295566     | 1.031923     | 1.029328     |
| x          | 0.032482     | 0.014193     | 0.024737     |
| y          | 0.016487     | 0.015675     | 0.035228     |
| w          | 0.157802     | 0.103051     | 0.060554     |
| h          | 0.171464     | 0.131939     | 0.061891     |
| conf       | 0.754309     | 0.612860     | 0.740979     |
| cls        | 0.163021     | 0.154204     | 0.105938     |
| cls_acc    | 95.45%       | 95.83%       | 96.00%       |
| recall50   | 0.772727     | 0.833333     | 0.840000     |
| recall75   | 0.363636     | 0.666667     | 0.640000     |
| precision  | 0.653846     | 0.377358     | 0.135484     |
| conf_obj   | 0.793548     | 0.835099     | 0.834358     |
| conf_noobj | 0.001483     | 0.001428     | 0.001345     |
+------------+--------------+--------------+--------------+
2020-12-19 19:15:10.942 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.109757
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.675555     | 0.744124     | 0.690078     |
| x          | 0.038060     | 0.037140     | 0.059746     |
| y          | 0.009927     | 0.020332     | 0.051516     |
| w          | 0.068115     | 0.099660     | 0.045052     |
| h          | 0.063434     | 0.112814     | 0.041837     |
| conf       | 0.424503     | 0.404633     | 0.440641     |
| cls        | 0.071516     | 0.069545     | 0.051287     |
| cls_acc    | 100.00%      | 96.55%       | 100.00%      |
| recall50   | 0.884615     | 0.827586     | 0.878788     |
| recall75   | 0.576923     | 0.482759     | 0.636364     |
| precision  | 0.605263     | 0.307692     | 0.150259     |
| conf_obj   | 0.912645     | 0.881816     | 0.866532     |
| conf_noobj | 0.001884     | 0.001477     | 0.001257     |
+------------+--------------+--------------+--------------+
2020-12-19 19:16:16.178 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.443450
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.472725     | 1.034181     | 0.936544     |
| x          | 0.027829     | 0.009961     | 0.020553     |
| y          | 0.017627     | 0.021046     | 0.035054     |
| w          | 0.096364     | 0.046324     | 0.016912     |
| h          | 0.070896     | 0.040134     | 0.008094     |
| conf       | 1.038762     | 0.656835     | 0.601875     |
| cls        | 0.221247     | 0.259882     | 0.254055     |
| cls_acc    | 85.19%       | 85.19%       | 92.59%       |
| recall50   | 0.666667     | 0.740741     | 0.814815     |
| recall75   | 0.555556     | 0.592593     | 0.703704     |
| precision  | 0.600000     | 0.317460     | 0.129412     |
| conf_obj   | 0.706507     | 0.756870     | 0.794189     |
| conf_noobj | 0.000968     | 0.001019     | 0.000902     |
+------------+--------------+--------------+--------------+
2020-12-19 19:17:22.083 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.436587
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.515704     | 0.473146     | 0.447737     |
| x          | 0.012452     | 0.021531     | 0.026819     |
| y          | 0.012562     | 0.014493     | 0.025542     |
| w          | 0.035331     | 0.032557     | 0.019189     |
| h          | 0.040400     | 0.023339     | 0.015716     |
| conf       | 0.397859     | 0.375531     | 0.357575     |
| cls        | 0.017100     | 0.005695     | 0.002896     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.916667     | 0.958333     |
| recall75   | 0.500000     | 0.875000     | 0.833333     |
| precision  | 0.676471     | 0.301370     | 0.098291     |
| conf_obj   | 0.868596     | 0.884427     | 0.893569     |
| conf_noobj | 0.001657     | 0.001475     | 0.001520     |
+------------+--------------+--------------+--------------+
2020-12-19 19:18:25.885 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.731743
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.576606     | 0.487269     | 0.667868     |
| x          | 0.014650     | 0.066274     | 0.070749     |
| y          | 0.009797     | 0.009914     | 0.033040     |
| w          | 0.031163     | 0.026552     | 0.023711     |
| h          | 0.038921     | 0.036089     | 0.026387     |
| conf       | 0.412261     | 0.296058     | 0.251880     |
| cls        | 0.069815     | 0.052382     | 0.262101     |
| cls_acc    | 94.12%       | 100.00%      | 94.12%       |
| recall50   | 0.882353     | 1.000000     | 0.941176     |
| recall75   | 0.764706     | 0.529412     | 0.705882     |
| precision  | 0.405405     | 0.265625     | 0.076555     |
| conf_obj   | 0.945355     | 0.949419     | 0.966849     |
| conf_noobj | 0.002142     | 0.001393     | 0.001350     |
+------------+--------------+--------------+--------------+
2020-12-19 19:19:28.226 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 3.739902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.292492     | 1.310723     | 1.136688     |
| x          | 0.048125     | 0.016500     | 0.058629     |
| y          | 0.012473     | 0.015651     | 0.046004     |
| w          | 0.125737     | 0.133040     | 0.060010     |
| h          | 0.133014     | 0.152262     | 0.056105     |
| conf       | 0.731425     | 0.823297     | 0.753523     |
| cls        | 0.241717     | 0.169972     | 0.162417     |
| cls_acc    | 87.50%       | 84.00%       | 92.31%       |
| recall50   | 0.791667     | 0.800000     | 0.769231     |
| recall75   | 0.458333     | 0.480000     | 0.576923     |
| precision  | 0.760000     | 0.333333     | 0.078740     |
| conf_obj   | 0.773616     | 0.805015     | 0.803431     |
| conf_noobj | 0.000904     | 0.001249     | 0.001498     |
+------------+--------------+--------------+--------------+
2020-12-19 19:20:33.641 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.896488
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.691121     | 0.593980     | 0.611387     |
| x          | 0.011712     | 0.021642     | 0.031342     |
| y          | 0.009168     | 0.008528     | 0.023386     |
| w          | 0.048418     | 0.029901     | 0.020845     |
| h          | 0.065143     | 0.028957     | 0.020616     |
| conf       | 0.406483     | 0.311247     | 0.357993     |
| cls        | 0.150197     | 0.193706     | 0.157205     |
| cls_acc    | 96.30%       | 96.30%       | 96.43%       |
| recall50   | 0.925926     | 0.925926     | 0.928571     |
| recall75   | 0.703704     | 0.814815     | 0.785714     |
| precision  | 0.543478     | 0.271739     | 0.087838     |
| conf_obj   | 0.935221     | 0.943052     | 0.940930     |
| conf_noobj | 0.001879     | 0.001546     | 0.001560     |
+------------+--------------+--------------+--------------+
2020-12-19 19:21:41.268 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.845550
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.266765     | 1.174492     | 1.404293     |
| x          | 0.068294     | 0.014283     | 0.054259     |
| y          | 0.033476     | 0.026910     | 0.059560     |
| w          | 0.059691     | 0.075821     | 0.077228     |
| h          | 0.053985     | 0.101094     | 0.136327     |
| conf       | 1.015119     | 0.911882     | 0.986848     |
| cls        | 0.036200     | 0.044501     | 0.090070     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 0.681818     | 0.909091     | 0.826087     |
| recall75   | 0.545455     | 0.636364     | 0.608696     |
| precision  | 0.517241     | 0.277778     | 0.095960     |
| conf_obj   | 0.741828     | 0.833532     | 0.835715     |
| conf_noobj | 0.001312     | 0.001308     | 0.001122     |
+------------+--------------+--------------+--------------+
2020-12-19 19:21:54.209 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 2.435
2020-12-19 19:21:54.214 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 19:22:59.543 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03334   | 0.30348 | 0.06008 | 0.12451 |
| 1     | Wear_helmet | 0.17431   | 0.93886 | 0.29403 | 0.83545 |
| 2     | Total       | 0.10382   | 0.62117 | 0.17705 | 0.47998 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:22:59.543 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.47998121291813245
2020-12-19 19:22:59.544 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 19:22:59.544 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:05.329821

2020-12-19 19:23:00.012 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 2/20, idx 1/2, epo 5/5
2020-12-19 19:23:00.012 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 2/20, idx 1/2, epo 5/5; time cost: 0:15:33.511639

2020-12-19 19:23:00.012 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 3.349
2020-12-19 19:23:00.283 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-19 19:27:10.076 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.03375   | 0.41041 | 0.06237 | 0.19871 |
| 1     | Wear_helmet | 0.17342   | 0.91061 | 0.29136 | 0.79322 |
| 2     | Total       | 0.10359   | 0.66051 | 0.17687 | 0.49596 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:27:10.077 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.495964138902729
2020-12-19 19:27:10.078 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-19 19:27:10.078 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:04:09.795052

2020-12-19 19:27:16.321 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 3!
2020-12-19 19:27:16.451 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 1/2, epo 1/5
2020-12-19 19:27:17.680 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.524036
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.068166     | 0.773853     | 0.682016     |
| x          | 0.021932     | 0.023076     | 0.024528     |
| y          | 0.011979     | 0.018132     | 0.028982     |
| w          | 0.081543     | 0.033222     | 0.013908     |
| h          | 0.059800     | 0.039710     | 0.011437     |
| conf       | 0.827955     | 0.612553     | 0.540588     |
| cls        | 0.064957     | 0.047159     | 0.062574     |
| cls_acc    | 100.00%      | 100.00%      | 96.67%       |
| recall50   | 0.851852     | 0.896552     | 0.933333     |
| recall75   | 0.555556     | 0.620690     | 0.800000     |
| precision  | 0.450980     | 0.213115     | 0.097222     |
| conf_obj   | 0.904958     | 0.922929     | 0.888358     |
| conf_noobj | 0.002952     | 0.002705     | 0.001667     |
+------------+--------------+--------------+--------------+
2020-12-19 19:28:21.720 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 5.703499
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 2.129599     | 1.757515     | 1.816385     |
| x          | 0.035189     | 0.043628     | 0.033018     |
| y          | 0.026735     | 0.028036     | 0.040640     |
| w          | 0.120560     | 0.051404     | 0.110791     |
| h          | 0.191516     | 0.106872     | 0.092720     |
| conf       | 1.580976     | 1.282851     | 1.322709     |
| cls        | 0.174623     | 0.244724     | 0.216508     |
| cls_acc    | 94.44%       | 94.44%       | 91.67%       |
| recall50   | 0.472222     | 0.638889     | 0.638889     |
| recall75   | 0.222222     | 0.305556     | 0.472222     |
| precision  | 0.548387     | 0.277108     | 0.098712     |
| conf_obj   | 0.528197     | 0.634033     | 0.641237     |
| conf_noobj | 0.001568     | 0.001502     | 0.001343     |
+------------+--------------+--------------+--------------+
2020-12-19 19:29:30.271 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 3.582083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.195498     | 1.061068     | 1.325517     |
| x          | 0.066299     | 0.020566     | 0.041930     |
| y          | 0.038564     | 0.024546     | 0.049607     |
| w          | 0.174270     | 0.090311     | 0.163924     |
| h          | 0.178603     | 0.094729     | 0.104990     |
| conf       | 0.692432     | 0.786538     | 0.908087     |
| cls        | 0.045328     | 0.044378     | 0.056979     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.703704     | 0.866667     | 0.843750     |
| recall75   | 0.185185     | 0.566667     | 0.656250     |
| precision  | 0.575758     | 0.388060     | 0.157895     |
| conf_obj   | 0.796771     | 0.796302     | 0.813172     |
| conf_noobj | 0.001927     | 0.001755     | 0.001412     |
+------------+--------------+--------------+--------------+
2020-12-19 19:30:32.975 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.139545
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.006298     | 1.198807     | 0.934440     |
| x          | 0.030748     | 0.058436     | 0.050913     |
| y          | 0.018929     | 0.030455     | 0.043312     |
| w          | 0.098423     | 0.088173     | 0.060628     |
| h          | 0.085350     | 0.084525     | 0.074607     |
| conf       | 0.554764     | 0.561087     | 0.509502     |
| cls        | 0.218084     | 0.376132     | 0.195478     |
| cls_acc    | 94.44%       | 72.73%       | 96.15%       |
| recall50   | 0.888889     | 0.590909     | 0.923077     |
| recall75   | 0.388889     | 0.272727     | 0.461538     |
| precision  | 0.592593     | 0.194030     | 0.122449     |
| conf_obj   | 0.840057     | 0.840534     | 0.914750     |
| conf_noobj | 0.002267     | 0.002004     | 0.001844     |
+------------+--------------+--------------+--------------+
2020-12-19 19:31:36.596 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.342903
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.948990     | 0.712080     | 0.681833     |
| x          | 0.024208     | 0.031443     | 0.054324     |
| y          | 0.016030     | 0.012975     | 0.023915     |
| w          | 0.064881     | 0.041727     | 0.013327     |
| h          | 0.062656     | 0.046756     | 0.030043     |
| conf       | 0.750240     | 0.555201     | 0.551249     |
| cls        | 0.030975     | 0.023978     | 0.008976     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.838710     | 0.823529     | 0.944444     |
| recall75   | 0.548387     | 0.588235     | 0.722222     |
| precision  | 0.619048     | 0.282828     | 0.097983     |
| conf_obj   | 0.775251     | 0.867468     | 0.921033     |
| conf_noobj | 0.001667     | 0.001689     | 0.002009     |
+------------+--------------+--------------+--------------+
2020-12-19 19:32:46.308 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 3.382827
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.224993     | 1.120775     | 1.037059     |
| x          | 0.039575     | 0.024007     | 0.036160     |
| y          | 0.012857     | 0.027274     | 0.052032     |
| w          | 0.170485     | 0.094823     | 0.037189     |
| h          | 0.127626     | 0.108169     | 0.037811     |
| conf       | 0.726407     | 0.743669     | 0.765236     |
| cls        | 0.148043     | 0.122833     | 0.108630     |
| cls_acc    | 97.22%       | 94.59%       | 97.37%       |
| recall50   | 0.888889     | 0.864865     | 0.868421     |
| recall75   | 0.416667     | 0.540541     | 0.710526     |
| precision  | 0.744186     | 0.426667     | 0.141026     |
| conf_obj   | 0.829147     | 0.840896     | 0.839566     |
| conf_noobj | 0.001427     | 0.001491     | 0.001659     |
+------------+--------------+--------------+--------------+
2020-12-19 19:33:48.196 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.445720
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.498771     | 0.488701     | 0.458248     |
| x          | 0.012120     | 0.010074     | 0.021769     |
| y          | 0.012597     | 0.019585     | 0.036102     |
| w          | 0.057514     | 0.034704     | 0.011499     |
| h          | 0.041898     | 0.035442     | 0.024864     |
| conf       | 0.339187     | 0.375233     | 0.349834     |
| cls        | 0.035455     | 0.013662     | 0.014180     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.777778     | 0.678571     | 0.857143     |
| precision  | 0.742857     | 0.288660     | 0.085627     |
| conf_obj   | 0.900837     | 0.955255     | 0.983201     |
| conf_noobj | 0.001651     | 0.002088     | 0.001969     |
+------------+--------------+--------------+--------------+
2020-12-19 19:34:51.679 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.412149
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.026262     | 0.759433     | 0.626455     |
| x          | 0.011778     | 0.018523     | 0.016099     |
| y          | 0.016971     | 0.022939     | 0.031103     |
| w          | 0.050714     | 0.049751     | 0.019237     |
| h          | 0.099725     | 0.076979     | 0.038672     |
| conf       | 0.831699     | 0.576658     | 0.511976     |
| cls        | 0.015374     | 0.014584     | 0.009368     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.857143     | 0.785714     |
| recall75   | 0.428571     | 0.642857     | 0.642857     |
| precision  | 0.300000     | 0.146341     | 0.050926     |
| conf_obj   | 0.815024     | 0.847800     | 0.823555     |
| conf_noobj | 0.002720     | 0.002142     | 0.001706     |
+------------+--------------+--------------+--------------+
2020-12-19 19:36:01.178 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.691525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.108563     | 0.858145     | 0.724817     |
| x          | 0.023995     | 0.020485     | 0.037144     |
| y          | 0.011603     | 0.018917     | 0.032370     |
| w          | 0.077317     | 0.030409     | 0.038537     |
| h          | 0.052267     | 0.034350     | 0.013421     |
| conf       | 0.652638     | 0.626756     | 0.460848     |
| cls        | 0.290744     | 0.127226     | 0.142499     |
| cls_acc    | 82.61%       | 95.83%       | 95.83%       |
| recall50   | 0.695652     | 0.916667     | 0.916667     |
| recall75   | 0.652174     | 0.708333     | 0.791667     |
| precision  | 0.410256     | 0.217822     | 0.111675     |
| conf_obj   | 0.874095     | 0.914679     | 0.909711     |
| conf_noobj | 0.002545     | 0.002014     | 0.001412     |
+------------+--------------+--------------+--------------+
2020-12-19 19:37:04.452 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.018726
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.730787     | 0.715254     | 0.572684     |
| x          | 0.025099     | 0.033086     | 0.054108     |
| y          | 0.018636     | 0.032502     | 0.058204     |
| w          | 0.083600     | 0.074849     | 0.043693     |
| h          | 0.058831     | 0.070541     | 0.040312     |
| conf       | 0.498324     | 0.465830     | 0.350822     |
| cls        | 0.046296     | 0.038446     | 0.025544     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.809524     | 0.869565     | 0.960000     |
| recall75   | 0.523810     | 0.652174     | 0.720000     |
| precision  | 0.459459     | 0.210526     | 0.086957     |
| conf_obj   | 0.854032     | 0.871062     | 0.916964     |
| conf_noobj | 0.001964     | 0.001982     | 0.001593     |
+------------+--------------+--------------+--------------+
2020-12-19 19:38:10.847 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.988005
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.080823     | 1.040958     | 0.866224     |
| x          | 0.023635     | 0.020601     | 0.049337     |
| y          | 0.010042     | 0.015649     | 0.043425     |
| w          | 0.075662     | 0.050765     | 0.026486     |
| h          | 0.088769     | 0.073314     | 0.029545     |
| conf       | 0.786341     | 0.813855     | 0.689833     |
| cls        | 0.096375     | 0.066773     | 0.027598     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 0.863636     | 0.954545     |
| recall75   | 0.227273     | 0.363636     | 0.681818     |
| precision  | 0.428571     | 0.155738     | 0.058659     |
| conf_obj   | 0.860935     | 0.874099     | 0.915599     |
| conf_noobj | 0.001945     | 0.002155     | 0.001952     |
+------------+--------------+--------------+--------------+
2020-12-19 19:39:17.102 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.406506
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.755255     | 0.965049     | 0.686202     |
| x          | 0.022891     | 0.042356     | 0.063664     |
| y          | 0.048493     | 0.034814     | 0.039861     |
| w          | 0.043332     | 0.029768     | 0.025774     |
| h          | 0.035375     | 0.032127     | 0.015378     |
| conf       | 0.566960     | 0.775168     | 0.482183     |
| cls        | 0.038203     | 0.050816     | 0.059342     |
| cls_acc    | 100.00%      | 96.00%       | 96.15%       |
| recall50   | 0.708333     | 0.760000     | 0.769231     |
| recall75   | 0.583333     | 0.600000     | 0.730769     |
| precision  | 0.548387     | 0.322034     | 0.104712     |
| conf_obj   | 0.789638     | 0.759963     | 0.814811     |
| conf_noobj | 0.001415     | 0.001160     | 0.001194     |
+------------+--------------+--------------+--------------+
2020-12-19 19:40:23.194 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.595357
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.539257     | 0.475926     | 0.580174     |
| x          | 0.029516     | 0.024000     | 0.033393     |
| y          | 0.016850     | 0.026915     | 0.041430     |
| w          | 0.067864     | 0.063821     | 0.061731     |
| h          | 0.065970     | 0.073410     | 0.085737     |
| conf       | 0.352842     | 0.284325     | 0.349168     |
| cls        | 0.006214     | 0.003457     | 0.008714     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.952381     | 0.916667     |
| recall75   | 0.500000     | 0.714286     | 0.708333     |
| precision  | 0.607143     | 0.307692     | 0.130178     |
| conf_obj   | 0.907116     | 0.934809     | 0.925856     |
| conf_noobj | 0.001710     | 0.001507     | 0.001435     |
+------------+--------------+--------------+--------------+
2020-12-19 19:41:30.885 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.467711
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.338326     | 1.101599     | 1.027786     |
| x          | 0.027801     | 0.018318     | 0.032061     |
| y          | 0.030745     | 0.038301     | 0.054251     |
| w          | 0.154023     | 0.051072     | 0.022289     |
| h          | 0.144883     | 0.040994     | 0.013618     |
| conf       | 0.752800     | 0.703028     | 0.690479     |
| cls        | 0.228074     | 0.249888     | 0.215088     |
| cls_acc    | 96.30%       | 87.10%       | 87.50%       |
| recall50   | 0.777778     | 0.709677     | 0.718750     |
| recall75   | 0.407407     | 0.548387     | 0.593750     |
| precision  | 0.477273     | 0.247191     | 0.089494     |
| conf_obj   | 0.790044     | 0.774220     | 0.820850     |
| conf_noobj | 0.002540     | 0.001953     | 0.001759     |
+------------+--------------+--------------+--------------+
2020-12-19 19:41:43.320 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 3.029
2020-12-19 19:41:43.323 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 19:42:52.009 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.02185   | 0.36070 | 0.04120 | 0.09547 |
| 1     | Wear_helmet | 0.12783   | 0.91754 | 0.22440 | 0.77955 |
| 2     | Total       | 0.07484   | 0.63912 | 0.13280 | 0.43751 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:42:52.010 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4375116278455374
2020-12-19 19:42:52.010 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 19:42:52.010 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:08.687149

2020-12-19 19:42:52.457 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 1/2, epo 1/5
2020-12-19 19:42:52.458 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 1/2, epo 1/5; time cost: 0:15:36.006188

2020-12-19 19:42:52.458 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 1/2, epo 2/5
2020-12-19 19:42:53.544 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.998668
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.232621     | 1.031877     | 0.734171     |
| x          | 0.021145     | 0.010292     | 0.015712     |
| y          | 0.020344     | 0.021491     | 0.022218     |
| w          | 0.062505     | 0.062993     | 0.035544     |
| h          | 0.079952     | 0.049052     | 0.018782     |
| conf       | 0.959326     | 0.848721     | 0.609913     |
| cls        | 0.089350     | 0.039328     | 0.032002     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.736842     | 0.789474     | 0.894737     |
| recall75   | 0.526316     | 0.736842     | 0.842105     |
| precision  | 0.608696     | 0.306122     | 0.123188     |
| conf_obj   | 0.725568     | 0.795515     | 0.855334     |
| conf_noobj | 0.001792     | 0.001705     | 0.001358     |
+------------+--------------+--------------+--------------+
2020-12-19 19:43:57.419 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 3.213827
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.082600     | 1.036673     | 1.094555     |
| x          | 0.039104     | 0.031426     | 0.025392     |
| y          | 0.018460     | 0.032175     | 0.031709     |
| w          | 0.091154     | 0.040163     | 0.019411     |
| h          | 0.043054     | 0.034264     | 0.022721     |
| conf       | 0.748109     | 0.657965     | 0.810321     |
| cls        | 0.142719     | 0.240680     | 0.185001     |
| cls_acc    | 100.00%      | 95.65%       | 91.67%       |
| recall50   | 0.809524     | 0.826087     | 0.791667     |
| recall75   | 0.380952     | 0.695652     | 0.791667     |
| precision  | 0.653846     | 0.327586     | 0.111765     |
| conf_obj   | 0.778376     | 0.833910     | 0.807791     |
| conf_noobj | 0.001611     | 0.001244     | 0.001130     |
+------------+--------------+--------------+--------------+
2020-12-19 19:44:58.787 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.925784
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.762697     | 0.600734     | 0.562352     |
| x          | 0.044100     | 0.011724     | 0.035746     |
| y          | 0.018349     | 0.014347     | 0.044916     |
| w          | 0.058001     | 0.030295     | 0.022449     |
| h          | 0.062497     | 0.030823     | 0.029993     |
| conf       | 0.526467     | 0.462275     | 0.377595     |
| cls        | 0.053283     | 0.051270     | 0.051653     |
| cls_acc    | 95.45%       | 95.65%       | 96.00%       |
| recall50   | 0.772727     | 0.913043     | 0.920000     |
| recall75   | 0.454545     | 0.782609     | 0.720000     |
| precision  | 0.500000     | 0.269231     | 0.092369     |
| conf_obj   | 0.906339     | 0.886291     | 0.942622     |
| conf_noobj | 0.001548     | 0.001431     | 0.001348     |
+------------+--------------+--------------+--------------+
2020-12-19 19:46:07.174 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.653170
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.494903     | 0.560377     | 0.597890     |
| x          | 0.023363     | 0.024032     | 0.027394     |
| y          | 0.013934     | 0.020024     | 0.048444     |
| w          | 0.026495     | 0.033509     | 0.033701     |
| h          | 0.028789     | 0.065742     | 0.042996     |
| conf       | 0.376271     | 0.398090     | 0.421870     |
| cls        | 0.026050     | 0.018979     | 0.023486     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.914286     | 0.971429     |
| recall75   | 0.727273     | 0.714286     | 0.742857     |
| precision  | 0.731707     | 0.340426     | 0.111111     |
| conf_obj   | 0.875203     | 0.887556     | 0.919090     |
| conf_noobj | 0.001229     | 0.001063     | 0.001283     |
+------------+--------------+--------------+--------------+
2020-12-19 19:47:12.911 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.740412
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.836178     | 0.772685     | 1.131549     |
| x          | 0.026413     | 0.080338     | 0.069966     |
| y          | 0.047823     | 0.031706     | 0.079667     |
| w          | 0.029183     | 0.029026     | 0.027533     |
| h          | 0.033670     | 0.022408     | 0.033635     |
| conf       | 0.695981     | 0.601250     | 0.919057     |
| cls        | 0.003108     | 0.007957     | 0.001690     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.750000     | 0.846154     | 0.769231     |
| recall75   | 0.500000     | 0.769231     | 0.769231     |
| precision  | 0.225000     | 0.119565     | 0.042735     |
| conf_obj   | 0.841232     | 0.808954     | 0.770506     |
| conf_noobj | 0.003007     | 0.002351     | 0.001678     |
+------------+--------------+--------------+--------------+
2020-12-19 19:48:21.274 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.575762
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.539396     | 0.472387     | 0.563979     |
| x          | 0.013453     | 0.038887     | 0.042680     |
| y          | 0.021381     | 0.011327     | 0.037590     |
| w          | 0.063998     | 0.009846     | 0.014024     |
| h          | 0.047670     | 0.010271     | 0.010971     |
| conf       | 0.365984     | 0.389478     | 0.449955     |
| cls        | 0.026909     | 0.012579     | 0.008759     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.823529     | 0.882353     |
| recall75   | 0.588235     | 0.764706     | 0.823529     |
| precision  | 0.576923     | 0.250000     | 0.069124     |
| conf_obj   | 0.878060     | 0.871302     | 0.893348     |
| conf_noobj | 0.001208     | 0.000981     | 0.001234     |
+------------+--------------+--------------+--------------+
2020-12-19 19:49:29.129 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.708221
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.708803     | 0.556473     | 0.442945     |
| x          | 0.031712     | 0.014606     | 0.037398     |
| y          | 0.010274     | 0.015030     | 0.042111     |
| w          | 0.057726     | 0.046613     | 0.029607     |
| h          | 0.064357     | 0.077898     | 0.026270     |
| conf       | 0.515708     | 0.377507     | 0.289882     |
| cls        | 0.029025     | 0.024818     | 0.017677     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.814815     | 1.000000     | 1.000000     |
| recall75   | 0.592593     | 0.629630     | 0.777778     |
| precision  | 0.511628     | 0.275510     | 0.117391     |
| conf_obj   | 0.896875     | 0.941179     | 0.936996     |
| conf_noobj | 0.001766     | 0.001783     | 0.001409     |
+------------+--------------+--------------+--------------+
2020-12-19 19:50:36.583 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.550128
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.888909     | 0.757421     | 0.903798     |
| x          | 0.009263     | 0.027143     | 0.053224     |
| y          | 0.037421     | 0.038551     | 0.053551     |
| w          | 0.108405     | 0.054721     | 0.033873     |
| h          | 0.110380     | 0.066383     | 0.057910     |
| conf       | 0.574556     | 0.495807     | 0.655024     |
| cls        | 0.048883     | 0.074816     | 0.050215     |
| cls_acc    | 94.44%       | 94.44%       | 100.00%      |
| recall50   | 0.777778     | 0.833333     | 0.894737     |
| recall75   | 0.611111     | 0.500000     | 0.684211     |
| precision  | 0.608696     | 0.365854     | 0.138211     |
| conf_obj   | 0.804683     | 0.827057     | 0.852962     |
| conf_noobj | 0.001303     | 0.001109     | 0.001090     |
+------------+--------------+--------------+--------------+
2020-12-19 19:51:38.946 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.984473
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.828049     | 0.639718     | 0.516705     |
| x          | 0.032317     | 0.036043     | 0.033731     |
| y          | 0.018137     | 0.016072     | 0.049495     |
| w          | 0.060943     | 0.057336     | 0.008225     |
| h          | 0.100467     | 0.062725     | 0.027540     |
| conf       | 0.600314     | 0.431532     | 0.383366     |
| cls        | 0.015871     | 0.036011     | 0.014348     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.772727     | 0.916667     | 0.916667     |
| recall75   | 0.454545     | 0.458333     | 0.666667     |
| precision  | 0.414634     | 0.217822     | 0.084291     |
| conf_obj   | 0.825184     | 0.868192     | 0.874187     |
| conf_noobj | 0.002088     | 0.001743     | 0.001419     |
+------------+--------------+--------------+--------------+
2020-12-19 19:52:51.361 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 3.430829
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.274462     | 1.099765     | 1.056602     |
| x          | 0.012679     | 0.017589     | 0.029928     |
| y          | 0.023111     | 0.018155     | 0.023195     |
| w          | 0.026830     | 0.022883     | 0.051423     |
| h          | 0.080638     | 0.089705     | 0.027016     |
| conf       | 1.102809     | 0.924411     | 0.899365     |
| cls        | 0.028395     | 0.027022     | 0.025674     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.785714     | 0.862069     | 0.862069     |
| recall75   | 0.535714     | 0.724138     | 0.724138     |
| precision  | 0.611111     | 0.294118     | 0.086505     |
| conf_obj   | 0.791527     | 0.819935     | 0.845421     |
| conf_noobj | 0.001740     | 0.001557     | 0.001420     |
+------------+--------------+--------------+--------------+
2020-12-19 19:53:55.513 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.682792
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.593507     | 0.610811     | 0.478474     |
| x          | 0.011195     | 0.018247     | 0.032203     |
| y          | 0.020837     | 0.017256     | 0.016928     |
| w          | 0.070018     | 0.048243     | 0.012040     |
| h          | 0.028049     | 0.021196     | 0.015087     |
| conf       | 0.409878     | 0.487710     | 0.381136     |
| cls        | 0.053530     | 0.018159     | 0.021079     |
| cls_acc    | 96.30%       | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.892857     | 0.964286     |
| recall75   | 0.777778     | 0.785714     | 0.928571     |
| precision  | 0.595238     | 0.274725     | 0.089404     |
| conf_obj   | 0.908042     | 0.861671     | 0.903169     |
| conf_noobj | 0.001468     | 0.001164     | 0.001385     |
+------------+--------------+--------------+--------------+
2020-12-19 19:55:04.437 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.764902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.717258     | 0.583598     | 0.464046     |
| x          | 0.008946     | 0.011125     | 0.022129     |
| y          | 0.045335     | 0.020019     | 0.030803     |
| w          | 0.084285     | 0.048586     | 0.024502     |
| h          | 0.039869     | 0.018733     | 0.019088     |
| conf       | 0.360530     | 0.294212     | 0.266477     |
| cls        | 0.178292     | 0.190922     | 0.101048     |
| cls_acc    | 89.47%       | 90.48%       | 95.24%       |
| recall50   | 0.789474     | 0.904762     | 0.952381     |
| recall75   | 0.736842     | 0.761905     | 0.761905     |
| precision  | 0.555556     | 0.395833     | 0.124224     |
| conf_obj   | 0.873980     | 0.911644     | 0.940001     |
| conf_noobj | 0.001341     | 0.001337     | 0.001390     |
+------------+--------------+--------------+--------------+
2020-12-19 19:56:06.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.421454
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.461305     | 0.525081     | 0.435067     |
| x          | 0.007345     | 0.010068     | 0.065701     |
| y          | 0.015081     | 0.034965     | 0.105029     |
| w          | 0.033373     | 0.021251     | 0.027199     |
| h          | 0.034395     | 0.022954     | 0.018398     |
| conf       | 0.367916     | 0.430686     | 0.215632     |
| cls        | 0.003196     | 0.005157     | 0.003109     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.833333     | 1.000000     |
| recall75   | 0.944444     | 0.722222     | 0.833333     |
| precision  | 0.580645     | 0.197368     | 0.111801     |
| conf_obj   | 0.943735     | 0.841987     | 0.947675     |
| conf_noobj | 0.001696     | 0.001295     | 0.000971     |
+------------+--------------+--------------+--------------+
2020-12-19 19:57:11.115 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.317769
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.300337     | 1.059695     | 0.957738     |
| x          | 0.011271     | 0.021211     | 0.043817     |
| y          | 0.020566     | 0.017302     | 0.036897     |
| w          | 0.184943     | 0.092625     | 0.043407     |
| h          | 0.171080     | 0.091903     | 0.044876     |
| conf       | 0.848385     | 0.761270     | 0.707827     |
| cls        | 0.064092     | 0.075384     | 0.080914     |
| cls_acc    | 100.00%      | 96.43%       | 96.43%       |
| recall50   | 0.785714     | 0.714286     | 0.785714     |
| recall75   | 0.678571     | 0.678571     | 0.750000     |
| precision  | 0.594595     | 0.240964     | 0.126437     |
| conf_obj   | 0.784921     | 0.758124     | 0.801529     |
| conf_noobj | 0.001770     | 0.001568     | 0.001269     |
+------------+--------------+--------------+--------------+
2020-12-19 19:57:23.867 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 2.599
2020-12-19 19:57:23.871 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 19:58:21.854 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.29882   | 0.25124 | 0.27297 | 0.18529 |
| 1     | Wear_helmet | 0.34486   | 0.92133 | 0.50187 | 0.83182 |
| 2     | Total       | 0.32184   | 0.58629 | 0.38742 | 0.50856 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 19:58:21.854 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5085573157172453
2020-12-19 19:58:21.855 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 19:58:21.855 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.983116

2020-12-19 19:58:22.399 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 1/2, epo 2/5
2020-12-19 19:58:22.400 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 1/2, epo 2/5; time cost: 0:15:29.941498

2020-12-19 19:58:22.400 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 1/2, epo 3/5
2020-12-19 19:58:23.758 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.401422
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.883065     | 0.865308     | 0.653049     |
| x          | 0.006097     | 0.010027     | 0.013109     |
| y          | 0.015385     | 0.028836     | 0.029748     |
| w          | 0.065121     | 0.023664     | 0.020440     |
| h          | 0.053739     | 0.028324     | 0.018859     |
| conf       | 0.720317     | 0.718504     | 0.546319     |
| cls        | 0.022407     | 0.055953     | 0.024574     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.800000     | 0.850000     |
| recall75   | 0.700000     | 0.700000     | 0.750000     |
| precision  | 0.515152     | 0.271186     | 0.088542     |
| conf_obj   | 0.802113     | 0.800567     | 0.825647     |
| conf_noobj | 0.001890     | 0.001556     | 0.001517     |
+------------+--------------+--------------+--------------+
2020-12-19 19:59:26.606 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.234788
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.956569     | 0.715688     | 0.562531     |
| x          | 0.009168     | 0.027473     | 0.021313     |
| y          | 0.017238     | 0.006090     | 0.023045     |
| w          | 0.081252     | 0.060225     | 0.014432     |
| h          | 0.107787     | 0.071585     | 0.019842     |
| conf       | 0.582449     | 0.500381     | 0.462487     |
| cls        | 0.158676     | 0.049934     | 0.021412     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.900000     | 0.950000     |
| recall75   | 0.631579     | 0.750000     | 0.800000     |
| precision  | 0.615385     | 0.300000     | 0.118012     |
| conf_obj   | 0.841721     | 0.861994     | 0.870061     |
| conf_noobj | 0.002244     | 0.001623     | 0.001359     |
+------------+--------------+--------------+--------------+
2020-12-19 20:00:30.555 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.666858
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.021111     | 0.776504     | 0.869243     |
| x          | 0.054107     | 0.015789     | 0.031149     |
| y          | 0.028591     | 0.021553     | 0.048566     |
| w          | 0.075524     | 0.060593     | 0.043589     |
| h          | 0.053997     | 0.055462     | 0.029285     |
| conf       | 0.741358     | 0.564999     | 0.625756     |
| cls        | 0.067533     | 0.058107     | 0.090898     |
| cls_acc    | 96.30%       | 96.88%       | 96.88%       |
| recall50   | 0.703704     | 0.812500     | 0.875000     |
| recall75   | 0.481481     | 0.625000     | 0.562500     |
| precision  | 0.655172     | 0.481481     | 0.160920     |
| conf_obj   | 0.732013     | 0.803499     | 0.794542     |
| conf_noobj | 0.001196     | 0.000959     | 0.001150     |
+------------+--------------+--------------+--------------+
2020-12-19 20:01:31.465 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.699743
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.465080     | 1.164645     | 1.070019     |
| x          | 0.033467     | 0.039543     | 0.023330     |
| y          | 0.023304     | 0.032379     | 0.035482     |
| w          | 0.178682     | 0.097909     | 0.030831     |
| h          | 0.202788     | 0.104379     | 0.047717     |
| conf       | 0.838131     | 0.738281     | 0.786010     |
| cls        | 0.188708     | 0.152153     | 0.146649     |
| cls_acc    | 92.50%       | 95.24%       | 93.02%       |
| recall50   | 0.725000     | 0.761905     | 0.767442     |
| recall75   | 0.375000     | 0.476190     | 0.558140     |
| precision  | 0.630435     | 0.344086     | 0.120000     |
| conf_obj   | 0.762420     | 0.817129     | 0.769141     |
| conf_noobj | 0.001891     | 0.001756     | 0.001847     |
+------------+--------------+--------------+--------------+
2020-12-19 20:02:36.500 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.265711
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.969623     | 0.727777     | 0.568311     |
| x          | 0.017454     | 0.017392     | 0.033943     |
| y          | 0.027335     | 0.034553     | 0.061344     |
| w          | 0.030034     | 0.020267     | 0.011312     |
| h          | 0.032821     | 0.023773     | 0.015738     |
| conf       | 0.796641     | 0.511696     | 0.363819     |
| cls        | 0.065339     | 0.120097     | 0.082156     |
| cls_acc    | 100.00%      | 95.00%       | 95.24%       |
| recall50   | 0.833333     | 0.850000     | 0.904762     |
| recall75   | 0.500000     | 0.800000     | 0.809524     |
| precision  | 0.416667     | 0.212500     | 0.087156     |
| conf_obj   | 0.764645     | 0.830803     | 0.906728     |
| conf_noobj | 0.002012     | 0.001697     | 0.001582     |
+------------+--------------+--------------+--------------+
2020-12-19 20:03:35.239 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.427315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.902850     | 0.742480     | 0.781985     |
| x          | 0.016452     | 0.018313     | 0.033770     |
| y          | 0.010876     | 0.012648     | 0.038644     |
| w          | 0.059529     | 0.037728     | 0.010228     |
| h          | 0.036324     | 0.039935     | 0.023407     |
| conf       | 0.596286     | 0.491733     | 0.494181     |
| cls        | 0.183384     | 0.142123     | 0.181755     |
| cls_acc    | 92.31%       | 96.43%       | 96.55%       |
| recall50   | 0.846154     | 0.892857     | 0.896552     |
| recall75   | 0.653846     | 0.714286     | 0.758621     |
| precision  | 0.611111     | 0.373134     | 0.110169     |
| conf_obj   | 0.853428     | 0.850981     | 0.868071     |
| conf_noobj | 0.001689     | 0.001340     | 0.001322     |
+------------+--------------+--------------+--------------+
2020-12-19 20:04:38.699 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.806925
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.998419     | 0.952037     | 0.856468     |
| x          | 0.020566     | 0.036146     | 0.029189     |
| y          | 0.024708     | 0.030363     | 0.027977     |
| w          | 0.034610     | 0.018937     | 0.020503     |
| h          | 0.055362     | 0.085048     | 0.041692     |
| conf       | 0.734309     | 0.650979     | 0.639144     |
| cls        | 0.128864     | 0.130565     | 0.097963     |
| cls_acc    | 89.47%       | 94.74%       | 94.74%       |
| recall50   | 0.842105     | 0.842105     | 0.894737     |
| recall75   | 0.684211     | 0.736842     | 0.842105     |
| precision  | 0.400000     | 0.186047     | 0.069106     |
| conf_obj   | 0.848124     | 0.861047     | 0.891730     |
| conf_noobj | 0.002117     | 0.001676     | 0.001433     |
+------------+--------------+--------------+--------------+
2020-12-19 20:05:49.914 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.984507
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.675391     | 0.768078     | 0.541038     |
| x          | 0.012186     | 0.023341     | 0.065400     |
| y          | 0.015372     | 0.049974     | 0.050257     |
| w          | 0.059902     | 0.015878     | 0.042947     |
| h          | 0.044332     | 0.016603     | 0.021192     |
| conf       | 0.506914     | 0.643290     | 0.342785     |
| cls        | 0.036685     | 0.018992     | 0.018458     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.777778     | 0.944444     |
| recall75   | 0.588235     | 0.722222     | 0.722222     |
| precision  | 0.466667     | 0.179487     | 0.098837     |
| conf_obj   | 0.837035     | 0.788080     | 0.874955     |
| conf_noobj | 0.001463     | 0.001356     | 0.001065     |
+------------+--------------+--------------+--------------+
2020-12-19 20:07:03.749 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.422851
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.546205     | 0.427836     | 0.448810     |
| x          | 0.011749     | 0.031140     | 0.064899     |
| y          | 0.012213     | 0.022181     | 0.041656     |
| w          | 0.093827     | 0.046982     | 0.010315     |
| h          | 0.080125     | 0.045253     | 0.023618     |
| conf       | 0.332185     | 0.270677     | 0.289722     |
| cls        | 0.016105     | 0.011602     | 0.018600     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.941176     | 0.882353     |
| recall75   | 0.705882     | 0.647059     | 0.588235     |
| precision  | 0.750000     | 0.250000     | 0.080214     |
| conf_obj   | 0.895266     | 0.920405     | 0.910694     |
| conf_noobj | 0.000965     | 0.001044     | 0.000961     |
+------------+--------------+--------------+--------------+
2020-12-19 20:08:10.855 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 4.533811
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.890909     | 1.332245     | 1.310656     |
| x          | 0.030507     | 0.027750     | 0.043641     |
| y          | 0.019325     | 0.019891     | 0.033645     |
| w          | 0.105735     | 0.068409     | 0.028685     |
| h          | 0.071904     | 0.048695     | 0.040312     |
| conf       | 1.302812     | 0.903432     | 0.883705     |
| cls        | 0.360626     | 0.264067     | 0.280669     |
| cls_acc    | 87.50%       | 93.75%       | 93.75%       |
| recall50   | 0.656250     | 0.750000     | 0.656250     |
| recall75   | 0.468750     | 0.562500     | 0.593750     |
| precision  | 0.656250     | 0.380952     | 0.112903     |
| conf_obj   | 0.652752     | 0.730224     | 0.740155     |
| conf_noobj | 0.001758     | 0.001470     | 0.001478     |
+------------+--------------+--------------+--------------+
2020-12-19 20:09:16.248 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.558050
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.497911     | 0.568629     | 0.491509     |
| x          | 0.009466     | 0.021758     | 0.025677     |
| y          | 0.024262     | 0.030521     | 0.027656     |
| w          | 0.032804     | 0.015251     | 0.015667     |
| h          | 0.045153     | 0.016847     | 0.019037     |
| conf       | 0.368534     | 0.479922     | 0.396966     |
| cls        | 0.017691     | 0.004329     | 0.006507     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.833333     | 0.918919     |
| recall75   | 0.636364     | 0.694444     | 0.756757     |
| precision  | 0.769231     | 0.365854     | 0.165854     |
| conf_obj   | 0.894106     | 0.859377     | 0.882474     |
| conf_noobj | 0.001080     | 0.001421     | 0.001130     |
+------------+--------------+--------------+--------------+
2020-12-19 20:10:22.361 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.907284
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.637619     | 0.614898     | 0.654767     |
| x          | 0.033745     | 0.018197     | 0.022669     |
| y          | 0.018123     | 0.017173     | 0.039213     |
| w          | 0.089571     | 0.044782     | 0.022784     |
| h          | 0.027431     | 0.019072     | 0.048294     |
| conf       | 0.387501     | 0.473636     | 0.493147     |
| cls        | 0.081249     | 0.042037     | 0.028661     |
| cls_acc    | 95.65%       | 96.00%       | 100.00%      |
| recall50   | 0.913043     | 0.920000     | 0.923077     |
| recall75   | 0.608696     | 0.800000     | 0.692308     |
| precision  | 0.724138     | 0.343284     | 0.117647     |
| conf_obj   | 0.881132     | 0.879283     | 0.893777     |
| conf_noobj | 0.001177     | 0.001622     | 0.001557     |
+------------+--------------+--------------+--------------+
2020-12-19 20:11:25.611 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.501956
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.816511     | 0.853305     | 0.832139     |
| x          | 0.016581     | 0.070846     | 0.051859     |
| y          | 0.015239     | 0.043125     | 0.041573     |
| w          | 0.140416     | 0.091518     | 0.040889     |
| h          | 0.118133     | 0.085353     | 0.040460     |
| conf       | 0.504416     | 0.532267     | 0.628104     |
| cls        | 0.021726     | 0.030196     | 0.029254     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.740741     | 0.777778     |
| recall75   | 0.400000     | 0.518519     | 0.629630     |
| precision  | 0.534884     | 0.227273     | 0.096330     |
| conf_obj   | 0.887659     | 0.823761     | 0.808606     |
| conf_noobj | 0.001921     | 0.001424     | 0.001146     |
+------------+--------------+--------------+--------------+
2020-12-19 20:12:38.328 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.654868
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.570900     | 0.519867     | 0.564101     |
| x          | 0.009460     | 0.020664     | 0.033934     |
| y          | 0.015131     | 0.030853     | 0.043376     |
| w          | 0.031897     | 0.012715     | 0.009258     |
| h          | 0.043208     | 0.023355     | 0.023506     |
| conf       | 0.460155     | 0.366486     | 0.393594     |
| cls        | 0.011049     | 0.065794     | 0.060433     |
| cls_acc    | 100.00%      | 95.45%       | 95.45%       |
| recall50   | 0.909091     | 0.909091     | 0.909091     |
| recall75   | 0.772727     | 0.863636     | 0.772727     |
| precision  | 0.606061     | 0.202020     | 0.077220     |
| conf_obj   | 0.880465     | 0.929726     | 0.927510     |
| conf_noobj | 0.001532     | 0.001609     | 0.001317     |
+------------+--------------+--------------+--------------+
2020-12-19 20:12:51.486 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 2.406
2020-12-19 20:12:51.490 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 20:13:46.905 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11244   | 0.35075 | 0.17029 | 0.17074 |
| 1     | Wear_helmet | 0.43527   | 0.91469 | 0.58985 | 0.86689 |
| 2     | Total       | 0.27386   | 0.63272 | 0.38007 | 0.51881 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:13:46.906 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.518812403059382
2020-12-19 20:13:46.906 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 20:13:46.906 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.415437

2020-12-19 20:13:47.383 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 1/2, epo 3/5
2020-12-19 20:13:47.384 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 1/2, epo 3/5; time cost: 0:15:24.983505

2020-12-19 20:13:47.384 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 1/2, epo 4/5
2020-12-19 20:13:48.536 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 3.321947
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.156103     | 1.048795     | 1.117049     |
| x          | 0.049350     | 0.071650     | 0.057657     |
| y          | 0.018504     | 0.038661     | 0.057100     |
| w          | 0.116639     | 0.090732     | 0.083643     |
| h          | 0.072712     | 0.058759     | 0.061614     |
| conf       | 0.771975     | 0.622798     | 0.722269     |
| cls        | 0.126922     | 0.166195     | 0.134765     |
| cls_acc    | 95.65%       | 96.00%       | 92.86%       |
| recall50   | 0.695652     | 0.640000     | 0.714286     |
| recall75   | 0.434783     | 0.600000     | 0.535714     |
| precision  | 0.571429     | 0.250000     | 0.090090     |
| conf_obj   | 0.773862     | 0.797991     | 0.782687     |
| conf_noobj | 0.001119     | 0.001171     | 0.001297     |
+------------+--------------+--------------+--------------+
2020-12-19 20:14:50.155 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.535671
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.360724     | 0.707130     | 0.467816     |
| x          | 0.011097     | 0.014820     | 0.046764     |
| y          | 0.019774     | 0.045345     | 0.039483     |
| w          | 0.071039     | 0.022622     | 0.034402     |
| h          | 0.021327     | 0.015620     | 0.014702     |
| conf       | 0.234670     | 0.606724     | 0.329438     |
| cls        | 0.002817     | 0.002000     | 0.003027     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.833333     | 0.958333     |
| recall75   | 0.791667     | 0.750000     | 0.916667     |
| precision  | 0.605263     | 0.181818     | 0.086466     |
| conf_obj   | 0.954781     | 0.851158     | 0.900216     |
| conf_noobj | 0.001382     | 0.001666     | 0.001294     |
+------------+--------------+--------------+--------------+
2020-12-19 20:15:58.062 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.715230
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.203999     | 0.785987     | 0.725244     |
| x          | 0.037262     | 0.026450     | 0.024991     |
| y          | 0.020338     | 0.014308     | 0.020828     |
| w          | 0.030156     | 0.024204     | 0.024839     |
| h          | 0.031043     | 0.027192     | 0.047545     |
| conf       | 0.714061     | 0.458161     | 0.429408     |
| cls        | 0.371138     | 0.235671     | 0.177633     |
| cls_acc    | 85.00%       | 85.71%       | 95.45%       |
| recall50   | 0.600000     | 0.714286     | 0.818182     |
| recall75   | 0.550000     | 0.619048     | 0.636364     |
| precision  | 0.363636     | 0.211268     | 0.111801     |
| conf_obj   | 0.785972     | 0.852901     | 0.845686     |
| conf_noobj | 0.001714     | 0.001397     | 0.000994     |
+------------+--------------+--------------+--------------+
2020-12-19 20:17:01.782 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.741163
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.124970     | 0.913980     | 0.702213     |
| x          | 0.028555     | 0.055099     | 0.053445     |
| y          | 0.022646     | 0.043982     | 0.023492     |
| w          | 0.070483     | 0.072706     | 0.033552     |
| h          | 0.076967     | 0.080915     | 0.033901     |
| conf       | 0.858552     | 0.596909     | 0.483270     |
| cls        | 0.067768     | 0.064369     | 0.074553     |
| cls_acc    | 95.00%       | 100.00%      | 95.24%       |
| recall50   | 0.750000     | 0.809524     | 0.809524     |
| recall75   | 0.600000     | 0.619048     | 0.714286     |
| precision  | 0.517241     | 0.309091     | 0.109677     |
| conf_obj   | 0.752247     | 0.773161     | 0.791096     |
| conf_noobj | 0.001973     | 0.001282     | 0.001190     |
+------------+--------------+--------------+--------------+
2020-12-19 20:18:07.407 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.182074
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.171908     | 0.979043     | 1.031123     |
| x          | 0.016152     | 0.030128     | 0.048316     |
| y          | 0.017995     | 0.022364     | 0.047663     |
| w          | 0.047935     | 0.032389     | 0.045302     |
| h          | 0.046079     | 0.051973     | 0.042223     |
| conf       | 0.540140     | 0.559622     | 0.536743     |
| cls        | 0.503606     | 0.282566     | 0.310877     |
| cls_acc    | 81.48%       | 85.19%       | 82.14%       |
| recall50   | 0.703704     | 0.740741     | 0.714286     |
| recall75   | 0.629630     | 0.629630     | 0.571429     |
| precision  | 0.612903     | 0.298507     | 0.093458     |
| conf_obj   | 0.844368     | 0.867559     | 0.876508     |
| conf_noobj | 0.001466     | 0.001388     | 0.001346     |
+------------+--------------+--------------+--------------+
2020-12-19 20:19:13.868 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.846521
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.702040     | 0.647079     | 0.497402     |
| x          | 0.005183     | 0.010857     | 0.032875     |
| y          | 0.006142     | 0.008598     | 0.017255     |
| w          | 0.038583     | 0.020003     | 0.006588     |
| h          | 0.018552     | 0.026123     | 0.008219     |
| conf       | 0.610730     | 0.562315     | 0.412378     |
| cls        | 0.022850     | 0.019183     | 0.020087     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.900000     |
| recall75   | 0.800000     | 0.850000     | 0.850000     |
| precision  | 0.666667     | 0.352941     | 0.107143     |
| conf_obj   | 0.873751     | 0.876484     | 0.859229     |
| conf_noobj | 0.001127     | 0.000935     | 0.001038     |
+------------+--------------+--------------+--------------+
2020-12-19 20:20:19.903 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.025220
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.323168     | 0.347116     | 0.354936     |
| x          | 0.011816     | 0.021417     | 0.066993     |
| y          | 0.016486     | 0.009545     | 0.029568     |
| w          | 0.021668     | 0.028756     | 0.011654     |
| h          | 0.016339     | 0.019878     | 0.005107     |
| conf       | 0.254636     | 0.265590     | 0.238743     |
| cls        | 0.002224     | 0.001928     | 0.002871     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.866667     | 0.866667     | 0.933333     |
| precision  | 0.576923     | 0.185185     | 0.057915     |
| conf_obj   | 0.965673     | 0.976866     | 0.980828     |
| conf_noobj | 0.001756     | 0.001635     | 0.001446     |
+------------+--------------+--------------+--------------+
2020-12-19 20:21:24.417 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.321136
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.487942     | 0.369743     | 0.463451     |
| x          | 0.023200     | 0.014458     | 0.028994     |
| y          | 0.015963     | 0.026218     | 0.042868     |
| w          | 0.102584     | 0.051093     | 0.009672     |
| h          | 0.044697     | 0.054314     | 0.014485     |
| conf       | 0.277327     | 0.215872     | 0.345120     |
| cls        | 0.024171     | 0.007788     | 0.022313     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 0.960000     |
| recall75   | 0.636364     | 0.750000     | 0.800000     |
| precision  | 0.807692     | 0.413793     | 0.126316     |
| conf_obj   | 0.926168     | 0.955532     | 0.904638     |
| conf_noobj | 0.001137     | 0.001181     | 0.001367     |
+------------+--------------+--------------+--------------+
2020-12-19 20:22:30.273 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.908164
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.320491     | 0.304418     | 0.283256     |
| x          | 0.003723     | 0.010506     | 0.022840     |
| y          | 0.016847     | 0.026450     | 0.047601     |
| w          | 0.016128     | 0.010981     | 0.009281     |
| h          | 0.020117     | 0.013200     | 0.007439     |
| conf       | 0.258656     | 0.234763     | 0.185425     |
| cls        | 0.005021     | 0.008517     | 0.010670     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.789474     | 0.842105     | 0.894737     |
| precision  | 0.600000     | 0.275362     | 0.127517     |
| conf_obj   | 0.946563     | 0.952707     | 0.956995     |
| conf_noobj | 0.001499     | 0.001298     | 0.000955     |
+------------+--------------+--------------+--------------+
2020-12-19 20:23:38.219 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 3.938003
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.503204     | 1.304017     | 1.130783     |
| x          | 0.010835     | 0.013373     | 0.032170     |
| y          | 0.020733     | 0.024226     | 0.037795     |
| w          | 0.026786     | 0.028786     | 0.081966     |
| h          | 0.088057     | 0.096181     | 0.130646     |
| conf       | 1.052898     | 0.976446     | 0.781731     |
| cls        | 0.303894     | 0.165005     | 0.066474     |
| cls_acc    | 94.44%       | 94.44%       | 94.44%       |
| recall50   | 0.777778     | 0.777778     | 0.833333     |
| recall75   | 0.777778     | 0.722222     | 0.666667     |
| precision  | 0.583333     | 0.212121     | 0.077720     |
| conf_obj   | 0.825746     | 0.798950     | 0.850197     |
| conf_noobj | 0.001439     | 0.001368     | 0.001130     |
+------------+--------------+--------------+--------------+
2020-12-19 20:24:47.291 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.817021
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.726573     | 0.574705     | 0.515743     |
| x          | 0.019357     | 0.024300     | 0.042718     |
| y          | 0.010511     | 0.013814     | 0.055034     |
| w          | 0.030820     | 0.043432     | 0.009899     |
| h          | 0.057633     | 0.026863     | 0.029717     |
| conf       | 0.590466     | 0.455850     | 0.362979     |
| cls        | 0.017786     | 0.010445     | 0.015396     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.857143     | 0.952381     |
| recall75   | 0.550000     | 0.571429     | 0.857143     |
| precision  | 0.529412     | 0.233766     | 0.108696     |
| conf_obj   | 0.858192     | 0.856401     | 0.869877     |
| conf_noobj | 0.001991     | 0.001472     | 0.001289     |
+------------+--------------+--------------+--------------+
2020-12-19 20:25:55.439 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.161433
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.340206     | 0.424618     | 0.396608     |
| x          | 0.005498     | 0.026642     | 0.038589     |
| y          | 0.016534     | 0.035209     | 0.056685     |
| w          | 0.026648     | 0.038330     | 0.012962     |
| h          | 0.024589     | 0.045762     | 0.014294     |
| conf       | 0.260709     | 0.273890     | 0.270424     |
| cls        | 0.006227     | 0.004785     | 0.003653     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.933333     | 0.933333     |
| recall75   | 0.800000     | 0.600000     | 0.866667     |
| precision  | 0.833333     | 0.378378     | 0.152174     |
| conf_obj   | 0.919612     | 0.883176     | 0.896021     |
| conf_noobj | 0.001242     | 0.000820     | 0.000864     |
+------------+--------------+--------------+--------------+
2020-12-19 20:27:01.875 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.969443
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.645209     | 0.721489     | 0.602746     |
| x          | 0.027234     | 0.017919     | 0.030215     |
| y          | 0.009604     | 0.015053     | 0.039514     |
| w          | 0.056583     | 0.058457     | 0.025173     |
| h          | 0.063442     | 0.076586     | 0.039091     |
| conf       | 0.340499     | 0.451433     | 0.359398     |
| cls        | 0.147845     | 0.102040     | 0.109354     |
| cls_acc    | 97.14%       | 95.12%       | 95.24%       |
| recall50   | 0.942857     | 0.902439     | 0.928571     |
| recall75   | 0.628571     | 0.658537     | 0.761905     |
| precision  | 0.717391     | 0.366337     | 0.178082     |
| conf_obj   | 0.907631     | 0.896941     | 0.908365     |
| conf_noobj | 0.001166     | 0.001296     | 0.001145     |
+------------+--------------+--------------+--------------+
2020-12-19 20:28:10.026 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.905088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.565943     | 1.246573     | 1.092573     |
| x          | 0.050814     | 0.032123     | 0.044847     |
| y          | 0.016383     | 0.016448     | 0.039548     |
| w          | 0.147222     | 0.061844     | 0.044553     |
| h          | 0.150306     | 0.071082     | 0.051823     |
| conf       | 0.713783     | 0.554482     | 0.453264     |
| cls        | 0.487435     | 0.510595     | 0.458537     |
| cls_acc    | 77.42%       | 79.41%       | 78.38%       |
| recall50   | 0.709677     | 0.676471     | 0.729730     |
| recall75   | 0.516129     | 0.588235     | 0.513514     |
| precision  | 0.564103     | 0.298701     | 0.093750     |
| conf_obj   | 0.780644     | 0.847526     | 0.923996     |
| conf_noobj | 0.001168     | 0.001073     | 0.001219     |
+------------+--------------+--------------+--------------+
2020-12-19 20:28:22.342 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 2.193
2020-12-19 20:28:22.345 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 20:29:17.219 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06773   | 0.41294 | 0.11637 | 0.13814 |
| 1     | Wear_helmet | 0.30267   | 0.91232 | 0.45455 | 0.84672 |
| 2     | Total       | 0.18520   | 0.66263 | 0.28546 | 0.49243 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:29:17.221 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.492433718526334
2020-12-19 20:29:17.222 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 20:29:17.223 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.877366

2020-12-19 20:29:17.706 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 1/2, epo 4/5
2020-12-19 20:29:17.706 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 1/2, epo 4/5; time cost: 0:15:30.321888

2020-12-19 20:29:17.706 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 3/20, idx 1/2, epo 5/5
2020-12-19 20:29:18.889 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.547665
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.630803     | 0.476830     | 0.440031     |
| x          | 0.010035     | 0.024848     | 0.023859     |
| y          | 0.012105     | 0.017918     | 0.025895     |
| w          | 0.031008     | 0.028596     | 0.013253     |
| h          | 0.026435     | 0.020475     | 0.011055     |
| conf       | 0.439081     | 0.347708     | 0.354187     |
| cls        | 0.112138     | 0.037286     | 0.011782     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.952381     | 0.952381     |
| recall75   | 0.789474     | 0.714286     | 0.904762     |
| precision  | 0.529412     | 0.277778     | 0.125000     |
| conf_obj   | 0.901047     | 0.905424     | 0.898163     |
| conf_noobj | 0.002051     | 0.001492     | 0.000973     |
+------------+--------------+--------------+--------------+
2020-12-19 20:30:25.713 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.248010
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.558469     | 0.391329     | 0.298211     |
| x          | 0.006715     | 0.010127     | 0.022594     |
| y          | 0.010121     | 0.024255     | 0.027567     |
| w          | 0.027938     | 0.012867     | 0.008652     |
| h          | 0.038901     | 0.018331     | 0.010654     |
| conf       | 0.468491     | 0.322446     | 0.226514     |
| cls        | 0.006302     | 0.003303     | 0.002230     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.920000     | 0.920000     |
| recall75   | 0.600000     | 0.920000     | 0.840000     |
| precision  | 0.714286     | 0.298701     | 0.154362     |
| conf_obj   | 0.826992     | 0.893258     | 0.933827     |
| conf_noobj | 0.001148     | 0.001134     | 0.000757     |
+------------+--------------+--------------+--------------+
2020-12-19 20:31:32.514 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 3.393849
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.193904     | 1.033503     | 1.166443     |
| x          | 0.026375     | 0.030032     | 0.040114     |
| y          | 0.007651     | 0.014209     | 0.029430     |
| w          | 0.099624     | 0.060008     | 0.041336     |
| h          | 0.088433     | 0.046639     | 0.035522     |
| conf       | 0.945324     | 0.859417     | 0.998787     |
| cls        | 0.026497     | 0.023198     | 0.021253     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.714286     | 0.772727     | 0.863636     |
| recall75   | 0.666667     | 0.681818     | 0.727273     |
| precision  | 0.600000     | 0.212500     | 0.092683     |
| conf_obj   | 0.768319     | 0.815446     | 0.810071     |
| conf_noobj | 0.001301     | 0.001428     | 0.001220     |
+------------+--------------+--------------+--------------+
2020-12-19 20:32:39.145 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.670112
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.717254     | 0.460703     | 0.492155     |
| x          | 0.019393     | 0.008106     | 0.021209     |
| y          | 0.006274     | 0.026113     | 0.020514     |
| w          | 0.050483     | 0.044254     | 0.037546     |
| h          | 0.059772     | 0.047738     | 0.038860     |
| conf       | 0.522967     | 0.307678     | 0.354922     |
| cls        | 0.058365     | 0.026815     | 0.019104     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.923077     | 0.961538     |
| recall75   | 0.800000     | 0.769231     | 0.769231     |
| precision  | 0.666667     | 0.347826     | 0.153374     |
| conf_obj   | 0.885104     | 0.934206     | 0.925239     |
| conf_noobj | 0.001303     | 0.001066     | 0.000915     |
+------------+--------------+--------------+--------------+
2020-12-19 20:33:44.364 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.491824
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.525097     | 0.524780     | 0.441947     |
| x          | 0.017215     | 0.018816     | 0.048287     |
| y          | 0.026224     | 0.040206     | 0.033375     |
| w          | 0.025435     | 0.065378     | 0.026041     |
| h          | 0.021421     | 0.035578     | 0.019583     |
| conf       | 0.402422     | 0.341876     | 0.284157     |
| cls        | 0.032381     | 0.022927     | 0.030504     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.952381     | 0.954545     |
| recall75   | 0.700000     | 0.714286     | 0.681818     |
| precision  | 0.607143     | 0.273973     | 0.117978     |
| conf_obj   | 0.853558     | 0.871736     | 0.919266     |
| conf_noobj | 0.001092     | 0.001102     | 0.000948     |
+------------+--------------+--------------+--------------+
2020-12-19 20:34:51.285 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.066378
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.388275     | 0.358338     | 0.319765     |
| x          | 0.018938     | 0.008100     | 0.017391     |
| y          | 0.010371     | 0.008108     | 0.037589     |
| w          | 0.035271     | 0.039120     | 0.006941     |
| h          | 0.050591     | 0.068330     | 0.023744     |
| conf       | 0.267483     | 0.226823     | 0.232515     |
| cls        | 0.005621     | 0.007857     | 0.001585     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.900000     | 1.000000     |
| recall75   | 0.789474     | 0.750000     | 0.950000     |
| precision  | 0.620690     | 0.321429     | 0.108108     |
| conf_obj   | 0.941859     | 0.948316     | 0.933288     |
| conf_noobj | 0.001413     | 0.001047     | 0.001023     |
+------------+--------------+--------------+--------------+
2020-12-19 20:36:00.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.157777
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.368505     | 0.925743     | 0.863530     |
| x          | 0.024420     | 0.028351     | 0.030702     |
| y          | 0.011745     | 0.023459     | 0.023557     |
| w          | 0.065340     | 0.034828     | 0.011244     |
| h          | 0.102903     | 0.040097     | 0.028190     |
| conf       | 0.935429     | 0.611337     | 0.534585     |
| cls        | 0.228667     | 0.187671     | 0.235251     |
| cls_acc    | 92.59%       | 89.29%       | 89.66%       |
| recall50   | 0.666667     | 0.714286     | 0.862069     |
| recall75   | 0.481481     | 0.571429     | 0.724138     |
| precision  | 0.514286     | 0.273973     | 0.121951     |
| conf_obj   | 0.737656     | 0.803072     | 0.837298     |
| conf_noobj | 0.001801     | 0.001543     | 0.001358     |
+------------+--------------+--------------+--------------+
2020-12-19 20:37:05.813 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.399302
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.971103     | 0.743335     | 0.684864     |
| x          | 0.026068     | 0.030993     | 0.037522     |
| y          | 0.015772     | 0.018560     | 0.025500     |
| w          | 0.034012     | 0.035950     | 0.029180     |
| h          | 0.013526     | 0.020312     | 0.017349     |
| conf       | 0.863995     | 0.621632     | 0.551165     |
| cls        | 0.017731     | 0.015889     | 0.024147     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.736842     | 0.789474     | 0.947368     |
| recall75   | 0.631579     | 0.631579     | 0.684211     |
| precision  | 0.518519     | 0.254237     | 0.106509     |
| conf_obj   | 0.751005     | 0.788491     | 0.834353     |
| conf_noobj | 0.001620     | 0.001330     | 0.001122     |
+------------+--------------+--------------+--------------+
2020-12-19 20:38:13.716 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.715595
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.906592     | 0.917239     | 0.891764     |
| x          | 0.030404     | 0.026459     | 0.029965     |
| y          | 0.031021     | 0.032596     | 0.028282     |
| w          | 0.021282     | 0.022544     | 0.014262     |
| h          | 0.031929     | 0.021465     | 0.022121     |
| conf       | 0.742225     | 0.758346     | 0.754548     |
| cls        | 0.049731     | 0.055828     | 0.042585     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 0.826087     | 0.869565     |
| recall75   | 0.681818     | 0.739130     | 0.695652     |
| precision  | 0.418605     | 0.190000     | 0.069686     |
| conf_obj   | 0.810367     | 0.798124     | 0.787397     |
| conf_noobj | 0.001943     | 0.001413     | 0.001088     |
+------------+--------------+--------------+--------------+
2020-12-19 20:39:20.380 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.035131
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.343492     | 0.368331     | 0.323309     |
| x          | 0.010834     | 0.022031     | 0.020517     |
| y          | 0.012492     | 0.017021     | 0.027140     |
| w          | 0.019081     | 0.015462     | 0.011785     |
| h          | 0.027285     | 0.017828     | 0.010745     |
| conf       | 0.250761     | 0.286531     | 0.236313     |
| cls        | 0.023039     | 0.009458     | 0.016808     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.884615     | 0.961538     |
| recall75   | 0.666667     | 0.769231     | 0.846154     |
| precision  | 0.741935     | 0.353846     | 0.139665     |
| conf_obj   | 0.943775     | 0.912205     | 0.939454     |
| conf_noobj | 0.001129     | 0.001065     | 0.000939     |
+------------+--------------+--------------+--------------+
2020-12-19 20:40:25.693 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.311241
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.865869     | 0.748780     | 0.696592     |
| x          | 0.002842     | 0.012672     | 0.029730     |
| y          | 0.008537     | 0.043239     | 0.048434     |
| w          | 0.110063     | 0.059735     | 0.016917     |
| h          | 0.079392     | 0.056191     | 0.022796     |
| conf       | 0.556148     | 0.446327     | 0.505047     |
| cls        | 0.108887     | 0.130615     | 0.073667     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.900000     | 0.900000     | 0.900000     |
| recall75   | 0.650000     | 0.750000     | 0.800000     |
| precision  | 0.500000     | 0.206897     | 0.074074     |
| conf_obj   | 0.904770     | 0.930318     | 0.870296     |
| conf_noobj | 0.001981     | 0.001777     | 0.001595     |
+------------+--------------+--------------+--------------+
2020-12-19 20:41:30.402 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.672468
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.575409     | 0.550107     | 0.546953     |
| x          | 0.015313     | 0.015362     | 0.021745     |
| y          | 0.002273     | 0.009223     | 0.017872     |
| w          | 0.051147     | 0.032591     | 0.019182     |
| h          | 0.090860     | 0.036255     | 0.018564     |
| conf       | 0.400266     | 0.409212     | 0.433491     |
| cls        | 0.015549     | 0.047462     | 0.036100     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 0.956522     |
| recall75   | 0.809524     | 0.863636     | 0.869565     |
| precision  | 0.833333     | 0.375000     | 0.112821     |
| conf_obj   | 0.940966     | 0.931539     | 0.936060     |
| conf_noobj | 0.001155     | 0.001339     | 0.001404     |
+------------+--------------+--------------+--------------+
2020-12-19 20:42:34.340 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 3.558900
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.136213     | 1.376150     | 1.046537     |
| x          | 0.024512     | 0.036959     | 0.051668     |
| y          | 0.026303     | 0.022351     | 0.033186     |
| w          | 0.088906     | 0.056903     | 0.010756     |
| h          | 0.060303     | 0.036355     | 0.017686     |
| conf       | 0.607897     | 0.609527     | 0.432056     |
| cls        | 0.328291     | 0.614056     | 0.501186     |
| cls_acc    | 84.21%       | 75.00%       | 86.96%       |
| recall50   | 0.736842     | 0.700000     | 0.826087     |
| recall75   | 0.421053     | 0.500000     | 0.608696     |
| precision  | 0.538462     | 0.245614     | 0.118750     |
| conf_obj   | 0.881494     | 0.823844     | 0.862520     |
| conf_noobj | 0.001237     | 0.001116     | 0.001024     |
+------------+--------------+--------------+--------------+
2020-12-19 20:43:41.538 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.586442
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.977122     | 0.927215     | 0.682106     |
| x          | 0.026622     | 0.019648     | 0.033134     |
| y          | 0.017670     | 0.026432     | 0.055064     |
| w          | 0.044991     | 0.055339     | 0.014521     |
| h          | 0.061549     | 0.050176     | 0.036247     |
| conf       | 0.558959     | 0.623704     | 0.446933     |
| cls        | 0.267331     | 0.151915     | 0.096207     |
| cls_acc    | 91.30%       | 91.67%       | 95.83%       |
| recall50   | 0.739130     | 0.791667     | 0.833333     |
| recall75   | 0.565217     | 0.500000     | 0.708333     |
| precision  | 0.607143     | 0.339286     | 0.131579     |
| conf_obj   | 0.803838     | 0.765341     | 0.808849     |
| conf_noobj | 0.001233     | 0.001091     | 0.000959     |
+------------+--------------+--------------+--------------+
2020-12-19 20:43:52.916 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 2.103
2020-12-19 20:43:52.920 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 20:44:59.540 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.22400   | 0.27861 | 0.24834 | 0.17553 |
| 1     | Wear_helmet | 0.23516   | 0.94265 | 0.37642 | 0.85136 |
| 2     | Total       | 0.22958   | 0.61063 | 0.31238 | 0.51345 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:44:59.540 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5134454123501282
2020-12-19 20:44:59.540 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 20:44:59.541 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:06.619984

2020-12-19 20:45:00.211 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 3/20, idx 1/2, epo 5/5
2020-12-19 20:45:00.211 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 3/20, idx 1/2, epo 5/5; time cost: 0:15:42.504386

2020-12-19 20:45:00.212 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 2.466
2020-12-19 20:45:00.493 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-19 20:49:08.490 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.21930   | 0.39703 | 0.28254 | 0.28477 |
| 1     | Wear_helmet | 0.24150   | 0.90962 | 0.38167 | 0.80482 |
| 2     | Total       | 0.23040   | 0.65332 | 0.33210 | 0.54479 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 20:49:08.490 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5447944192210352
2020-12-19 20:49:08.491 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-19 20:49:08.491 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:04:07.997876

2020-12-19 20:49:15.618 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 4!
2020-12-19 20:49:15.777 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 1/2, epo 1/5
2020-12-19 20:49:18.836 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.406030
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.598654     | 0.454029     | 0.353347     |
| x          | 0.010517     | 0.018229     | 0.017772     |
| y          | 0.005585     | 0.014944     | 0.033693     |
| w          | 0.008386     | 0.004138     | 0.003256     |
| h          | 0.025795     | 0.017932     | 0.010128     |
| conf       | 0.545626     | 0.394980     | 0.281348     |
| cls        | 0.002744     | 0.003804     | 0.007151     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.947368     | 0.947368     |
| precision  | 0.358491     | 0.180952     | 0.073643     |
| conf_obj   | 0.954120     | 0.933137     | 0.947343     |
| conf_noobj | 0.002845     | 0.001756     | 0.001264     |
+------------+--------------+--------------+--------------+
2020-12-19 20:50:26.207 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.881205
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.747639     | 0.586404     | 0.547162     |
| x          | 0.023437     | 0.003262     | 0.019676     |
| y          | 0.009962     | 0.016681     | 0.023482     |
| w          | 0.056409     | 0.020240     | 0.012198     |
| h          | 0.046554     | 0.026488     | 0.008398     |
| conf       | 0.596686     | 0.494107     | 0.344362     |
| cls        | 0.014591     | 0.025626     | 0.139046     |
| cls_acc    | 100.00%      | 100.00%      | 90.48%       |
| recall50   | 0.952381     | 0.952381     | 0.904762     |
| recall75   | 0.761905     | 0.904762     | 0.904762     |
| precision  | 0.512821     | 0.219780     | 0.076000     |
| conf_obj   | 0.929689     | 0.933159     | 0.941034     |
| conf_noobj | 0.002148     | 0.001610     | 0.001333     |
+------------+--------------+--------------+--------------+
2020-12-19 20:51:31.876 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.331335
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.077769     | 0.656151     | 0.597414     |
| x          | 0.006632     | 0.013937     | 0.022401     |
| y          | 0.009551     | 0.010769     | 0.021297     |
| w          | 0.068417     | 0.039951     | 0.009391     |
| h          | 0.068290     | 0.033663     | 0.010676     |
| conf       | 0.790292     | 0.483611     | 0.447391     |
| cls        | 0.134588     | 0.074220     | 0.086258     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.760000     | 0.840000     | 0.880000     |
| recall75   | 0.720000     | 0.760000     | 0.840000     |
| precision  | 0.633333     | 0.362069     | 0.141935     |
| conf_obj   | 0.736931     | 0.813932     | 0.870993     |
| conf_noobj | 0.001190     | 0.001108     | 0.001168     |
+------------+--------------+--------------+--------------+
2020-12-19 20:52:33.931 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.573285
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.594964     | 0.459653     | 0.518667     |
| x          | 0.017952     | 0.032548     | 0.037607     |
| y          | 0.006791     | 0.009527     | 0.032321     |
| w          | 0.018464     | 0.021931     | 0.008492     |
| h          | 0.032294     | 0.033631     | 0.026638     |
| conf       | 0.508319     | 0.346545     | 0.389937     |
| cls        | 0.011143     | 0.015471     | 0.023673     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.958333     | 0.880000     |
| recall75   | 0.652174     | 0.750000     | 0.760000     |
| precision  | 0.600000     | 0.306667     | 0.107317     |
| conf_obj   | 0.886687     | 0.922933     | 0.908544     |
| conf_noobj | 0.002363     | 0.001501     | 0.001329     |
+------------+--------------+--------------+--------------+
2020-12-19 20:53:36.106 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.440698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.717111     | 0.855121     | 0.868465     |
| x          | 0.024174     | 0.025077     | 0.022068     |
| y          | 0.022487     | 0.031020     | 0.036750     |
| w          | 0.046808     | 0.014606     | 0.055003     |
| h          | 0.046384     | 0.026815     | 0.060141     |
| conf       | 0.551061     | 0.708993     | 0.664010     |
| cls        | 0.026197     | 0.048611     | 0.030493     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.884615     | 0.846154     |
| recall75   | 0.730769     | 0.807692     | 0.846154     |
| precision  | 0.631579     | 0.234694     | 0.095652     |
| conf_obj   | 0.862646     | 0.834868     | 0.840131     |
| conf_noobj | 0.001214     | 0.001266     | 0.001016     |
+------------+--------------+--------------+--------------+
2020-12-19 20:54:43.468 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.393625
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.527739     | 0.479333     | 0.386553     |
| x          | 0.016752     | 0.008159     | 0.035182     |
| y          | 0.010456     | 0.010097     | 0.021756     |
| w          | 0.061053     | 0.030619     | 0.018237     |
| h          | 0.052883     | 0.025769     | 0.015966     |
| conf       | 0.339197     | 0.339949     | 0.247687     |
| cls        | 0.047398     | 0.064740     | 0.047726     |
| cls_acc    | 100.00%      | 95.45%       | 95.45%       |
| recall50   | 0.952381     | 0.909091     | 0.954545     |
| recall75   | 0.666667     | 0.772727     | 0.863636     |
| precision  | 0.500000     | 0.246914     | 0.094595     |
| conf_obj   | 0.948894     | 0.924189     | 0.958154     |
| conf_noobj | 0.001815     | 0.001414     | 0.001282     |
+------------+--------------+--------------+--------------+
2020-12-19 20:55:47.825 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.759803
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.979628     | 0.914768     | 0.865407     |
| x          | 0.030594     | 0.038850     | 0.023185     |
| y          | 0.031449     | 0.018242     | 0.036593     |
| w          | 0.043899     | 0.044218     | 0.016332     |
| h          | 0.024932     | 0.022960     | 0.013203     |
| conf       | 0.679258     | 0.589845     | 0.581747     |
| cls        | 0.169496     | 0.200653     | 0.194346     |
| cls_acc    | 93.10%       | 90.62%       | 90.62%       |
| recall50   | 0.793103     | 0.843750     | 0.812500     |
| recall75   | 0.655172     | 0.562500     | 0.750000     |
| precision  | 0.605263     | 0.346154     | 0.114537     |
| conf_obj   | 0.791095     | 0.829238     | 0.829977     |
| conf_noobj | 0.001431     | 0.001160     | 0.001307     |
+------------+--------------+--------------+--------------+
2020-12-19 20:56:58.649 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.278833
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.507304     | 0.393040     | 0.378489     |
| x          | 0.013158     | 0.007789     | 0.012872     |
| y          | 0.006358     | 0.008771     | 0.010337     |
| w          | 0.050938     | 0.026722     | 0.033460     |
| h          | 0.043233     | 0.048290     | 0.026288     |
| conf       | 0.359327     | 0.275631     | 0.263755     |
| cls        | 0.034290     | 0.025837     | 0.031777     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.826087     | 0.739130     | 0.826087     |
| precision  | 0.647059     | 0.285714     | 0.098655     |
| conf_obj   | 0.934219     | 0.948187     | 0.954879     |
| conf_noobj | 0.001634     | 0.001335     | 0.001251     |
+------------+--------------+--------------+--------------+
2020-12-19 20:58:07.144 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.082565
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.310201     | 0.972421     | 0.799944     |
| x          | 0.031035     | 0.035468     | 0.040153     |
| y          | 0.013737     | 0.029688     | 0.038182     |
| w          | 0.199257     | 0.093831     | 0.095403     |
| h          | 0.212949     | 0.099092     | 0.090698     |
| conf       | 0.640109     | 0.550896     | 0.435676     |
| cls        | 0.213114     | 0.163446     | 0.099832     |
| cls_acc    | 87.10%       | 90.91%       | 94.12%       |
| recall50   | 0.645161     | 0.757576     | 0.852941     |
| recall75   | 0.387097     | 0.515152     | 0.558824     |
| precision  | 0.526316     | 0.347222     | 0.155080     |
| conf_obj   | 0.797627     | 0.840164     | 0.897412     |
| conf_noobj | 0.001387     | 0.001251     | 0.001204     |
+------------+--------------+--------------+--------------+
2020-12-19 20:59:08.853 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.629509
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.117416     | 0.826607     | 0.685487     |
| x          | 0.035240     | 0.035300     | 0.041691     |
| y          | 0.031774     | 0.017058     | 0.023569     |
| w          | 0.180446     | 0.123863     | 0.028433     |
| h          | 0.170125     | 0.112392     | 0.034794     |
| conf       | 0.605001     | 0.454696     | 0.456644     |
| cls        | 0.094830     | 0.083298     | 0.100356     |
| cls_acc    | 100.00%      | 97.37%       | 97.50%       |
| recall50   | 0.812500     | 0.789474     | 0.850000     |
| recall75   | 0.531250     | 0.631579     | 0.550000     |
| precision  | 0.702703     | 0.352941     | 0.161905     |
| conf_obj   | 0.827966     | 0.850452     | 0.879803     |
| conf_noobj | 0.001285     | 0.001335     | 0.001280     |
+------------+--------------+--------------+--------------+
2020-12-19 21:00:18.175 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.272403
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.103076     | 0.656790     | 0.512537     |
| x          | 0.020694     | 0.009519     | 0.019016     |
| y          | 0.036563     | 0.008859     | 0.019786     |
| w          | 0.106516     | 0.023415     | 0.007766     |
| h          | 0.135274     | 0.021963     | 0.010920     |
| conf       | 0.733737     | 0.519089     | 0.388922     |
| cls        | 0.070293     | 0.073944     | 0.066127     |
| cls_acc    | 100.00%      | 95.83%       | 95.83%       |
| recall50   | 0.833333     | 0.875000     | 0.916667     |
| recall75   | 0.458333     | 0.833333     | 0.875000     |
| precision  | 0.571429     | 0.280000     | 0.093220     |
| conf_obj   | 0.789799     | 0.858235     | 0.900410     |
| conf_noobj | 0.001679     | 0.001381     | 0.001428     |
+------------+--------------+--------------+--------------+
2020-12-19 21:01:22.613 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.606895
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.856673     | 1.000148     | 0.750074     |
| x          | 0.030515     | 0.034782     | 0.053741     |
| y          | 0.013301     | 0.024618     | 0.032617     |
| w          | 0.018678     | 0.013065     | 0.024873     |
| h          | 0.047656     | 0.038934     | 0.014535     |
| conf       | 0.737156     | 0.879546     | 0.609750     |
| cls        | 0.009367     | 0.009203     | 0.014558     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.733333     | 0.866667     |
| recall75   | 0.800000     | 0.666667     | 0.800000     |
| precision  | 0.480000     | 0.192982     | 0.070270     |
| conf_obj   | 0.771655     | 0.733738     | 0.847489     |
| conf_noobj | 0.001362     | 0.001109     | 0.001156     |
+------------+--------------+--------------+--------------+
2020-12-19 21:02:29.051 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.771664
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.777998     | 0.619763     | 0.373903     |
| x          | 0.014481     | 0.007466     | 0.023858     |
| y          | 0.022414     | 0.023258     | 0.028564     |
| w          | 0.067695     | 0.061403     | 0.008259     |
| h          | 0.066987     | 0.080064     | 0.013955     |
| conf       | 0.554986     | 0.415647     | 0.284279     |
| cls        | 0.051436     | 0.031925     | 0.014988     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.947368     | 1.000000     |
| recall75   | 0.631579     | 0.736842     | 0.894737     |
| precision  | 0.380952     | 0.176471     | 0.077236     |
| conf_obj   | 0.848737     | 0.905137     | 0.926449     |
| conf_noobj | 0.002222     | 0.001733     | 0.001351     |
+------------+--------------+--------------+--------------+
2020-12-19 21:03:38.897 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.096121
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.990565     | 1.136044     | 0.969512     |
| x          | 0.028117     | 0.030197     | 0.048560     |
| y          | 0.011504     | 0.016149     | 0.039438     |
| w          | 0.052909     | 0.046684     | 0.042337     |
| h          | 0.064783     | 0.046060     | 0.041765     |
| conf       | 0.657264     | 0.640647     | 0.577125     |
| cls        | 0.175988     | 0.356307     | 0.220288     |
| cls_acc    | 93.33%       | 88.24%       | 88.57%       |
| recall50   | 0.766667     | 0.735294     | 0.771429     |
| recall75   | 0.466667     | 0.588235     | 0.628571     |
| precision  | 0.676471     | 0.367647     | 0.131068     |
| conf_obj   | 0.746883     | 0.783922     | 0.820481     |
| conf_noobj | 0.001182     | 0.001192     | 0.001134     |
+------------+--------------+--------------+--------------+
2020-12-19 21:03:50.824 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 2.278
2020-12-19 21:03:50.829 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 21:04:49.042 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11832   | 0.30846 | 0.17103 | 0.19059 |
| 1     | Wear_helmet | 0.31007   | 0.90758 | 0.46223 | 0.83451 |
| 2     | Total       | 0.21420   | 0.60802 | 0.31663 | 0.51255 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:04:49.043 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5125506283645186
2020-12-19 21:04:49.044 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 21:04:49.044 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.214570

2020-12-19 21:04:49.482 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 1/2, epo 1/5
2020-12-19 21:04:49.482 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 1/2, epo 1/5; time cost: 0:15:33.704729

2020-12-19 21:04:49.482 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 1/2, epo 2/5
2020-12-19 21:04:50.854 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.294670
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.734488     | 0.917429     | 0.642753     |
| x          | 0.010450     | 0.015671     | 0.018026     |
| y          | 0.025233     | 0.013735     | 0.045391     |
| w          | 0.101392     | 0.018488     | 0.031069     |
| h          | 0.081992     | 0.016776     | 0.016752     |
| conf       | 0.511744     | 0.842491     | 0.524736     |
| cls        | 0.003677     | 0.010269     | 0.006778     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.894737     | 0.947368     |
| recall75   | 0.842105     | 0.842105     | 0.842105     |
| precision  | 0.531250     | 0.204819     | 0.097297     |
| conf_obj   | 0.940373     | 0.841536     | 0.873043     |
| conf_noobj | 0.001690     | 0.001493     | 0.001106     |
+------------+--------------+--------------+--------------+
2020-12-19 21:05:55.604 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.998828
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.742037     | 0.605942     | 0.650849     |
| x          | 0.005146     | 0.022211     | 0.039437     |
| y          | 0.028734     | 0.054027     | 0.038310     |
| w          | 0.024481     | 0.026543     | 0.007821     |
| h          | 0.013469     | 0.015702     | 0.007244     |
| conf       | 0.624444     | 0.425635     | 0.529878     |
| cls        | 0.045763     | 0.061824     | 0.028158     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 0.866667     | 0.866667     |
| recall75   | 0.866667     | 0.733333     | 0.800000     |
| precision  | 0.541667     | 0.254902     | 0.089041     |
| conf_obj   | 0.857090     | 0.877310     | 0.844810     |
| conf_noobj | 0.001497     | 0.001225     | 0.001055     |
+------------+--------------+--------------+--------------+
2020-12-19 21:07:03.830 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.712279
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.779525     | 0.451066     | 0.481687     |
| x          | 0.036757     | 0.033444     | 0.042999     |
| y          | 0.031734     | 0.020601     | 0.021757     |
| w          | 0.127568     | 0.032932     | 0.020357     |
| h          | 0.102607     | 0.014462     | 0.017713     |
| conf       | 0.420626     | 0.329089     | 0.354428     |
| cls        | 0.060234     | 0.020538     | 0.024432     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.821429     | 0.906250     | 0.885714     |
| recall75   | 0.642857     | 0.718750     | 0.742857     |
| precision  | 0.657143     | 0.353659     | 0.135371     |
| conf_obj   | 0.864959     | 0.935479     | 0.914522     |
| conf_noobj | 0.001481     | 0.001433     | 0.001199     |
+------------+--------------+--------------+--------------+
2020-12-19 21:08:09.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 3.287430
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.024220     | 1.165969     | 1.097241     |
| x          | 0.019604     | 0.015019     | 0.050898     |
| y          | 0.033250     | 0.018397     | 0.022702     |
| w          | 0.055545     | 0.035830     | 0.077370     |
| h          | 0.052056     | 0.054909     | 0.025731     |
| conf       | 0.789419     | 0.961776     | 0.840961     |
| cls        | 0.074345     | 0.080038     | 0.079579     |
| cls_acc    | 95.65%       | 95.65%       | 91.30%       |
| recall50   | 0.869565     | 0.826087     | 0.826087     |
| recall75   | 0.652174     | 0.652174     | 0.695652     |
| precision  | 0.625000     | 0.271429     | 0.098446     |
| conf_obj   | 0.841990     | 0.808973     | 0.819773     |
| conf_noobj | 0.001433     | 0.001269     | 0.001075     |
+------------+--------------+--------------+--------------+
2020-12-19 21:09:15.192 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.791360
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.859721     | 0.539759     | 0.391880     |
| x          | 0.026165     | 0.014977     | 0.034832     |
| y          | 0.018092     | 0.026286     | 0.028861     |
| w          | 0.102179     | 0.067521     | 0.011810     |
| h          | 0.074409     | 0.043080     | 0.012143     |
| conf       | 0.507171     | 0.352351     | 0.292687     |
| cls        | 0.131705     | 0.035544     | 0.011548     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.750000     | 0.923077     | 0.961538     |
| recall75   | 0.541667     | 0.769231     | 0.807692     |
| precision  | 0.473684     | 0.296296     | 0.122549     |
| conf_obj   | 0.900167     | 0.929452     | 0.923373     |
| conf_noobj | 0.001809     | 0.001467     | 0.001220     |
+------------+--------------+--------------+--------------+
2020-12-19 21:10:22.482 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.588320
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.623852     | 0.472545     | 0.491923     |
| x          | 0.017051     | 0.019533     | 0.039347     |
| y          | 0.022360     | 0.017483     | 0.031234     |
| w          | 0.020448     | 0.023963     | 0.013611     |
| h          | 0.022920     | 0.014102     | 0.028276     |
| conf       | 0.482742     | 0.345663     | 0.317109     |
| cls        | 0.058331     | 0.051801     | 0.062345     |
| cls_acc    | 100.00%      | 100.00%      | 95.24%       |
| recall50   | 0.947368     | 0.950000     | 0.904762     |
| recall75   | 0.736842     | 0.750000     | 0.761905     |
| precision  | 0.600000     | 0.301587     | 0.125828     |
| conf_obj   | 0.863369     | 0.907919     | 0.878060     |
| conf_noobj | 0.001574     | 0.001292     | 0.000937     |
+------------+--------------+--------------+--------------+
2020-12-19 21:11:26.321 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.396895
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.193218     | 1.245727     | 0.957950     |
| x          | 0.019174     | 0.025057     | 0.025142     |
| y          | 0.009202     | 0.011583     | 0.046083     |
| w          | 0.074985     | 0.058498     | 0.024400     |
| h          | 0.078384     | 0.033521     | 0.020911     |
| conf       | 0.558970     | 0.388582     | 0.371727     |
| cls        | 0.452504     | 0.728486     | 0.469688     |
| cls_acc    | 85.00%       | 82.61%       | 86.96%       |
| recall50   | 0.800000     | 0.826087     | 0.826087     |
| recall75   | 0.700000     | 0.695652     | 0.695652     |
| precision  | 0.500000     | 0.271429     | 0.104396     |
| conf_obj   | 0.873985     | 0.905407     | 0.883684     |
| conf_noobj | 0.002081     | 0.001515     | 0.001277     |
+------------+--------------+--------------+--------------+
2020-12-19 21:12:33.323 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.870206
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.633289     | 0.598501     | 0.638416     |
| x          | 0.026653     | 0.025994     | 0.057195     |
| y          | 0.015053     | 0.013352     | 0.033198     |
| w          | 0.033787     | 0.028788     | 0.021621     |
| h          | 0.038220     | 0.032229     | 0.023431     |
| conf       | 0.342880     | 0.342400     | 0.319821     |
| cls        | 0.176696     | 0.155739     | 0.183150     |
| cls_acc    | 94.12%       | 91.89%       | 92.50%       |
| recall50   | 0.794118     | 0.837838     | 0.850000     |
| recall75   | 0.676471     | 0.648649     | 0.625000     |
| precision  | 0.675000     | 0.356322     | 0.157407     |
| conf_obj   | 0.875956     | 0.897318     | 0.901764     |
| conf_noobj | 0.001210     | 0.001220     | 0.001119     |
+------------+--------------+--------------+--------------+
2020-12-19 21:13:32.577 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.057993
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.373836     | 0.355002     | 0.329155     |
| x          | 0.008573     | 0.018740     | 0.025404     |
| y          | 0.012878     | 0.014047     | 0.043290     |
| w          | 0.042292     | 0.045648     | 0.031096     |
| h          | 0.032153     | 0.037975     | 0.020536     |
| conf       | 0.257647     | 0.220503     | 0.193291     |
| cls        | 0.020294     | 0.018088     | 0.015538     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.966667     | 0.969697     |
| recall75   | 0.750000     | 0.733333     | 0.848485     |
| precision  | 0.833333     | 0.453125     | 0.180791     |
| conf_obj   | 0.902009     | 0.939757     | 0.969266     |
| conf_noobj | 0.000894     | 0.000899     | 0.000849     |
+------------+--------------+--------------+--------------+
2020-12-19 21:14:31.044 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.826370
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.662717     | 0.636452     | 0.527201     |
| x          | 0.013391     | 0.021075     | 0.029586     |
| y          | 0.017158     | 0.012556     | 0.039915     |
| w          | 0.056861     | 0.033995     | 0.022887     |
| h          | 0.075575     | 0.026871     | 0.033105     |
| conf       | 0.470781     | 0.514457     | 0.348876     |
| cls        | 0.028950     | 0.027499     | 0.052832     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.904762     | 0.909091     |
| recall75   | 0.714286     | 0.809524     | 0.727273     |
| precision  | 0.750000     | 0.365385     | 0.153846     |
| conf_obj   | 0.858800     | 0.843723     | 0.872945     |
| conf_noobj | 0.001348     | 0.001205     | 0.001063     |
+------------+--------------+--------------+--------------+
2020-12-19 21:15:36.890 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.709469
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.576888     | 0.608968     | 0.523613     |
| x          | 0.030170     | 0.039712     | 0.025215     |
| y          | 0.012503     | 0.016632     | 0.026435     |
| w          | 0.060421     | 0.047666     | 0.017184     |
| h          | 0.035117     | 0.023483     | 0.023628     |
| conf       | 0.381058     | 0.422992     | 0.394932     |
| cls        | 0.057620     | 0.058482     | 0.036218     |
| cls_acc    | 96.97%       | 97.06%       | 97.22%       |
| recall50   | 0.969697     | 0.970588     | 0.944444     |
| recall75   | 0.696970     | 0.735294     | 0.833333     |
| precision  | 0.744186     | 0.340206     | 0.145923     |
| conf_obj   | 0.905473     | 0.903936     | 0.920832     |
| conf_noobj | 0.001344     | 0.001550     | 0.001370     |
+------------+--------------+--------------+--------------+
2020-12-19 21:16:42.786 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.650672
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.643037     | 0.551662     | 0.455973     |
| x          | 0.006845     | 0.022255     | 0.031534     |
| y          | 0.015256     | 0.023382     | 0.024280     |
| w          | 0.027988     | 0.038207     | 0.022287     |
| h          | 0.035299     | 0.053118     | 0.033436     |
| conf       | 0.411569     | 0.304531     | 0.262728     |
| cls        | 0.146080     | 0.110169     | 0.081709     |
| cls_acc    | 93.10%       | 93.55%       | 93.94%       |
| recall50   | 0.827586     | 0.870968     | 0.878788     |
| recall75   | 0.689655     | 0.677419     | 0.666667     |
| precision  | 0.666667     | 0.360000     | 0.150259     |
| conf_obj   | 0.855186     | 0.895907     | 0.918445     |
| conf_noobj | 0.001054     | 0.000879     | 0.000858     |
+------------+--------------+--------------+--------------+
2020-12-19 21:17:51.834 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 3.114668
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 1.340344     | 0.997435     | 0.776889     |
| x          | 0.039029     | 0.020098     | 0.029198     |
| y          | 0.018835     | 0.018104     | 0.040761     |
| w          | 0.259652     | 0.173655     | 0.129765     |
| h          | 0.188839     | 0.129803     | 0.089713     |
| conf       | 0.703155     | 0.588780     | 0.426775     |
| cls        | 0.130834     | 0.066995     | 0.060676     |
| cls_acc    | 93.75%       | 100.00%      | 100.00%      |
| recall50   | 0.656250     | 0.818182     | 0.828571     |
| recall75   | 0.406250     | 0.545455     | 0.571429     |
| precision  | 0.636364     | 0.442623     | 0.141463     |
| conf_obj   | 0.753122     | 0.824846     | 0.896257     |
| conf_noobj | 0.001205     | 0.000938     | 0.001101     |
+------------+--------------+--------------+--------------+
2020-12-19 21:19:00.883 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.893546
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.585464     | 0.711506     | 0.596576     |
| x          | 0.018138     | 0.013170     | 0.024566     |
| y          | 0.012802     | 0.023569     | 0.031285     |
| w          | 0.024913     | 0.017272     | 0.017932     |
| h          | 0.022681     | 0.025773     | 0.020294     |
| conf       | 0.486816     | 0.610535     | 0.487501     |
| cls        | 0.020114     | 0.021187     | 0.014998     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.880000     | 0.920000     |
| recall75   | 0.800000     | 0.840000     | 0.840000     |
| precision  | 0.534884     | 0.213592     | 0.112745     |
| conf_obj   | 0.872416     | 0.828407     | 0.878475     |
| conf_noobj | 0.001974     | 0.001749     | 0.001185     |
+------------+--------------+--------------+--------------+
2020-12-19 21:19:13.818 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 2.083
2020-12-19 21:19:13.821 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 21:20:11.689 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12445   | 0.28109 | 0.17252 | 0.13871 |
| 1     | Wear_helmet | 0.27254   | 0.93270 | 0.42182 | 0.84792 |
| 2     | Total       | 0.19849   | 0.60690 | 0.29717 | 0.49332 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:20:11.690 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.49331611001055453
2020-12-19 21:20:11.691 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 21:20:11.692 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.870034

2020-12-19 21:20:12.220 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 1/2, epo 2/5
2020-12-19 21:20:12.220 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 1/2, epo 2/5; time cost: 0:15:22.737541

2020-12-19 21:20:12.220 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 1/2, epo 3/5
2020-12-19 21:20:13.550 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.918696
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.611821     | 0.520977     | 0.785898     |
| x          | 0.013429     | 0.017853     | 0.033931     |
| y          | 0.008232     | 0.020892     | 0.014151     |
| w          | 0.120044     | 0.079392     | 0.023077     |
| h          | 0.112953     | 0.076867     | 0.022373     |
| conf       | 0.348809     | 0.316199     | 0.675789     |
| cls        | 0.008354     | 0.009775     | 0.016578     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 0.933333     |
| recall75   | 0.866667     | 0.866667     | 0.666667     |
| precision  | 0.608696     | 0.208955     | 0.073298     |
| conf_obj   | 0.920177     | 0.925582     | 0.922190     |
| conf_noobj | 0.001230     | 0.001092     | 0.001176     |
+------------+--------------+--------------+--------------+
2020-12-19 21:21:15.351 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.338839
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.452674     | 0.456658     | 0.429507     |
| x          | 0.019042     | 0.020952     | 0.034091     |
| y          | 0.014416     | 0.015331     | 0.058419     |
| w          | 0.035002     | 0.041762     | 0.028800     |
| h          | 0.028486     | 0.026955     | 0.020162     |
| conf       | 0.335690     | 0.285495     | 0.265681     |
| cls        | 0.020039     | 0.066164     | 0.022352     |
| cls_acc    | 100.00%      | 95.65%       | 100.00%      |
| recall50   | 0.954545     | 0.913043     | 1.000000     |
| recall75   | 0.545455     | 0.652174     | 0.840000     |
| precision  | 0.636364     | 0.323077     | 0.133690     |
| conf_obj   | 0.936385     | 0.936660     | 0.952493     |
| conf_noobj | 0.001401     | 0.001149     | 0.001177     |
+------------+--------------+--------------+--------------+
2020-12-19 21:22:20.335 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.628264
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.654161     | 0.549550     | 0.424553     |
| x          | 0.016815     | 0.014276     | 0.034148     |
| y          | 0.014896     | 0.010825     | 0.037039     |
| w          | 0.056730     | 0.028380     | 0.021054     |
| h          | 0.068256     | 0.041111     | 0.041504     |
| conf       | 0.476499     | 0.422437     | 0.274969     |
| cls        | 0.020964     | 0.032520     | 0.015838     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.869565     | 0.913043     |
| recall75   | 0.695652     | 0.826087     | 0.782609     |
| precision  | 0.800000     | 0.357143     | 0.132075     |
| conf_obj   | 0.829203     | 0.859758     | 0.926393     |
| conf_noobj | 0.001084     | 0.001100     | 0.001000     |
+------------+--------------+--------------+--------------+
2020-12-19 21:23:23.370 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.088115
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.359390     | 0.406333     | 0.322391     |
| x          | 0.017354     | 0.045999     | 0.032481     |
| y          | 0.010175     | 0.012468     | 0.042572     |
| w          | 0.050136     | 0.017787     | 0.018150     |
| h          | 0.021964     | 0.028120     | 0.023850     |
| conf       | 0.253393     | 0.279864     | 0.187186     |
| cls        | 0.006368     | 0.022095     | 0.018151     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.894737     | 1.000000     |
| recall75   | 0.684211     | 0.736842     | 0.736842     |
| precision  | 0.620690     | 0.288136     | 0.135714     |
| conf_obj   | 0.943028     | 0.913520     | 0.954563     |
| conf_noobj | 0.001163     | 0.000882     | 0.000693     |
+------------+--------------+--------------+--------------+
2020-12-19 21:24:29.886 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.272969
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.781824     | 0.754475     | 0.736671     |
| x          | 0.034258     | 0.024174     | 0.036959     |
| y          | 0.020931     | 0.016501     | 0.049920     |
| w          | 0.068875     | 0.028563     | 0.033692     |
| h          | 0.060651     | 0.035400     | 0.027893     |
| conf       | 0.522071     | 0.586676     | 0.512603     |
| cls        | 0.075038     | 0.063161     | 0.075605     |
| cls_acc    | 97.44%       | 100.00%      | 97.67%       |
| recall50   | 0.794872     | 0.883721     | 0.837209     |
| recall75   | 0.615385     | 0.604651     | 0.674419     |
| precision  | 0.756098     | 0.391753     | 0.153191     |
| conf_obj   | 0.826575     | 0.838927     | 0.866536     |
| conf_noobj | 0.001423     | 0.001429     | 0.001260     |
+------------+--------------+--------------+--------------+
2020-12-19 21:25:34.257 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.771207
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.717183     | 0.519448     | 0.534576     |
| x          | 0.015717     | 0.022182     | 0.033080     |
| y          | 0.012837     | 0.013457     | 0.025812     |
| w          | 0.034599     | 0.030817     | 0.024111     |
| h          | 0.026432     | 0.017784     | 0.021741     |
| conf       | 0.309993     | 0.206695     | 0.243603     |
| cls        | 0.317606     | 0.228513     | 0.186229     |
| cls_acc    | 89.29%       | 90.32%       | 93.75%       |
| recall50   | 0.821429     | 0.903226     | 0.937500     |
| recall75   | 0.535714     | 0.741935     | 0.750000     |
| precision  | 0.575000     | 0.373333     | 0.132159     |
| conf_obj   | 0.907615     | 0.958912     | 0.937224     |
| conf_noobj | 0.001082     | 0.000972     | 0.000939     |
+------------+--------------+--------------+--------------+
2020-12-19 21:26:32.380 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.075176
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.204448     | 0.940722     | 0.930006     |
| x          | 0.015703     | 0.019332     | 0.041494     |
| y          | 0.019249     | 0.018651     | 0.038395     |
| w          | 0.069666     | 0.069918     | 0.039217     |
| h          | 0.115006     | 0.117464     | 0.062311     |
| conf       | 0.904087     | 0.659471     | 0.662622     |
| cls        | 0.080737     | 0.055885     | 0.085967     |
| cls_acc    | 96.88%       | 96.97%       | 97.22%       |
| recall50   | 0.812500     | 0.818182     | 0.750000     |
| recall75   | 0.562500     | 0.666667     | 0.611111     |
| precision  | 0.577778     | 0.346154     | 0.146739     |
| conf_obj   | 0.785812     | 0.828038     | 0.824086     |
| conf_noobj | 0.002019     | 0.001250     | 0.001076     |
+------------+--------------+--------------+--------------+
2020-12-19 21:27:40.347 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.133608
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.867601     | 0.664665     | 0.601342     |
| x          | 0.014171     | 0.019788     | 0.052207     |
| y          | 0.008653     | 0.007683     | 0.033075     |
| w          | 0.107694     | 0.079396     | 0.030388     |
| h          | 0.062649     | 0.030268     | 0.013738     |
| conf       | 0.618688     | 0.510346     | 0.468187     |
| cls        | 0.055746     | 0.017184     | 0.003747     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.842105     | 0.789474     |
| recall75   | 0.842105     | 0.736842     | 0.789474     |
| precision  | 0.842105     | 0.410256     | 0.147059     |
| conf_obj   | 0.844940     | 0.817890     | 0.830959     |
| conf_noobj | 0.000855     | 0.000683     | 0.000676     |
+------------+--------------+--------------+--------------+
2020-12-19 21:28:49.229 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.398235
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.207395     | 1.136233     | 1.054607     |
| x          | 0.032923     | 0.030095     | 0.033602     |
| y          | 0.030300     | 0.022037     | 0.035660     |
| w          | 0.079014     | 0.048317     | 0.029423     |
| h          | 0.086306     | 0.048353     | 0.039541     |
| conf       | 0.850010     | 0.893957     | 0.800327     |
| cls        | 0.128843     | 0.093475     | 0.116053     |
| cls_acc    | 100.00%      | 100.00%      | 96.88%       |
| recall50   | 0.800000     | 0.870968     | 0.843750     |
| recall75   | 0.466667     | 0.483871     | 0.562500     |
| precision  | 0.827586     | 0.421875     | 0.140625     |
| conf_obj   | 0.739003     | 0.782461     | 0.826797     |
| conf_noobj | 0.001247     | 0.001151     | 0.001214     |
+------------+--------------+--------------+--------------+
2020-12-19 21:29:56.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.110005
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.439184     | 0.350039     | 0.320783     |
| x          | 0.014171     | 0.009247     | 0.020992     |
| y          | 0.006365     | 0.010298     | 0.025851     |
| w          | 0.030856     | 0.015405     | 0.017571     |
| h          | 0.025361     | 0.016376     | 0.014389     |
| conf       | 0.339242     | 0.285352     | 0.234174     |
| cls        | 0.023188     | 0.013361     | 0.007805     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 1.000000     | 1.000000     |
| recall75   | 0.724138     | 0.933333     | 0.900000     |
| precision  | 0.642857     | 0.312500     | 0.128205     |
| conf_obj   | 0.905890     | 0.947667     | 0.961230     |
| conf_noobj | 0.001300     | 0.001278     | 0.001084     |
+------------+--------------+--------------+--------------+
2020-12-19 21:31:00.027 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.780696
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.719271     | 0.514000     | 0.547425     |
| x          | 0.014629     | 0.012437     | 0.024239     |
| y          | 0.012073     | 0.020027     | 0.028406     |
| w          | 0.046349     | 0.027933     | 0.011885     |
| h          | 0.024755     | 0.019081     | 0.030956     |
| conf       | 0.500617     | 0.384872     | 0.380966     |
| cls        | 0.120848     | 0.049651     | 0.070973     |
| cls_acc    | 92.86%       | 96.67%       | 96.67%       |
| recall50   | 0.857143     | 0.933333     | 0.900000     |
| recall75   | 0.642857     | 0.766667     | 0.800000     |
| precision  | 0.615385     | 0.350000     | 0.132353     |
| conf_obj   | 0.838826     | 0.904901     | 0.866698     |
| conf_noobj | 0.001385     | 0.001211     | 0.001003     |
+------------+--------------+--------------+--------------+
2020-12-19 21:32:04.130 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.509100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.916500     | 0.845886     | 0.746715     |
| x          | 0.027964     | 0.022569     | 0.037363     |
| y          | 0.013588     | 0.019787     | 0.032299     |
| w          | 0.059074     | 0.080930     | 0.040298     |
| h          | 0.061707     | 0.061928     | 0.029564     |
| conf       | 0.641040     | 0.555255     | 0.428481     |
| cls        | 0.113126     | 0.105417     | 0.178709     |
| cls_acc    | 97.44%       | 97.62%       | 95.35%       |
| recall50   | 0.794872     | 0.785714     | 0.813953     |
| recall75   | 0.461538     | 0.523810     | 0.767442     |
| precision  | 0.659574     | 0.333333     | 0.120275     |
| conf_obj   | 0.802616     | 0.823720     | 0.860223     |
| conf_noobj | 0.001271     | 0.001356     | 0.001311     |
+------------+--------------+--------------+--------------+
2020-12-19 21:33:05.008 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.513059
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.524689     | 0.439126     | 0.549244     |
| x          | 0.009446     | 0.015600     | 0.016092     |
| y          | 0.004729     | 0.022352     | 0.032538     |
| w          | 0.034826     | 0.037972     | 0.011913     |
| h          | 0.045309     | 0.030951     | 0.015364     |
| conf       | 0.391717     | 0.304815     | 0.408794     |
| cls        | 0.038663     | 0.027437     | 0.064544     |
| cls_acc    | 100.00%      | 100.00%      | 95.45%       |
| recall50   | 0.952381     | 1.000000     | 0.909091     |
| recall75   | 0.857143     | 0.727273     | 0.863636     |
| precision  | 0.555556     | 0.309859     | 0.110497     |
| conf_obj   | 0.901864     | 0.922280     | 0.879085     |
| conf_noobj | 0.001746     | 0.001333     | 0.001164     |
+------------+--------------+--------------+--------------+
2020-12-19 21:34:11.818 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.778130
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.643587     | 0.618417     | 0.516126     |
| x          | 0.008014     | 0.013244     | 0.028826     |
| y          | 0.011586     | 0.020163     | 0.036155     |
| w          | 0.046508     | 0.024579     | 0.020438     |
| h          | 0.030339     | 0.016645     | 0.011165     |
| conf       | 0.437091     | 0.403267     | 0.276112     |
| cls        | 0.110049     | 0.140519     | 0.143429     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.923077     | 0.884615     | 0.923077     |
| recall75   | 0.730769     | 0.769231     | 0.884615     |
| precision  | 0.648649     | 0.343284     | 0.150000     |
| conf_obj   | 0.910310     | 0.880318     | 0.926083     |
| conf_noobj | 0.001328     | 0.001295     | 0.001108     |
+------------+--------------+--------------+--------------+
2020-12-19 21:34:22.254 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.970
2020-12-19 21:34:22.258 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 21:35:17.843 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10342   | 0.30846 | 0.15490 | 0.12406 |
| 1     | Wear_helmet | 0.47487   | 0.91801 | 0.62595 | 0.86465 |
| 2     | Total       | 0.28915   | 0.61323 | 0.39043 | 0.49436 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:35:17.844 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4943561383630265
2020-12-19 21:35:17.844 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 21:35:17.844 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.585938

2020-12-19 21:35:18.380 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 1/2, epo 3/5
2020-12-19 21:35:18.381 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 1/2, epo 3/5; time cost: 0:15:06.159720

2020-12-19 21:35:18.381 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 1/2, epo 4/5
2020-12-19 21:35:19.944 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.570732
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.556124     | 0.538218     | 0.476390     |
| x          | 0.029633     | 0.034081     | 0.053624     |
| y          | 0.008377     | 0.019836     | 0.047241     |
| w          | 0.087369     | 0.105340     | 0.087318     |
| h          | 0.093319     | 0.083860     | 0.057735     |
| conf       | 0.316474     | 0.276393     | 0.219080     |
| cls        | 0.020952     | 0.018708     | 0.011392     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.968750     | 0.944444     |
| recall75   | 0.586207     | 0.500000     | 0.555556     |
| precision  | 0.722222     | 0.387500     | 0.180851     |
| conf_obj   | 0.877055     | 0.921380     | 0.947202     |
| conf_noobj | 0.000970     | 0.001110     | 0.000963     |
+------------+--------------+--------------+--------------+
2020-12-19 21:36:24.786 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.797403
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.654109     | 0.624566     | 0.518728     |
| x          | 0.021148     | 0.023512     | 0.018673     |
| y          | 0.009514     | 0.018228     | 0.032723     |
| w          | 0.021612     | 0.021874     | 0.012330     |
| h          | 0.039933     | 0.065922     | 0.022308     |
| conf       | 0.325602     | 0.280105     | 0.217412     |
| cls        | 0.236300     | 0.214926     | 0.215282     |
| cls_acc    | 86.67%       | 87.50%       | 82.35%       |
| recall50   | 0.866667     | 0.812500     | 0.823529     |
| recall75   | 0.533333     | 0.625000     | 0.647059     |
| precision  | 0.481481     | 0.245283     | 0.094595     |
| conf_obj   | 0.917478     | 0.937754     | 0.971238     |
| conf_noobj | 0.001656     | 0.001326     | 0.001144     |
+------------+--------------+--------------+--------------+
2020-12-19 21:37:28.368 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.117038
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.786375     | 0.693130     | 0.637532     |
| x          | 0.011380     | 0.029907     | 0.045952     |
| y          | 0.017961     | 0.016121     | 0.028301     |
| w          | 0.100299     | 0.052464     | 0.037211     |
| h          | 0.081515     | 0.040962     | 0.037455     |
| conf       | 0.443427     | 0.458742     | 0.426805     |
| cls        | 0.131792     | 0.094934     | 0.061808     |
| cls_acc    | 89.29%       | 93.10%       | 96.55%       |
| recall50   | 0.857143     | 0.931035     | 0.931035     |
| recall75   | 0.642857     | 0.758621     | 0.689655     |
| precision  | 0.750000     | 0.465517     | 0.155172     |
| conf_obj   | 0.853561     | 0.853565     | 0.855440     |
| conf_noobj | 0.000911     | 0.000979     | 0.001022     |
+------------+--------------+--------------+--------------+
2020-12-19 21:38:29.722 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.984875
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 1.239109     | 0.899712     | 0.846055     |
| x          | 0.014757     | 0.021874     | 0.030349     |
| y          | 0.023340     | 0.021556     | 0.019016     |
| w          | 0.081256     | 0.050376     | 0.036933     |
| h          | 0.098728     | 0.038775     | 0.036031     |
| conf       | 0.950432     | 0.717764     | 0.630721     |
| cls        | 0.070595     | 0.049367     | 0.093004     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.772727     | 0.875000     | 0.916667     |
| recall75   | 0.636364     | 0.791667     | 0.833333     |
| precision  | 0.607143     | 0.411765     | 0.129412     |
| conf_obj   | 0.791930     | 0.842288     | 0.875925     |
| conf_noobj | 0.001269     | 0.000995     | 0.001051     |
+------------+--------------+--------------+--------------+
2020-12-19 21:39:37.078 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.937630
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.317935     | 0.311891     | 0.307804     |
| x          | 0.008174     | 0.011289     | 0.032881     |
| y          | 0.007003     | 0.018118     | 0.027624     |
| w          | 0.028167     | 0.033678     | 0.019576     |
| h          | 0.017806     | 0.020062     | 0.013282     |
| conf       | 0.240762     | 0.197612     | 0.205944     |
| cls        | 0.016024     | 0.031132     | 0.008496     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 0.913043     |
| precision  | 0.758621     | 0.353846     | 0.106977     |
| conf_obj   | 0.932201     | 0.952296     | 0.969543     |
| conf_noobj | 0.001090     | 0.000938     | 0.000994     |
+------------+--------------+--------------+--------------+
2020-12-19 21:40:43.405 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.187250
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.473779     | 0.325965     | 0.387506     |
| x          | 0.013408     | 0.016376     | 0.062937     |
| y          | 0.016866     | 0.015608     | 0.048266     |
| w          | 0.023441     | 0.016945     | 0.017593     |
| h          | 0.029998     | 0.022009     | 0.037325     |
| conf       | 0.382479     | 0.248686     | 0.211283     |
| cls        | 0.007588     | 0.006342     | 0.010103     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.952381     | 0.909091     |
| recall75   | 0.714286     | 0.809524     | 0.818182     |
| precision  | 0.571429     | 0.270270     | 0.114286     |
| conf_obj   | 0.914777     | 0.951395     | 0.967385     |
| conf_noobj | 0.001407     | 0.001116     | 0.000974     |
+------------+--------------+--------------+--------------+
2020-12-19 21:41:48.515 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.192813
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.533089     | 0.386559     | 0.273165     |
| x          | 0.010707     | 0.009024     | 0.028155     |
| y          | 0.019015     | 0.011159     | 0.014986     |
| w          | 0.028104     | 0.021586     | 0.014929     |
| h          | 0.019899     | 0.017656     | 0.016385     |
| conf       | 0.433443     | 0.316482     | 0.191140     |
| cls        | 0.021921     | 0.010652     | 0.007571     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.840000     | 0.920000     | 1.000000     |
| recall75   | 0.640000     | 0.840000     | 0.880000     |
| precision  | 0.750000     | 0.353846     | 0.159236     |
| conf_obj   | 0.843550     | 0.882967     | 0.945594     |
| conf_noobj | 0.001101     | 0.000853     | 0.000752     |
+------------+--------------+--------------+--------------+
2020-12-19 21:42:49.450 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.974907
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.333928     | 0.336148     | 0.304832     |
| x          | 0.016515     | 0.019227     | 0.021329     |
| y          | 0.010568     | 0.010742     | 0.016715     |
| w          | 0.017351     | 0.014738     | 0.012979     |
| h          | 0.020846     | 0.019875     | 0.010061     |
| conf       | 0.263023     | 0.264999     | 0.228217     |
| cls        | 0.005624     | 0.006567     | 0.015531     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.973684     | 1.000000     |
| recall75   | 0.750000     | 0.842105     | 0.947368     |
| precision  | 0.708333     | 0.362745     | 0.144487     |
| conf_obj   | 0.925660     | 0.947648     | 0.956400     |
| conf_noobj | 0.001021     | 0.001149     | 0.000964     |
+------------+--------------+--------------+--------------+
2020-12-19 21:43:55.981 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.973688
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.717211     | 0.674030     | 0.582447     |
| x          | 0.016341     | 0.041370     | 0.046730     |
| y          | 0.017849     | 0.016763     | 0.025604     |
| w          | 0.046285     | 0.024513     | 0.011694     |
| h          | 0.043581     | 0.029220     | 0.019086     |
| conf       | 0.464526     | 0.442088     | 0.447511     |
| cls        | 0.128630     | 0.120075     | 0.031822     |
| cls_acc    | 92.59%       | 92.59%       | 100.00%      |
| recall50   | 0.888889     | 0.851852     | 0.925926     |
| recall75   | 0.777778     | 0.777778     | 0.888889     |
| precision  | 0.685714     | 0.291139     | 0.123762     |
| conf_obj   | 0.899371     | 0.895096     | 0.912463     |
| conf_noobj | 0.001165     | 0.001109     | 0.000936     |
+------------+--------------+--------------+--------------+
2020-12-19 21:45:05.343 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.590797
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.791121     | 0.885591     | 0.914086     |
| x          | 0.012094     | 0.036135     | 0.041994     |
| y          | 0.047275     | 0.025904     | 0.030467     |
| w          | 0.035329     | 0.056764     | 0.025206     |
| h          | 0.042391     | 0.049143     | 0.025393     |
| conf       | 0.504272     | 0.583695     | 0.639941     |
| cls        | 0.149760     | 0.133949     | 0.151085     |
| cls_acc    | 93.10%       | 96.67%       | 93.75%       |
| recall50   | 0.862069     | 0.833333     | 0.843750     |
| recall75   | 0.586207     | 0.600000     | 0.656250     |
| precision  | 0.694444     | 0.390625     | 0.125000     |
| conf_obj   | 0.850863     | 0.833670     | 0.850175     |
| conf_noobj | 0.001191     | 0.001074     | 0.001251     |
+------------+--------------+--------------+--------------+
2020-12-19 21:46:09.687 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.100624
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.702485     | 0.757169     | 0.640969     |
| x          | 0.013067     | 0.031356     | 0.037727     |
| y          | 0.013939     | 0.020597     | 0.021026     |
| w          | 0.055596     | 0.102862     | 0.044408     |
| h          | 0.062568     | 0.121338     | 0.056682     |
| conf       | 0.459362     | 0.411116     | 0.408326     |
| cls        | 0.097954     | 0.069901     | 0.072800     |
| cls_acc    | 95.65%       | 95.83%       | 100.00%      |
| recall50   | 0.869565     | 0.833333     | 0.916667     |
| recall75   | 0.695652     | 0.458333     | 0.750000     |
| precision  | 0.740741     | 0.363636     | 0.119565     |
| conf_obj   | 0.886522     | 0.888312     | 0.907404     |
| conf_noobj | 0.001055     | 0.001027     | 0.001108     |
+------------+--------------+--------------+--------------+
2020-12-19 21:47:18.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.328512
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.847725     | 0.790666     | 0.690121     |
| x          | 0.006852     | 0.010881     | 0.034213     |
| y          | 0.016213     | 0.025062     | 0.058458     |
| w          | 0.094382     | 0.076404     | 0.037484     |
| h          | 0.083016     | 0.077999     | 0.045185     |
| conf       | 0.553134     | 0.482301     | 0.355088     |
| cls        | 0.094128     | 0.118019     | 0.159693     |
| cls_acc    | 95.24%       | 90.48%       | 95.24%       |
| recall50   | 0.761905     | 0.714286     | 0.904762     |
| recall75   | 0.666667     | 0.523810     | 0.761905     |
| precision  | 0.695652     | 0.333333     | 0.158333     |
| conf_obj   | 0.798981     | 0.823557     | 0.864338     |
| conf_noobj | 0.001387     | 0.000999     | 0.000877     |
+------------+--------------+--------------+--------------+
2020-12-19 21:48:25.733 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.091209
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.405018     | 0.397895     | 0.288296     |
| x          | 0.002484     | 0.012327     | 0.013700     |
| y          | 0.011356     | 0.010622     | 0.031118     |
| w          | 0.094973     | 0.047402     | 0.014157     |
| h          | 0.066674     | 0.027888     | 0.021810     |
| conf       | 0.211754     | 0.285936     | 0.191207     |
| cls        | 0.017776     | 0.013721     | 0.016305     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 0.933333     |
| recall75   | 0.666667     | 0.800000     | 0.800000     |
| precision  | 0.700000     | 0.304348     | 0.123894     |
| conf_obj   | 0.924926     | 0.919679     | 0.944070     |
| conf_noobj | 0.000724     | 0.000672     | 0.000615     |
+------------+--------------+--------------+--------------+
2020-12-19 21:49:33.482 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.840370
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.018250     | 0.893973     | 0.928146     |
| x          | 0.013983     | 0.017402     | 0.026774     |
| y          | 0.021904     | 0.016839     | 0.058996     |
| w          | 0.093087     | 0.030345     | 0.019621     |
| h          | 0.110389     | 0.057115     | 0.038353     |
| conf       | 0.601508     | 0.607448     | 0.701448     |
| cls        | 0.177379     | 0.164824     | 0.082954     |
| cls_acc    | 92.31%       | 100.00%      | 96.30%       |
| recall50   | 0.807692     | 0.807692     | 0.777778     |
| recall75   | 0.576923     | 0.615385     | 0.629630     |
| precision  | 0.617647     | 0.262500     | 0.103960     |
| conf_obj   | 0.793979     | 0.815383     | 0.797349     |
| conf_noobj | 0.001521     | 0.001548     | 0.001429     |
+------------+--------------+--------------+--------------+
2020-12-19 21:49:44.516 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.864
2020-12-19 21:49:44.521 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 21:50:40.500 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.26044   | 0.26368 | 0.26205 | 0.16918 |
| 1     | Wear_helmet | 0.25933   | 0.94171 | 0.40667 | 0.83992 |
| 2     | Total       | 0.25989   | 0.60269 | 0.33436 | 0.50455 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 21:50:40.501 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.504553701726353
2020-12-19 21:50:40.501 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 21:50:40.501 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.980217

2020-12-19 21:50:40.909 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 1/2, epo 4/5
2020-12-19 21:50:40.910 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 1/2, epo 4/5; time cost: 0:15:22.528164

2020-12-19 21:50:40.910 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 4/20, idx 1/2, epo 5/5
2020-12-19 21:50:42.172 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.181195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.492477     | 0.366539     | 0.322180     |
| x          | 0.025337     | 0.012653     | 0.023760     |
| y          | 0.009557     | 0.013026     | 0.022036     |
| w          | 0.037174     | 0.023958     | 0.009628     |
| h          | 0.072400     | 0.051805     | 0.014283     |
| conf       | 0.332126     | 0.258013     | 0.248512     |
| cls        | 0.015882     | 0.007083     | 0.003960     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 1.000000     | 1.000000     |
| recall75   | 0.777778     | 0.862069     | 0.896552     |
| precision  | 0.757576     | 0.408451     | 0.156757     |
| conf_obj   | 0.892788     | 0.936864     | 0.944710     |
| conf_noobj | 0.001251     | 0.001203     | 0.001144     |
+------------+--------------+--------------+--------------+
2020-12-19 21:51:43.899 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.117746
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.648672     | 0.698685     | 0.770389     |
| x          | 0.016085     | 0.016816     | 0.050216     |
| y          | 0.020738     | 0.022873     | 0.032848     |
| w          | 0.064786     | 0.048060     | 0.021414     |
| h          | 0.068002     | 0.053116     | 0.023624     |
| conf       | 0.241062     | 0.193175     | 0.190906     |
| cls        | 0.237998     | 0.364645     | 0.451381     |
| cls_acc    | 90.48%       | 90.91%       | 90.91%       |
| recall50   | 0.857143     | 0.909091     | 0.909091     |
| recall75   | 0.714286     | 0.636364     | 0.727273     |
| precision  | 0.580645     | 0.289855     | 0.091743     |
| conf_obj   | 0.947363     | 0.965648     | 0.983234     |
| conf_noobj | 0.001139     | 0.000882     | 0.000911     |
+------------+--------------+--------------+--------------+
2020-12-19 21:52:46.744 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.988786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.382688     | 0.371195     | 0.234903     |
| x          | 0.004455     | 0.006505     | 0.017135     |
| y          | 0.007235     | 0.012311     | 0.024006     |
| w          | 0.033840     | 0.013170     | 0.011961     |
| h          | 0.031543     | 0.024332     | 0.022878     |
| conf       | 0.302370     | 0.312119     | 0.156301     |
| cls        | 0.003245     | 0.002757     | 0.002622     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 1.000000     |
| recall75   | 0.954545     | 0.954545     | 0.954545     |
| precision  | 0.636364     | 0.280000     | 0.130178     |
| conf_obj   | 0.906491     | 0.924136     | 0.981358     |
| conf_noobj | 0.001064     | 0.000956     | 0.000773     |
+------------+--------------+--------------+--------------+
2020-12-19 21:53:52.569 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.330098
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.449928     | 0.415008     | 0.465161     |
| x          | 0.040935     | 0.022842     | 0.023150     |
| y          | 0.010452     | 0.009339     | 0.020341     |
| w          | 0.057096     | 0.030734     | 0.017680     |
| h          | 0.047609     | 0.020034     | 0.011087     |
| conf       | 0.280893     | 0.268746     | 0.280145     |
| cls        | 0.012943     | 0.063313     | 0.112758     |
| cls_acc    | 100.00%      | 96.55%       | 96.55%       |
| recall50   | 0.923077     | 0.931035     | 0.931035     |
| recall75   | 0.730769     | 0.862069     | 0.827586     |
| precision  | 0.666667     | 0.397059     | 0.162651     |
| conf_obj   | 0.940007     | 0.941999     | 0.924925     |
| conf_noobj | 0.001253     | 0.001186     | 0.001033     |
+------------+--------------+--------------+--------------+
2020-12-19 21:54:52.143 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.310107
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.372129     | 0.492497     | 0.445481     |
| x          | 0.021934     | 0.029785     | 0.032198     |
| y          | 0.017640     | 0.016679     | 0.030945     |
| w          | 0.073945     | 0.065600     | 0.023613     |
| h          | 0.043914     | 0.044844     | 0.012766     |
| conf       | 0.180203     | 0.312840     | 0.325968     |
| cls        | 0.034493     | 0.022749     | 0.019990     |
| cls_acc    | 96.00%       | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 1.000000     | 0.931035     |
| recall75   | 0.560000     | 0.607143     | 0.689655     |
| precision  | 0.814815     | 0.345679     | 0.164634     |
| conf_obj   | 0.937790     | 0.945075     | 0.901031     |
| conf_noobj | 0.000710     | 0.001326     | 0.000976     |
+------------+--------------+--------------+--------------+
2020-12-19 21:55:53.874 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.872829
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.362080     | 0.272427     | 0.238321     |
| x          | 0.006000     | 0.008332     | 0.021635     |
| y          | 0.013103     | 0.011172     | 0.021722     |
| w          | 0.037279     | 0.011707     | 0.010961     |
| h          | 0.012095     | 0.011442     | 0.012716     |
| conf       | 0.291804     | 0.228878     | 0.169485     |
| cls        | 0.001799     | 0.000896     | 0.001803     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.866667     | 0.933333     | 0.933333     |
| precision  | 0.608696     | 0.294118     | 0.077720     |
| conf_obj   | 0.911106     | 0.919844     | 0.977649     |
| conf_noobj | 0.001060     | 0.000911     | 0.000909     |
+------------+--------------+--------------+--------------+
2020-12-19 21:57:03.187 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.106050
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.433059     | 0.317865     | 0.355126     |
| x          | 0.016715     | 0.007809     | 0.023600     |
| y          | 0.010675     | 0.010029     | 0.034453     |
| w          | 0.023810     | 0.024791     | 0.024300     |
| h          | 0.013193     | 0.023582     | 0.027950     |
| conf       | 0.352096     | 0.230641     | 0.202855     |
| cls        | 0.016569     | 0.021013     | 0.041967     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.733333     | 0.823529     | 0.882353     |
| precision  | 0.416667     | 0.278689     | 0.082126     |
| conf_obj   | 0.943345     | 0.952216     | 0.971709     |
| conf_noobj | 0.001670     | 0.001068     | 0.000992     |
+------------+--------------+--------------+--------------+
2020-12-19 21:58:06.819 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.635614
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.782085     | 0.549396     | 0.304133     |
| x          | 0.009069     | 0.014633     | 0.021199     |
| y          | 0.010596     | 0.005579     | 0.010704     |
| w          | 0.033257     | 0.030001     | 0.027564     |
| h          | 0.025408     | 0.023828     | 0.017442     |
| conf       | 0.664933     | 0.412757     | 0.198378     |
| cls        | 0.038823     | 0.062598     | 0.028846     |
| cls_acc    | 100.00%      | 95.65%       | 100.00%      |
| recall50   | 0.818182     | 0.826087     | 1.000000     |
| recall75   | 0.772727     | 0.782609     | 0.791667     |
| precision  | 0.857143     | 0.358491     | 0.186047     |
| conf_obj   | 0.814500     | 0.850203     | 0.948374     |
| conf_noobj | 0.000607     | 0.000738     | 0.000788     |
+------------+--------------+--------------+--------------+
2020-12-19 21:59:08.329 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.931521
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.323676     | 0.300750     | 0.307094     |
| x          | 0.007314     | 0.017134     | 0.018765     |
| y          | 0.008244     | 0.013476     | 0.018994     |
| w          | 0.020062     | 0.028358     | 0.016651     |
| h          | 0.022328     | 0.029497     | 0.014202     |
| conf       | 0.239903     | 0.193237     | 0.218745     |
| cls        | 0.025825     | 0.019048     | 0.019737     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.966667     | 1.000000     |
| recall75   | 0.800000     | 0.866667     | 0.967742     |
| precision  | 0.783784     | 0.439394     | 0.152709     |
| conf_obj   | 0.936019     | 0.956606     | 0.952923     |
| conf_noobj | 0.001064     | 0.000913     | 0.000947     |
+------------+--------------+--------------+--------------+
2020-12-19 22:00:10.153 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.225758
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.456515     | 0.412646     | 0.356597     |
| x          | 0.018525     | 0.019044     | 0.024729     |
| y          | 0.015086     | 0.032901     | 0.049584     |
| w          | 0.064051     | 0.041403     | 0.030607     |
| h          | 0.042650     | 0.025352     | 0.017067     |
| conf       | 0.308569     | 0.289608     | 0.226825     |
| cls        | 0.007636     | 0.004337     | 0.007785     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.906250     | 0.969697     |
| recall75   | 0.625000     | 0.718750     | 0.757576     |
| precision  | 0.681818     | 0.290000     | 0.133891     |
| conf_obj   | 0.919295     | 0.951787     | 0.958911     |
| conf_noobj | 0.001157     | 0.001289     | 0.001017     |
+------------+--------------+--------------+--------------+
2020-12-19 22:01:16.429 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.408310
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.523314     | 0.558168     | 0.326828     |
| x          | 0.014712     | 0.019751     | 0.029666     |
| y          | 0.012767     | 0.044370     | 0.038677     |
| w          | 0.067404     | 0.038300     | 0.026828     |
| h          | 0.027719     | 0.021312     | 0.019005     |
| conf       | 0.397470     | 0.424048     | 0.211129     |
| cls        | 0.003242     | 0.010386     | 0.001523     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.882353     | 0.941176     |
| recall75   | 0.625000     | 0.647059     | 0.588235     |
| precision  | 0.448276     | 0.202703     | 0.113475     |
| conf_obj   | 0.852665     | 0.857033     | 0.926513     |
| conf_noobj | 0.001233     | 0.000997     | 0.000682     |
+------------+--------------+--------------+--------------+
2020-12-19 22:02:22.971 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.876765
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.662130     | 0.560833     | 0.653802     |
| x          | 0.015863     | 0.016290     | 0.019019     |
| y          | 0.007931     | 0.022418     | 0.041003     |
| w          | 0.045015     | 0.042232     | 0.029869     |
| h          | 0.055451     | 0.048335     | 0.032444     |
| conf       | 0.443571     | 0.337834     | 0.395658     |
| cls        | 0.094299     | 0.093724     | 0.135809     |
| cls_acc    | 96.88%       | 97.06%       | 97.22%       |
| recall50   | 0.906250     | 0.882353     | 0.916667     |
| recall75   | 0.812500     | 0.676471     | 0.805556     |
| precision  | 0.805556     | 0.500000     | 0.176471     |
| conf_obj   | 0.879657     | 0.906210     | 0.902384     |
| conf_noobj | 0.000964     | 0.000874     | 0.001040     |
+------------+--------------+--------------+--------------+
2020-12-19 22:03:26.584 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.222495
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.515813     | 0.364581     | 0.342101     |
| x          | 0.016842     | 0.027020     | 0.045494     |
| y          | 0.022849     | 0.022346     | 0.026991     |
| w          | 0.073103     | 0.034935     | 0.023965     |
| h          | 0.073605     | 0.034910     | 0.019314     |
| conf       | 0.315306     | 0.232807     | 0.213113     |
| cls        | 0.014108     | 0.012563     | 0.013223     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.965517     | 1.000000     |
| recall75   | 0.793103     | 0.724138     | 0.866667     |
| precision  | 0.574468     | 0.301075     | 0.136364     |
| conf_obj   | 0.952071     | 0.980107     | 0.967266     |
| conf_noobj | 0.001715     | 0.001294     | 0.001021     |
+------------+--------------+--------------+--------------+
2020-12-19 22:04:35.333 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.121167
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.369418     | 0.386405     | 0.365344     |
| x          | 0.017423     | 0.017203     | 0.041655     |
| y          | 0.010589     | 0.019707     | 0.046744     |
| w          | 0.029119     | 0.007826     | 0.012589     |
| h          | 0.026513     | 0.011636     | 0.014354     |
| conf       | 0.224054     | 0.193199     | 0.172201     |
| cls        | 0.061719     | 0.136834     | 0.077800     |
| cls_acc    | 95.00%       | 95.24%       | 95.45%       |
| recall50   | 0.900000     | 0.857143     | 0.909091     |
| recall75   | 0.700000     | 0.857143     | 0.909091     |
| precision  | 0.642857     | 0.295082     | 0.111111     |
| conf_obj   | 0.921926     | 0.938078     | 0.962789     |
| conf_noobj | 0.000877     | 0.000794     | 0.000797     |
+------------+--------------+--------------+--------------+
2020-12-19 22:04:49.070 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.762
2020-12-19 22:04:49.073 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 22:05:57.509 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04292   | 0.45771 | 0.07848 | 0.16860 |
| 1     | Wear_helmet | 0.20616   | 0.92986 | 0.33749 | 0.85626 |
| 2     | Total       | 0.12454   | 0.69378 | 0.20799 | 0.51243 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:05:57.510 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5124280967502143
2020-12-19 22:05:57.511 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 22:05:57.511 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:08.437493

2020-12-19 22:05:58.049 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 4/20, idx 1/2, epo 5/5
2020-12-19 22:05:58.050 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 4/20, idx 1/2, epo 5/5; time cost: 0:15:17.139078

2020-12-19 22:05:58.050 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.991
2020-12-19 22:05:58.360 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-19 22:10:06.756 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05229   | 0.54275 | 0.09539 | 0.29517 |
| 1     | Wear_helmet | 0.19930   | 0.91731 | 0.32745 | 0.83310 |
| 2     | Total       | 0.12579   | 0.73003 | 0.21142 | 0.56414 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:10:06.756 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5641378163975042
2020-12-19 22:10:06.756 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-19 22:10:06.757 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:04:08.396676

2020-12-19 22:10:12.287 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 5!
2020-12-19 22:10:12.437 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 1/2, epo 1/5
2020-12-19 22:10:13.841 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.904688
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.303028     | 0.285459     | 0.316201     |
| x          | 0.011315     | 0.015208     | 0.047102     |
| y          | 0.007839     | 0.009369     | 0.032110     |
| w          | 0.021611     | 0.026091     | 0.011543     |
| h          | 0.014758     | 0.013902     | 0.006723     |
| conf       | 0.231110     | 0.213262     | 0.211903     |
| cls        | 0.016395     | 0.007626     | 0.006820     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.888889     | 1.000000     |
| precision  | 0.653846     | 0.276923     | 0.103448     |
| conf_obj   | 0.955822     | 0.974931     | 0.960780     |
| conf_noobj | 0.001290     | 0.001108     | 0.000970     |
+------------+--------------+--------------+--------------+
2020-12-19 22:11:15.718 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.298275
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.715775     | 0.666572     | 0.915929     |
| x          | 0.010786     | 0.013615     | 0.038807     |
| y          | 0.015820     | 0.022051     | 0.054896     |
| w          | 0.055444     | 0.006504     | 0.026052     |
| h          | 0.070121     | 0.024838     | 0.026723     |
| conf       | 0.386950     | 0.494129     | 0.562619     |
| cls        | 0.176654     | 0.105435     | 0.206831     |
| cls_acc    | 93.75%       | 93.75%       | 94.12%       |
| recall50   | 0.812500     | 0.937500     | 0.882353     |
| recall75   | 0.750000     | 0.875000     | 0.647059     |
| precision  | 0.500000     | 0.254237     | 0.108696     |
| conf_obj   | 0.863235     | 0.871577     | 0.832430     |
| conf_noobj | 0.001203     | 0.000957     | 0.000790     |
+------------+--------------+--------------+--------------+
2020-12-19 22:12:25.727 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.450042
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.460012     | 0.545073     | 0.444958     |
| x          | 0.019201     | 0.035740     | 0.030311     |
| y          | 0.010819     | 0.016526     | 0.028011     |
| w          | 0.047340     | 0.024035     | 0.028285     |
| h          | 0.051122     | 0.027169     | 0.036344     |
| conf       | 0.281798     | 0.385596     | 0.291420     |
| cls        | 0.049732     | 0.056008     | 0.030587     |
| cls_acc    | 97.44%       | 97.67%       | 100.00%      |
| recall50   | 0.897436     | 0.860465     | 0.977778     |
| recall75   | 0.743590     | 0.651163     | 0.688889     |
| precision  | 0.777778     | 0.359223     | 0.158273     |
| conf_obj   | 0.908562     | 0.915383     | 0.944079     |
| conf_noobj | 0.000910     | 0.001162     | 0.001091     |
+------------+--------------+--------------+--------------+
2020-12-19 22:13:36.860 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.482160
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.516046     | 0.487104     | 0.479010     |
| x          | 0.028451     | 0.016737     | 0.034103     |
| y          | 0.012017     | 0.042906     | 0.056104     |
| w          | 0.018244     | 0.026070     | 0.016054     |
| h          | 0.032830     | 0.032621     | 0.012018     |
| conf       | 0.288570     | 0.258023     | 0.243418     |
| cls        | 0.135933     | 0.110747     | 0.117313     |
| cls_acc    | 91.67%       | 92.86%       | 96.43%       |
| recall50   | 0.833333     | 0.821429     | 0.857143     |
| recall75   | 0.708333     | 0.714286     | 0.785714     |
| precision  | 0.526316     | 0.291139     | 0.150943     |
| conf_obj   | 0.924376     | 0.916989     | 0.922155     |
| conf_noobj | 0.001165     | 0.000894     | 0.000739     |
+------------+--------------+--------------+--------------+
2020-12-19 22:14:41.457 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.824433
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.411922     | 1.291250     | 1.121261     |
| x          | 0.031241     | 0.039730     | 0.028019     |
| y          | 0.012711     | 0.020219     | 0.032498     |
| w          | 0.131850     | 0.057427     | 0.036659     |
| h          | 0.118406     | 0.067341     | 0.033563     |
| conf       | 0.497900     | 0.449285     | 0.476801     |
| cls        | 0.619814     | 0.657248     | 0.513721     |
| cls_acc    | 74.29%       | 75.00%       | 76.32%       |
| recall50   | 0.600000     | 0.694444     | 0.710526     |
| recall75   | 0.457143     | 0.527778     | 0.578947     |
| precision  | 0.538462     | 0.280899     | 0.103846     |
| conf_obj   | 0.821217     | 0.836303     | 0.826581     |
| conf_noobj | 0.000965     | 0.001116     | 0.001157     |
+------------+--------------+--------------+--------------+
2020-12-19 22:15:43.835 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.535700
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.650192     | 0.387356     | 0.498152     |
| x          | 0.012388     | 0.009407     | 0.011199     |
| y          | 0.031662     | 0.014160     | 0.029291     |
| w          | 0.085243     | 0.045880     | 0.029967     |
| h          | 0.059387     | 0.037723     | 0.038751     |
| conf       | 0.432236     | 0.266978     | 0.373648     |
| cls        | 0.029276     | 0.013208     | 0.015297     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 1.000000     | 0.960000     |
| recall75   | 0.520000     | 0.800000     | 0.720000     |
| precision  | 0.550000     | 0.352113     | 0.117073     |
| conf_obj   | 0.879019     | 0.933383     | 0.916008     |
| conf_noobj | 0.001538     | 0.001098     | 0.000948     |
+------------+--------------+--------------+--------------+
2020-12-19 22:16:45.201 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.886081
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.583052     | 0.755072     | 0.547957     |
| x          | 0.012441     | 0.026408     | 0.053595     |
| y          | 0.008151     | 0.020383     | 0.051713     |
| w          | 0.036553     | 0.018958     | 0.015072     |
| h          | 0.017599     | 0.013893     | 0.013505     |
| conf       | 0.483088     | 0.648223     | 0.397579     |
| cls        | 0.025222     | 0.027206     | 0.016492     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.904762     | 0.904762     |
| recall75   | 0.761905     | 0.857143     | 0.809524     |
| precision  | 0.633333     | 0.333333     | 0.110465     |
| conf_obj   | 0.873722     | 0.849731     | 0.887300     |
| conf_noobj | 0.001613     | 0.001374     | 0.001328     |
+------------+--------------+--------------+--------------+
2020-12-19 22:17:43.691 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.342775
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.957658     | 0.796109     | 0.589009     |
| x          | 0.027910     | 0.020487     | 0.041352     |
| y          | 0.021257     | 0.022151     | 0.033640     |
| w          | 0.085197     | 0.071061     | 0.022574     |
| h          | 0.073750     | 0.066939     | 0.031288     |
| conf       | 0.723833     | 0.566683     | 0.403062     |
| cls        | 0.025710     | 0.048788     | 0.057093     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.700000     | 0.787879     | 0.909091     |
| recall75   | 0.666667     | 0.636364     | 0.727273     |
| precision  | 0.567568     | 0.329114     | 0.127119     |
| conf_obj   | 0.781468     | 0.813260     | 0.883979     |
| conf_noobj | 0.001025     | 0.000978     | 0.001041     |
+------------+--------------+--------------+--------------+
2020-12-19 22:18:55.267 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.759473
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.006491     | 0.956511     | 0.796470     |
| x          | 0.019486     | 0.036725     | 0.061315     |
| y          | 0.007935     | 0.008660     | 0.034724     |
| w          | 0.028823     | 0.043293     | 0.008354     |
| h          | 0.014828     | 0.028981     | 0.008810     |
| conf       | 0.820916     | 0.714843     | 0.544048     |
| cls        | 0.114503     | 0.124010     | 0.139219     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.842105     | 0.842105     | 0.894737     |
| recall75   | 0.789474     | 0.789474     | 0.789474     |
| precision  | 0.516129     | 0.285714     | 0.111842     |
| conf_obj   | 0.844167     | 0.858318     | 0.882025     |
| conf_noobj | 0.001430     | 0.001104     | 0.000930     |
+------------+--------------+--------------+--------------+
2020-12-19 22:19:56.239 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.987569
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.274989     | 0.330587     | 0.381993     |
| x          | 0.017186     | 0.017115     | 0.021668     |
| y          | 0.010895     | 0.021199     | 0.023684     |
| w          | 0.031832     | 0.027399     | 0.015321     |
| h          | 0.016274     | 0.015173     | 0.011098     |
| conf       | 0.181647     | 0.232454     | 0.288488     |
| cls        | 0.017155     | 0.017247     | 0.021733     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.892857     | 0.900000     |
| recall75   | 0.851852     | 0.785714     | 0.900000     |
| precision  | 0.722222     | 0.362319     | 0.163636     |
| conf_obj   | 0.955509     | 0.940561     | 0.910321     |
| conf_noobj | 0.000863     | 0.000918     | 0.000792     |
+------------+--------------+--------------+--------------+
2020-12-19 22:21:03.531 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.402650
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.899774     | 0.762922     | 0.739954     |
| x          | 0.029288     | 0.016328     | 0.023156     |
| y          | 0.010836     | 0.021230     | 0.018812     |
| w          | 0.070578     | 0.033580     | 0.021217     |
| h          | 0.019646     | 0.020296     | 0.017767     |
| conf       | 0.743861     | 0.650823     | 0.650460     |
| cls        | 0.025565     | 0.020665     | 0.008542     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.735294     | 0.756757     | 0.783784     |
| recall75   | 0.617647     | 0.702703     | 0.729730     |
| precision  | 0.714286     | 0.383562     | 0.177914     |
| conf_obj   | 0.777735     | 0.791718     | 0.786572     |
| conf_noobj | 0.001306     | 0.001310     | 0.000981     |
+------------+--------------+--------------+--------------+
2020-12-19 22:22:03.284 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.896017
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.368822     | 0.297668     | 0.229527     |
| x          | 0.010222     | 0.013670     | 0.013088     |
| y          | 0.016293     | 0.014277     | 0.026255     |
| w          | 0.031156     | 0.006288     | 0.005485     |
| h          | 0.029927     | 0.008614     | 0.004408     |
| conf       | 0.279723     | 0.252296     | 0.175372     |
| cls        | 0.001501     | 0.002523     | 0.004919     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.916667     | 1.000000     |
| precision  | 0.500000     | 0.230769     | 0.075472     |
| conf_obj   | 0.959675     | 0.939072     | 0.969912     |
| conf_noobj | 0.001424     | 0.001106     | 0.000920     |
+------------+--------------+--------------+--------------+
2020-12-19 22:23:10.360 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.556261
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.673970     | 0.484465     | 0.397826     |
| x          | 0.017167     | 0.026230     | 0.030454     |
| y          | 0.001449     | 0.009025     | 0.014913     |
| w          | 0.038466     | 0.028427     | 0.021069     |
| h          | 0.042549     | 0.040055     | 0.016378     |
| conf       | 0.442090     | 0.296731     | 0.182666     |
| cls        | 0.132248     | 0.083997     | 0.132345     |
| cls_acc    | 91.67%       | 91.67%       | 91.67%       |
| recall50   | 0.833333     | 0.916667     | 0.916667     |
| recall75   | 0.750000     | 0.750000     | 0.750000     |
| precision  | 0.476190     | 0.268293     | 0.100000     |
| conf_obj   | 0.874485     | 0.904872     | 0.949947     |
| conf_noobj | 0.001506     | 0.001054     | 0.000858     |
+------------+--------------+--------------+--------------+
2020-12-19 22:24:14.059 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.545428
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.974148     | 0.819351     | 0.751928     |
| x          | 0.025486     | 0.007943     | 0.034353     |
| y          | 0.028206     | 0.020719     | 0.035687     |
| w          | 0.069851     | 0.031398     | 0.026249     |
| h          | 0.120131     | 0.069810     | 0.033681     |
| conf       | 0.392660     | 0.345987     | 0.292455     |
| cls        | 0.337814     | 0.343494     | 0.329503     |
| cls_acc    | 90.48%       | 86.36%       | 86.36%       |
| recall50   | 0.714286     | 0.863636     | 0.863636     |
| recall75   | 0.619048     | 0.727273     | 0.636364     |
| precision  | 0.576923     | 0.327586     | 0.115854     |
| conf_obj   | 0.857024     | 0.890307     | 0.923965     |
| conf_noobj | 0.001201     | 0.001258     | 0.001065     |
+------------+--------------+--------------+--------------+
2020-12-19 22:24:25.485 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.900
2020-12-19 22:24:25.489 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 22:25:34.370 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04023   | 0.40796 | 0.07323 | 0.15895 |
| 1     | Wear_helmet | 0.12715   | 0.94787 | 0.22422 | 0.82900 |
| 2     | Total       | 0.08369   | 0.67791 | 0.14872 | 0.49397 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:25:34.372 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.4939748773021692
2020-12-19 22:25:34.373 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 22:25:34.373 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:08.883673

2020-12-19 22:25:34.893 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 1/2, epo 1/5
2020-12-19 22:25:34.893 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 1/2, epo 1/5; time cost: 0:15:22.455833

2020-12-19 22:25:34.893 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 1/2, epo 2/5
2020-12-19 22:25:36.321 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.542192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.974074     | 0.834961     | 0.733157     |
| x          | 0.010561     | 0.015867     | 0.031045     |
| y          | 0.009192     | 0.017010     | 0.054453     |
| w          | 0.046248     | 0.067298     | 0.050198     |
| h          | 0.042176     | 0.062752     | 0.056473     |
| conf       | 0.733334     | 0.532622     | 0.435989     |
| cls        | 0.132563     | 0.139412     | 0.104998     |
| cls_acc    | 95.00%       | 92.50%       | 95.00%       |
| recall50   | 0.775000     | 0.750000     | 0.850000     |
| recall75   | 0.725000     | 0.600000     | 0.675000     |
| precision  | 0.720930     | 0.285714     | 0.134921     |
| conf_obj   | 0.774930     | 0.832325     | 0.877224     |
| conf_noobj | 0.001217     | 0.001377     | 0.001136     |
+------------+--------------+--------------+--------------+
2020-12-19 22:26:47.390 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.493173
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 1.007506     | 0.748857     | 0.736810     |
| x          | 0.029246     | 0.026539     | 0.045645     |
| y          | 0.022623     | 0.020304     | 0.042558     |
| w          | 0.035492     | 0.021372     | 0.012180     |
| h          | 0.061644     | 0.044372     | 0.021139     |
| conf       | 0.708212     | 0.516685     | 0.544729     |
| cls        | 0.150291     | 0.119585     | 0.070560     |
| cls_acc    | 96.55%       | 96.77%       | 96.77%       |
| recall50   | 0.793103     | 0.741935     | 0.870968     |
| recall75   | 0.620690     | 0.645161     | 0.709677     |
| precision  | 0.718750     | 0.315068     | 0.135678     |
| conf_obj   | 0.764843     | 0.793667     | 0.819450     |
| conf_noobj | 0.000795     | 0.000853     | 0.000858     |
+------------+--------------+--------------+--------------+
2020-12-19 22:27:53.271 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.552003
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.552774     | 0.455845     | 0.543384     |
| x          | 0.009841     | 0.017488     | 0.036040     |
| y          | 0.003877     | 0.008787     | 0.014541     |
| w          | 0.066260     | 0.067788     | 0.028610     |
| h          | 0.084239     | 0.092845     | 0.022710     |
| conf       | 0.367697     | 0.254522     | 0.400379     |
| cls        | 0.020861     | 0.014415     | 0.041104     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.888889     | 0.944444     |
| recall75   | 0.764706     | 0.888889     | 0.888889     |
| precision  | 0.608696     | 0.290909     | 0.114094     |
| conf_obj   | 0.860256     | 0.925098     | 0.918215     |
| conf_noobj | 0.000941     | 0.000945     | 0.000872     |
+------------+--------------+--------------+--------------+
2020-12-19 22:29:06.478 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.258293
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.891046     | 0.793983     | 0.573264     |
| x          | 0.027138     | 0.037231     | 0.037458     |
| y          | 0.015389     | 0.019602     | 0.042976     |
| w          | 0.042684     | 0.021603     | 0.016385     |
| h          | 0.064100     | 0.019984     | 0.007681     |
| conf       | 0.736095     | 0.683054     | 0.460443     |
| cls        | 0.005640     | 0.012509     | 0.008321     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.789474     | 0.842105     |
| recall75   | 0.500000     | 0.684211     | 0.789474     |
| precision  | 0.750000     | 0.258621     | 0.090909     |
| conf_obj   | 0.745182     | 0.790250     | 0.857507     |
| conf_noobj | 0.001033     | 0.001270     | 0.001166     |
+------------+--------------+--------------+--------------+
2020-12-19 22:30:13.993 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.037312
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.411062     | 0.337136     | 0.289115     |
| x          | 0.004413     | 0.004385     | 0.012097     |
| y          | 0.002714     | 0.011294     | 0.030341     |
| w          | 0.027281     | 0.029177     | 0.021229     |
| h          | 0.020388     | 0.035738     | 0.025771     |
| conf       | 0.346688     | 0.248018     | 0.192371     |
| cls        | 0.009579     | 0.008524     | 0.007306     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.888889     | 0.833333     | 0.833333     |
| precision  | 0.772727     | 0.361702     | 0.149123     |
| conf_obj   | 0.912639     | 0.932661     | 0.947529     |
| conf_noobj | 0.000877     | 0.000862     | 0.000743     |
+------------+--------------+--------------+--------------+
2020-12-19 22:31:19.578 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.870406
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.703566     | 0.642573     | 0.524266     |
| x          | 0.018474     | 0.015513     | 0.016046     |
| y          | 0.006714     | 0.019010     | 0.015031     |
| w          | 0.033144     | 0.029542     | 0.016559     |
| h          | 0.032675     | 0.017390     | 0.018090     |
| conf       | 0.457397     | 0.405495     | 0.316075     |
| cls        | 0.155162     | 0.155623     | 0.142465     |
| cls_acc    | 92.00%       | 92.31%       | 92.31%       |
| recall50   | 0.840000     | 0.884615     | 0.884615     |
| recall75   | 0.680000     | 0.807692     | 0.730769     |
| precision  | 0.600000     | 0.338235     | 0.159722     |
| conf_obj   | 0.827408     | 0.888985     | 0.913895     |
| conf_noobj | 0.001208     | 0.000959     | 0.000808     |
+------------+--------------+--------------+--------------+
2020-12-19 22:32:23.726 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.461195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.406852     | 0.563321     | 0.491023     |
| x          | 0.015346     | 0.018905     | 0.034030     |
| y          | 0.008408     | 0.012837     | 0.034005     |
| w          | 0.033818     | 0.013765     | 0.009714     |
| h          | 0.012467     | 0.011510     | 0.007127     |
| conf       | 0.332633     | 0.500373     | 0.403328     |
| cls        | 0.004180     | 0.005931     | 0.002818     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.913043     | 0.913043     |
| recall75   | 0.869565     | 0.826087     | 0.869565     |
| precision  | 0.636364     | 0.265823     | 0.112903     |
| conf_obj   | 0.920485     | 0.884683     | 0.869290     |
| conf_noobj | 0.001401     | 0.001080     | 0.000925     |
+------------+--------------+--------------+--------------+
2020-12-19 22:33:23.679 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.867564
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.213956     | 0.314853     | 0.338754     |
| x          | 0.005034     | 0.021058     | 0.020919     |
| y          | 0.005216     | 0.024887     | 0.024250     |
| w          | 0.015298     | 0.018615     | 0.027165     |
| h          | 0.022762     | 0.029884     | 0.020370     |
| conf       | 0.158840     | 0.213905     | 0.236395     |
| cls        | 0.006806     | 0.006503     | 0.009654     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 0.875000     | 0.812500     | 0.812500     |
| precision  | 0.761905     | 0.340909     | 0.095808     |
| conf_obj   | 0.954506     | 0.919666     | 0.920189     |
| conf_noobj | 0.000769     | 0.000724     | 0.000814     |
+------------+--------------+--------------+--------------+
2020-12-19 22:34:26.339 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.898725
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.951359     | 1.015711     | 0.931655     |
| x          | 0.020566     | 0.019800     | 0.028522     |
| y          | 0.013625     | 0.016709     | 0.015582     |
| w          | 0.083092     | 0.032611     | 0.018658     |
| h          | 0.110823     | 0.049190     | 0.025758     |
| conf       | 0.458229     | 0.511813     | 0.316086     |
| cls        | 0.265024     | 0.385589     | 0.527049     |
| cls_acc    | 91.67%       | 85.19%       | 78.57%       |
| recall50   | 0.791667     | 0.740741     | 0.750000     |
| recall75   | 0.666667     | 0.666667     | 0.714286     |
| precision  | 0.760000     | 0.487805     | 0.138158     |
| conf_obj   | 0.855704     | 0.827102     | 0.875348     |
| conf_noobj | 0.000818     | 0.000736     | 0.000901     |
+------------+--------------+--------------+--------------+
2020-12-19 22:35:34.846 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.987796
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.357227     | 0.313717     | 0.316853     |
| x          | 0.014247     | 0.011786     | 0.016286     |
| y          | 0.013510     | 0.010816     | 0.017317     |
| w          | 0.030765     | 0.017407     | 0.012031     |
| h          | 0.022889     | 0.012883     | 0.010980     |
| conf       | 0.269322     | 0.255749     | 0.255795     |
| cls        | 0.006494     | 0.005076     | 0.004444     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.962963     | 0.964286     |
| recall75   | 0.846154     | 0.925926     | 0.928571     |
| precision  | 0.750000     | 0.406250     | 0.164634     |
| conf_obj   | 0.945380     | 0.953030     | 0.942094     |
| conf_noobj | 0.001260     | 0.001164     | 0.001047     |
+------------+--------------+--------------+--------------+
2020-12-19 22:36:40.732 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.413994
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.970687     | 0.800330     | 0.642977     |
| x          | 0.013936     | 0.010372     | 0.030018     |
| y          | 0.015791     | 0.025175     | 0.032106     |
| w          | 0.045039     | 0.018953     | 0.014457     |
| h          | 0.059895     | 0.070533     | 0.050969     |
| conf       | 0.827481     | 0.669313     | 0.508747     |
| cls        | 0.008546     | 0.005984     | 0.006680     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.666667     | 0.809524     | 0.904762     |
| recall75   | 0.666667     | 0.761905     | 0.809524     |
| precision  | 0.700000     | 0.257576     | 0.115854     |
| conf_obj   | 0.739522     | 0.808620     | 0.855629     |
| conf_noobj | 0.000905     | 0.001208     | 0.000884     |
+------------+--------------+--------------+--------------+
2020-12-19 22:37:40.053 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.657324
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.704667     | 0.545197     | 0.407460     |
| x          | 0.003818     | 0.018150     | 0.021073     |
| y          | 0.016776     | 0.045586     | 0.041757     |
| w          | 0.069060     | 0.036048     | 0.010920     |
| h          | 0.096810     | 0.040981     | 0.013781     |
| conf       | 0.494899     | 0.390140     | 0.300019     |
| cls        | 0.023305     | 0.014292     | 0.019910     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.888889     | 0.944444     |
| recall75   | 0.611111     | 0.777778     | 0.833333     |
| precision  | 0.750000     | 0.333333     | 0.157407     |
| conf_obj   | 0.818645     | 0.882340     | 0.873276     |
| conf_noobj | 0.000956     | 0.001027     | 0.000858     |
+------------+--------------+--------------+--------------+
2020-12-19 22:38:45.375 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.482306
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.794666     | 0.912675     | 0.774965     |
| x          | 0.016187     | 0.030661     | 0.043496     |
| y          | 0.008035     | 0.017065     | 0.029843     |
| w          | 0.063631     | 0.146943     | 0.061621     |
| h          | 0.077232     | 0.148486     | 0.065885     |
| conf       | 0.479508     | 0.518187     | 0.491322     |
| cls        | 0.150073     | 0.051334     | 0.082799     |
| cls_acc    | 100.00%      | 100.00%      | 96.88%       |
| recall50   | 0.863636     | 0.800000     | 0.843750     |
| recall75   | 0.636364     | 0.500000     | 0.500000     |
| precision  | 0.593750     | 0.289157     | 0.143617     |
| conf_obj   | 0.890576     | 0.847537     | 0.852340     |
| conf_noobj | 0.001649     | 0.001453     | 0.001134     |
+------------+--------------+--------------+--------------+
2020-12-19 22:39:55.851 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.213561
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.431679     | 0.437047     | 0.344835     |
| x          | 0.015143     | 0.005591     | 0.020630     |
| y          | 0.014352     | 0.015850     | 0.034864     |
| w          | 0.041142     | 0.035315     | 0.021973     |
| h          | 0.022112     | 0.028463     | 0.008799     |
| conf       | 0.162438     | 0.172673     | 0.189014     |
| cls        | 0.176491     | 0.179156     | 0.069555     |
| cls_acc    | 94.74%       | 95.00%       | 95.00%       |
| recall50   | 0.894737     | 0.950000     | 0.900000     |
| recall75   | 0.789474     | 0.650000     | 0.800000     |
| precision  | 0.739130     | 0.387755     | 0.151261     |
| conf_obj   | 0.951765     | 0.956216     | 0.952731     |
| conf_noobj | 0.000730     | 0.000744     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-19 22:40:06.168 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.778
2020-12-19 22:40:06.176 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 22:41:06.328 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10660   | 0.36567 | 0.16508 | 0.21618 |
| 1     | Wear_helmet | 0.28199   | 0.94739 | 0.43461 | 0.86969 |
| 2     | Total       | 0.19429   | 0.65653 | 0.29984 | 0.54294 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:41:06.329 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5429351580598276
2020-12-19 22:41:06.330 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 22:41:06.330 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:00.153933

2020-12-19 22:41:06.761 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 1/2, epo 2/5
2020-12-19 22:41:06.761 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 1/2, epo 2/5; time cost: 0:15:31.867681

2020-12-19 22:41:06.762 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 1/2, epo 3/5
2020-12-19 22:41:08.263 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.760740
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.047158     | 0.889050     | 0.824533     |
| x          | 0.012310     | 0.008892     | 0.016798     |
| y          | 0.021969     | 0.032362     | 0.046175     |
| w          | 0.019286     | 0.015768     | 0.014121     |
| h          | 0.032168     | 0.027783     | 0.020978     |
| conf       | 0.447893     | 0.315303     | 0.234993     |
| cls        | 0.513531     | 0.488943     | 0.491467     |
| cls_acc    | 91.30%       | 91.67%       | 91.67%       |
| recall50   | 0.782609     | 0.875000     | 0.875000     |
| recall75   | 0.695652     | 0.833333     | 0.791667     |
| precision  | 0.545455     | 0.300000     | 0.100962     |
| conf_obj   | 0.887585     | 0.924063     | 0.936530     |
| conf_noobj | 0.001225     | 0.001165     | 0.000935     |
+------------+--------------+--------------+--------------+
2020-12-19 22:42:16.589 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.242409
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.439744     | 0.406542     | 0.396123     |
| x          | 0.019300     | 0.015177     | 0.044646     |
| y          | 0.007070     | 0.007965     | 0.011715     |
| w          | 0.074181     | 0.089563     | 0.051525     |
| h          | 0.039608     | 0.067982     | 0.032253     |
| conf       | 0.292123     | 0.222599     | 0.253478     |
| cls        | 0.007461     | 0.003257     | 0.002506     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.952381     | 0.913043     |
| recall75   | 0.777778     | 0.666667     | 0.695652     |
| precision  | 0.680000     | 0.425532     | 0.151079     |
| conf_obj   | 0.943528     | 0.952583     | 0.947899     |
| conf_noobj | 0.001097     | 0.000884     | 0.000860     |
+------------+--------------+--------------+--------------+
2020-12-19 22:43:21.972 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.018607
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.818697     | 0.544630     | 0.655280     |
| x          | 0.059211     | 0.019955     | 0.023832     |
| y          | 0.018910     | 0.013574     | 0.019779     |
| w          | 0.035787     | 0.022616     | 0.019111     |
| h          | 0.030338     | 0.011999     | 0.009212     |
| conf       | 0.659554     | 0.470485     | 0.580578     |
| cls        | 0.014896     | 0.006000     | 0.002769     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.888889     | 0.888889     |
| recall75   | 0.777778     | 0.833333     | 0.777778     |
| precision  | 0.483871     | 0.296296     | 0.117647     |
| conf_obj   | 0.837800     | 0.879253     | 0.862473     |
| conf_noobj | 0.001347     | 0.000796     | 0.000752     |
+------------+--------------+--------------+--------------+
2020-12-19 22:44:28.866 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.014450
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.665347     | 0.687544     | 0.661559     |
| x          | 0.007366     | 0.022154     | 0.024231     |
| y          | 0.021248     | 0.029417     | 0.032776     |
| w          | 0.058625     | 0.061939     | 0.033231     |
| h          | 0.036481     | 0.042341     | 0.015093     |
| conf       | 0.409228     | 0.362732     | 0.364162     |
| cls        | 0.132400     | 0.168961     | 0.192067     |
| cls_acc    | 92.59%       | 89.66%       | 89.66%       |
| recall50   | 0.888889     | 0.758621     | 0.827586     |
| recall75   | 0.629630     | 0.620690     | 0.758621     |
| precision  | 0.666667     | 0.349206     | 0.141176     |
| conf_obj   | 0.919840     | 0.871326     | 0.885764     |
| conf_noobj | 0.001117     | 0.001012     | 0.001070     |
+------------+--------------+--------------+--------------+
2020-12-19 22:45:34.235 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.520926
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.457025     | 0.484829     | 0.579072     |
| x          | 0.012257     | 0.019466     | 0.035169     |
| y          | 0.019122     | 0.036861     | 0.062163     |
| w          | 0.020143     | 0.017388     | 0.011320     |
| h          | 0.027300     | 0.011387     | 0.015688     |
| conf       | 0.318989     | 0.299925     | 0.409787     |
| cls        | 0.059214     | 0.099802     | 0.044946     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.900000     | 0.950000     | 0.850000     |
| recall75   | 0.850000     | 0.850000     | 0.700000     |
| precision  | 0.545455     | 0.240506     | 0.092896     |
| conf_obj   | 0.919893     | 0.916125     | 0.872372     |
| conf_noobj | 0.001364     | 0.001259     | 0.001025     |
+------------+--------------+--------------+--------------+
2020-12-19 22:46:40.153 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.295449
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.592905     | 0.423108     | 0.279436     |
| x          | 0.010494     | 0.006858     | 0.026203     |
| y          | 0.011397     | 0.013213     | 0.019282     |
| w          | 0.056207     | 0.032911     | 0.012083     |
| h          | 0.025263     | 0.020817     | 0.018410     |
| conf       | 0.484270     | 0.346628     | 0.199737     |
| cls        | 0.005275     | 0.002681     | 0.003721     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.950000     |
| recall75   | 0.700000     | 0.850000     | 0.900000     |
| precision  | 0.620690     | 0.339623     | 0.155738     |
| conf_obj   | 0.861247     | 0.897164     | 0.935881     |
| conf_noobj | 0.001254     | 0.000911     | 0.000742     |
+------------+--------------+--------------+--------------+
2020-12-19 22:47:45.575 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.673736
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.644355     | 0.566134     | 0.463248     |
| x          | 0.022155     | 0.018647     | 0.035667     |
| y          | 0.008878     | 0.014923     | 0.027970     |
| w          | 0.021162     | 0.022453     | 0.017037     |
| h          | 0.024971     | 0.042558     | 0.017956     |
| conf       | 0.475238     | 0.362400     | 0.275238     |
| cls        | 0.091951     | 0.105154     | 0.089381     |
| cls_acc    | 97.30%       | 97.44%       | 97.50%       |
| recall50   | 0.837838     | 0.897436     | 0.925000     |
| recall75   | 0.675676     | 0.692308     | 0.750000     |
| precision  | 0.632653     | 0.360825     | 0.157447     |
| conf_obj   | 0.854627     | 0.877696     | 0.917110     |
| conf_noobj | 0.001366     | 0.000998     | 0.000834     |
+------------+--------------+--------------+--------------+
2020-12-19 22:48:52.952 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.064614
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.603332     | 0.679678     | 0.781603     |
| x          | 0.024738     | 0.024006     | 0.022459     |
| y          | 0.014922     | 0.013345     | 0.033164     |
| w          | 0.042570     | 0.056989     | 0.037177     |
| h          | 0.030056     | 0.053236     | 0.040126     |
| conf       | 0.364779     | 0.407871     | 0.535350     |
| cls        | 0.126267     | 0.124232     | 0.113327     |
| cls_acc    | 100.00%      | 97.22%       | 94.87%       |
| recall50   | 0.903226     | 0.916667     | 0.897436     |
| recall75   | 0.774194     | 0.722222     | 0.615385     |
| precision  | 0.700000     | 0.485294     | 0.239726     |
| conf_obj   | 0.890672     | 0.911562     | 0.874437     |
| conf_noobj | 0.001024     | 0.000868     | 0.000710     |
+------------+--------------+--------------+--------------+
2020-12-19 22:50:01.821 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.564157
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.652494     | 0.476296     | 0.435366     |
| x          | 0.026971     | 0.021454     | 0.032635     |
| y          | 0.028472     | 0.060631     | 0.058624     |
| w          | 0.034702     | 0.037881     | 0.017743     |
| h          | 0.038029     | 0.042891     | 0.023664     |
| conf       | 0.508893     | 0.303268     | 0.271157     |
| cls        | 0.015427     | 0.010171     | 0.031542     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.750000     | 0.904762     | 1.000000     |
| recall75   | 0.650000     | 0.714286     | 0.863636     |
| precision  | 0.441176     | 0.231707     | 0.125714     |
| conf_obj   | 0.862551     | 0.913698     | 0.893627     |
| conf_noobj | 0.001552     | 0.001121     | 0.000841     |
+------------+--------------+--------------+--------------+
2020-12-19 22:51:09.963 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.155708
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.882242     | 0.686978     | 0.586488     |
| x          | 0.030999     | 0.026330     | 0.028274     |
| y          | 0.017941     | 0.029545     | 0.042325     |
| w          | 0.075890     | 0.068655     | 0.048327     |
| h          | 0.073446     | 0.051131     | 0.039220     |
| conf       | 0.668013     | 0.500300     | 0.418332     |
| cls        | 0.015955     | 0.011018     | 0.010010     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.837838     | 0.972973     |
| recall75   | 0.676471     | 0.756757     | 0.621622     |
| precision  | 0.717949     | 0.407895     | 0.215569     |
| conf_obj   | 0.801378     | 0.832885     | 0.893560     |
| conf_noobj | 0.001023     | 0.001010     | 0.000733     |
+------------+--------------+--------------+--------------+
2020-12-19 22:52:18.341 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 3.757222
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.449218     | 1.197775     | 1.110229     |
| x          | 0.033627     | 0.041761     | 0.042382     |
| y          | 0.030257     | 0.036898     | 0.053517     |
| w          | 0.066605     | 0.054727     | 0.049169     |
| h          | 0.061953     | 0.058633     | 0.049230     |
| conf       | 1.013238     | 0.813936     | 0.806341     |
| cls        | 0.243539     | 0.191819     | 0.109591     |
| cls_acc    | 88.89%       | 93.10%       | 93.33%       |
| recall50   | 0.666667     | 0.689655     | 0.800000     |
| recall75   | 0.481481     | 0.482759     | 0.600000     |
| precision  | 0.473684     | 0.238095     | 0.110599     |
| conf_obj   | 0.716530     | 0.758444     | 0.777997     |
| conf_noobj | 0.001937     | 0.001606     | 0.001360     |
+------------+--------------+--------------+--------------+
2020-12-19 22:53:20.640 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.963129
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.444626     | 0.286440     | 0.232063     |
| x          | 0.026837     | 0.014662     | 0.013707     |
| y          | 0.021576     | 0.008914     | 0.018595     |
| w          | 0.018496     | 0.008293     | 0.014974     |
| h          | 0.020103     | 0.005800     | 0.010800     |
| conf       | 0.356245     | 0.247074     | 0.171506     |
| cls        | 0.001368     | 0.001697     | 0.002480     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.800000     | 0.875000     |
| precision  | 0.461538     | 0.288462     | 0.133333     |
| conf_obj   | 0.916066     | 0.934290     | 0.965873     |
| conf_noobj | 0.001466     | 0.000978     | 0.000784     |
+------------+--------------+--------------+--------------+
2020-12-19 22:54:26.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.887333
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.720671     | 0.633514     | 0.533149     |
| x          | 0.020019     | 0.023351     | 0.026985     |
| y          | 0.013742     | 0.020463     | 0.027739     |
| w          | 0.048118     | 0.034915     | 0.025315     |
| h          | 0.049606     | 0.028515     | 0.034609     |
| conf       | 0.441898     | 0.389622     | 0.267578     |
| cls        | 0.147288     | 0.136648     | 0.150924     |
| cls_acc    | 92.31%       | 96.43%       | 93.10%       |
| recall50   | 0.846154     | 0.857143     | 0.896552     |
| recall75   | 0.653846     | 0.642857     | 0.689655     |
| precision  | 0.814815     | 0.369231     | 0.154762     |
| conf_obj   | 0.847245     | 0.868775     | 0.939646     |
| conf_noobj | 0.000991     | 0.001331     | 0.001142     |
+------------+--------------+--------------+--------------+
2020-12-19 22:55:32.334 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.699277
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.819603     | 0.993344     | 0.886330     |
| x          | 0.011559     | 0.016561     | 0.018440     |
| y          | 0.018918     | 0.015470     | 0.027141     |
| w          | 0.072537     | 0.054331     | 0.016517     |
| h          | 0.043731     | 0.035764     | 0.028177     |
| conf       | 0.613632     | 0.760296     | 0.769579     |
| cls        | 0.059227     | 0.110922     | 0.026476     |
| cls_acc    | 100.00%      | 93.75%       | 100.00%      |
| recall50   | 0.937500     | 0.937500     | 0.937500     |
| recall75   | 0.750000     | 0.812500     | 0.875000     |
| precision  | 0.625000     | 0.258621     | 0.095541     |
| conf_obj   | 0.892546     | 0.901827     | 0.909853     |
| conf_noobj | 0.000966     | 0.000996     | 0.000970     |
+------------+--------------+--------------+--------------+
2020-12-19 22:55:44.587 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.623
2020-12-19 22:55:44.591 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 22:56:39.552 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08383   | 0.38557 | 0.13772 | 0.21761 |
| 1     | Wear_helmet | 0.32575   | 0.92986 | 0.48248 | 0.86302 |
| 2     | Total       | 0.20479   | 0.65771 | 0.31010 | 0.54031 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 22:56:39.552 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5403137903215607
2020-12-19 22:56:39.553 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 22:56:39.553 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.961351

2020-12-19 22:56:40.017 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 1/2, epo 3/5
2020-12-19 22:56:40.017 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 1/2, epo 3/5; time cost: 0:15:33.254676

2020-12-19 22:56:40.017 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 1/2, epo 4/5
2020-12-19 22:56:41.413 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.076988
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.326880     | 0.441350     | 0.308758     |
| x          | 0.008193     | 0.032089     | 0.049645     |
| y          | 0.012779     | 0.035749     | 0.061012     |
| w          | 0.013091     | 0.011628     | 0.010654     |
| h          | 0.075658     | 0.035186     | 0.044412     |
| conf       | 0.213715     | 0.322914     | 0.138668     |
| cls        | 0.003444     | 0.003784     | 0.004368     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.866667     | 1.000000     |
| recall75   | 0.733333     | 0.733333     | 0.800000     |
| precision  | 0.576923     | 0.276596     | 0.141509     |
| conf_obj   | 0.916438     | 0.866619     | 0.960038     |
| conf_noobj | 0.000788     | 0.000660     | 0.000587     |
+------------+--------------+--------------+--------------+
2020-12-19 22:57:50.203 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.515461
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.575595     | 0.488791     | 0.451074     |
| x          | 0.012523     | 0.012475     | 0.027907     |
| y          | 0.020836     | 0.011555     | 0.016027     |
| w          | 0.055739     | 0.044052     | 0.037697     |
| h          | 0.054246     | 0.027178     | 0.019592     |
| conf       | 0.403016     | 0.339094     | 0.310377     |
| cls        | 0.029235     | 0.054437     | 0.039475     |
| cls_acc    | 100.00%      | 96.97%       | 97.06%       |
| recall50   | 0.903226     | 0.909091     | 0.911765     |
| recall75   | 0.741935     | 0.848485     | 0.852941     |
| precision  | 0.800000     | 0.400000     | 0.138393     |
| conf_obj   | 0.864880     | 0.885746     | 0.913991     |
| conf_noobj | 0.000909     | 0.000944     | 0.000996     |
+------------+--------------+--------------+--------------+
2020-12-19 22:58:56.051 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.873435
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.860201     | 0.541263     | 0.471972     |
| x          | 0.022247     | 0.017507     | 0.026276     |
| y          | 0.025206     | 0.024576     | 0.029765     |
| w          | 0.022883     | 0.029302     | 0.014358     |
| h          | 0.032088     | 0.025450     | 0.009634     |
| conf       | 0.588427     | 0.404219     | 0.348067     |
| cls        | 0.169350     | 0.040209     | 0.043873     |
| cls_acc    | 96.30%       | 96.43%       | 96.43%       |
| recall50   | 0.888889     | 0.892857     | 0.892857     |
| recall75   | 0.851852     | 0.750000     | 0.857143     |
| precision  | 0.585366     | 0.337838     | 0.126904     |
| conf_obj   | 0.876498     | 0.874175     | 0.895703     |
| conf_noobj | 0.001190     | 0.000927     | 0.000896     |
+------------+--------------+--------------+--------------+
2020-12-19 23:00:04.942 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.962580
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.273652     | 0.424164     | 0.264764     |
| x          | 0.006050     | 0.008049     | 0.025711     |
| y          | 0.011516     | 0.011663     | 0.051018     |
| w          | 0.018075     | 0.013818     | 0.005104     |
| h          | 0.013952     | 0.006407     | 0.008670     |
| conf       | 0.197574     | 0.371062     | 0.166513     |
| cls        | 0.026484     | 0.013165     | 0.007748     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 0.857143     | 0.857143     | 0.904762     |
| precision  | 0.636364     | 0.322581     | 0.106599     |
| conf_obj   | 0.954444     | 0.921482     | 0.976785     |
| conf_noobj | 0.000931     | 0.000851     | 0.000849     |
+------------+--------------+--------------+--------------+
2020-12-19 23:01:11.259 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.629564
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.650782     | 0.581308     | 0.397473     |
| x          | 0.011887     | 0.016730     | 0.023165     |
| y          | 0.010572     | 0.010077     | 0.022564     |
| w          | 0.028987     | 0.035352     | 0.024211     |
| h          | 0.028637     | 0.021650     | 0.009417     |
| conf       | 0.528712     | 0.459336     | 0.293829     |
| cls        | 0.041987     | 0.038164     | 0.024287     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.950000     | 0.950000     |
| recall75   | 0.750000     | 0.850000     | 0.850000     |
| precision  | 0.515152     | 0.287879     | 0.152000     |
| conf_obj   | 0.876260     | 0.870279     | 0.918469     |
| conf_noobj | 0.001472     | 0.001057     | 0.000685     |
+------------+--------------+--------------+--------------+
2020-12-19 23:02:13.545 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.309059
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.477340     | 0.441199     | 0.390520     |
| x          | 0.020582     | 0.018693     | 0.030906     |
| y          | 0.019657     | 0.021865     | 0.037442     |
| w          | 0.045688     | 0.039608     | 0.018539     |
| h          | 0.041629     | 0.043177     | 0.023658     |
| conf       | 0.340902     | 0.312749     | 0.269055     |
| cls        | 0.008881     | 0.005108     | 0.010920     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.948718     | 0.974359     |
| recall75   | 0.545455     | 0.692308     | 0.743590     |
| precision  | 0.714286     | 0.420455     | 0.173516     |
| conf_obj   | 0.888565     | 0.913363     | 0.926018     |
| conf_noobj | 0.000983     | 0.000968     | 0.000877     |
+------------+--------------+--------------+--------------+
2020-12-19 23:03:19.910 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.710122
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.579223     | 0.547316     | 0.583583     |
| x          | 0.010489     | 0.012345     | 0.011341     |
| y          | 0.011345     | 0.010719     | 0.025054     |
| w          | 0.025109     | 0.020747     | 0.008186     |
| h          | 0.011513     | 0.015339     | 0.014110     |
| conf       | 0.266296     | 0.221990     | 0.244978     |
| cls        | 0.254471     | 0.266176     | 0.279914     |
| cls_acc    | 92.00%       | 92.59%       | 92.86%       |
| recall50   | 0.880000     | 0.925926     | 0.892857     |
| recall75   | 0.680000     | 0.777778     | 0.857143     |
| precision  | 0.666667     | 0.390625     | 0.144509     |
| conf_obj   | 0.946879     | 0.969947     | 0.946973     |
| conf_noobj | 0.001114     | 0.001039     | 0.000947     |
+------------+--------------+--------------+--------------+
2020-12-19 23:04:26.431 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 4.097005
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.635319     | 1.310405     | 1.151281     |
| x          | 0.035889     | 0.037717     | 0.037720     |
| y          | 0.013212     | 0.020223     | 0.019561     |
| w          | 0.052495     | 0.050597     | 0.079545     |
| h          | 0.045368     | 0.038128     | 0.068435     |
| conf       | 1.004787     | 0.832668     | 0.785878     |
| cls        | 0.483568     | 0.331072     | 0.160143     |
| cls_acc    | 88.24%       | 89.47%       | 95.00%       |
| recall50   | 0.647059     | 0.789474     | 0.800000     |
| recall75   | 0.647059     | 0.526316     | 0.550000     |
| precision  | 0.550000     | 0.319149     | 0.163265     |
| conf_obj   | 0.790786     | 0.814556     | 0.851704     |
| conf_noobj | 0.001045     | 0.000895     | 0.000730     |
+------------+--------------+--------------+--------------+
2020-12-19 23:05:28.557 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.522140
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.582348     | 0.453914     | 0.485878     |
| x          | 0.024537     | 0.021613     | 0.036017     |
| y          | 0.007400     | 0.014198     | 0.031447     |
| w          | 0.047605     | 0.038668     | 0.022102     |
| h          | 0.043781     | 0.039519     | 0.015729     |
| conf       | 0.321749     | 0.231501     | 0.226572     |
| cls        | 0.137276     | 0.108415     | 0.154010     |
| cls_acc    | 93.10%       | 93.33%       | 93.55%       |
| recall50   | 0.793103     | 0.933333     | 0.870968     |
| recall75   | 0.655172     | 0.733333     | 0.741935     |
| precision  | 0.560976     | 0.321839     | 0.133005     |
| conf_obj   | 0.908688     | 0.952920     | 0.929683     |
| conf_noobj | 0.001109     | 0.001001     | 0.000766     |
+------------+--------------+--------------+--------------+
2020-12-19 23:06:34.741 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.890867
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.258025     | 0.260649     | 0.372192     |
| x          | 0.006909     | 0.013829     | 0.052806     |
| y          | 0.007495     | 0.012083     | 0.037932     |
| w          | 0.026271     | 0.014002     | 0.014421     |
| h          | 0.008176     | 0.008542     | 0.016199     |
| conf       | 0.189901     | 0.206256     | 0.245964     |
| cls        | 0.019273     | 0.005938     | 0.004870     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.800000     | 0.904762     | 0.857143     |
| precision  | 0.769231     | 0.396226     | 0.145985     |
| conf_obj   | 0.936693     | 0.945357     | 0.924940     |
| conf_noobj | 0.000798     | 0.000904     | 0.000868     |
+------------+--------------+--------------+--------------+
2020-12-19 23:07:36.398 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.544342
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.682853     | 0.491508     | 0.369981     |
| x          | 0.016148     | 0.013109     | 0.020233     |
| y          | 0.008099     | 0.021161     | 0.040779     |
| w          | 0.049843     | 0.042822     | 0.023943     |
| h          | 0.044986     | 0.039209     | 0.016739     |
| conf       | 0.517084     | 0.306214     | 0.219672     |
| cls        | 0.046694     | 0.068992     | 0.048615     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 0.900000     | 0.904762     | 0.904762     |
| recall75   | 0.800000     | 0.761905     | 0.761905     |
| precision  | 0.818182     | 0.487179     | 0.137681     |
| conf_obj   | 0.882438     | 0.908223     | 0.934930     |
| conf_noobj | 0.000571     | 0.000540     | 0.000723     |
+------------+--------------+--------------+--------------+
2020-12-19 23:08:46.170 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.754620
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.947251     | 0.887857     | 0.919511     |
| x          | 0.020337     | 0.035064     | 0.040378     |
| y          | 0.025801     | 0.027603     | 0.028717     |
| w          | 0.043102     | 0.037528     | 0.020171     |
| h          | 0.047359     | 0.033868     | 0.020344     |
| conf       | 0.735817     | 0.700316     | 0.711537     |
| cls        | 0.074834     | 0.053478     | 0.098365     |
| cls_acc    | 96.08%       | 98.11%       | 98.15%       |
| recall50   | 0.823529     | 0.867925     | 0.907407     |
| recall75   | 0.686275     | 0.716981     | 0.833333     |
| precision  | 0.711864     | 0.356589     | 0.145401     |
| conf_obj   | 0.815365     | 0.865559     | 0.877218     |
| conf_noobj | 0.001292     | 0.001352     | 0.001160     |
+------------+--------------+--------------+--------------+
2020-12-19 23:09:58.177 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.800827
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.766876     | 0.468629     | 0.565323     |
| x          | 0.012397     | 0.012798     | 0.026084     |
| y          | 0.009529     | 0.010593     | 0.024743     |
| w          | 0.124599     | 0.034884     | 0.016580     |
| h          | 0.059275     | 0.028280     | 0.022099     |
| conf       | 0.519278     | 0.357470     | 0.468368     |
| cls        | 0.041798     | 0.024603     | 0.007450     |
| cls_acc    | 97.30%       | 100.00%      | 100.00%      |
| recall50   | 0.891892     | 0.972973     | 0.918919     |
| recall75   | 0.594595     | 0.810811     | 0.756757     |
| precision  | 0.687500     | 0.367347     | 0.141079     |
| conf_obj   | 0.872469     | 0.937065     | 0.859339     |
| conf_noobj | 0.001782     | 0.001756     | 0.001209     |
+------------+--------------+--------------+--------------+
2020-12-19 23:11:07.031 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 3.222194
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.765929     | 0.990992     | 1.465273     |
| x          | 0.019139     | 0.010697     | 0.022958     |
| y          | 0.009632     | 0.021279     | 0.039558     |
| w          | 0.073698     | 0.087166     | 0.129501     |
| h          | 0.082217     | 0.109942     | 0.115659     |
| conf       | 0.517632     | 0.648825     | 1.002477     |
| cls        | 0.063611     | 0.113082     | 0.155120     |
| cls_acc    | 100.00%      | 87.50%       | 96.15%       |
| recall50   | 0.954545     | 0.875000     | 0.807692     |
| recall75   | 0.863636     | 0.833333     | 0.769231     |
| precision  | 0.677419     | 0.323077     | 0.140940     |
| conf_obj   | 0.896227     | 0.864163     | 0.805426     |
| conf_noobj | 0.000973     | 0.001027     | 0.000825     |
+------------+--------------+--------------+--------------+
2020-12-19 23:11:18.833 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.515
2020-12-19 23:11:18.836 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 23:12:12.842 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12894   | 0.35572 | 0.18928 | 0.23525 |
| 1     | Wear_helmet | 0.35096   | 0.94692 | 0.51211 | 0.88822 |
| 2     | Total       | 0.23995   | 0.65132 | 0.35069 | 0.56173 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:12:12.843 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5617345719605737
2020-12-19 23:12:12.843 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 23:12:12.843 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.006954

2020-12-19 23:12:13.245 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 1/2, epo 4/5
2020-12-19 23:12:13.245 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 1/2, epo 4/5; time cost: 0:15:33.227492

2020-12-19 23:12:13.245 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 5/20, idx 1/2, epo 5/5
2020-12-19 23:12:14.564 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.760798
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.194984     | 0.272429     | 0.293384     |
| x          | 0.004343     | 0.010856     | 0.033031     |
| y          | 0.002932     | 0.007402     | 0.026316     |
| w          | 0.012119     | 0.009391     | 0.008543     |
| h          | 0.013213     | 0.005888     | 0.010492     |
| conf       | 0.140016     | 0.218061     | 0.182099     |
| cls        | 0.022362     | 0.020831     | 0.032903     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 1.000000     | 0.888889     | 1.000000     |
| precision  | 0.720000     | 0.326923     | 0.133333     |
| conf_obj   | 0.974841     | 0.929708     | 0.959590     |
| conf_noobj | 0.000787     | 0.000816     | 0.000809     |
+------------+--------------+--------------+--------------+
2020-12-19 23:13:15.001 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.386155
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.507868     | 0.466107     | 0.412180     |
| x          | 0.017173     | 0.019050     | 0.030282     |
| y          | 0.013405     | 0.020319     | 0.036848     |
| w          | 0.045948     | 0.029036     | 0.018582     |
| h          | 0.032049     | 0.021021     | 0.020648     |
| conf       | 0.391847     | 0.371043     | 0.299184     |
| cls        | 0.007446     | 0.005638     | 0.006636     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.935484     | 0.967742     |
| recall75   | 0.703704     | 0.741935     | 0.806452     |
| precision  | 0.675676     | 0.381579     | 0.187500     |
| conf_obj   | 0.871239     | 0.875363     | 0.892115     |
| conf_noobj | 0.001171     | 0.001069     | 0.000842     |
+------------+--------------+--------------+--------------+
2020-12-19 23:14:21.444 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.655978
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.164361     | 0.221329     | 0.270287     |
| x          | 0.002933     | 0.011655     | 0.015922     |
| y          | 0.006749     | 0.022184     | 0.024613     |
| w          | 0.014667     | 0.010715     | 0.016729     |
| h          | 0.010223     | 0.020711     | 0.009999     |
| conf       | 0.127423     | 0.154057     | 0.200396     |
| cls        | 0.002368     | 0.002007     | 0.002628     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 0.937500     |
| precision  | 0.761905     | 0.400000     | 0.135593     |
| conf_obj   | 0.974732     | 0.967104     | 0.937322     |
| conf_noobj | 0.000823     | 0.000804     | 0.000755     |
+------------+--------------+--------------+--------------+
2020-12-19 23:15:28.941 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.220333
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.472477     | 0.415089     | 0.332767     |
| x          | 0.003615     | 0.015133     | 0.037691     |
| y          | 0.002955     | 0.009961     | 0.027198     |
| w          | 0.032228     | 0.016512     | 0.019563     |
| h          | 0.050187     | 0.023143     | 0.018291     |
| conf       | 0.372271     | 0.330283     | 0.220732     |
| cls        | 0.011221     | 0.020057     | 0.009291     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 1.000000     |
| recall75   | 0.933333     | 0.866667     | 0.866667     |
| precision  | 0.482759     | 0.175000     | 0.081967     |
| conf_obj   | 0.910408     | 0.930178     | 0.967966     |
| conf_noobj | 0.001251     | 0.001377     | 0.001008     |
+------------+--------------+--------------+--------------+
2020-12-19 23:16:32.791 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.869043
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.323246     | 0.300460     | 0.245337     |
| x          | 0.032015     | 0.025774     | 0.021247     |
| y          | 0.014963     | 0.021297     | 0.038646     |
| w          | 0.018332     | 0.020446     | 0.013804     |
| h          | 0.023560     | 0.028163     | 0.013288     |
| conf       | 0.222683     | 0.191468     | 0.155965     |
| cls        | 0.011693     | 0.013313     | 0.002387     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.840000     | 0.923077     | 1.000000     |
| recall75   | 0.640000     | 0.769231     | 0.846154     |
| precision  | 0.700000     | 0.342857     | 0.174497     |
| conf_obj   | 0.918312     | 0.954990     | 0.971832     |
| conf_noobj | 0.000712     | 0.000839     | 0.000658     |
+------------+--------------+--------------+--------------+
2020-12-19 23:17:40.359 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.329482
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.880218     | 0.774854     | 0.674410     |
| x          | 0.010645     | 0.009850     | 0.042449     |
| y          | 0.009929     | 0.040260     | 0.020358     |
| w          | 0.056877     | 0.044686     | 0.029511     |
| h          | 0.082561     | 0.050986     | 0.030108     |
| conf       | 0.644476     | 0.437294     | 0.432485     |
| cls        | 0.075731     | 0.191778     | 0.119499     |
| cls_acc    | 100.00%      | 86.96%       | 95.65%       |
| recall50   | 0.913043     | 0.782609     | 0.869565     |
| recall75   | 0.826087     | 0.565217     | 0.652174     |
| precision  | 0.552632     | 0.230769     | 0.129032     |
| conf_obj   | 0.816515     | 0.860737     | 0.859671     |
| conf_noobj | 0.001632     | 0.001261     | 0.000805     |
+------------+--------------+--------------+--------------+
2020-12-19 23:18:47.712 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.082462
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.429425     | 0.322991     | 0.330046     |
| x          | 0.015615     | 0.012971     | 0.032395     |
| y          | 0.012304     | 0.017350     | 0.030871     |
| w          | 0.044990     | 0.031555     | 0.017293     |
| h          | 0.032760     | 0.035511     | 0.015347     |
| conf       | 0.315861     | 0.221478     | 0.229252     |
| cls        | 0.007895     | 0.004126     | 0.004887     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.958333     | 0.916667     |
| recall75   | 0.782609     | 0.750000     | 0.791667     |
| precision  | 0.777778     | 0.396552     | 0.135802     |
| conf_obj   | 0.898629     | 0.939135     | 0.947470     |
| conf_noobj | 0.000745     | 0.000840     | 0.000771     |
+------------+--------------+--------------+--------------+
2020-12-19 23:19:50.008 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.530736
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.649306     | 0.498540     | 0.382891     |
| x          | 0.010006     | 0.010366     | 0.022584     |
| y          | 0.009940     | 0.006205     | 0.024511     |
| w          | 0.091853     | 0.046564     | 0.032697     |
| h          | 0.109504     | 0.082559     | 0.059574     |
| conf       | 0.366069     | 0.250544     | 0.177792     |
| cls        | 0.061935     | 0.102302     | 0.065732     |
| cls_acc    | 100.00%      | 92.31%       | 100.00%      |
| recall50   | 0.840000     | 0.923077     | 1.000000     |
| recall75   | 0.720000     | 0.846154     | 0.807692     |
| precision  | 0.656250     | 0.380952     | 0.175676     |
| conf_obj   | 0.881169     | 0.932407     | 0.962474     |
| conf_noobj | 0.000991     | 0.000941     | 0.000815     |
+------------+--------------+--------------+--------------+
2020-12-19 23:20:50.376 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 3.712866
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.322210     | 1.106001     | 1.284655     |
| x          | 0.016779     | 0.019665     | 0.068815     |
| y          | 0.014095     | 0.031795     | 0.037638     |
| w          | 0.062158     | 0.043307     | 0.018047     |
| h          | 0.076441     | 0.054055     | 0.035033     |
| conf       | 0.907035     | 0.839920     | 1.018764     |
| cls        | 0.245702     | 0.117260     | 0.106358     |
| cls_acc    | 88.89%       | 94.87%       | 95.00%       |
| recall50   | 0.722222     | 0.743590     | 0.700000     |
| recall75   | 0.583333     | 0.589744     | 0.475000     |
| precision  | 0.634146     | 0.341176     | 0.158192     |
| conf_obj   | 0.723673     | 0.726440     | 0.723406     |
| conf_noobj | 0.001413     | 0.001417     | 0.001026     |
+------------+--------------+--------------+--------------+
2020-12-19 23:21:50.836 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.312444
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.497099     | 0.468806     | 0.346539     |
| x          | 0.011096     | 0.018621     | 0.020193     |
| y          | 0.008600     | 0.019975     | 0.032817     |
| w          | 0.030036     | 0.040245     | 0.026495     |
| h          | 0.024963     | 0.043630     | 0.034298     |
| conf       | 0.413569     | 0.327537     | 0.220754     |
| cls        | 0.008834     | 0.018797     | 0.011982     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.954545     |
| recall75   | 0.750000     | 0.600000     | 0.772727     |
| precision  | 0.461538     | 0.225000     | 0.099526     |
| conf_obj   | 0.910148     | 0.917446     | 0.949296     |
| conf_noobj | 0.001386     | 0.001078     | 0.000814     |
+------------+--------------+--------------+--------------+
2020-12-19 23:22:58.999 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.183655
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.674804     | 0.807869     | 0.700983     |
| x          | 0.015079     | 0.032972     | 0.038735     |
| y          | 0.009937     | 0.018957     | 0.035041     |
| w          | 0.041460     | 0.030649     | 0.024045     |
| h          | 0.033905     | 0.025487     | 0.013644     |
| conf       | 0.426647     | 0.565865     | 0.490110     |
| cls        | 0.147775     | 0.133939     | 0.099407     |
| cls_acc    | 100.00%      | 90.91%       | 95.45%       |
| recall50   | 0.952381     | 0.772727     | 0.909091     |
| recall75   | 0.809524     | 0.681818     | 0.727273     |
| precision  | 0.526316     | 0.212500     | 0.114286     |
| conf_obj   | 0.909013     | 0.812084     | 0.848019     |
| conf_noobj | 0.001472     | 0.001272     | 0.000981     |
+------------+--------------+--------------+--------------+
2020-12-19 23:24:03.064 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.795941
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.604708     | 0.621935     | 0.569298     |
| x          | 0.041066     | 0.025609     | 0.028783     |
| y          | 0.012962     | 0.021870     | 0.031062     |
| w          | 0.048179     | 0.030952     | 0.034839     |
| h          | 0.056674     | 0.046133     | 0.037431     |
| conf       | 0.413810     | 0.430827     | 0.330074     |
| cls        | 0.032018     | 0.066542     | 0.107109     |
| cls_acc    | 100.00%      | 97.62%       | 97.62%       |
| recall50   | 0.925000     | 0.880952     | 0.952381     |
| recall75   | 0.700000     | 0.857143     | 0.857143     |
| precision  | 0.740000     | 0.393617     | 0.176211     |
| conf_obj   | 0.895822     | 0.920008     | 0.948490     |
| conf_noobj | 0.000921     | 0.000894     | 0.000859     |
+------------+--------------+--------------+--------------+
2020-12-19 23:25:06.793 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.193237
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.967969     | 0.706826     | 0.518442     |
| x          | 0.012226     | 0.015747     | 0.015843     |
| y          | 0.009483     | 0.017141     | 0.035084     |
| w          | 0.057257     | 0.037356     | 0.028560     |
| h          | 0.040425     | 0.032381     | 0.022508     |
| conf       | 0.633074     | 0.353806     | 0.257973     |
| cls        | 0.215503     | 0.250395     | 0.158474     |
| cls_acc    | 87.88%       | 94.12%       | 94.12%       |
| recall50   | 0.757576     | 0.882353     | 0.911765     |
| recall75   | 0.636364     | 0.676471     | 0.794118     |
| precision  | 0.694444     | 0.483871     | 0.177143     |
| conf_obj   | 0.816401     | 0.876447     | 0.908692     |
| conf_noobj | 0.001008     | 0.000781     | 0.000818     |
+------------+--------------+--------------+--------------+
2020-12-19 23:26:13.346 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.937776
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.342973     | 0.280941     | 0.313863     |
| x          | 0.014328     | 0.018292     | 0.020915     |
| y          | 0.009488     | 0.014666     | 0.035855     |
| w          | 0.025436     | 0.018765     | 0.013217     |
| h          | 0.053124     | 0.027144     | 0.010838     |
| conf       | 0.226287     | 0.197285     | 0.226259     |
| cls        | 0.014309     | 0.004789     | 0.006779     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 1.000000     | 1.000000     |
| recall75   | 0.750000     | 0.787879     | 0.882353     |
| precision  | 0.756098     | 0.392857     | 0.132812     |
| conf_obj   | 0.924160     | 0.965684     | 0.967788     |
| conf_noobj | 0.000951     | 0.000971     | 0.001049     |
+------------+--------------+--------------+--------------+
2020-12-19 23:26:26.651 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.525
2020-12-19 23:26:26.654 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 23:27:31.082 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10705   | 0.41542 | 0.17023 | 0.17298 |
| 1     | Wear_helmet | 0.23494   | 0.94265 | 0.37613 | 0.85307 |
| 2     | Total       | 0.17100   | 0.67904 | 0.27318 | 0.51303 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:27:31.083 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5130283305345529
2020-12-19 23:27:31.083 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 23:27:31.084 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:04.428898

2020-12-19 23:27:31.562 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 5/20, idx 1/2, epo 5/5
2020-12-19 23:27:31.562 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 5/20, idx 1/2, epo 5/5; time cost: 0:15:18.316455

2020-12-19 23:27:31.563 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.668
2020-12-19 23:27:31.844 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-19 23:31:29.153 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10877   | 0.53011 | 0.18051 | 0.34989 |
| 1     | Wear_helmet | 0.22890   | 0.93330 | 0.36763 | 0.82735 |
| 2     | Total       | 0.16884   | 0.73171 | 0.27407 | 0.58862 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:31:29.153 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5886224611132167
2020-12-19 23:31:29.153 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-19 23:31:29.153 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:57.309797

2020-12-19 23:31:34.613 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 6!
2020-12-19 23:31:34.739 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 1/2, epo 1/5
2020-12-19 23:31:35.989 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 2.588042
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.934690     | 0.794580     | 0.858772     |
| x          | 0.016862     | 0.023841     | 0.026763     |
| y          | 0.015481     | 0.026561     | 0.043485     |
| w          | 0.071856     | 0.093603     | 0.028705     |
| h          | 0.062099     | 0.057060     | 0.026601     |
| conf       | 0.739440     | 0.552257     | 0.676873     |
| cls        | 0.028952     | 0.041257     | 0.056346     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.884615     | 0.923077     |
| recall75   | 0.730769     | 0.730769     | 0.769231     |
| precision  | 0.468085     | 0.258427     | 0.103004     |
| conf_obj   | 0.853641     | 0.908269     | 0.880631     |
| conf_noobj | 0.001713     | 0.001322     | 0.001106     |
+------------+--------------+--------------+--------------+
2020-12-19 23:32:47.618 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.316263
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.940982     | 0.693696     | 0.681584     |
| x          | 0.014537     | 0.021766     | 0.047571     |
| y          | 0.009791     | 0.025755     | 0.034677     |
| w          | 0.112988     | 0.051273     | 0.036778     |
| h          | 0.082573     | 0.048729     | 0.026624     |
| conf       | 0.622407     | 0.453995     | 0.451068     |
| cls        | 0.098686     | 0.092179     | 0.084867     |
| cls_acc    | 95.65%       | 98.04%       | 98.15%       |
| recall50   | 0.826087     | 0.862745     | 0.833333     |
| recall75   | 0.652174     | 0.745098     | 0.722222     |
| precision  | 0.760000     | 0.483516     | 0.195652     |
| conf_obj   | 0.805475     | 0.836406     | 0.839481     |
| conf_noobj | 0.000881     | 0.000784     | 0.000793     |
+------------+--------------+--------------+--------------+
2020-12-19 23:33:50.410 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.018167
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.366624     | 0.351189     | 0.300354     |
| x          | 0.004991     | 0.017191     | 0.038109     |
| y          | 0.008087     | 0.017787     | 0.059870     |
| w          | 0.022747     | 0.024018     | 0.008699     |
| h          | 0.010908     | 0.010682     | 0.009955     |
| conf       | 0.316267     | 0.278020     | 0.180513     |
| cls        | 0.003624     | 0.003491     | 0.003208     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 1.000000     |
| recall75   | 0.823529     | 0.705882     | 0.882353     |
| precision  | 0.727273     | 0.347826     | 0.158879     |
| conf_obj   | 0.882563     | 0.903619     | 0.946054     |
| conf_noobj | 0.001084     | 0.000976     | 0.000729     |
+------------+--------------+--------------+--------------+
2020-12-19 23:34:59.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.073006
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.373651     | 0.376336     | 0.323019     |
| x          | 0.005136     | 0.012687     | 0.028267     |
| y          | 0.013132     | 0.021465     | 0.041244     |
| w          | 0.021569     | 0.022690     | 0.015612     |
| h          | 0.020547     | 0.033827     | 0.017545     |
| conf       | 0.274150     | 0.263125     | 0.190758     |
| cls        | 0.039116     | 0.022541     | 0.029594     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.916667     | 1.000000     |
| recall75   | 0.857143     | 0.875000     | 0.916667     |
| precision  | 0.625000     | 0.271605     | 0.143713     |
| conf_obj   | 0.934213     | 0.933724     | 0.950413     |
| conf_noobj | 0.001136     | 0.001043     | 0.000760     |
+------------+--------------+--------------+--------------+
2020-12-19 23:36:07.334 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 3.313677
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 1.030850     | 1.125027     | 1.157799     |
| x          | 0.020319     | 0.014192     | 0.037826     |
| y          | 0.013463     | 0.016168     | 0.015015     |
| w          | 0.085212     | 0.122900     | 0.131538     |
| h          | 0.078577     | 0.084784     | 0.083381     |
| conf       | 0.812103     | 0.847887     | 0.814882     |
| cls        | 0.021177     | 0.039096     | 0.075157     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.850000     | 0.809524     |
| recall75   | 0.578947     | 0.750000     | 0.714286     |
| precision  | 0.727273     | 0.361702     | 0.123188     |
| conf_obj   | 0.815875     | 0.795812     | 0.796376     |
| conf_noobj | 0.000878     | 0.000704     | 0.000728     |
+------------+--------------+--------------+--------------+
2020-12-19 23:37:12.015 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.294389
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.829019     | 0.764599     | 0.700770     |
| x          | 0.037794     | 0.014386     | 0.028825     |
| y          | 0.020915     | 0.018492     | 0.024160     |
| w          | 0.051581     | 0.031312     | 0.015677     |
| h          | 0.024620     | 0.024041     | 0.015815     |
| conf       | 0.505129     | 0.452835     | 0.342841     |
| cls        | 0.188980     | 0.223533     | 0.273452     |
| cls_acc    | 93.10%       | 90.00%       | 90.32%       |
| recall50   | 0.793103     | 0.833333     | 0.870968     |
| recall75   | 0.758621     | 0.766667     | 0.870968     |
| precision  | 0.638889     | 0.308642     | 0.140625     |
| conf_obj   | 0.849567     | 0.855233     | 0.898202     |
| conf_noobj | 0.000889     | 0.000948     | 0.000886     |
+------------+--------------+--------------+--------------+
2020-12-19 23:38:19.001 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 3.018285
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.071532     | 0.978095     | 0.968658     |
| x          | 0.025459     | 0.019763     | 0.022578     |
| y          | 0.010287     | 0.016562     | 0.030338     |
| w          | 0.058516     | 0.035155     | 0.017457     |
| h          | 0.041200     | 0.032320     | 0.023116     |
| conf       | 0.865015     | 0.775385     | 0.789587     |
| cls        | 0.071055     | 0.098910     | 0.085581     |
| cls_acc    | 100.00%      | 97.44%       | 97.44%       |
| recall50   | 0.756757     | 0.794872     | 0.769231     |
| recall75   | 0.729730     | 0.717949     | 0.769231     |
| precision  | 0.823529     | 0.469697     | 0.167598     |
| conf_obj   | 0.761820     | 0.797535     | 0.779629     |
| conf_noobj | 0.000786     | 0.000944     | 0.000821     |
+------------+--------------+--------------+--------------+
2020-12-19 23:39:24.618 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.546120
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.502748     | 0.471381     | 0.571991     |
| x          | 0.005242     | 0.013701     | 0.027542     |
| y          | 0.003010     | 0.012132     | 0.017504     |
| w          | 0.022379     | 0.018085     | 0.015540     |
| h          | 0.011067     | 0.016044     | 0.006681     |
| conf       | 0.316186     | 0.258271     | 0.257351     |
| cls        | 0.144863     | 0.153148     | 0.247373     |
| cls_acc    | 93.75%       | 93.75%       | 87.50%       |
| recall50   | 0.875000     | 0.937500     | 0.812500     |
| recall75   | 0.875000     | 0.937500     | 0.750000     |
| precision  | 0.482759     | 0.211268     | 0.076923     |
| conf_obj   | 0.924351     | 0.956397     | 0.926726     |
| conf_noobj | 0.001245     | 0.001184     | 0.000877     |
+------------+--------------+--------------+--------------+
2020-12-19 23:40:29.027 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.982500
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.338890     | 0.289169     | 0.354440     |
| x          | 0.003762     | 0.010148     | 0.022332     |
| y          | 0.004960     | 0.012791     | 0.023146     |
| w          | 0.011398     | 0.013349     | 0.016589     |
| h          | 0.021458     | 0.022442     | 0.024454     |
| conf       | 0.291047     | 0.227273     | 0.264754     |
| cls        | 0.006265     | 0.003166     | 0.003164     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.920000     | 0.960000     |
| precision  | 0.705882     | 0.320513     | 0.104603     |
| conf_obj   | 0.900814     | 0.944741     | 0.928487     |
| conf_noobj | 0.000938     | 0.000982     | 0.001032     |
+------------+--------------+--------------+--------------+
2020-12-19 23:41:31.972 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 3.097072
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 1.172354     | 1.105023     | 0.819695     |
| x          | 0.005530     | 0.015277     | 0.031883     |
| y          | 0.013659     | 0.013365     | 0.028937     |
| w          | 0.085681     | 0.044608     | 0.013849     |
| h          | 0.126576     | 0.036587     | 0.008441     |
| conf       | 0.913682     | 0.964325     | 0.701202     |
| cls        | 0.027224     | 0.030861     | 0.035383     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.812500     | 0.812500     | 0.875000     |
| recall75   | 0.812500     | 0.750000     | 0.812500     |
| precision  | 0.619048     | 0.254902     | 0.098592     |
| conf_obj   | 0.800956     | 0.804483     | 0.851319     |
| conf_noobj | 0.000918     | 0.000903     | 0.000862     |
+------------+--------------+--------------+--------------+
2020-12-19 23:42:40.319 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.603087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.553543     | 0.503143     | 0.546401     |
| x          | 0.019831     | 0.037750     | 0.050120     |
| y          | 0.032199     | 0.036606     | 0.050669     |
| w          | 0.047748     | 0.035583     | 0.022353     |
| h          | 0.022530     | 0.029420     | 0.035387     |
| conf       | 0.331075     | 0.289837     | 0.343051     |
| cls        | 0.100160     | 0.073947     | 0.044821     |
| cls_acc    | 92.59%       | 93.33%       | 100.00%      |
| recall50   | 0.851852     | 0.866667     | 0.903226     |
| recall75   | 0.666667     | 0.733333     | 0.741935     |
| precision  | 0.676471     | 0.346667     | 0.146597     |
| conf_obj   | 0.890197     | 0.910157     | 0.915555     |
| conf_noobj | 0.000915     | 0.000967     | 0.000938     |
+------------+--------------+--------------+--------------+
2020-12-19 23:43:48.058 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.780192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.241221     | 0.243955     | 0.295016     |
| x          | 0.005190     | 0.013777     | 0.032745     |
| y          | 0.024949     | 0.015288     | 0.039283     |
| w          | 0.015982     | 0.026917     | 0.009883     |
| h          | 0.036826     | 0.017959     | 0.011651     |
| conf       | 0.153256     | 0.163952     | 0.194408     |
| cls        | 0.005018     | 0.006062     | 0.007047     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.950000     |
| recall75   | 0.850000     | 0.900000     | 0.800000     |
| precision  | 0.689655     | 0.312500     | 0.123377     |
| conf_obj   | 0.991440     | 0.972414     | 0.951086     |
| conf_noobj | 0.000859     | 0.000843     | 0.000728     |
+------------+--------------+--------------+--------------+
2020-12-19 23:45:00.138 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.198387
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.270891     | 0.484554     | 0.442942     |
| x          | 0.015497     | 0.022024     | 0.024703     |
| y          | 0.008810     | 0.019287     | 0.028775     |
| w          | 0.035237     | 0.064562     | 0.032263     |
| h          | 0.044260     | 0.066978     | 0.038638     |
| conf       | 0.151665     | 0.236913     | 0.270211     |
| cls        | 0.015421     | 0.074790     | 0.048352     |
| cls_acc    | 100.00%      | 92.86%       | 96.77%       |
| recall50   | 0.961538     | 0.892857     | 0.935484     |
| recall75   | 0.846154     | 0.785714     | 0.741935     |
| precision  | 0.806452     | 0.312500     | 0.123932     |
| conf_obj   | 0.965772     | 0.950618     | 0.941471     |
| conf_noobj | 0.000857     | 0.001021     | 0.001048     |
+------------+--------------+--------------+--------------+
2020-12-19 23:46:07.860 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.290418
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.546409     | 0.381917     | 0.362092     |
| x          | 0.013997     | 0.014791     | 0.016965     |
| y          | 0.011677     | 0.017836     | 0.019880     |
| w          | 0.030730     | 0.015256     | 0.014776     |
| h          | 0.021457     | 0.011425     | 0.009585     |
| conf       | 0.463908     | 0.318798     | 0.290423     |
| cls        | 0.004641     | 0.003812     | 0.010463     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.894737     | 0.850000     |
| recall75   | 0.842105     | 0.842105     | 0.800000     |
| precision  | 0.739130     | 0.320755     | 0.126866     |
| conf_obj   | 0.894062     | 0.895569     | 0.876273     |
| conf_noobj | 0.000748     | 0.000727     | 0.000710     |
+------------+--------------+--------------+--------------+
2020-12-19 23:46:21.218 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.587
2020-12-19 23:46:21.223 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-19 23:47:23.558 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06040   | 0.51493 | 0.10812 | 0.23110 |
| 1     | Wear_helmet | 0.22490   | 0.93649 | 0.36270 | 0.86401 |
| 2     | Total       | 0.14265   | 0.72571 | 0.23541 | 0.54755 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-19 23:47:23.559 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5475521258202778
2020-12-19 23:47:23.559 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-19 23:47:23.559 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:02.336345

2020-12-19 23:47:24.056 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 1/2, epo 1/5
2020-12-19 23:47:24.056 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 1/2, epo 1/5; time cost: 0:15:49.316347

2020-12-19 23:47:24.056 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 1/2, epo 2/5
2020-12-19 23:47:25.294 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.522563
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.464675     | 0.438699     | 0.619190     |
| x          | 0.004566     | 0.013004     | 0.040771     |
| y          | 0.018766     | 0.013886     | 0.042384     |
| w          | 0.037474     | 0.028025     | 0.027801     |
| h          | 0.025120     | 0.020555     | 0.018729     |
| conf       | 0.314466     | 0.273367     | 0.360789     |
| cls        | 0.064283     | 0.089861     | 0.128716     |
| cls_acc    | 95.65%       | 95.65%       | 95.65%       |
| recall50   | 0.913043     | 0.913043     | 0.913043     |
| recall75   | 0.913043     | 0.869565     | 0.869565     |
| precision  | 0.724138     | 0.368421     | 0.126506     |
| conf_obj   | 0.929016     | 0.939067     | 0.938959     |
| conf_noobj | 0.000886     | 0.000939     | 0.000917     |
+------------+--------------+--------------+--------------+
2020-12-19 23:48:30.685 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.859176
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.278042     | 0.293459     | 0.287675     |
| x          | 0.014990     | 0.016351     | 0.013230     |
| y          | 0.007257     | 0.013774     | 0.020195     |
| w          | 0.026030     | 0.013761     | 0.009740     |
| h          | 0.031015     | 0.020597     | 0.012952     |
| conf       | 0.102225     | 0.122679     | 0.208094     |
| cls        | 0.096526     | 0.106297     | 0.023464     |
| cls_acc    | 96.43%       | 93.33%       | 100.00%      |
| recall50   | 0.964286     | 0.933333     | 1.000000     |
| recall75   | 0.821429     | 0.766667     | 0.935484     |
| precision  | 0.818182     | 0.451613     | 0.151961     |
| conf_obj   | 0.977989     | 0.984546     | 0.939404     |
| conf_noobj | 0.000556     | 0.000714     | 0.000787     |
+------------+--------------+--------------+--------------+
2020-12-19 23:49:40.301 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.621805
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.664314     | 0.601207     | 0.356284     |
| x          | 0.015292     | 0.015093     | 0.025699     |
| y          | 0.010427     | 0.022358     | 0.024975     |
| w          | 0.038275     | 0.026634     | 0.015476     |
| h          | 0.063713     | 0.034760     | 0.025978     |
| conf       | 0.490667     | 0.473687     | 0.228872     |
| cls        | 0.045939     | 0.028675     | 0.035283     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.826087     | 0.956522     |
| recall75   | 0.695652     | 0.695652     | 0.608696     |
| precision  | 0.700000     | 0.339286     | 0.161765     |
| conf_obj   | 0.865568     | 0.869982     | 0.922444     |
| conf_noobj | 0.000921     | 0.000889     | 0.000739     |
+------------+--------------+--------------+--------------+
2020-12-19 23:50:41.066 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.173831
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.459283     | 0.400283     | 0.314264     |
| x          | 0.012991     | 0.035546     | 0.046312     |
| y          | 0.006432     | 0.013660     | 0.062197     |
| w          | 0.028459     | 0.012384     | 0.018094     |
| h          | 0.037055     | 0.020261     | 0.019535     |
| conf       | 0.298617     | 0.303053     | 0.148921     |
| cls        | 0.075728     | 0.015379     | 0.019206     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.882353     | 1.000000     |
| recall75   | 0.764706     | 0.882353     | 0.823529     |
| precision  | 0.551724     | 0.319149     | 0.140496     |
| conf_obj   | 0.926680     | 0.878009     | 0.956412     |
| conf_noobj | 0.001001     | 0.000650     | 0.000585     |
+------------+--------------+--------------+--------------+
2020-12-19 23:51:43.841 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.752738
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.246744     | 0.248755     | 0.257240     |
| x          | 0.017034     | 0.010780     | 0.014118     |
| y          | 0.006389     | 0.008373     | 0.014186     |
| w          | 0.021194     | 0.020310     | 0.010790     |
| h          | 0.035646     | 0.027656     | 0.016873     |
| conf       | 0.150682     | 0.168580     | 0.190871     |
| cls        | 0.015799     | 0.013057     | 0.010402     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.781250     | 0.852941     | 0.864865     |
| precision  | 0.780488     | 0.485714     | 0.182266     |
| conf_obj   | 0.963712     | 0.973373     | 0.977768     |
| conf_noobj | 0.000840     | 0.000805     | 0.000900     |
+------------+--------------+--------------+--------------+
2020-12-19 23:52:48.917 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.469962
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.220665     | 0.627592     | 0.621705     |
| x          | 0.016455     | 0.017506     | 0.025675     |
| y          | 0.024274     | 0.025917     | 0.046579     |
| w          | 0.130767     | 0.028540     | 0.043257     |
| h          | 0.102090     | 0.039710     | 0.042883     |
| conf       | 0.920993     | 0.496374     | 0.397069     |
| cls        | 0.026086     | 0.019545     | 0.066243     |
| cls_acc    | 100.00%      | 100.00%      | 95.00%       |
| recall50   | 0.750000     | 0.900000     | 0.850000     |
| recall75   | 0.700000     | 0.750000     | 0.650000     |
| precision  | 0.416667     | 0.202247     | 0.067729     |
| conf_obj   | 0.739742     | 0.821194     | 0.871058     |
| conf_noobj | 0.001672     | 0.001317     | 0.001099     |
+------------+--------------+--------------+--------------+
2020-12-19 23:53:55.777 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.649652
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.068694     | 0.916697     | 0.664261     |
| x          | 0.026502     | 0.019007     | 0.023238     |
| y          | 0.022533     | 0.025487     | 0.043416     |
| w          | 0.063737     | 0.056914     | 0.023656     |
| h          | 0.049723     | 0.036259     | 0.033084     |
| conf       | 0.877016     | 0.755841     | 0.515800     |
| cls        | 0.029184     | 0.023190     | 0.025066     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.769231     | 0.825000     | 0.875000     |
| recall75   | 0.666667     | 0.650000     | 0.750000     |
| precision  | 0.666667     | 0.300000     | 0.159091     |
| conf_obj   | 0.734885     | 0.785018     | 0.854717     |
| conf_noobj | 0.001206     | 0.001251     | 0.000968     |
+------------+--------------+--------------+--------------+
2020-12-19 23:54:58.309 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.482281
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.845132     | 0.819004     | 0.818144     |
| x          | 0.009180     | 0.011655     | 0.031158     |
| y          | 0.016272     | 0.014393     | 0.033241     |
| w          | 0.068761     | 0.042974     | 0.053723     |
| h          | 0.074343     | 0.091032     | 0.067252     |
| conf       | 0.575625     | 0.581789     | 0.556563     |
| cls        | 0.100952     | 0.077161     | 0.076206     |
| cls_acc    | 96.30%       | 96.30%       | 96.43%       |
| recall50   | 0.814815     | 0.851852     | 0.821429     |
| recall75   | 0.666667     | 0.592593     | 0.535714     |
| precision  | 0.611111     | 0.323944     | 0.153333     |
| conf_obj   | 0.862111     | 0.857511     | 0.872948     |
| conf_noobj | 0.001009     | 0.000935     | 0.000783     |
+------------+--------------+--------------+--------------+
2020-12-19 23:56:03.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.668648
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.647472     | 0.582487     | 0.438690     |
| x          | 0.011944     | 0.007961     | 0.023230     |
| y          | 0.011786     | 0.013097     | 0.042281     |
| w          | 0.025638     | 0.018510     | 0.008445     |
| h          | 0.021046     | 0.014813     | 0.009540     |
| conf       | 0.489486     | 0.451747     | 0.295506     |
| cls        | 0.087572     | 0.076359     | 0.059688     |
| cls_acc    | 94.44%       | 94.44%       | 94.44%       |
| recall50   | 0.888889     | 0.777778     | 0.888889     |
| recall75   | 0.833333     | 0.777778     | 0.888889     |
| precision  | 0.640000     | 0.341463     | 0.139130     |
| conf_obj   | 0.866874     | 0.852668     | 0.905246     |
| conf_noobj | 0.001070     | 0.000749     | 0.000700     |
+------------+--------------+--------------+--------------+
2020-12-19 23:57:06.149 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.929418
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.309540     | 0.224785     | 0.395093     |
| x          | 0.003185     | 0.006173     | 0.013291     |
| y          | 0.004103     | 0.020436     | 0.038527     |
| w          | 0.019900     | 0.015158     | 0.008367     |
| h          | 0.010162     | 0.006755     | 0.006937     |
| conf       | 0.270548     | 0.175739     | 0.326557     |
| cls        | 0.001642     | 0.000523     | 0.001414     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 0.941176     |
| recall75   | 0.941176     | 0.941176     | 0.941176     |
| precision  | 0.615385     | 0.346939     | 0.115108     |
| conf_obj   | 0.930981     | 0.967006     | 0.934602     |
| conf_noobj | 0.001152     | 0.000855     | 0.000890     |
+------------+--------------+--------------+--------------+
2020-12-19 23:58:11.605 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.756635
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.224925     | 0.261099     | 0.270612     |
| x          | 0.008781     | 0.011708     | 0.019335     |
| y          | 0.009326     | 0.021905     | 0.031411     |
| w          | 0.010934     | 0.012078     | 0.006949     |
| h          | 0.020524     | 0.019983     | 0.013171     |
| conf       | 0.169923     | 0.193388     | 0.199172     |
| cls        | 0.005437     | 0.002037     | 0.000574     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 1.000000     |
| recall75   | 0.958333     | 0.916667     | 0.958333     |
| precision  | 0.774194     | 0.425926     | 0.138728     |
| conf_obj   | 0.958987     | 0.955948     | 0.960189     |
| conf_noobj | 0.000863     | 0.000810     | 0.000889     |
+------------+--------------+--------------+--------------+
2020-12-19 23:59:19.525 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 3.168028
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 1.228464     | 1.109390     | 0.830174     |
| x          | 0.038253     | 0.042423     | 0.039381     |
| y          | 0.010628     | 0.031443     | 0.046501     |
| w          | 0.044840     | 0.055348     | 0.015143     |
| h          | 0.047352     | 0.056799     | 0.016709     |
| conf       | 0.900230     | 0.772900     | 0.653079     |
| cls        | 0.187160     | 0.150477     | 0.059361     |
| cls_acc    | 96.43%       | 96.97%       | 97.14%       |
| recall50   | 0.678571     | 0.757576     | 0.800000     |
| recall75   | 0.500000     | 0.575758     | 0.628571     |
| precision  | 0.678571     | 0.367647     | 0.158192     |
| conf_obj   | 0.750323     | 0.791042     | 0.810342     |
| conf_noobj | 0.000714     | 0.000792     | 0.000768     |
+------------+--------------+--------------+--------------+
2020-12-20 00:00:21.877 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.286771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.909093     | 0.745675     | 0.632003     |
| x          | 0.024173     | 0.021787     | 0.031290     |
| y          | 0.019272     | 0.013246     | 0.031043     |
| w          | 0.056432     | 0.036100     | 0.025648     |
| h          | 0.123424     | 0.096484     | 0.070465     |
| conf       | 0.564842     | 0.484044     | 0.423363     |
| cls        | 0.120951     | 0.094014     | 0.050194     |
| cls_acc    | 96.00%       | 96.15%       | 96.15%       |
| recall50   | 0.840000     | 0.884615     | 0.884615     |
| recall75   | 0.680000     | 0.692308     | 0.807692     |
| precision  | 0.617647     | 0.359375     | 0.130682     |
| conf_obj   | 0.885049     | 0.885886     | 0.887640     |
| conf_noobj | 0.000978     | 0.000864     | 0.000810     |
+------------+--------------+--------------+--------------+
2020-12-20 00:01:32.087 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.047285
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.322866     | 0.323273     | 0.401146     |
| x          | 0.014688     | 0.030257     | 0.034781     |
| y          | 0.020211     | 0.012253     | 0.037130     |
| w          | 0.027186     | 0.027623     | 0.020360     |
| h          | 0.026336     | 0.026173     | 0.029072     |
| conf       | 0.216909     | 0.181649     | 0.237425     |
| cls        | 0.017536     | 0.045318     | 0.042378     |
| cls_acc    | 100.00%      | 94.74%       | 94.74%       |
| recall50   | 0.944444     | 0.947368     | 0.894737     |
| recall75   | 0.944444     | 0.789474     | 0.736842     |
| precision  | 0.680000     | 0.272727     | 0.080952     |
| conf_obj   | 0.929331     | 0.954109     | 0.926895     |
| conf_noobj | 0.000915     | 0.000801     | 0.000806     |
+------------+--------------+--------------+--------------+
2020-12-20 00:01:45.918 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.478
2020-12-20 00:01:45.923 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 00:02:42.800 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07825   | 0.40547 | 0.13119 | 0.13380 |
| 1     | Wear_helmet | 0.39590   | 0.93460 | 0.55620 | 0.88705 |
| 2     | Total       | 0.23708   | 0.67003 | 0.34369 | 0.51042 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:02:42.803 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5104246469557048
2020-12-20 00:02:42.804 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 00:02:42.805 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.880949

2020-12-20 00:02:43.421 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 1/2, epo 2/5
2020-12-20 00:02:43.422 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 1/2, epo 2/5; time cost: 0:15:19.365071

2020-12-20 00:02:43.422 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 1/2, epo 3/5
2020-12-20 00:02:44.534 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.025335
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.385038     | 0.272848     | 0.367449     |
| x          | 0.010937     | 0.018349     | 0.023759     |
| y          | 0.014185     | 0.014783     | 0.022350     |
| w          | 0.030716     | 0.022217     | 0.023560     |
| h          | 0.045888     | 0.016647     | 0.021194     |
| conf       | 0.266338     | 0.188322     | 0.256585     |
| cls        | 0.016973     | 0.012530     | 0.020001     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 0.956522     |
| recall75   | 0.857143     | 0.761905     | 0.826087     |
| precision  | 0.700000     | 0.476190     | 0.134969     |
| conf_obj   | 0.918447     | 0.943857     | 0.921553     |
| conf_noobj | 0.001055     | 0.000760     | 0.000872     |
+------------+--------------+--------------+--------------+
2020-12-20 00:03:48.111 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.786101
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.494925     | 0.617004     | 0.674172     |
| x          | 0.009952     | 0.020313     | 0.034834     |
| y          | 0.007915     | 0.024973     | 0.029830     |
| w          | 0.028007     | 0.034614     | 0.028040     |
| h          | 0.031575     | 0.031843     | 0.036754     |
| conf       | 0.213477     | 0.281693     | 0.211823     |
| cls        | 0.203998     | 0.223568     | 0.332892     |
| cls_acc    | 94.74%       | 95.65%       | 91.67%       |
| recall50   | 0.947368     | 0.913043     | 0.916667     |
| recall75   | 0.789474     | 0.739130     | 0.750000     |
| precision  | 0.692308     | 0.388889     | 0.158273     |
| conf_obj   | 0.967214     | 0.912652     | 0.933615     |
| conf_noobj | 0.000963     | 0.000776     | 0.000734     |
+------------+--------------+--------------+--------------+
2020-12-20 00:04:51.381 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.503399
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.642644     | 0.392184     | 0.468571     |
| x          | 0.015070     | 0.017973     | 0.053292     |
| y          | 0.009609     | 0.014450     | 0.039045     |
| w          | 0.168170     | 0.059524     | 0.025283     |
| h          | 0.078697     | 0.024929     | 0.013391     |
| conf       | 0.330452     | 0.266351     | 0.312920     |
| cls        | 0.040646     | 0.008958     | 0.024640     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.923077     | 0.857143     |
| recall75   | 0.840000     | 0.769231     | 0.714286     |
| precision  | 0.589744     | 0.358209     | 0.196721     |
| conf_obj   | 0.918557     | 0.913437     | 0.880871     |
| conf_noobj | 0.001265     | 0.000759     | 0.000542     |
+------------+--------------+--------------+--------------+
2020-12-20 00:05:58.685 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.863866
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.335411     | 0.261236     | 0.267219     |
| x          | 0.005759     | 0.012556     | 0.024451     |
| y          | 0.006019     | 0.007836     | 0.025261     |
| w          | 0.019712     | 0.014773     | 0.006740     |
| h          | 0.015594     | 0.012772     | 0.007972     |
| conf       | 0.270786     | 0.193696     | 0.193514     |
| cls        | 0.017541     | 0.019603     | 0.009281     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 1.000000     |
| recall75   | 0.954545     | 0.954545     | 0.863636     |
| precision  | 0.700000     | 0.362069     | 0.123596     |
| conf_obj   | 0.920805     | 0.941640     | 0.949228     |
| conf_noobj | 0.000831     | 0.000714     | 0.000719     |
+------------+--------------+--------------+--------------+
2020-12-20 00:07:07.218 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.766626
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.699826     | 0.539685     | 0.527115     |
| x          | 0.036250     | 0.021477     | 0.011142     |
| y          | 0.008086     | 0.021488     | 0.033845     |
| w          | 0.065301     | 0.060195     | 0.056616     |
| h          | 0.147013     | 0.057659     | 0.051274     |
| conf       | 0.326673     | 0.305663     | 0.306381     |
| cls        | 0.116503     | 0.073203     | 0.067855     |
| cls_acc    | 95.45%       | 96.15%       | 96.30%       |
| recall50   | 0.863636     | 0.923077     | 0.851852     |
| recall75   | 0.590909     | 0.692308     | 0.740741     |
| precision  | 0.678571     | 0.413793     | 0.125000     |
| conf_obj   | 0.916845     | 0.895830     | 0.888286     |
| conf_noobj | 0.001114     | 0.000756     | 0.000861     |
+------------+--------------+--------------+--------------+
2020-12-20 00:08:12.487 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.994445
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.757958     | 0.630848     | 0.605638     |
| x          | 0.007973     | 0.012416     | 0.034555     |
| y          | 0.015324     | 0.048351     | 0.034636     |
| w          | 0.044985     | 0.024556     | 0.014234     |
| h          | 0.045042     | 0.030093     | 0.023471     |
| conf       | 0.509962     | 0.428434     | 0.430950     |
| cls        | 0.134671     | 0.086998     | 0.067792     |
| cls_acc    | 94.74%       | 97.50%       | 97.50%       |
| recall50   | 0.815789     | 0.850000     | 0.900000     |
| recall75   | 0.684211     | 0.725000     | 0.700000     |
| precision  | 0.704545     | 0.390805     | 0.195652     |
| conf_obj   | 0.838530     | 0.864209     | 0.880441     |
| conf_noobj | 0.001016     | 0.000876     | 0.000689     |
+------------+--------------+--------------+--------------+
2020-12-20 00:09:21.370 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.917183
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.376525     | 0.289983     | 0.250675     |
| x          | 0.012493     | 0.006761     | 0.012223     |
| y          | 0.010233     | 0.019842     | 0.035649     |
| w          | 0.028517     | 0.015163     | 0.004671     |
| h          | 0.023970     | 0.013923     | 0.006879     |
| conf       | 0.288283     | 0.227098     | 0.187807     |
| cls        | 0.013029     | 0.007196     | 0.003446     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.950000     | 1.000000     |
| recall75   | 0.800000     | 0.850000     | 0.950000     |
| precision  | 0.629630     | 0.422222     | 0.157480     |
| conf_obj   | 0.888699     | 0.897040     | 0.938490     |
| conf_noobj | 0.000881     | 0.000617     | 0.000639     |
+------------+--------------+--------------+--------------+
2020-12-20 00:10:25.427 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.707039
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.250544     | 0.221866     | 0.234629     |
| x          | 0.016714     | 0.011326     | 0.029311     |
| y          | 0.012046     | 0.014323     | 0.028941     |
| w          | 0.038389     | 0.011534     | 0.016130     |
| h          | 0.044562     | 0.013749     | 0.014851     |
| conf       | 0.136999     | 0.165873     | 0.141557     |
| cls        | 0.001834     | 0.005061     | 0.003839     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.736842     | 0.900000     | 0.850000     |
| precision  | 0.760000     | 0.392157     | 0.168067     |
| conf_obj   | 0.970268     | 0.963109     | 0.981075     |
| conf_noobj | 0.000752     | 0.000732     | 0.000625     |
+------------+--------------+--------------+--------------+
2020-12-20 00:11:29.212 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.053746
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.455623     | 0.300522     | 0.297602     |
| x          | 0.011739     | 0.011991     | 0.032163     |
| y          | 0.007802     | 0.023361     | 0.048073     |
| w          | 0.062255     | 0.014578     | 0.020511     |
| h          | 0.077162     | 0.022168     | 0.021216     |
| conf       | 0.295414     | 0.225932     | 0.170953     |
| cls        | 0.001251     | 0.002492     | 0.004687     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.888889     | 0.944444     |
| recall75   | 0.764706     | 0.833333     | 0.888889     |
| precision  | 0.666667     | 0.347826     | 0.134921     |
| conf_obj   | 0.898800     | 0.897795     | 0.937601     |
| conf_noobj | 0.000612     | 0.000516     | 0.000537     |
+------------+--------------+--------------+--------------+
2020-12-20 00:12:35.542 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.555788
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.545763     | 0.498344     | 0.511681     |
| x          | 0.009918     | 0.025113     | 0.022670     |
| y          | 0.009509     | 0.022618     | 0.035950     |
| w          | 0.043679     | 0.028105     | 0.016934     |
| h          | 0.066525     | 0.034756     | 0.016564     |
| conf       | 0.390176     | 0.342389     | 0.344442     |
| cls        | 0.025956     | 0.045363     | 0.075120     |
| cls_acc    | 100.00%      | 96.30%       | 96.43%       |
| recall50   | 0.925926     | 0.888889     | 0.928571     |
| recall75   | 0.851852     | 0.851852     | 0.785714     |
| precision  | 0.714286     | 0.328767     | 0.146067     |
| conf_obj   | 0.898243     | 0.917446     | 0.915184     |
| conf_noobj | 0.000826     | 0.000803     | 0.000646     |
+------------+--------------+--------------+--------------+
2020-12-20 00:13:42.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.756850
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.577968     | 0.618654     | 0.560228     |
| x          | 0.011603     | 0.014239     | 0.033389     |
| y          | 0.008499     | 0.014995     | 0.052423     |
| w          | 0.062674     | 0.056343     | 0.046130     |
| h          | 0.061758     | 0.047181     | 0.047603     |
| conf       | 0.370718     | 0.465348     | 0.365017     |
| cls        | 0.062716     | 0.020547     | 0.015666     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.875000     | 0.833333     |
| recall75   | 0.818182     | 0.708333     | 0.708333     |
| precision  | 0.714286     | 0.304348     | 0.111111     |
| conf_obj   | 0.904810     | 0.844471     | 0.896002     |
| conf_noobj | 0.000683     | 0.000856     | 0.000734     |
+------------+--------------+--------------+--------------+
2020-12-20 00:14:41.524 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.963669
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.269891     | 0.419955     | 0.273823     |
| x          | 0.026857     | 0.033943     | 0.008142     |
| y          | 0.009326     | 0.020382     | 0.009915     |
| w          | 0.031076     | 0.040197     | 0.026003     |
| h          | 0.050187     | 0.036937     | 0.014304     |
| conf       | 0.141586     | 0.279426     | 0.203562     |
| cls        | 0.010859     | 0.009070     | 0.011898     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.800000     | 0.952381     |
| recall75   | 0.736842     | 0.700000     | 0.857143     |
| precision  | 0.857143     | 0.363636     | 0.188679     |
| conf_obj   | 0.939593     | 0.889560     | 0.918047     |
| conf_noobj | 0.000605     | 0.000763     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 00:15:43.428 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.452492
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.513896     | 0.489087     | 0.449510     |
| x          | 0.010384     | 0.020409     | 0.027521     |
| y          | 0.009651     | 0.008760     | 0.028438     |
| w          | 0.060362     | 0.041052     | 0.024880     |
| h          | 0.031286     | 0.013391     | 0.011613     |
| conf       | 0.360961     | 0.383843     | 0.335574     |
| cls        | 0.041251     | 0.021631     | 0.021483     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 0.916667     |
| recall75   | 0.833333     | 0.875000     | 0.833333     |
| precision  | 0.766667     | 0.389830     | 0.173228     |
| conf_obj   | 0.885311     | 0.909116     | 0.893306     |
| conf_noobj | 0.000939     | 0.000956     | 0.000788     |
+------------+--------------+--------------+--------------+
2020-12-20 00:16:46.898 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.791267
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.720401     | 0.524780     | 0.546086     |
| x          | 0.057602     | 0.025123     | 0.025498     |
| y          | 0.015048     | 0.014936     | 0.040843     |
| w          | 0.031140     | 0.025181     | 0.021061     |
| h          | 0.036788     | 0.020907     | 0.021750     |
| conf       | 0.427559     | 0.401750     | 0.399526     |
| cls        | 0.152264     | 0.036884     | 0.037408     |
| cls_acc    | 97.30%       | 100.00%      | 100.00%      |
| recall50   | 0.756757     | 0.840909     | 0.888889     |
| recall75   | 0.675676     | 0.750000     | 0.711111     |
| precision  | 0.736842     | 0.578125     | 0.212766     |
| conf_obj   | 0.860835     | 0.873406     | 0.883329     |
| conf_noobj | 0.000905     | 0.000819     | 0.001022     |
+------------+--------------+--------------+--------------+
2020-12-20 00:16:57.606 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.441
2020-12-20 00:16:57.611 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 00:17:52.844 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13936   | 0.50995 | 0.21890 | 0.26267 |
| 1     | Wear_helmet | 0.56491   | 0.90948 | 0.69693 | 0.86968 |
| 2     | Total       | 0.35214   | 0.70971 | 0.45792 | 0.56618 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:17:52.845 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5661757047806183
2020-12-20 00:17:52.845 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 00:17:52.845 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.234392

2020-12-20 00:17:53.672 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 1/2, epo 3/5
2020-12-20 00:17:53.672 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 1/2, epo 3/5; time cost: 0:15:10.250001

2020-12-20 00:17:53.672 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 1/2, epo 4/5
2020-12-20 00:17:54.824 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.337712
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.411865     | 0.471741     | 0.454106     |
| x          | 0.015956     | 0.017545     | 0.038626     |
| y          | 0.013710     | 0.024823     | 0.022578     |
| w          | 0.034482     | 0.077345     | 0.053043     |
| h          | 0.013804     | 0.052483     | 0.020433     |
| conf       | 0.319360     | 0.285168     | 0.302153     |
| cls        | 0.014553     | 0.014378     | 0.017272     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.939394     | 0.914286     |
| recall75   | 0.607143     | 0.696970     | 0.714286     |
| precision  | 0.870968     | 0.525424     | 0.211921     |
| conf_obj   | 0.923696     | 0.924706     | 0.903745     |
| conf_noobj | 0.000855     | 0.000830     | 0.000902     |
+------------+--------------+--------------+--------------+
2020-12-20 00:18:55.749 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.117933
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.817085     | 0.653271     | 0.647577     |
| x          | 0.010464     | 0.017012     | 0.028901     |
| y          | 0.023646     | 0.027585     | 0.023501     |
| w          | 0.045171     | 0.038069     | 0.033056     |
| h          | 0.103774     | 0.117895     | 0.052793     |
| conf       | 0.481546     | 0.370342     | 0.404046     |
| cls        | 0.152485     | 0.082367     | 0.105280     |
| cls_acc    | 93.75%       | 100.00%      | 100.00%      |
| recall50   | 0.750000     | 0.812500     | 0.812500     |
| recall75   | 0.500000     | 0.562500     | 0.562500     |
| precision  | 0.444444     | 0.309524     | 0.120370     |
| conf_obj   | 0.823753     | 0.838745     | 0.826771     |
| conf_noobj | 0.001307     | 0.000810     | 0.000698     |
+------------+--------------+--------------+--------------+
2020-12-20 00:19:57.620 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.466979
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.410613     | 0.535104     | 0.521261     |
| x          | 0.010839     | 0.018501     | 0.020177     |
| y          | 0.016030     | 0.023701     | 0.036245     |
| w          | 0.030163     | 0.028472     | 0.056005     |
| h          | 0.046643     | 0.021945     | 0.040837     |
| conf       | 0.284923     | 0.392641     | 0.342647     |
| cls        | 0.022015     | 0.049845     | 0.025350     |
| cls_acc    | 100.00%      | 96.00%       | 100.00%      |
| recall50   | 0.956522     | 0.880000     | 0.880000     |
| recall75   | 0.739130     | 0.640000     | 0.760000     |
| precision  | 0.733333     | 0.258824     | 0.107843     |
| conf_obj   | 0.912333     | 0.895707     | 0.904906     |
| conf_noobj | 0.001283     | 0.001508     | 0.001247     |
+------------+--------------+--------------+--------------+
2020-12-20 00:20:56.326 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.512544
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.431232     | 0.659482     | 0.421830     |
| x          | 0.008642     | 0.019420     | 0.037925     |
| y          | 0.007150     | 0.010566     | 0.025299     |
| w          | 0.061778     | 0.071743     | 0.030360     |
| h          | 0.054052     | 0.076341     | 0.032777     |
| conf       | 0.293575     | 0.468135     | 0.283544     |
| cls        | 0.006035     | 0.013276     | 0.011925     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.904762     | 0.954545     |
| recall75   | 0.850000     | 0.809524     | 0.818182     |
| precision  | 0.703704     | 0.345455     | 0.162791     |
| conf_obj   | 0.898261     | 0.883557     | 0.895577     |
| conf_noobj | 0.000817     | 0.000648     | 0.000535     |
+------------+--------------+--------------+--------------+
2020-12-20 00:22:02.164 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.920676
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.344731     | 0.353117     | 0.222828     |
| x          | 0.008494     | 0.006412     | 0.025623     |
| y          | 0.010157     | 0.012856     | 0.026854     |
| w          | 0.029532     | 0.011677     | 0.010197     |
| h          | 0.025397     | 0.013503     | 0.007685     |
| conf       | 0.262710     | 0.301860     | 0.145814     |
| cls        | 0.008440     | 0.006810     | 0.006655     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.937500     | 0.937500     |
| recall75   | 0.750000     | 0.812500     | 0.937500     |
| precision  | 0.681818     | 0.384615     | 0.164835     |
| conf_obj   | 0.912478     | 0.914096     | 0.951529     |
| conf_noobj | 0.000588     | 0.000462     | 0.000437     |
+------------+--------------+--------------+--------------+
2020-12-20 00:23:07.071 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.921747
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.347621     | 0.355947     | 0.218179     |
| x          | 0.001796     | 0.004153     | 0.014452     |
| y          | 0.006834     | 0.008451     | 0.023695     |
| w          | 0.014510     | 0.006622     | 0.005921     |
| h          | 0.015935     | 0.011854     | 0.010743     |
| conf       | 0.307381     | 0.323397     | 0.161642     |
| cls        | 0.001165     | 0.001471     | 0.001726     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 1.000000     |
| recall75   | 0.941176     | 0.882353     | 1.000000     |
| precision  | 0.640000     | 0.262295     | 0.124088     |
| conf_obj   | 0.942465     | 0.915806     | 0.968099     |
| conf_noobj | 0.001106     | 0.000861     | 0.000681     |
+------------+--------------+--------------+--------------+
2020-12-20 00:24:11.846 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.706134
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.688157     | 0.537156     | 0.480821     |
| x          | 0.017887     | 0.023834     | 0.034780     |
| y          | 0.006588     | 0.019402     | 0.031476     |
| w          | 0.021919     | 0.018551     | 0.015106     |
| h          | 0.022297     | 0.022843     | 0.018480     |
| conf       | 0.554217     | 0.429774     | 0.362595     |
| cls        | 0.065248     | 0.022752     | 0.018385     |
| cls_acc    | 97.14%       | 100.00%      | 100.00%      |
| recall50   | 0.828571     | 0.918919     | 0.918919     |
| recall75   | 0.714286     | 0.729730     | 0.756757     |
| precision  | 0.763158     | 0.472222     | 0.161137     |
| conf_obj   | 0.840305     | 0.866143     | 0.890694     |
| conf_noobj | 0.001023     | 0.000777     | 0.000769     |
+------------+--------------+--------------+--------------+
2020-12-20 00:25:21.022 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.307800
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.461894     | 0.422434     | 0.423472     |
| x          | 0.011133     | 0.012821     | 0.016921     |
| y          | 0.013021     | 0.018029     | 0.024587     |
| w          | 0.044567     | 0.034300     | 0.013907     |
| h          | 0.028793     | 0.038673     | 0.011900     |
| conf       | 0.352880     | 0.299797     | 0.335316     |
| cls        | 0.011500     | 0.018814     | 0.020841     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.962963     | 0.888889     |
| recall75   | 0.730769     | 0.740741     | 0.777778     |
| precision  | 0.676471     | 0.337662     | 0.123077     |
| conf_obj   | 0.862567     | 0.878247     | 0.872911     |
| conf_noobj | 0.000905     | 0.000849     | 0.000767     |
+------------+--------------+--------------+--------------+
2020-12-20 00:26:26.586 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.886222
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.632003     | 0.637785     | 0.616434     |
| x          | 0.022337     | 0.027571     | 0.035607     |
| y          | 0.007308     | 0.014420     | 0.030915     |
| w          | 0.035801     | 0.020928     | 0.010702     |
| h          | 0.027010     | 0.034931     | 0.028925     |
| conf       | 0.394794     | 0.378373     | 0.306737     |
| cls        | 0.144753     | 0.161561     | 0.203547     |
| cls_acc    | 95.65%       | 92.00%       | 88.00%       |
| recall50   | 0.782609     | 0.840000     | 0.840000     |
| recall75   | 0.565217     | 0.680000     | 0.720000     |
| precision  | 0.642857     | 0.381818     | 0.130435     |
| conf_obj   | 0.840436     | 0.864654     | 0.885229     |
| conf_noobj | 0.001008     | 0.000868     | 0.000755     |
+------------+--------------+--------------+--------------+
2020-12-20 00:27:34.102 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.002784
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.444978     | 0.295335     | 0.262471     |
| x          | 0.002752     | 0.011350     | 0.009806     |
| y          | 0.003894     | 0.010216     | 0.027321     |
| w          | 0.010535     | 0.019058     | 0.006405     |
| h          | 0.015591     | 0.012114     | 0.007851     |
| conf       | 0.409674     | 0.240151     | 0.210346     |
| cls        | 0.002533     | 0.002446     | 0.000741     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.952381     | 0.952381     |
| recall75   | 0.900000     | 0.904762     | 0.952381     |
| precision  | 0.666667     | 0.363636     | 0.168067     |
| conf_obj   | 0.903648     | 0.934976     | 0.928813     |
| conf_noobj | 0.000694     | 0.000610     | 0.000534     |
+------------+--------------+--------------+--------------+
2020-12-20 00:28:40.235 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.154519
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.397354     | 0.378308     | 0.378857     |
| x          | 0.014583     | 0.021936     | 0.014832     |
| y          | 0.057144     | 0.023605     | 0.040723     |
| w          | 0.033656     | 0.011324     | 0.009712     |
| h          | 0.051629     | 0.032921     | 0.032576     |
| conf       | 0.230732     | 0.270971     | 0.254660     |
| cls        | 0.009610     | 0.017551     | 0.026355     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.916667     | 0.916667     |
| recall75   | 0.750000     | 0.833333     | 0.833333     |
| precision  | 0.500000     | 0.203704     | 0.106796     |
| conf_obj   | 0.947971     | 0.936941     | 0.893014     |
| conf_noobj | 0.001027     | 0.001011     | 0.000637     |
+------------+--------------+--------------+--------------+
2020-12-20 00:29:46.123 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.082888
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.440531     | 0.308732     | 0.333624     |
| x          | 0.015024     | 0.006447     | 0.018083     |
| y          | 0.001928     | 0.006929     | 0.022839     |
| w          | 0.039697     | 0.034453     | 0.020548     |
| h          | 0.029799     | 0.018974     | 0.018107     |
| conf       | 0.311997     | 0.213697     | 0.239842     |
| cls        | 0.042087     | 0.028233     | 0.014205     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 1.000000     | 0.964286     |
| recall75   | 0.769231     | 0.888889     | 0.857143     |
| precision  | 0.785714     | 0.415385     | 0.188811     |
| conf_obj   | 0.888682     | 0.957042     | 0.949152     |
| conf_noobj | 0.000824     | 0.000967     | 0.000763     |
+------------+--------------+--------------+--------------+
2020-12-20 00:30:49.570 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.778487
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.712971     | 0.570400     | 0.495116     |
| x          | 0.010021     | 0.012728     | 0.039171     |
| y          | 0.014434     | 0.008603     | 0.029013     |
| w          | 0.040190     | 0.031569     | 0.017611     |
| h          | 0.057643     | 0.046081     | 0.037312     |
| conf       | 0.568696     | 0.435176     | 0.359302     |
| cls        | 0.021987     | 0.036242     | 0.012708     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.928571     | 0.928571     |
| recall75   | 0.785714     | 0.928571     | 0.928571     |
| precision  | 0.619048     | 0.302326     | 0.120370     |
| conf_obj   | 0.875264     | 0.871195     | 0.867419     |
| conf_noobj | 0.000978     | 0.000802     | 0.000682     |
+------------+--------------+--------------+--------------+
2020-12-20 00:31:55.120 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 2.109418
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.797969     | 0.650100     | 0.661349     |
| x          | 0.030630     | 0.013678     | 0.024240     |
| y          | 0.012050     | 0.011516     | 0.021630     |
| w          | 0.080547     | 0.053211     | 0.045026     |
| h          | 0.080931     | 0.046383     | 0.039431     |
| conf       | 0.409023     | 0.420411     | 0.436787     |
| cls        | 0.184788     | 0.104902     | 0.094236     |
| cls_acc    | 89.13%       | 95.92%       | 96.08%       |
| recall50   | 0.782609     | 0.897959     | 0.882353     |
| recall75   | 0.673913     | 0.734694     | 0.666667     |
| precision  | 0.734694     | 0.578947     | 0.228426     |
| conf_obj   | 0.875775     | 0.889335     | 0.873638     |
| conf_noobj | 0.001091     | 0.001080     | 0.000997     |
+------------+--------------+--------------+--------------+
2020-12-20 00:32:05.310 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.363
2020-12-20 00:32:05.313 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 00:32:58.519 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13776   | 0.41294 | 0.20660 | 0.22507 |
| 1     | Wear_helmet | 0.55517   | 0.90142 | 0.68714 | 0.85830 |
| 2     | Total       | 0.34646   | 0.65718 | 0.44687 | 0.54169 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:32:58.520 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5416853951779861
2020-12-20 00:32:58.520 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 00:32:58.520 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:53.206691

2020-12-20 00:32:59.019 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 1/2, epo 4/5
2020-12-20 00:32:59.019 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 1/2, epo 4/5; time cost: 0:15:05.346330

2020-12-20 00:32:59.019 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 6/20, idx 1/2, epo 5/5
2020-12-20 00:33:00.315 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.500068
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.453114     | 0.554476     | 0.492478     |
| x          | 0.037388     | 0.021841     | 0.031048     |
| y          | 0.026845     | 0.012088     | 0.027099     |
| w          | 0.051907     | 0.018777     | 0.006553     |
| h          | 0.034961     | 0.034602     | 0.026573     |
| conf       | 0.239137     | 0.394955     | 0.368346     |
| cls        | 0.062877     | 0.072212     | 0.032860     |
| cls_acc    | 94.74%       | 95.45%       | 100.00%      |
| recall50   | 0.947368     | 0.909091     | 0.956522     |
| recall75   | 0.684211     | 0.636364     | 0.782609     |
| precision  | 0.642857     | 0.357143     | 0.148649     |
| conf_obj   | 0.942261     | 0.880378     | 0.896812     |
| conf_noobj | 0.001124     | 0.000838     | 0.000755     |
+------------+--------------+--------------+--------------+
2020-12-20 00:34:04.960 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.626859
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.617060     | 0.516268     | 0.493531     |
| x          | 0.006732     | 0.028430     | 0.035335     |
| y          | 0.017739     | 0.020005     | 0.019256     |
| w          | 0.043873     | 0.034615     | 0.021046     |
| h          | 0.056471     | 0.052056     | 0.038206     |
| conf       | 0.427410     | 0.336394     | 0.371703     |
| cls        | 0.064836     | 0.044767     | 0.007985     |
| cls_acc    | 96.43%       | 96.67%       | 100.00%      |
| recall50   | 0.892857     | 0.866667     | 0.903226     |
| recall75   | 0.750000     | 0.733333     | 0.677419     |
| precision  | 0.781250     | 0.426230     | 0.176101     |
| conf_obj   | 0.893187     | 0.903410     | 0.894257     |
| conf_noobj | 0.000738     | 0.000695     | 0.000652     |
+------------+--------------+--------------+--------------+
2020-12-20 00:35:07.689 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.737897
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.235448     | 0.275110     | 0.227339     |
| x          | 0.008783     | 0.014083     | 0.025810     |
| y          | 0.003734     | 0.009682     | 0.031341     |
| w          | 0.020389     | 0.013970     | 0.010151     |
| h          | 0.015567     | 0.016440     | 0.014338     |
| conf       | 0.143621     | 0.163535     | 0.128550     |
| cls        | 0.043353     | 0.057399     | 0.017150     |
| cls_acc    | 100.00%      | 95.45%       | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 1.000000     |
| recall75   | 0.904762     | 0.863636     | 0.909091     |
| precision  | 0.700000     | 0.304348     | 0.149660     |
| conf_obj   | 0.976069     | 0.965692     | 0.978553     |
| conf_noobj | 0.000794     | 0.000696     | 0.000543     |
+------------+--------------+--------------+--------------+
2020-12-20 00:36:12.593 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.986849
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.306126     | 0.307613     | 0.373110     |
| x          | 0.004660     | 0.022354     | 0.030445     |
| y          | 0.004161     | 0.007160     | 0.015866     |
| w          | 0.051825     | 0.038507     | 0.030780     |
| h          | 0.030674     | 0.029625     | 0.027939     |
| conf       | 0.210703     | 0.197488     | 0.254621     |
| cls        | 0.004103     | 0.012479     | 0.013459     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.965517     | 0.965517     |
| recall75   | 0.925926     | 0.827586     | 0.827586     |
| precision  | 0.675000     | 0.400000     | 0.191781     |
| conf_obj   | 0.954886     | 0.956521     | 0.945819     |
| conf_noobj | 0.001001     | 0.000827     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-20 00:37:22.978 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.997856
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.315563     | 0.379046     | 0.303247     |
| x          | 0.006236     | 0.025248     | 0.019113     |
| y          | 0.009474     | 0.007518     | 0.024652     |
| w          | 0.026687     | 0.018643     | 0.015651     |
| h          | 0.033813     | 0.018986     | 0.015319     |
| conf       | 0.230849     | 0.304195     | 0.208809     |
| cls        | 0.008505     | 0.004457     | 0.019703     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.903226     | 0.794118     | 0.914286     |
| precision  | 0.704545     | 0.309091     | 0.151515     |
| conf_obj   | 0.947264     | 0.929704     | 0.962619     |
| conf_noobj | 0.001013     | 0.001190     | 0.000821     |
+------------+--------------+--------------+--------------+
2020-12-20 00:38:28.670 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.216878
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.543531     | 0.333234     | 0.340113     |
| x          | 0.027113     | 0.007941     | 0.017728     |
| y          | 0.010494     | 0.008583     | 0.027011     |
| w          | 0.035936     | 0.036487     | 0.020762     |
| h          | 0.029631     | 0.020919     | 0.017440     |
| conf       | 0.378735     | 0.219881     | 0.226558     |
| cls        | 0.061622     | 0.039424     | 0.030614     |
| cls_acc    | 96.67%       | 100.00%      | 97.06%       |
| recall50   | 0.800000     | 0.969697     | 0.911765     |
| recall75   | 0.633333     | 0.818182     | 0.823529     |
| precision  | 0.648649     | 0.457143     | 0.156566     |
| conf_obj   | 0.850198     | 0.928602     | 0.936329     |
| conf_noobj | 0.000919     | 0.000754     | 0.000767     |
+------------+--------------+--------------+--------------+
2020-12-20 00:39:33.842 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.213789
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.326871     | 0.443105     | 0.443813     |
| x          | 0.010016     | 0.015134     | 0.017890     |
| y          | 0.008222     | 0.034128     | 0.035752     |
| w          | 0.035754     | 0.014838     | 0.013426     |
| h          | 0.044717     | 0.021377     | 0.011526     |
| conf       | 0.118451     | 0.211564     | 0.276118     |
| cls        | 0.109712     | 0.146065     | 0.089102     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 1.000000     | 0.952381     | 0.904762     |
| recall75   | 0.800000     | 0.809524     | 0.904762     |
| precision  | 0.800000     | 0.434783     | 0.159664     |
| conf_obj   | 0.969152     | 0.936719     | 0.893628     |
| conf_noobj | 0.000546     | 0.000631     | 0.000600     |
+------------+--------------+--------------+--------------+
2020-12-20 00:40:36.479 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.594900
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.196535     | 0.187867     | 0.210498     |
| x          | 0.004246     | 0.009523     | 0.025217     |
| y          | 0.005518     | 0.012369     | 0.034498     |
| w          | 0.018264     | 0.013717     | 0.007664     |
| h          | 0.015662     | 0.021136     | 0.006119     |
| conf       | 0.150308     | 0.130683     | 0.136297     |
| cls        | 0.002537     | 0.000438     | 0.000704     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.900000     | 0.950000     |
| precision  | 0.730769     | 0.338983     | 0.133333     |
| conf_obj   | 0.958605     | 0.973128     | 0.969152     |
| conf_noobj | 0.000614     | 0.000597     | 0.000580     |
+------------+--------------+--------------+--------------+
2020-12-20 00:41:46.643 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.463458
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.500053     | 0.543679     | 0.419726     |
| x          | 0.007421     | 0.036679     | 0.031049     |
| y          | 0.007277     | 0.017357     | 0.041559     |
| w          | 0.038938     | 0.062458     | 0.041187     |
| h          | 0.024120     | 0.042197     | 0.042975     |
| conf       | 0.409438     | 0.367311     | 0.242408     |
| cls        | 0.012857     | 0.017677     | 0.020548     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.869565     | 0.958333     |
| recall75   | 0.772727     | 0.739130     | 0.708333     |
| precision  | 0.689655     | 0.238095     | 0.123656     |
| conf_obj   | 0.883617     | 0.876647     | 0.926908     |
| conf_noobj | 0.000869     | 0.000965     | 0.000811     |
+------------+--------------+--------------+--------------+
2020-12-20 00:42:53.958 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.994281
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.790953     | 0.686866     | 0.516462     |
| x          | 0.015002     | 0.018838     | 0.020660     |
| y          | 0.016349     | 0.019251     | 0.023539     |
| w          | 0.043675     | 0.051192     | 0.014420     |
| h          | 0.034957     | 0.049270     | 0.018939     |
| conf       | 0.582667     | 0.485915     | 0.406106     |
| cls        | 0.098304     | 0.062401     | 0.032798     |
| cls_acc    | 96.30%       | 96.43%       | 100.00%      |
| recall50   | 0.888889     | 0.928571     | 0.892857     |
| recall75   | 0.703704     | 0.785714     | 0.821429     |
| precision  | 0.705882     | 0.426230     | 0.171233     |
| conf_obj   | 0.891382     | 0.909871     | 0.880935     |
| conf_noobj | 0.001116     | 0.000899     | 0.000772     |
+------------+--------------+--------------+--------------+
2020-12-20 00:43:59.921 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.611645
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.198670     | 0.201228     | 0.211747     |
| x          | 0.009718     | 0.008119     | 0.031784     |
| y          | 0.006188     | 0.016514     | 0.026426     |
| w          | 0.023959     | 0.008345     | 0.005713     |
| h          | 0.019444     | 0.012969     | 0.015889     |
| conf       | 0.131369     | 0.152890     | 0.131517     |
| cls        | 0.007992     | 0.002391     | 0.000418     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.950000     | 0.950000     |
| precision  | 0.666667     | 0.294118     | 0.131579     |
| conf_obj   | 0.981788     | 0.975896     | 0.988422     |
| conf_noobj | 0.000790     | 0.000753     | 0.000603     |
+------------+--------------+--------------+--------------+
2020-12-20 00:45:05.108 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.130855
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.394057     | 0.354793     | 0.382005     |
| x          | 0.006709     | 0.010163     | 0.018120     |
| y          | 0.008099     | 0.013088     | 0.034366     |
| w          | 0.014815     | 0.011736     | 0.014632     |
| h          | 0.022072     | 0.015873     | 0.013437     |
| conf       | 0.335691     | 0.293507     | 0.289111     |
| cls        | 0.006670     | 0.010427     | 0.012339     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.916667     | 0.916667     |
| recall75   | 0.761905     | 0.791667     | 0.833333     |
| precision  | 0.678571     | 0.392857     | 0.143791     |
| conf_obj   | 0.907147     | 0.896443     | 0.908586     |
| conf_noobj | 0.001069     | 0.000861     | 0.000801     |
+------------+--------------+--------------+--------------+
2020-12-20 00:46:08.636 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.910639
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.617952     | 0.672507     | 0.620179     |
| x          | 0.015368     | 0.020635     | 0.044165     |
| y          | 0.014618     | 0.026588     | 0.040737     |
| w          | 0.032728     | 0.019350     | 0.018120     |
| h          | 0.031522     | 0.035204     | 0.024582     |
| conf       | 0.375990     | 0.483090     | 0.426019     |
| cls        | 0.147726     | 0.087641     | 0.066557     |
| cls_acc    | 88.00%       | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.888889     | 0.888889     |
| recall75   | 0.720000     | 0.740741     | 0.814815     |
| precision  | 0.571429     | 0.311688     | 0.135593     |
| conf_obj   | 0.889739     | 0.848435     | 0.856697     |
| conf_noobj | 0.000899     | 0.000865     | 0.000635     |
+------------+--------------+--------------+--------------+
2020-12-20 00:47:23.002 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.975738
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.742581     | 0.614721     | 0.618436     |
| x          | 0.009282     | 0.004079     | 0.009590     |
| y          | 0.012255     | 0.021731     | 0.027677     |
| w          | 0.039144     | 0.038213     | 0.011125     |
| h          | 0.025331     | 0.024287     | 0.009909     |
| conf       | 0.640225     | 0.520829     | 0.554026     |
| cls        | 0.016344     | 0.005582     | 0.006108     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.964286     | 0.964286     |
| recall75   | 0.807692     | 0.857143     | 0.928571     |
| precision  | 0.687500     | 0.428571     | 0.190141     |
| conf_obj   | 0.863650     | 0.896652     | 0.903523     |
| conf_noobj | 0.001119     | 0.001009     | 0.000743     |
+------------+--------------+--------------+--------------+
2020-12-20 00:47:33.926 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.338
2020-12-20 00:47:33.930 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 00:48:34.944 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15316   | 0.34328 | 0.21182 | 0.24157 |
| 1     | Wear_helmet | 0.55331   | 0.91991 | 0.69099 | 0.88810 |
| 2     | Total       | 0.35323   | 0.63159 | 0.45141 | 0.56484 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:48:34.946 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5648368671911699
2020-12-20 00:48:34.947 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 00:48:34.947 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.016932

2020-12-20 00:48:35.450 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 6/20, idx 1/2, epo 5/5
2020-12-20 00:48:35.451 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 6/20, idx 1/2, epo 5/5; time cost: 0:15:36.430831

2020-12-20 00:48:35.451 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.441
2020-12-20 00:48:35.709 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 00:52:17.407 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16066   | 0.47732 | 0.24040 | 0.35058 |
| 1     | Wear_helmet | 0.56144   | 0.89896 | 0.69120 | 0.86237 |
| 2     | Total       | 0.36105   | 0.68814 | 0.46580 | 0.60648 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 00:52:17.408 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.606476923827048
2020-12-20 00:52:17.409 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 00:52:17.409 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:41.699210

2020-12-20 00:52:23.376 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 7!
2020-12-20 00:52:23.506 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 1/2, epo 1/5
2020-12-20 00:52:25.897 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.534042
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.537558     | 0.471315     | 0.525169     |
| x          | 0.002609     | 0.008790     | 0.024649     |
| y          | 0.007674     | 0.013435     | 0.036194     |
| w          | 0.011691     | 0.009061     | 0.010462     |
| h          | 0.013831     | 0.011775     | 0.011661     |
| conf       | 0.178152     | 0.127496     | 0.146590     |
| cls        | 0.323600     | 0.300758     | 0.295613     |
| cls_acc    | 94.12%       | 94.12%       | 94.12%       |
| recall50   | 0.941176     | 0.941176     | 0.941176     |
| recall75   | 0.882353     | 0.941176     | 0.823529     |
| precision  | 0.666667     | 0.275862     | 0.090395     |
| conf_obj   | 0.978612     | 0.987682     | 0.985732     |
| conf_noobj | 0.000907     | 0.000724     | 0.000718     |
+------------+--------------+--------------+--------------+
2020-12-20 00:53:35.151 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.691748
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.235530     | 0.248804     | 0.207414     |
| x          | 0.011663     | 0.022569     | 0.022033     |
| y          | 0.005836     | 0.011267     | 0.023822     |
| w          | 0.015794     | 0.020448     | 0.004900     |
| h          | 0.019827     | 0.036519     | 0.007115     |
| conf       | 0.181567     | 0.156090     | 0.147534     |
| cls        | 0.000842     | 0.001910     | 0.002010     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 0.928571     |
| recall75   | 0.785714     | 0.857143     | 0.928571     |
| precision  | 0.684211     | 0.411765     | 0.139785     |
| conf_obj   | 0.932018     | 0.934291     | 0.949555     |
| conf_noobj | 0.000612     | 0.000453     | 0.000466     |
+------------+--------------+--------------+--------------+
2020-12-20 00:54:39.293 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.512894
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.451501     | 0.520489     | 0.540904     |
| x          | 0.019131     | 0.016453     | 0.021883     |
| y          | 0.007064     | 0.016279     | 0.024658     |
| w          | 0.046069     | 0.044865     | 0.009339     |
| h          | 0.067703     | 0.058598     | 0.034672     |
| conf       | 0.265738     | 0.357501     | 0.426135     |
| cls        | 0.045795     | 0.026793     | 0.024216     |
| cls_acc    | 97.06%       | 100.00%      | 97.37%       |
| recall50   | 0.911765     | 0.918919     | 0.947368     |
| recall75   | 0.823529     | 0.756757     | 0.868421     |
| precision  | 0.794872     | 0.472222     | 0.193548     |
| conf_obj   | 0.906852     | 0.907742     | 0.915608     |
| conf_noobj | 0.000613     | 0.000759     | 0.000708     |
+------------+--------------+--------------+--------------+
2020-12-20 00:55:44.939 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.449729
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.547409     | 0.473385     | 0.428936     |
| x          | 0.020630     | 0.011288     | 0.017627     |
| y          | 0.009298     | 0.019040     | 0.030551     |
| w          | 0.031444     | 0.031704     | 0.024455     |
| h          | 0.038532     | 0.041100     | 0.024950     |
| conf       | 0.275307     | 0.202726     | 0.181664     |
| cls        | 0.172198     | 0.167527     | 0.149689     |
| cls_acc    | 92.59%       | 89.29%       | 86.21%       |
| recall50   | 0.888889     | 0.821429     | 0.827586     |
| recall75   | 0.740741     | 0.750000     | 0.793103     |
| precision  | 0.750000     | 0.450980     | 0.160000     |
| conf_obj   | 0.936395     | 0.922938     | 0.944757     |
| conf_noobj | 0.000690     | 0.000540     | 0.000630     |
+------------+--------------+--------------+--------------+
2020-12-20 00:56:50.109 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.518875
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.693792     | 0.457859     | 0.367224     |
| x          | 0.018670     | 0.008250     | 0.018624     |
| y          | 0.023561     | 0.018091     | 0.024102     |
| w          | 0.027139     | 0.018076     | 0.005504     |
| h          | 0.021664     | 0.011677     | 0.010347     |
| conf       | 0.571889     | 0.384109     | 0.299484     |
| cls        | 0.030868     | 0.017656     | 0.009163     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.906250     | 0.937500     |
| recall75   | 0.781250     | 0.812500     | 0.937500     |
| precision  | 0.736842     | 0.475410     | 0.206897     |
| conf_obj   | 0.817327     | 0.879830     | 0.885508     |
| conf_noobj | 0.001325     | 0.001004     | 0.000779     |
+------------+--------------+--------------+--------------+
2020-12-20 00:57:51.424 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.333517
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.469184     | 0.385253     | 0.479080     |
| x          | 0.011948     | 0.011661     | 0.015384     |
| y          | 0.013929     | 0.010664     | 0.026804     |
| w          | 0.023264     | 0.025057     | 0.015535     |
| h          | 0.024399     | 0.022338     | 0.011581     |
| conf       | 0.357212     | 0.260437     | 0.361169     |
| cls        | 0.038433     | 0.055096     | 0.048607     |
| cls_acc    | 100.00%      | 96.88%       | 96.88%       |
| recall50   | 0.870968     | 0.906250     | 0.906250     |
| recall75   | 0.774194     | 0.906250     | 0.875000     |
| precision  | 0.843750     | 0.420290     | 0.162011     |
| conf_obj   | 0.864316     | 0.914827     | 0.903216     |
| conf_noobj | 0.000608     | 0.000752     | 0.000699     |
+------------+--------------+--------------+--------------+
2020-12-20 00:58:59.404 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.500327
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.609227     | 0.462250     | 0.428851     |
| x          | 0.023613     | 0.024972     | 0.024929     |
| y          | 0.018979     | 0.010365     | 0.020779     |
| w          | 0.055391     | 0.032449     | 0.024629     |
| h          | 0.043834     | 0.023198     | 0.015003     |
| conf       | 0.437581     | 0.353610     | 0.315401     |
| cls        | 0.029828     | 0.017656     | 0.028110     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.838710     | 0.968750     | 0.941176     |
| recall75   | 0.677419     | 0.781250     | 0.764706     |
| precision  | 0.666667     | 0.373494     | 0.182857     |
| conf_obj   | 0.862019     | 0.890162     | 0.887219     |
| conf_noobj | 0.001228     | 0.001064     | 0.000916     |
+------------+--------------+--------------+--------------+
2020-12-20 01:00:02.512 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.267906
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.458664     | 0.407050     | 0.402191     |
| x          | 0.032171     | 0.035363     | 0.035029     |
| y          | 0.006426     | 0.011833     | 0.020397     |
| w          | 0.035274     | 0.045166     | 0.054344     |
| h          | 0.028817     | 0.040226     | 0.043398     |
| conf       | 0.325234     | 0.241507     | 0.231341     |
| cls        | 0.030742     | 0.032955     | 0.017682     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.900000     | 0.937500     |
| recall75   | 0.703704     | 0.733333     | 0.687500     |
| precision  | 0.648649     | 0.397059     | 0.173410     |
| conf_obj   | 0.905190     | 0.922076     | 0.924907     |
| conf_noobj | 0.001111     | 0.000824     | 0.000744     |
+------------+--------------+--------------+--------------+
2020-12-20 01:01:10.506 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.446128
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.548448     | 0.446353     | 0.451327     |
| x          | 0.007381     | 0.011174     | 0.025442     |
| y          | 0.027809     | 0.020776     | 0.033729     |
| w          | 0.036442     | 0.018732     | 0.012461     |
| h          | 0.017289     | 0.014054     | 0.013426     |
| conf       | 0.431142     | 0.352120     | 0.323398     |
| cls        | 0.028385     | 0.029496     | 0.042872     |
| cls_acc    | 100.00%      | 100.00%      | 96.15%       |
| recall50   | 0.880000     | 0.960000     | 0.884615     |
| recall75   | 0.840000     | 0.920000     | 0.807692     |
| precision  | 0.687500     | 0.328767     | 0.143750     |
| conf_obj   | 0.865525     | 0.888887     | 0.903610     |
| conf_noobj | 0.001115     | 0.001012     | 0.000889     |
+------------+--------------+--------------+--------------+
2020-12-20 01:02:17.313 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.883042
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.534387     | 0.548433     | 0.800221     |
| x          | 0.014770     | 0.016582     | 0.018756     |
| y          | 0.010595     | 0.015424     | 0.057825     |
| w          | 0.047828     | 0.063849     | 0.093123     |
| h          | 0.032060     | 0.048322     | 0.071288     |
| conf       | 0.385519     | 0.377814     | 0.483764     |
| cls        | 0.043615     | 0.026442     | 0.075466     |
| cls_acc    | 100.00%      | 100.00%      | 91.67%       |
| recall50   | 0.833333     | 0.916667     | 0.833333     |
| recall75   | 0.833333     | 0.916667     | 0.833333     |
| precision  | 0.555556     | 0.297297     | 0.091743     |
| conf_obj   | 0.821151     | 0.873248     | 0.875136     |
| conf_noobj | 0.000753     | 0.000495     | 0.000464     |
+------------+--------------+--------------+--------------+
2020-12-20 01:03:25.242 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.457338
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.608714     | 0.416716     | 0.431909     |
| x          | 0.023129     | 0.021544     | 0.022950     |
| y          | 0.007955     | 0.008545     | 0.015045     |
| w          | 0.025627     | 0.019418     | 0.016944     |
| h          | 0.036641     | 0.027349     | 0.026820     |
| conf       | 0.441499     | 0.278951     | 0.256941     |
| cls        | 0.073861     | 0.060909     | 0.093208     |
| cls_acc    | 93.33%       | 96.77%       | 96.88%       |
| recall50   | 0.866667     | 0.903226     | 0.906250     |
| recall75   | 0.800000     | 0.838710     | 0.750000     |
| precision  | 0.604651     | 0.363636     | 0.129464     |
| conf_obj   | 0.877329     | 0.925301     | 0.925978     |
| conf_noobj | 0.001071     | 0.000896     | 0.000869     |
+------------+--------------+--------------+--------------+
2020-12-20 01:04:29.600 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.699454
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.255966     | 0.198969     | 0.244519     |
| x          | 0.007663     | 0.014796     | 0.018170     |
| y          | 0.010603     | 0.021410     | 0.032863     |
| w          | 0.022950     | 0.016820     | 0.006549     |
| h          | 0.015671     | 0.007401     | 0.008524     |
| conf       | 0.194134     | 0.134124     | 0.173678     |
| cls        | 0.004945     | 0.004418     | 0.004733     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.920000     | 1.000000     |
| precision  | 0.727273     | 0.462963     | 0.170068     |
| conf_obj   | 0.943807     | 0.975303     | 0.969486     |
| conf_noobj | 0.000891     | 0.000605     | 0.000690     |
+------------+--------------+--------------+--------------+
2020-12-20 01:05:34.124 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.754862
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.655528     | 0.579621     | 0.519712     |
| x          | 0.005786     | 0.008538     | 0.028827     |
| y          | 0.006265     | 0.012782     | 0.047757     |
| w          | 0.017250     | 0.019140     | 0.016309     |
| h          | 0.033005     | 0.043652     | 0.020469     |
| conf       | 0.585002     | 0.489203     | 0.399765     |
| cls        | 0.008220     | 0.006306     | 0.006586     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.892857     | 0.928571     |
| recall75   | 0.857143     | 0.785714     | 0.857143     |
| precision  | 0.641026     | 0.362319     | 0.165605     |
| conf_obj   | 0.852745     | 0.881904     | 0.906808     |
| conf_noobj | 0.001415     | 0.001132     | 0.000957     |
+------------+--------------+--------------+--------------+
2020-12-20 01:06:41.042 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.218078
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.418219     | 0.348112     | 0.451746     |
| x          | 0.015594     | 0.015468     | 0.019758     |
| y          | 0.007418     | 0.011066     | 0.020548     |
| w          | 0.018160     | 0.018425     | 0.009598     |
| h          | 0.015434     | 0.017920     | 0.008292     |
| conf       | 0.267593     | 0.226864     | 0.313820     |
| cls        | 0.094020     | 0.058368     | 0.079730     |
| cls_acc    | 97.44%       | 97.56%       | 97.62%       |
| recall50   | 0.923077     | 0.926829     | 0.904762     |
| recall75   | 0.820513     | 0.829268     | 0.857143     |
| precision  | 0.857143     | 0.481013     | 0.228916     |
| conf_obj   | 0.928379     | 0.948259     | 0.898388     |
| conf_noobj | 0.000742     | 0.000882     | 0.000729     |
+------------+--------------+--------------+--------------+
2020-12-20 01:06:52.540 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.389
2020-12-20 01:06:52.544 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 01:07:51.409 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12071   | 0.50746 | 0.19503 | 0.25638 |
| 1     | Wear_helmet | 0.55319   | 0.90948 | 0.68794 | 0.85830 |
| 2     | Total       | 0.33695   | 0.70847 | 0.44148 | 0.55734 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:07:51.411 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5573434630650433
2020-12-20 01:07:51.411 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 01:07:51.412 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.867185

2020-12-20 01:07:51.935 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 1/2, epo 1/5
2020-12-20 01:07:51.936 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 1/2, epo 1/5; time cost: 0:15:28.429448

2020-12-20 01:07:51.936 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 1/2, epo 2/5
2020-12-20 01:07:53.472 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.289211
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.422750     | 0.358291     | 0.508170     |
| x          | 0.008076     | 0.015262     | 0.016771     |
| y          | 0.014657     | 0.022551     | 0.022819     |
| w          | 0.068836     | 0.057195     | 0.042548     |
| h          | 0.048544     | 0.037025     | 0.021044     |
| conf       | 0.260403     | 0.198140     | 0.376688     |
| cls        | 0.022235     | 0.028118     | 0.028300     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 0.928571     |
| recall75   | 0.714286     | 0.714286     | 0.714286     |
| precision  | 0.710526     | 0.394366     | 0.148571     |
| conf_obj   | 0.926797     | 0.965297     | 0.909530     |
| conf_noobj | 0.001137     | 0.000980     | 0.000848     |
+------------+--------------+--------------+--------------+
2020-12-20 01:09:02.638 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.269388
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.518534     | 0.334818     | 0.416036     |
| x          | 0.008993     | 0.013940     | 0.018618     |
| y          | 0.005397     | 0.015419     | 0.034210     |
| w          | 0.015628     | 0.018211     | 0.010200     |
| h          | 0.017153     | 0.013320     | 0.011974     |
| conf       | 0.443441     | 0.263439     | 0.320868     |
| cls        | 0.027922     | 0.010489     | 0.020165     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.857143     | 0.904762     |
| recall75   | 0.800000     | 0.714286     | 0.857143     |
| precision  | 0.653846     | 0.346154     | 0.165217     |
| conf_obj   | 0.846002     | 0.891639     | 0.875029     |
| conf_noobj | 0.000761     | 0.000713     | 0.000615     |
+------------+--------------+--------------+--------------+
2020-12-20 01:10:05.922 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.981296
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.421018     | 0.297678     | 0.262600     |
| x          | 0.008053     | 0.015769     | 0.032160     |
| y          | 0.007334     | 0.010862     | 0.016912     |
| w          | 0.036836     | 0.018700     | 0.009951     |
| h          | 0.016978     | 0.009361     | 0.008370     |
| conf       | 0.298272     | 0.173691     | 0.170532     |
| cls        | 0.053544     | 0.069296     | 0.024676     |
| cls_acc    | 100.00%      | 94.44%       | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.833333     | 0.888889     | 0.944444     |
| precision  | 0.580645     | 0.298246     | 0.124138     |
| conf_obj   | 0.917435     | 0.982518     | 0.967593     |
| conf_noobj | 0.001238     | 0.000938     | 0.000750     |
+------------+--------------+--------------+--------------+
2020-12-20 01:11:13.576 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.448064
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.882553     | 0.738013     | 0.827497     |
| x          | 0.006898     | 0.034447     | 0.022978     |
| y          | 0.011682     | 0.024065     | 0.022088     |
| w          | 0.071261     | 0.032430     | 0.018481     |
| h          | 0.084294     | 0.078913     | 0.071154     |
| conf       | 0.580225     | 0.443392     | 0.561776     |
| cls        | 0.128194     | 0.124767     | 0.131020     |
| cls_acc    | 92.59%       | 89.66%       | 93.10%       |
| recall50   | 0.814815     | 0.724138     | 0.827586     |
| recall75   | 0.666667     | 0.586207     | 0.586207     |
| precision  | 0.628571     | 0.344262     | 0.164384     |
| conf_obj   | 0.824924     | 0.839557     | 0.818679     |
| conf_noobj | 0.000882     | 0.000673     | 0.000553     |
+------------+--------------+--------------+--------------+
2020-12-20 01:12:22.569 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.510602
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.585239     | 0.495822     | 0.429540     |
| x          | 0.003982     | 0.006961     | 0.010965     |
| y          | 0.010503     | 0.010616     | 0.015170     |
| w          | 0.021150     | 0.009101     | 0.007686     |
| h          | 0.043567     | 0.048739     | 0.030043     |
| conf       | 0.366686     | 0.345940     | 0.291487     |
| cls        | 0.139352     | 0.074464     | 0.074189     |
| cls_acc    | 90.48%       | 95.45%       | 100.00%      |
| recall50   | 0.904762     | 0.863636     | 0.909091     |
| recall75   | 0.904762     | 0.818182     | 0.818182     |
| precision  | 0.513514     | 0.275362     | 0.097087     |
| conf_obj   | 0.887966     | 0.891266     | 0.906772     |
| conf_noobj | 0.001070     | 0.000967     | 0.000876     |
+------------+--------------+--------------+--------------+
2020-12-20 01:13:24.987 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 2.075543
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.902447     | 0.593808     | 0.579288     |
| x          | 0.023551     | 0.016512     | 0.024665     |
| y          | 0.007721     | 0.020173     | 0.032569     |
| w          | 0.046154     | 0.033177     | 0.025264     |
| h          | 0.023456     | 0.013816     | 0.012876     |
| conf       | 0.311877     | 0.226545     | 0.223226     |
| cls        | 0.489687     | 0.283585     | 0.260688     |
| cls_acc    | 81.82%       | 87.50%       | 96.00%       |
| recall50   | 0.727273     | 0.791667     | 0.920000     |
| recall75   | 0.681818     | 0.791667     | 0.720000     |
| precision  | 0.571429     | 0.452381     | 0.166667     |
| conf_obj   | 0.878109     | 0.912036     | 0.939827     |
| conf_noobj | 0.000961     | 0.000651     | 0.000709     |
+------------+--------------+--------------+--------------+
2020-12-20 01:14:28.631 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.022009
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.315463     | 0.378827     | 0.327719     |
| x          | 0.007021     | 0.010947     | 0.015195     |
| y          | 0.008195     | 0.010666     | 0.020131     |
| w          | 0.020856     | 0.016143     | 0.009142     |
| h          | 0.028911     | 0.026262     | 0.012057     |
| conf       | 0.120253     | 0.251052     | 0.194211     |
| cls        | 0.130227     | 0.063756     | 0.076982     |
| cls_acc    | 96.88%       | 96.88%       | 97.06%       |
| recall50   | 0.968750     | 0.937500     | 0.941176     |
| recall75   | 0.843750     | 0.843750     | 0.852941     |
| precision  | 0.885714     | 0.379747     | 0.166667     |
| conf_obj   | 0.956793     | 0.927716     | 0.945692     |
| conf_noobj | 0.000467     | 0.000789     | 0.000697     |
+------------+--------------+--------------+--------------+
2020-12-20 01:15:36.504 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.223571
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.489318     | 0.363893     | 0.370360     |
| x          | 0.020885     | 0.017558     | 0.012997     |
| y          | 0.022266     | 0.013039     | 0.023337     |
| w          | 0.029834     | 0.019076     | 0.007169     |
| h          | 0.030261     | 0.013057     | 0.012200     |
| conf       | 0.337843     | 0.290968     | 0.312427     |
| cls        | 0.048228     | 0.010195     | 0.002228     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.823529     | 0.944444     | 0.944444     |
| recall75   | 0.705882     | 0.888889     | 0.944444     |
| precision  | 0.666667     | 0.369565     | 0.161905     |
| conf_obj   | 0.882895     | 0.901174     | 0.929575     |
| conf_noobj | 0.000766     | 0.000769     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 01:16:37.191 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.774811
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.239817     | 0.314197     | 0.220797     |
| x          | 0.004531     | 0.005494     | 0.013731     |
| y          | 0.004575     | 0.014520     | 0.020887     |
| w          | 0.013403     | 0.012221     | 0.006362     |
| h          | 0.017038     | 0.010320     | 0.009009     |
| conf       | 0.198325     | 0.271036     | 0.169585     |
| cls        | 0.001946     | 0.000607     | 0.001224     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.941176     | 1.000000     |
| recall75   | 0.970588     | 0.882353     | 0.941176     |
| precision  | 0.785714     | 0.385542     | 0.213836     |
| conf_obj   | 0.932161     | 0.913248     | 0.949252     |
| conf_noobj | 0.000749     | 0.000838     | 0.000592     |
+------------+--------------+--------------+--------------+
2020-12-20 01:17:44.336 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.274325
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.466723     | 0.399851     | 0.407751     |
| x          | 0.005919     | 0.015899     | 0.059046     |
| y          | 0.009277     | 0.009716     | 0.046966     |
| w          | 0.077392     | 0.073840     | 0.044307     |
| h          | 0.030044     | 0.015971     | 0.021393     |
| conf       | 0.342981     | 0.282960     | 0.234115     |
| cls        | 0.001110     | 0.001466     | 0.001924     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.894737     | 0.947368     |
| recall75   | 0.842105     | 0.789474     | 0.894737     |
| precision  | 0.666667     | 0.283333     | 0.134328     |
| conf_obj   | 0.886512     | 0.897771     | 0.893014     |
| conf_noobj | 0.000798     | 0.000753     | 0.000548     |
+------------+--------------+--------------+--------------+
2020-12-20 01:18:44.248 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.224455
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.458255     | 0.391751     | 0.374448     |
| x          | 0.014282     | 0.008163     | 0.024124     |
| y          | 0.007080     | 0.012082     | 0.027281     |
| w          | 0.019472     | 0.019199     | 0.009755     |
| h          | 0.027580     | 0.026298     | 0.023910     |
| conf       | 0.366142     | 0.313340     | 0.274513     |
| cls        | 0.023700     | 0.012669     | 0.014865     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.914286     | 0.972973     | 0.972973     |
| recall75   | 0.800000     | 0.810811     | 0.864865     |
| precision  | 0.727273     | 0.387097     | 0.160714     |
| conf_obj   | 0.868497     | 0.929525     | 0.938113     |
| conf_noobj | 0.001032     | 0.001169     | 0.000888     |
+------------+--------------+--------------+--------------+
2020-12-20 01:19:50.871 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.695796
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.595206     | 0.526096     | 0.574494     |
| x          | 0.010447     | 0.017515     | 0.016124     |
| y          | 0.012334     | 0.017685     | 0.060393     |
| w          | 0.029615     | 0.021990     | 0.014473     |
| h          | 0.051365     | 0.030898     | 0.020373     |
| conf       | 0.455701     | 0.423470     | 0.431797     |
| cls        | 0.035744     | 0.014537     | 0.031334     |
| cls_acc    | 100.00%      | 100.00%      | 97.06%       |
| recall50   | 0.906250     | 0.909091     | 0.911765     |
| recall75   | 0.718750     | 0.787879     | 0.764706     |
| precision  | 0.707317     | 0.352941     | 0.143519     |
| conf_obj   | 0.870156     | 0.891502     | 0.906835     |
| conf_noobj | 0.000881     | 0.000937     | 0.000862     |
+------------+--------------+--------------+--------------+
2020-12-20 01:20:56.550 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.735409
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.642955     | 0.553235     | 0.539219     |
| x          | 0.033985     | 0.013392     | 0.026712     |
| y          | 0.015665     | 0.032003     | 0.024373     |
| w          | 0.050962     | 0.050812     | 0.035865     |
| h          | 0.070219     | 0.055792     | 0.034813     |
| conf       | 0.374177     | 0.331015     | 0.371530     |
| cls        | 0.097947     | 0.070220     | 0.045926     |
| cls_acc    | 96.55%       | 96.67%       | 96.77%       |
| recall50   | 0.827586     | 0.833333     | 0.870968     |
| recall75   | 0.689655     | 0.633333     | 0.612903     |
| precision  | 0.648649     | 0.287356     | 0.128571     |
| conf_obj   | 0.877764     | 0.886784     | 0.869165     |
| conf_noobj | 0.000808     | 0.000891     | 0.000770     |
+------------+--------------+--------------+--------------+
2020-12-20 01:22:06.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.435854
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.512143     | 0.507558     | 0.416153     |
| x          | 0.016941     | 0.028444     | 0.028186     |
| y          | 0.009381     | 0.014796     | 0.032871     |
| w          | 0.041893     | 0.028710     | 0.022338     |
| h          | 0.036303     | 0.036726     | 0.024745     |
| conf       | 0.329431     | 0.346756     | 0.276286     |
| cls        | 0.078196     | 0.052126     | 0.031727     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.903226     | 0.935484     | 0.967742     |
| recall75   | 0.806452     | 0.677419     | 0.774194     |
| precision  | 0.608696     | 0.308511     | 0.152284     |
| conf_obj   | 0.921232     | 0.927640     | 0.927081     |
| conf_noobj | 0.001413     | 0.001205     | 0.000897     |
+------------+--------------+--------------+--------------+
2020-12-20 01:22:18.153 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.303
2020-12-20 01:22:18.158 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 01:23:17.998 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06365   | 0.48259 | 0.11246 | 0.16739 |
| 1     | Wear_helmet | 0.42967   | 0.92512 | 0.58680 | 0.88346 |
| 2     | Total       | 0.24666   | 0.70385 | 0.34963 | 0.52543 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:23:17.999 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5254261962984754
2020-12-20 01:23:18.000 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 01:23:18.000 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.841731

2020-12-20 01:23:18.497 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 1/2, epo 2/5
2020-12-20 01:23:18.497 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 1/2, epo 2/5; time cost: 0:15:26.560844

2020-12-20 01:23:18.497 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 1/2, epo 3/5
2020-12-20 01:23:19.835 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.832164
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.241767     | 0.316143     | 0.274254     |
| x          | 0.029118     | 0.026752     | 0.038589     |
| y          | 0.004940     | 0.017320     | 0.029424     |
| w          | 0.037937     | 0.036783     | 0.018998     |
| h          | 0.022101     | 0.018247     | 0.020163     |
| conf       | 0.144378     | 0.207949     | 0.155820     |
| cls        | 0.003293     | 0.009093     | 0.011260     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.960000     | 0.962963     |
| recall75   | 0.809524     | 0.800000     | 0.740741     |
| precision  | 0.740741     | 0.375000     | 0.172185     |
| conf_obj   | 0.987313     | 0.956871     | 0.974425     |
| conf_noobj | 0.000990     | 0.000896     | 0.000665     |
+------------+--------------+--------------+--------------+
2020-12-20 01:24:24.338 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.186078
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.606873     | 0.751840     | 0.827364     |
| x          | 0.020280     | 0.014217     | 0.013624     |
| y          | 0.003947     | 0.016695     | 0.025209     |
| w          | 0.039625     | 0.035395     | 0.031570     |
| h          | 0.016999     | 0.013135     | 0.017013     |
| conf       | 0.253264     | 0.235148     | 0.233510     |
| cls        | 0.272758     | 0.437250     | 0.506439     |
| cls_acc    | 91.30%       | 88.00%       | 88.46%       |
| recall50   | 0.869565     | 0.840000     | 0.884615     |
| recall75   | 0.869565     | 0.800000     | 0.653846     |
| precision  | 0.714286     | 0.420000     | 0.132184     |
| conf_obj   | 0.921980     | 0.929453     | 0.925994     |
| conf_noobj | 0.000783     | 0.000662     | 0.000751     |
+------------+--------------+--------------+--------------+
2020-12-20 01:25:30.095 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.052117
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.381348     | 0.382950     | 0.287820     |
| x          | 0.005400     | 0.013435     | 0.019056     |
| y          | 0.006652     | 0.010113     | 0.018776     |
| w          | 0.012305     | 0.014819     | 0.008976     |
| h          | 0.016970     | 0.015212     | 0.018917     |
| conf       | 0.338988     | 0.329010     | 0.221857     |
| cls        | 0.001033     | 0.000361     | 0.000238     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.954545     | 0.863636     | 0.909091     |
| precision  | 0.677419     | 0.355932     | 0.145833     |
| conf_obj   | 0.900477     | 0.915964     | 0.942265     |
| conf_noobj | 0.001126     | 0.000931     | 0.000741     |
+------------+--------------+--------------+--------------+
2020-12-20 01:26:33.037 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.974513
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.357767     | 0.333624     | 0.283123     |
| x          | 0.021156     | 0.038424     | 0.011287     |
| y          | 0.004211     | 0.011853     | 0.023622     |
| w          | 0.026769     | 0.022146     | 0.008693     |
| h          | 0.026636     | 0.025095     | 0.006954     |
| conf       | 0.268118     | 0.228921     | 0.223947     |
| cls        | 0.010876     | 0.007185     | 0.008620     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.857143     | 0.964286     |
| recall75   | 0.800000     | 0.785714     | 0.928571     |
| precision  | 0.727273     | 0.461538     | 0.191489     |
| conf_obj   | 0.924698     | 0.925062     | 0.934855     |
| conf_noobj | 0.000886     | 0.000679     | 0.000682     |
+------------+--------------+--------------+--------------+
2020-12-20 01:27:36.136 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.788303
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.197559     | 0.326697     | 0.264047     |
| x          | 0.010342     | 0.006993     | 0.021614     |
| y          | 0.011313     | 0.037113     | 0.023190     |
| w          | 0.014032     | 0.009318     | 0.020972     |
| h          | 0.016182     | 0.007101     | 0.015835     |
| conf       | 0.144214     | 0.264696     | 0.180756     |
| cls        | 0.001476     | 0.001475     | 0.001679     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 0.812500     | 0.764706     | 0.941176     |
| precision  | 0.640000     | 0.296296     | 0.100592     |
| conf_obj   | 0.981668     | 0.928329     | 0.958935     |
| conf_noobj | 0.000882     | 0.000854     | 0.000808     |
+------------+--------------+--------------+--------------+
2020-12-20 01:28:46.490 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.311668
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.471149     | 0.379121     | 0.461398     |
| x          | 0.006551     | 0.008228     | 0.024245     |
| y          | 0.006598     | 0.019951     | 0.044202     |
| w          | 0.051166     | 0.035536     | 0.026932     |
| h          | 0.063727     | 0.051680     | 0.047081     |
| conf       | 0.309097     | 0.240936     | 0.237580     |
| cls        | 0.034011     | 0.022789     | 0.081356     |
| cls_acc    | 96.00%       | 100.00%      | 96.30%       |
| recall50   | 0.880000     | 0.925926     | 0.925926     |
| recall75   | 0.840000     | 0.851852     | 0.740741     |
| precision  | 0.814815     | 0.446429     | 0.151515     |
| conf_obj   | 0.880335     | 0.913747     | 0.906937     |
| conf_noobj | 0.000427     | 0.000549     | 0.000580     |
+------------+--------------+--------------+--------------+
2020-12-20 01:29:50.533 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.082052
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.408824     | 0.337905     | 0.335323     |
| x          | 0.006020     | 0.010146     | 0.022234     |
| y          | 0.009868     | 0.023374     | 0.038501     |
| w          | 0.025065     | 0.026087     | 0.014704     |
| h          | 0.021363     | 0.010637     | 0.007709     |
| conf       | 0.308393     | 0.245529     | 0.233503     |
| cls        | 0.038116     | 0.022133     | 0.018671     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 0.958333     |
| recall75   | 0.782609     | 0.913043     | 0.875000     |
| precision  | 0.583333     | 0.328571     | 0.092742     |
| conf_obj   | 0.904909     | 0.921161     | 0.946255     |
| conf_noobj | 0.000998     | 0.000877     | 0.000921     |
+------------+--------------+--------------+--------------+
2020-12-20 01:30:53.134 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.162489
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.483357     | 0.316240     | 0.362892     |
| x          | 0.020771     | 0.008520     | 0.015385     |
| y          | 0.004319     | 0.006222     | 0.014799     |
| w          | 0.015081     | 0.014102     | 0.018325     |
| h          | 0.014953     | 0.010744     | 0.013814     |
| conf       | 0.185715     | 0.116786     | 0.128953     |
| cls        | 0.242519     | 0.159865     | 0.171616     |
| cls_acc    | 89.47%       | 95.00%       | 95.24%       |
| recall50   | 0.842105     | 0.950000     | 0.952381     |
| recall75   | 0.842105     | 0.900000     | 0.809524     |
| precision  | 0.571429     | 0.380000     | 0.168067     |
| conf_obj   | 0.966530     | 0.988074     | 0.974544     |
| conf_noobj | 0.000824     | 0.000557     | 0.000543     |
+------------+--------------+--------------+--------------+
2020-12-20 01:32:04.844 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.508614
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.519024     | 0.486113     | 0.503478     |
| x          | 0.028949     | 0.023267     | 0.046540     |
| y          | 0.007317     | 0.016903     | 0.030021     |
| w          | 0.060321     | 0.040885     | 0.028218     |
| h          | 0.024959     | 0.021440     | 0.017326     |
| conf       | 0.346534     | 0.334911     | 0.365168     |
| cls        | 0.050945     | 0.048708     | 0.016205     |
| cls_acc    | 96.77%       | 96.88%       | 100.00%      |
| recall50   | 0.806452     | 0.875000     | 0.875000     |
| recall75   | 0.677419     | 0.687500     | 0.687500     |
| precision  | 0.675676     | 0.424242     | 0.173913     |
| conf_obj   | 0.863001     | 0.873735     | 0.868477     |
| conf_noobj | 0.000711     | 0.000628     | 0.000564     |
+------------+--------------+--------------+--------------+
2020-12-20 01:33:11.707 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 2.526806
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.082398     | 0.839555     | 0.604852     |
| x          | 0.011067     | 0.015218     | 0.020987     |
| y          | 0.006511     | 0.010084     | 0.018267     |
| w          | 0.070289     | 0.038029     | 0.016707     |
| h          | 0.056950     | 0.014193     | 0.009566     |
| conf       | 0.772991     | 0.597421     | 0.377313     |
| cls        | 0.164589     | 0.164611     | 0.162012     |
| cls_acc    | 97.62%       | 95.35%       | 97.73%       |
| recall50   | 0.761905     | 0.813953     | 0.886364     |
| recall75   | 0.738095     | 0.767442     | 0.840909     |
| precision  | 0.711111     | 0.411765     | 0.201031     |
| conf_obj   | 0.793297     | 0.843717     | 0.900425     |
| conf_noobj | 0.001146     | 0.001026     | 0.000967     |
+------------+--------------+--------------+--------------+
2020-12-20 01:34:16.607 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.683859
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.739946     | 0.466693     | 0.477220     |
| x          | 0.016053     | 0.024886     | 0.030630     |
| y          | 0.004738     | 0.012563     | 0.026653     |
| w          | 0.020059     | 0.016268     | 0.010545     |
| h          | 0.037409     | 0.019774     | 0.017970     |
| conf       | 0.652794     | 0.388431     | 0.384638     |
| cls        | 0.008892     | 0.004771     | 0.006784     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.950000     | 0.950000     |
| recall75   | 0.700000     | 0.750000     | 0.800000     |
| precision  | 0.640000     | 0.404255     | 0.168142     |
| conf_obj   | 0.790237     | 0.890843     | 0.906175     |
| conf_noobj | 0.000875     | 0.000648     | 0.000587     |
+------------+--------------+--------------+--------------+
2020-12-20 01:35:20.181 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.930850
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.349587     | 0.303483     | 0.277781     |
| x          | 0.017021     | 0.002141     | 0.008108     |
| y          | 0.008109     | 0.008858     | 0.015194     |
| w          | 0.026274     | 0.018779     | 0.015850     |
| h          | 0.024577     | 0.018533     | 0.017810     |
| conf       | 0.270049     | 0.253651     | 0.218112     |
| cls        | 0.003556     | 0.001521     | 0.002708     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.944444     | 0.944444     |
| recall75   | 0.875000     | 0.944444     | 0.944444     |
| precision  | 0.736842     | 0.548387     | 0.160377     |
| conf_obj   | 0.922946     | 0.939592     | 0.943047     |
| conf_noobj | 0.000591     | 0.000430     | 0.000568     |
+------------+--------------+--------------+--------------+
2020-12-20 01:36:26.797 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.729426
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.702244     | 0.562853     | 0.464329     |
| x          | 0.023152     | 0.016276     | 0.013404     |
| y          | 0.006715     | 0.014606     | 0.028172     |
| w          | 0.066052     | 0.058164     | 0.023085     |
| h          | 0.059828     | 0.043794     | 0.023845     |
| conf       | 0.482223     | 0.354505     | 0.316447     |
| cls        | 0.064274     | 0.075508     | 0.059376     |
| cls_acc    | 96.00%       | 96.15%       | 100.00%      |
| recall50   | 0.800000     | 0.884615     | 0.962963     |
| recall75   | 0.680000     | 0.653846     | 0.851852     |
| precision  | 0.526316     | 0.370968     | 0.123223     |
| conf_obj   | 0.876136     | 0.901297     | 0.921649     |
| conf_noobj | 0.001460     | 0.000973     | 0.001059     |
+------------+--------------+--------------+--------------+
2020-12-20 01:37:29.502 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.727666
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.294917     | 0.205060     | 0.227689     |
| x          | 0.002698     | 0.008729     | 0.034786     |
| y          | 0.011558     | 0.012203     | 0.018635     |
| w          | 0.036245     | 0.026289     | 0.018940     |
| h          | 0.025862     | 0.018234     | 0.021509     |
| conf       | 0.216514     | 0.138406     | 0.131369     |
| cls        | 0.002040     | 0.001200     | 0.002451     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.888889     |
| precision  | 0.666667     | 0.382979     | 0.130435     |
| conf_obj   | 0.951130     | 0.968718     | 0.979472     |
| conf_noobj | 0.000919     | 0.000623     | 0.000615     |
+------------+--------------+--------------+--------------+
2020-12-20 01:37:41.713 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.293
2020-12-20 01:37:41.717 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 01:38:40.978 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08185   | 0.47015 | 0.13943 | 0.26907 |
| 1     | Wear_helmet | 0.30895   | 0.93697 | 0.46468 | 0.88494 |
| 2     | Total       | 0.19540   | 0.70356 | 0.30206 | 0.57700 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:38:40.980 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5770039919404745
2020-12-20 01:38:40.981 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 01:38:40.982 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.264585

2020-12-20 01:38:41.503 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 1/2, epo 3/5
2020-12-20 01:38:41.503 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 1/2, epo 3/5; time cost: 0:15:23.005065

2020-12-20 01:38:41.503 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 1/2, epo 4/5
2020-12-20 01:38:42.640 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.298754
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.405335     | 0.411967     | 0.481452     |
| x          | 0.017539     | 0.009838     | 0.016643     |
| y          | 0.010340     | 0.025377     | 0.050770     |
| w          | 0.071011     | 0.046991     | 0.007201     |
| h          | 0.106832     | 0.066628     | 0.021579     |
| conf       | 0.190964     | 0.248220     | 0.366285     |
| cls        | 0.008650     | 0.014913     | 0.018974     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.900000     | 0.800000     |
| recall75   | 0.722222     | 0.650000     | 0.750000     |
| precision  | 0.629630     | 0.360000     | 0.125000     |
| conf_obj   | 0.962289     | 0.913267     | 0.854867     |
| conf_noobj | 0.000923     | 0.000743     | 0.000663     |
+------------+--------------+--------------+--------------+
2020-12-20 01:39:44.151 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.670296
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.734178     | 0.549508     | 0.386610     |
| x          | 0.017261     | 0.022283     | 0.034567     |
| y          | 0.004039     | 0.007977     | 0.019729     |
| w          | 0.038826     | 0.035414     | 0.035277     |
| h          | 0.042950     | 0.040726     | 0.037196     |
| conf       | 0.534229     | 0.384348     | 0.228482     |
| cls        | 0.096872     | 0.058759     | 0.031359     |
| cls_acc    | 94.44%       | 97.44%       | 100.00%      |
| recall50   | 0.833333     | 0.820513     | 0.948718     |
| recall75   | 0.694444     | 0.743590     | 0.743590     |
| precision  | 0.714286     | 0.359551     | 0.192708     |
| conf_obj   | 0.813744     | 0.872103     | 0.931487     |
| conf_noobj | 0.000770     | 0.000821     | 0.000625     |
+------------+--------------+--------------+--------------+
2020-12-20 01:40:50.703 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.980441
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.350320     | 0.337739     | 0.292382     |
| x          | 0.018441     | 0.018887     | 0.029577     |
| y          | 0.005762     | 0.007757     | 0.028277     |
| w          | 0.031229     | 0.029900     | 0.017392     |
| h          | 0.021396     | 0.021781     | 0.019158     |
| conf       | 0.265894     | 0.253172     | 0.190412     |
| cls        | 0.007598     | 0.006242     | 0.007566     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.973684     | 1.000000     |
| recall75   | 0.705882     | 0.736842     | 0.789474     |
| precision  | 0.810811     | 0.411111     | 0.164502     |
| conf_obj   | 0.906010     | 0.936679     | 0.964207     |
| conf_noobj | 0.000556     | 0.000820     | 0.000755     |
+------------+--------------+--------------+--------------+
2020-12-20 01:41:56.971 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 2.093053
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.795584     | 0.728478     | 0.568991     |
| x          | 0.008630     | 0.009839     | 0.025861     |
| y          | 0.005799     | 0.008730     | 0.025170     |
| w          | 0.021199     | 0.012714     | 0.016007     |
| h          | 0.026165     | 0.022400     | 0.018103     |
| conf       | 0.656377     | 0.618934     | 0.409870     |
| cls        | 0.077414     | 0.055861     | 0.073980     |
| cls_acc    | 96.55%       | 96.67%       | 96.67%       |
| recall50   | 0.827586     | 0.866667     | 0.900000     |
| recall75   | 0.724138     | 0.833333     | 0.866667     |
| precision  | 0.857143     | 0.520000     | 0.221311     |
| conf_obj   | 0.816774     | 0.829793     | 0.887489     |
| conf_noobj | 0.000593     | 0.000526     | 0.000601     |
+------------+--------------+--------------+--------------+
2020-12-20 01:43:00.100 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.855536
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.353247     | 0.264674     | 0.237616     |
| x          | 0.004361     | 0.009748     | 0.019321     |
| y          | 0.004943     | 0.010720     | 0.018083     |
| w          | 0.018394     | 0.013855     | 0.011700     |
| h          | 0.014869     | 0.012071     | 0.013781     |
| conf       | 0.306421     | 0.210121     | 0.167450     |
| cls        | 0.004258     | 0.008159     | 0.007282     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.869565     | 0.956522     | 0.958333     |
| precision  | 0.750000     | 0.343284     | 0.160000     |
| conf_obj   | 0.897147     | 0.939276     | 0.944212     |
| conf_noobj | 0.000854     | 0.000758     | 0.000579     |
+------------+--------------+--------------+--------------+
2020-12-20 01:44:05.672 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.936274
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.344937     | 0.286209     | 0.305128     |
| x          | 0.007291     | 0.012134     | 0.041371     |
| y          | 0.013156     | 0.018093     | 0.027900     |
| w          | 0.044574     | 0.015995     | 0.019400     |
| h          | 0.053324     | 0.019389     | 0.022964     |
| conf       | 0.224092     | 0.219121     | 0.191630     |
| cls        | 0.002500     | 0.001476     | 0.001862     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.966667     | 0.966667     |
| recall75   | 0.833333     | 0.900000     | 0.900000     |
| precision  | 0.700000     | 0.345238     | 0.168605     |
| conf_obj   | 0.932578     | 0.944364     | 0.955439     |
| conf_noobj | 0.000827     | 0.000800     | 0.000652     |
+------------+--------------+--------------+--------------+
2020-12-20 01:45:12.980 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.170482
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.541391     | 0.321967     | 0.307123     |
| x          | 0.015366     | 0.021238     | 0.041919     |
| y          | 0.004744     | 0.009605     | 0.023994     |
| w          | 0.037106     | 0.023905     | 0.020148     |
| h          | 0.040015     | 0.019130     | 0.022100     |
| conf       | 0.438813     | 0.239484     | 0.186387     |
| cls        | 0.005347     | 0.008606     | 0.012575     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.965517     | 0.968750     |
| recall75   | 0.720000     | 0.793103     | 0.718750     |
| precision  | 0.638889     | 0.411765     | 0.215278     |
| conf_obj   | 0.910128     | 0.942343     | 0.968637     |
| conf_noobj | 0.001125     | 0.000845     | 0.000696     |
+------------+--------------+--------------+--------------+
2020-12-20 01:46:19.294 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.516279
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.545721     | 0.485444     | 0.485114     |
| x          | 0.005380     | 0.018882     | 0.027997     |
| y          | 0.011874     | 0.026537     | 0.048985     |
| w          | 0.044590     | 0.035349     | 0.021728     |
| h          | 0.031599     | 0.031267     | 0.018019     |
| conf       | 0.392191     | 0.339947     | 0.327701     |
| cls        | 0.060086     | 0.033464     | 0.040683     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.928571     | 0.931035     |
| recall75   | 0.785714     | 0.821429     | 0.689655     |
| precision  | 0.685714     | 0.400000     | 0.177632     |
| conf_obj   | 0.886318     | 0.890818     | 0.889960     |
| conf_noobj | 0.001025     | 0.000861     | 0.000791     |
+------------+--------------+--------------+--------------+
2020-12-20 01:47:25.766 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.911142
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.275373     | 0.386207     | 0.249563     |
| x          | 0.010539     | 0.023123     | 0.014689     |
| y          | 0.007233     | 0.015988     | 0.014855     |
| w          | 0.023344     | 0.020322     | 0.009609     |
| h          | 0.019480     | 0.017246     | 0.017442     |
| conf       | 0.202100     | 0.283843     | 0.186324     |
| cls        | 0.012678     | 0.025686     | 0.006644     |
| cls_acc    | 100.00%      | 97.37%       | 100.00%      |
| recall50   | 0.972973     | 0.894737     | 0.975000     |
| recall75   | 0.810811     | 0.763158     | 0.900000     |
| precision  | 0.782609     | 0.419753     | 0.183962     |
| conf_obj   | 0.945063     | 0.919899     | 0.950332     |
| conf_noobj | 0.000880     | 0.000783     | 0.000673     |
+------------+--------------+--------------+--------------+
2020-12-20 01:48:33.637 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.742185
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.524177     | 0.519394     | 0.698614     |
| x          | 0.025032     | 0.013884     | 0.015316     |
| y          | 0.006698     | 0.015491     | 0.028181     |
| w          | 0.064309     | 0.035296     | 0.040254     |
| h          | 0.055693     | 0.030750     | 0.048055     |
| conf       | 0.346668     | 0.365329     | 0.399943     |
| cls        | 0.025777     | 0.058644     | 0.166867     |
| cls_acc    | 100.00%      | 94.29%       | 89.74%       |
| recall50   | 0.875000     | 0.885714     | 0.846154     |
| recall75   | 0.781250     | 0.828571     | 0.794872     |
| precision  | 0.800000     | 0.413333     | 0.200000     |
| conf_obj   | 0.896026     | 0.891506     | 0.870182     |
| conf_noobj | 0.000676     | 0.000685     | 0.000603     |
+------------+--------------+--------------+--------------+
2020-12-20 01:49:46.672 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 2.365776
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.822366     | 0.840610     | 0.702801     |
| x          | 0.025420     | 0.038288     | 0.035405     |
| y          | 0.030566     | 0.032838     | 0.043914     |
| w          | 0.078675     | 0.044736     | 0.041363     |
| h          | 0.082334     | 0.043281     | 0.042815     |
| conf       | 0.566689     | 0.646994     | 0.522058     |
| cls        | 0.038681     | 0.034474     | 0.017245     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.790698     | 0.818182     |
| recall75   | 0.538462     | 0.581395     | 0.681818     |
| precision  | 0.600000     | 0.343434     | 0.150000     |
| conf_obj   | 0.855052     | 0.815123     | 0.823480     |
| conf_noobj | 0.001371     | 0.001075     | 0.000938     |
+------------+--------------+--------------+--------------+
2020-12-20 01:50:55.648 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.472600
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.505135     | 0.440288     | 0.527176     |
| x          | 0.013700     | 0.017060     | 0.021864     |
| y          | 0.008849     | 0.010694     | 0.031786     |
| w          | 0.062394     | 0.035023     | 0.035531     |
| h          | 0.055610     | 0.041439     | 0.040178     |
| conf       | 0.325113     | 0.281715     | 0.322676     |
| cls        | 0.039469     | 0.054357     | 0.075141     |
| cls_acc    | 97.30%       | 94.87%       | 95.24%       |
| recall50   | 0.918919     | 0.923077     | 0.904762     |
| recall75   | 0.783784     | 0.717949     | 0.785714     |
| precision  | 0.790698     | 0.450000     | 0.202128     |
| conf_obj   | 0.900191     | 0.941815     | 0.947278     |
| conf_noobj | 0.000748     | 0.000811     | 0.000709     |
+------------+--------------+--------------+--------------+
2020-12-20 01:52:00.176 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 2.742552
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.914964     | 0.992662     | 0.834926     |
| x          | 0.011089     | 0.037771     | 0.026368     |
| y          | 0.010893     | 0.017820     | 0.053725     |
| w          | 0.058647     | 0.057122     | 0.031029     |
| h          | 0.046842     | 0.063191     | 0.038081     |
| conf       | 0.384779     | 0.411465     | 0.269999     |
| cls        | 0.402713     | 0.405293     | 0.415724     |
| cls_acc    | 92.00%       | 92.59%       | 89.29%       |
| recall50   | 0.880000     | 0.814815     | 0.821429     |
| recall75   | 0.640000     | 0.481481     | 0.535714     |
| precision  | 0.628571     | 0.333333     | 0.141975     |
| conf_obj   | 0.850426     | 0.854657     | 0.900082     |
| conf_noobj | 0.000836     | 0.000715     | 0.000630     |
+------------+--------------+--------------+--------------+
2020-12-20 01:53:11.996 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.871537
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.395514     | 0.242737     | 0.233286     |
| x          | 0.028563     | 0.006838     | 0.024111     |
| y          | 0.005928     | 0.010980     | 0.031370     |
| w          | 0.051501     | 0.013280     | 0.012978     |
| h          | 0.040486     | 0.014063     | 0.017737     |
| conf       | 0.265023     | 0.191792     | 0.140837     |
| cls        | 0.004014     | 0.005784     | 0.006253     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 0.964286     |
| recall75   | 0.782609     | 0.846154     | 0.821429     |
| precision  | 0.538462     | 0.325000     | 0.140625     |
| conf_obj   | 0.943089     | 0.960744     | 0.982271     |
| conf_noobj | 0.000920     | 0.000779     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 01:53:25.213 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.216
2020-12-20 01:53:25.216 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 01:54:23.673 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04055   | 0.55970 | 0.07562 | 0.28188 |
| 1     | Wear_helmet | 0.26179   | 0.93365 | 0.40893 | 0.87008 |
| 2     | Total       | 0.15117   | 0.74668 | 0.24227 | 0.57598 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 01:54:23.674 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5759805017092318
2020-12-20 01:54:23.674 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 01:54:23.674 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.457993

2020-12-20 01:54:24.157 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 1/2, epo 4/5
2020-12-20 01:54:24.157 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 1/2, epo 4/5; time cost: 0:15:42.653887

2020-12-20 01:54:24.158 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 7/20, idx 1/2, epo 5/5
2020-12-20 01:54:25.402 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.802116
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.332380     | 0.241246     | 0.228490     |
| x          | 0.010852     | 0.010760     | 0.017365     |
| y          | 0.006317     | 0.010059     | 0.023118     |
| w          | 0.024400     | 0.009561     | 0.005629     |
| h          | 0.015079     | 0.014228     | 0.007350     |
| conf       | 0.271920     | 0.193985     | 0.166062     |
| cls        | 0.003812     | 0.002653     | 0.008966     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.966667     | 1.000000     |
| recall75   | 0.896552     | 0.900000     | 0.966667     |
| precision  | 0.742857     | 0.439394     | 0.211268     |
| conf_obj   | 0.896885     | 0.935341     | 0.962305     |
| conf_noobj | 0.000771     | 0.000670     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 01:55:26.658 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 2.505041
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.940675     | 0.858102     | 0.706264     |
| x          | 0.019641     | 0.009435     | 0.021030     |
| y          | 0.022005     | 0.012781     | 0.029058     |
| w          | 0.050449     | 0.045084     | 0.032352     |
| h          | 0.053474     | 0.046389     | 0.030264     |
| conf       | 0.550233     | 0.448949     | 0.349995     |
| cls        | 0.244873     | 0.295464     | 0.243565     |
| cls_acc    | 93.33%       | 93.55%       | 93.55%       |
| recall50   | 0.766667     | 0.870968     | 0.870968     |
| recall75   | 0.633333     | 0.677419     | 0.580645     |
| precision  | 0.589744     | 0.346154     | 0.148352     |
| conf_obj   | 0.832743     | 0.886386     | 0.915745     |
| conf_noobj | 0.001153     | 0.000983     | 0.000753     |
+------------+--------------+--------------+--------------+
2020-12-20 01:56:35.365 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.813780
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.306561     | 0.245637     | 0.261582     |
| x          | 0.003872     | 0.009739     | 0.029317     |
| y          | 0.008114     | 0.024689     | 0.051471     |
| w          | 0.053216     | 0.028012     | 0.013498     |
| h          | 0.019683     | 0.021588     | 0.011540     |
| conf       | 0.214170     | 0.157710     | 0.152760     |
| cls        | 0.007506     | 0.003898     | 0.002995     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 0.947368     |
| recall75   | 0.894737     | 0.842105     | 0.736842     |
| precision  | 0.633333     | 0.375000     | 0.168224     |
| conf_obj   | 0.935716     | 0.943362     | 0.941047     |
| conf_noobj | 0.000840     | 0.000511     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 01:57:36.861 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.728920
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.197844     | 0.256464     | 0.274612     |
| x          | 0.010737     | 0.009652     | 0.016162     |
| y          | 0.005064     | 0.016581     | 0.036083     |
| w          | 0.023466     | 0.022568     | 0.013922     |
| h          | 0.015007     | 0.011974     | 0.009401     |
| conf       | 0.129642     | 0.185618     | 0.185911     |
| cls        | 0.013929     | 0.010071     | 0.013133     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.900000     | 0.900000     |
| precision  | 0.760000     | 0.357143     | 0.168067     |
| conf_obj   | 0.973395     | 0.956724     | 0.941618     |
| conf_noobj | 0.000647     | 0.000729     | 0.000612     |
+------------+--------------+--------------+--------------+
2020-12-20 01:58:36.288 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.497255
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.593124     | 0.562807     | 0.341324     |
| x          | 0.028051     | 0.037496     | 0.067732     |
| y          | 0.009591     | 0.010530     | 0.028777     |
| w          | 0.073087     | 0.077162     | 0.028655     |
| h          | 0.018336     | 0.024581     | 0.007321     |
| conf       | 0.459687     | 0.405924     | 0.205855     |
| cls        | 0.004373     | 0.007114     | 0.002986     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.866667     | 1.000000     |
| recall75   | 0.866667     | 0.666667     | 0.933333     |
| precision  | 0.700000     | 0.317073     | 0.129310     |
| conf_obj   | 0.896417     | 0.845732     | 0.913083     |
| conf_noobj | 0.000849     | 0.000727     | 0.000590     |
+------------+--------------+--------------+--------------+
2020-12-20 01:59:39.526 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.761752
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.626338     | 0.508081     | 0.627332     |
| x          | 0.007308     | 0.013314     | 0.032492     |
| y          | 0.012347     | 0.015509     | 0.028836     |
| w          | 0.048204     | 0.045917     | 0.021045     |
| h          | 0.079936     | 0.060018     | 0.018495     |
| conf       | 0.419468     | 0.345096     | 0.496451     |
| cls        | 0.059075     | 0.028227     | 0.030014     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 0.913043     | 0.826087     |
| recall75   | 0.727273     | 0.608696     | 0.782609     |
| precision  | 0.692308     | 0.388889     | 0.121795     |
| conf_obj   | 0.844316     | 0.871473     | 0.800734     |
| conf_noobj | 0.000999     | 0.000903     | 0.000851     |
+------------+--------------+--------------+--------------+
2020-12-20 02:00:38.516 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.248700
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.388630     | 0.429916     | 0.430154     |
| x          | 0.013402     | 0.013225     | 0.021948     |
| y          | 0.018298     | 0.018693     | 0.044081     |
| w          | 0.034513     | 0.018214     | 0.021401     |
| h          | 0.034564     | 0.028245     | 0.023363     |
| conf       | 0.277823     | 0.338253     | 0.308573     |
| cls        | 0.010030     | 0.013287     | 0.010789     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.944444     | 0.973684     |
| recall75   | 0.794118     | 0.861111     | 0.815789     |
| precision  | 0.733333     | 0.400000     | 0.222892     |
| conf_obj   | 0.912739     | 0.902007     | 0.908693     |
| conf_noobj | 0.001040     | 0.001037     | 0.000766     |
+------------+--------------+--------------+--------------+
2020-12-20 02:01:46.861 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.799843
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.655488     | 0.641790     | 0.502565     |
| x          | 0.009870     | 0.020150     | 0.032827     |
| y          | 0.019602     | 0.016386     | 0.022801     |
| w          | 0.036360     | 0.029153     | 0.019072     |
| h          | 0.038231     | 0.024398     | 0.018764     |
| conf       | 0.467337     | 0.457532     | 0.327942     |
| cls        | 0.084087     | 0.094172     | 0.081159     |
| cls_acc    | 100.00%      | 97.83%       | 97.83%       |
| recall50   | 0.904762     | 0.869565     | 0.934783     |
| recall75   | 0.809524     | 0.739130     | 0.760870     |
| precision  | 0.703704     | 0.434783     | 0.197248     |
| conf_obj   | 0.877482     | 0.861306     | 0.893608     |
| conf_noobj | 0.001307     | 0.001193     | 0.000985     |
+------------+--------------+--------------+--------------+
2020-12-20 02:02:53.932 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.134748
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.258115     | 0.455476     | 0.421157     |
| x          | 0.010265     | 0.021912     | 0.040083     |
| y          | 0.009780     | 0.014312     | 0.044532     |
| w          | 0.031646     | 0.022047     | 0.027220     |
| h          | 0.014499     | 0.009557     | 0.012696     |
| conf       | 0.174858     | 0.365060     | 0.293015     |
| cls        | 0.017067     | 0.022587     | 0.003610     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.925926     | 0.925926     |
| recall75   | 0.833333     | 0.888889     | 0.888889     |
| precision  | 0.766667     | 0.367647     | 0.177305     |
| conf_obj   | 0.953748     | 0.900120     | 0.928833     |
| conf_noobj | 0.000862     | 0.000827     | 0.000732     |
+------------+--------------+--------------+--------------+
2020-12-20 02:03:57.068 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.202801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.384560     | 0.472407     | 0.345834     |
| x          | 0.006190     | 0.016269     | 0.022845     |
| y          | 0.007809     | 0.016327     | 0.032053     |
| w          | 0.059770     | 0.062914     | 0.055805     |
| h          | 0.051538     | 0.053402     | 0.041800     |
| conf       | 0.236801     | 0.308262     | 0.187304     |
| cls        | 0.022453     | 0.015233     | 0.006027     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 0.941176     |
| recall75   | 0.882353     | 0.823529     | 0.823529     |
| precision  | 0.607143     | 0.266667     | 0.105960     |
| conf_obj   | 0.949966     | 0.914464     | 0.946603     |
| conf_noobj | 0.001199     | 0.001026     | 0.000699     |
+------------+--------------+--------------+--------------+
2020-12-20 02:05:00.778 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.883622
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.319854     | 0.307087     | 0.256681     |
| x          | 0.009261     | 0.006409     | 0.013482     |
| y          | 0.004450     | 0.007163     | 0.015861     |
| w          | 0.068682     | 0.053910     | 0.051577     |
| h          | 0.049524     | 0.039119     | 0.039041     |
| conf       | 0.181468     | 0.196835     | 0.130173     |
| cls        | 0.006469     | 0.003651     | 0.006547     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 0.812500     | 0.812500     | 0.812500     |
| precision  | 0.695652     | 0.375000     | 0.173913     |
| conf_obj   | 0.970976     | 0.933974     | 0.969215     |
| conf_noobj | 0.000815     | 0.000574     | 0.000492     |
+------------+--------------+--------------+--------------+
2020-12-20 02:06:04.530 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.629666
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.642335     | 0.494601     | 0.492730     |
| x          | 0.021793     | 0.013927     | 0.041758     |
| y          | 0.007722     | 0.023260     | 0.039065     |
| w          | 0.033014     | 0.043402     | 0.019244     |
| h          | 0.031629     | 0.026178     | 0.020470     |
| conf       | 0.353122     | 0.237898     | 0.254687     |
| cls        | 0.195055     | 0.149936     | 0.117506     |
| cls_acc    | 95.24%       | 96.00%       | 92.31%       |
| recall50   | 0.857143     | 0.960000     | 0.923077     |
| recall75   | 0.714286     | 0.680000     | 0.692308     |
| precision  | 0.580645     | 0.400000     | 0.152866     |
| conf_obj   | 0.920359     | 0.953235     | 0.932670     |
| conf_noobj | 0.001101     | 0.000960     | 0.000898     |
+------------+--------------+--------------+--------------+
2020-12-20 02:07:08.683 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.454951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.522525     | 0.476916     | 0.455510     |
| x          | 0.023820     | 0.007208     | 0.027798     |
| y          | 0.012455     | 0.009066     | 0.027221     |
| w          | 0.035032     | 0.029443     | 0.009894     |
| h          | 0.021255     | 0.014357     | 0.012671     |
| conf       | 0.257424     | 0.222441     | 0.186624     |
| cls        | 0.172540     | 0.194400     | 0.191302     |
| cls_acc    | 93.55%       | 96.97%       | 93.94%       |
| recall50   | 0.838710     | 0.939394     | 0.909091     |
| recall75   | 0.677419     | 0.909091     | 0.848485     |
| precision  | 0.666667     | 0.364706     | 0.158730     |
| conf_obj   | 0.929796     | 0.950406     | 0.952454     |
| conf_noobj | 0.000783     | 0.000818     | 0.000619     |
+------------+--------------+--------------+--------------+
2020-12-20 02:08:17.414 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.239159
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.391972     | 0.425784     | 0.421403     |
| x          | 0.005027     | 0.014279     | 0.038048     |
| y          | 0.002127     | 0.005704     | 0.032214     |
| w          | 0.035469     | 0.044491     | 0.038779     |
| h          | 0.025721     | 0.049273     | 0.037806     |
| conf       | 0.315941     | 0.306600     | 0.271304     |
| cls        | 0.007687     | 0.005437     | 0.003253     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 0.960000     |
| recall75   | 0.954545     | 0.791667     | 0.760000     |
| precision  | 0.750000     | 0.410714     | 0.157895     |
| conf_obj   | 0.950684     | 0.941607     | 0.942583     |
| conf_noobj | 0.000657     | 0.000539     | 0.000550     |
+------------+--------------+--------------+--------------+
2020-12-20 02:08:29.883 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.204
2020-12-20 02:08:29.887 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 02:09:34.336 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05739   | 0.36318 | 0.09912 | 0.16997 |
| 1     | Wear_helmet | 0.31312   | 0.96161 | 0.47241 | 0.88735 |
| 2     | Total       | 0.18525   | 0.66240 | 0.28576 | 0.52866 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:09:34.336 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5286597467913201
2020-12-20 02:09:34.337 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 02:09:34.340 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:04.449324

2020-12-20 02:09:34.863 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 7/20, idx 1/2, epo 5/5
2020-12-20 02:09:34.864 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 7/20, idx 1/2, epo 5/5; time cost: 0:15:10.705604

2020-12-20 02:09:34.864 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.281
2020-12-20 02:09:35.113 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 02:13:39.477 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07489   | 0.52119 | 0.13095 | 0.30829 |
| 1     | Wear_helmet | 0.31225   | 0.93826 | 0.46856 | 0.86924 |
| 2     | Total       | 0.19357   | 0.72972 | 0.29976 | 0.58877 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:13:39.478 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5887678663582964
2020-12-20 02:13:39.478 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 02:13:39.478 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:04:04.364602

2020-12-20 02:13:45.466 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 8!
2020-12-20 02:13:45.632 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 1/2, epo 1/5
2020-12-20 02:13:47.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.143742
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.409301     | 0.416405     | 0.318035     |
| x          | 0.011763     | 0.010103     | 0.031463     |
| y          | 0.003865     | 0.014957     | 0.028808     |
| w          | 0.058429     | 0.035674     | 0.026139     |
| h          | 0.030070     | 0.027416     | 0.015196     |
| conf       | 0.205179     | 0.236391     | 0.155368     |
| cls        | 0.099996     | 0.091865     | 0.061062     |
| cls_acc    | 88.89%       | 94.74%       | 100.00%      |
| recall50   | 0.888889     | 0.947368     | 0.947368     |
| recall75   | 0.833333     | 0.894737     | 0.789474     |
| precision  | 0.592593     | 0.281250     | 0.108434     |
| conf_obj   | 0.958992     | 0.923616     | 0.970099     |
| conf_noobj | 0.000961     | 0.000792     | 0.000672     |
+------------+--------------+--------------+--------------+
2020-12-20 02:14:52.983 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.477683
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.570973     | 0.548577     | 0.358133     |
| x          | 0.011066     | 0.008708     | 0.011347     |
| y          | 0.011791     | 0.015381     | 0.022699     |
| w          | 0.046995     | 0.024606     | 0.015656     |
| h          | 0.041382     | 0.029690     | 0.014934     |
| conf       | 0.452842     | 0.466519     | 0.275783     |
| cls        | 0.006898     | 0.003673     | 0.017714     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.950000     |
| recall75   | 0.750000     | 0.700000     | 0.800000     |
| precision  | 0.486486     | 0.225000     | 0.113095     |
| conf_obj   | 0.876363     | 0.846775     | 0.905385     |
| conf_noobj | 0.001360     | 0.001151     | 0.000820     |
+------------+--------------+--------------+--------------+
2020-12-20 02:15:55.533 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.958891
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.373035     | 0.281901     | 0.303955     |
| x          | 0.004791     | 0.010919     | 0.041065     |
| y          | 0.004809     | 0.022070     | 0.017640     |
| w          | 0.014557     | 0.015756     | 0.011093     |
| h          | 0.014347     | 0.018577     | 0.012245     |
| conf       | 0.327520     | 0.170779     | 0.208459     |
| cls        | 0.007011     | 0.043800     | 0.013454     |
| cls_acc    | 100.00%      | 95.24%       | 100.00%      |
| recall50   | 0.950000     | 0.904762     | 0.909091     |
| recall75   | 0.850000     | 0.857143     | 0.727273     |
| precision  | 0.655172     | 0.431818     | 0.134228     |
| conf_obj   | 0.917209     | 0.938448     | 0.917994     |
| conf_noobj | 0.000850     | 0.000539     | 0.000556     |
+------------+--------------+--------------+--------------+
2020-12-20 02:17:04.049 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.847043
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.245437     | 0.260256     | 0.341350     |
| x          | 0.009951     | 0.014913     | 0.044979     |
| y          | 0.004687     | 0.012975     | 0.020845     |
| w          | 0.033528     | 0.019403     | 0.019319     |
| h          | 0.017800     | 0.018253     | 0.022564     |
| conf       | 0.174932     | 0.188824     | 0.225580     |
| cls        | 0.004539     | 0.005887     | 0.008063     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.951219     | 1.000000     | 0.937500     |
| recall75   | 0.804878     | 0.863636     | 0.812500     |
| precision  | 0.847826     | 0.494382     | 0.228426     |
| conf_obj   | 0.941914     | 0.953871     | 0.946771     |
| conf_noobj | 0.000670     | 0.000785     | 0.000805     |
+------------+--------------+--------------+--------------+
2020-12-20 02:18:05.431 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.455021
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.577595     | 0.481833     | 0.395592     |
| x          | 0.014222     | 0.006466     | 0.019438     |
| y          | 0.017064     | 0.015179     | 0.023130     |
| w          | 0.026096     | 0.021410     | 0.013055     |
| h          | 0.011969     | 0.013013     | 0.018639     |
| conf       | 0.397765     | 0.327788     | 0.214350     |
| cls        | 0.110480     | 0.097978     | 0.106979     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.954545     | 0.909091     |
| recall75   | 0.863636     | 0.954545     | 0.909091     |
| precision  | 0.567568     | 0.338710     | 0.152672     |
| conf_obj   | 0.902140     | 0.910218     | 0.937116     |
| conf_noobj | 0.001432     | 0.000905     | 0.000788     |
+------------+--------------+--------------+--------------+
2020-12-20 02:19:08.856 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.193079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.385734     | 0.468203     | 0.339142     |
| x          | 0.019279     | 0.013043     | 0.026950     |
| y          | 0.004946     | 0.013568     | 0.061948     |
| w          | 0.017765     | 0.019189     | 0.022300     |
| h          | 0.011367     | 0.018530     | 0.018362     |
| conf       | 0.291519     | 0.371212     | 0.139927     |
| cls        | 0.040858     | 0.032661     | 0.069656     |
| cls_acc    | 95.83%       | 100.00%      | 96.00%       |
| recall50   | 0.833333     | 0.920000     | 0.960000     |
| recall75   | 0.791667     | 0.840000     | 0.800000     |
| precision  | 0.833333     | 0.450980     | 0.198347     |
| conf_obj   | 0.883717     | 0.910246     | 0.953737     |
| conf_noobj | 0.000450     | 0.000533     | 0.000512     |
+------------+--------------+--------------+--------------+
2020-12-20 02:20:16.825 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.661293
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.208878     | 0.222219     | 0.230196     |
| x          | 0.013263     | 0.008413     | 0.013846     |
| y          | 0.003612     | 0.009623     | 0.017165     |
| w          | 0.014848     | 0.011578     | 0.011039     |
| h          | 0.019041     | 0.017419     | 0.015576     |
| conf       | 0.138299     | 0.152351     | 0.160745     |
| cls        | 0.019814     | 0.022836     | 0.011825     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.956522     | 0.956522     |
| precision  | 0.814815     | 0.425926     | 0.178295     |
| conf_obj   | 0.960483     | 0.960978     | 0.958518     |
| conf_noobj | 0.000750     | 0.000716     | 0.000652     |
+------------+--------------+--------------+--------------+
2020-12-20 02:21:23.673 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.739103
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.244167     | 0.231851     | 0.263085     |
| x          | 0.009714     | 0.005865     | 0.021177     |
| y          | 0.002311     | 0.007773     | 0.010702     |
| w          | 0.037522     | 0.018110     | 0.010438     |
| h          | 0.031976     | 0.023571     | 0.016859     |
| conf       | 0.149234     | 0.140320     | 0.177458     |
| cls        | 0.013409     | 0.036212     | 0.026452     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.818182     | 0.909091     | 0.909091     |
| precision  | 0.733333     | 0.379310     | 0.138365     |
| conf_obj   | 0.976079     | 0.979513     | 0.963690     |
| conf_noobj | 0.000745     | 0.000636     | 0.000676     |
+------------+--------------+--------------+--------------+
2020-12-20 02:22:28.418 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.612331
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.598932     | 0.565882     | 0.447517     |
| x          | 0.007645     | 0.008185     | 0.018403     |
| y          | 0.009174     | 0.011605     | 0.023247     |
| w          | 0.051960     | 0.046739     | 0.012540     |
| h          | 0.088876     | 0.096247     | 0.017617     |
| conf       | 0.306973     | 0.249677     | 0.239266     |
| cls        | 0.134305     | 0.153430     | 0.136444     |
| cls_acc    | 92.00%       | 92.31%       | 92.31%       |
| recall50   | 0.840000     | 0.884615     | 0.923077     |
| recall75   | 0.720000     | 0.730769     | 0.807692     |
| precision  | 0.583333     | 0.258427     | 0.120000     |
| conf_obj   | 0.912319     | 0.934751     | 0.945793     |
| conf_noobj | 0.001094     | 0.000926     | 0.000753     |
+------------+--------------+--------------+--------------+
2020-12-20 02:23:31.560 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.789590
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.242914     | 0.326659     | 0.220018     |
| x          | 0.002041     | 0.006275     | 0.011819     |
| y          | 0.007493     | 0.013362     | 0.016217     |
| w          | 0.032502     | 0.027821     | 0.008180     |
| h          | 0.024616     | 0.023041     | 0.012981     |
| conf       | 0.175227     | 0.255734     | 0.170489     |
| cls        | 0.001035     | 0.000425     | 0.000331     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.944444     | 1.000000     |
| recall75   | 0.882353     | 0.833333     | 0.944444     |
| precision  | 0.761905     | 0.472222     | 0.168224     |
| conf_obj   | 0.952471     | 0.917704     | 0.953788     |
| conf_noobj | 0.000627     | 0.000594     | 0.000593     |
+------------+--------------+--------------+--------------+
2020-12-20 02:24:36.271 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.705399
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.262155     | 0.195483     | 0.247761     |
| x          | 0.006746     | 0.011408     | 0.016844     |
| y          | 0.008647     | 0.008127     | 0.024661     |
| w          | 0.037746     | 0.011328     | 0.011298     |
| h          | 0.022328     | 0.010762     | 0.011281     |
| conf       | 0.180707     | 0.153226     | 0.182916     |
| cls        | 0.005981     | 0.000632     | 0.000761     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 1.000000     | 0.875000     |
| precision  | 0.592593     | 0.246154     | 0.079208     |
| conf_obj   | 0.961691     | 0.987093     | 0.961661     |
| conf_noobj | 0.000823     | 0.000758     | 0.000711     |
+------------+--------------+--------------+--------------+
2020-12-20 02:25:42.030 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 3.520700
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 1.179219     | 1.148445     | 1.193036     |
| x          | 0.025024     | 0.015386     | 0.015018     |
| y          | 0.010270     | 0.015511     | 0.028476     |
| w          | 0.037772     | 0.033625     | 0.003502     |
| h          | 0.027475     | 0.030090     | 0.006617     |
| conf       | 0.649913     | 0.656483     | 0.779167     |
| cls        | 0.428766     | 0.397349     | 0.360255     |
| cls_acc    | 87.50%       | 87.50%       | 87.50%       |
| recall50   | 0.812500     | 0.750000     | 0.750000     |
| recall75   | 0.750000     | 0.687500     | 0.750000     |
| precision  | 0.722222     | 0.444444     | 0.157895     |
| conf_obj   | 0.845171     | 0.841297     | 0.800243     |
| conf_noobj | 0.000524     | 0.000420     | 0.000512     |
+------------+--------------+--------------+--------------+
2020-12-20 02:26:49.636 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.825276
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.232777     | 0.287120     | 0.305379     |
| x          | 0.005453     | 0.018384     | 0.019038     |
| y          | 0.010897     | 0.016181     | 0.048931     |
| w          | 0.011045     | 0.007433     | 0.006900     |
| h          | 0.035830     | 0.021674     | 0.017044     |
| conf       | 0.158515     | 0.219430     | 0.211358     |
| cls        | 0.011036     | 0.004017     | 0.002108     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.809524     | 0.818182     | 0.954545     |
| precision  | 0.724138     | 0.372881     | 0.143791     |
| conf_obj   | 0.981107     | 0.961396     | 0.953881     |
| conf_noobj | 0.000976     | 0.000949     | 0.000847     |
+------------+--------------+--------------+--------------+
2020-12-20 02:27:58.299 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.507851
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.614747     | 0.461667     | 0.431436     |
| x          | 0.017274     | 0.032370     | 0.030936     |
| y          | 0.013204     | 0.020121     | 0.032208     |
| w          | 0.115364     | 0.029427     | 0.009931     |
| h          | 0.053966     | 0.022271     | 0.020097     |
| conf       | 0.372560     | 0.332906     | 0.315598     |
| cls        | 0.042378     | 0.024572     | 0.022668     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.863636     | 0.863636     |
| recall75   | 0.789474     | 0.727273     | 0.727273     |
| precision  | 0.640000     | 0.345455     | 0.121019     |
| conf_obj   | 0.887515     | 0.869846     | 0.877801     |
| conf_noobj | 0.001209     | 0.000799     | 0.000739     |
+------------+--------------+--------------+--------------+
2020-12-20 02:28:11.039 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.274
2020-12-20 02:28:11.055 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 02:29:11.019 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08574   | 0.55473 | 0.14852 | 0.30270 |
| 1     | Wear_helmet | 0.38646   | 0.93081 | 0.54616 | 0.88091 |
| 2     | Total       | 0.23610   | 0.74277 | 0.34734 | 0.59180 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:29:11.020 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5918020931908864
2020-12-20 02:29:11.020 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 02:29:11.020 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.965530

2020-12-20 02:29:11.502 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 1/2, epo 1/5
2020-12-20 02:29:11.502 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 1/2, epo 1/5; time cost: 0:15:25.869214

2020-12-20 02:29:11.502 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 1/2, epo 2/5
2020-12-20 02:29:12.893 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.491674
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.576429     | 0.479457     | 0.435787     |
| x          | 0.018341     | 0.024433     | 0.018193     |
| y          | 0.007149     | 0.008944     | 0.014801     |
| w          | 0.013375     | 0.012465     | 0.010710     |
| h          | 0.024027     | 0.020390     | 0.018799     |
| conf       | 0.449835     | 0.384615     | 0.305691     |
| cls        | 0.063703     | 0.028611     | 0.067593     |
| cls_acc    | 95.83%       | 100.00%      | 96.30%       |
| recall50   | 0.875000     | 0.888889     | 0.925926     |
| recall75   | 0.791667     | 0.814815     | 0.888889     |
| precision  | 0.777778     | 0.338028     | 0.142045     |
| conf_obj   | 0.904143     | 0.882683     | 0.909173     |
| conf_noobj | 0.001267     | 0.001121     | 0.001112     |
+------------+--------------+--------------+--------------+
2020-12-20 02:30:18.654 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.181010
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.348561     | 0.433201     | 0.399248     |
| x          | 0.005473     | 0.003773     | 0.012055     |
| y          | 0.005339     | 0.012428     | 0.034465     |
| w          | 0.019978     | 0.015357     | 0.010728     |
| h          | 0.017626     | 0.014624     | 0.008387     |
| conf       | 0.160003     | 0.201085     | 0.138847     |
| cls        | 0.140142     | 0.185934     | 0.194765     |
| cls_acc    | 93.33%       | 96.77%       | 93.55%       |
| recall50   | 0.900000     | 0.935484     | 0.935484     |
| recall75   | 0.800000     | 0.935484     | 0.870968     |
| precision  | 0.729730     | 0.386667     | 0.171598     |
| conf_obj   | 0.950658     | 0.941219     | 0.978237     |
| conf_noobj | 0.000595     | 0.000635     | 0.000545     |
+------------+--------------+--------------+--------------+
2020-12-20 02:31:26.549 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.527554
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.139577     | 0.156245     | 0.231731     |
| x          | 0.001399     | 0.003601     | 0.015390     |
| y          | 0.005898     | 0.008770     | 0.025250     |
| w          | 0.019054     | 0.015966     | 0.023456     |
| h          | 0.004731     | 0.011357     | 0.006885     |
| conf       | 0.107974     | 0.116049     | 0.160533     |
| cls        | 0.000522     | 0.000503     | 0.000217     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.909091     |
| recall75   | 1.000000     | 0.909091     | 0.909091     |
| precision  | 0.611111     | 0.305556     | 0.158730     |
| conf_obj   | 0.993873     | 0.958578     | 0.929229     |
| conf_noobj | 0.000623     | 0.000371     | 0.000284     |
+------------+--------------+--------------+--------------+
2020-12-20 02:32:31.673 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.303855
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.528545     | 0.420275     | 0.355034     |
| x          | 0.005633     | 0.030282     | 0.024806     |
| y          | 0.009993     | 0.013165     | 0.043375     |
| w          | 0.019777     | 0.021981     | 0.012670     |
| h          | 0.020458     | 0.018291     | 0.009868     |
| conf       | 0.179510     | 0.209220     | 0.216730     |
| cls        | 0.293174     | 0.127336     | 0.047585     |
| cls_acc    | 95.45%       | 95.83%       | 96.00%       |
| recall50   | 0.909091     | 0.875000     | 0.920000     |
| recall75   | 0.863636     | 0.750000     | 0.800000     |
| precision  | 0.833333     | 0.420000     | 0.193277     |
| conf_obj   | 0.938260     | 0.935668     | 0.937293     |
| conf_noobj | 0.000450     | 0.000575     | 0.000599     |
+------------+--------------+--------------+--------------+
2020-12-20 02:33:38.660 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.435248
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.555874     | 0.458059     | 0.421316     |
| x          | 0.012250     | 0.021267     | 0.012447     |
| y          | 0.020868     | 0.011759     | 0.017074     |
| w          | 0.075434     | 0.038901     | 0.020829     |
| h          | 0.048853     | 0.031186     | 0.015978     |
| conf       | 0.288481     | 0.191364     | 0.213226     |
| cls        | 0.109988     | 0.163581     | 0.141761     |
| cls_acc    | 96.00%       | 96.43%       | 96.43%       |
| recall50   | 0.880000     | 0.928571     | 0.928571     |
| recall75   | 0.760000     | 0.785714     | 0.821429     |
| precision  | 0.550000     | 0.388060     | 0.146893     |
| conf_obj   | 0.948567     | 0.955545     | 0.946261     |
| conf_noobj | 0.001196     | 0.000776     | 0.000707     |
+------------+--------------+--------------+--------------+
2020-12-20 02:34:44.211 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.542516
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.453049     | 0.559604     | 0.529863     |
| x          | 0.004177     | 0.014330     | 0.019437     |
| y          | 0.004005     | 0.010301     | 0.048500     |
| w          | 0.027069     | 0.029597     | 0.024392     |
| h          | 0.027898     | 0.032562     | 0.021843     |
| conf       | 0.183552     | 0.250092     | 0.214642     |
| cls        | 0.206347     | 0.222722     | 0.201048     |
| cls_acc    | 91.30%       | 91.67%       | 92.00%       |
| recall50   | 0.913043     | 0.875000     | 0.840000     |
| recall75   | 0.782609     | 0.875000     | 0.760000     |
| precision  | 0.724138     | 0.318182     | 0.165354     |
| conf_obj   | 0.961390     | 0.943051     | 0.925862     |
| conf_noobj | 0.000828     | 0.000897     | 0.000583     |
+------------+--------------+--------------+--------------+
2020-12-20 02:35:46.611 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.062870
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.383001     | 0.311650     | 0.368219     |
| x          | 0.003177     | 0.009928     | 0.035228     |
| y          | 0.010790     | 0.020145     | 0.023598     |
| w          | 0.017087     | 0.009027     | 0.011866     |
| h          | 0.019182     | 0.028686     | 0.025136     |
| conf       | 0.269370     | 0.150349     | 0.160531     |
| cls        | 0.063396     | 0.093515     | 0.111860     |
| cls_acc    | 100.00%      | 96.97%       | 94.12%       |
| recall50   | 0.968750     | 0.969697     | 0.911765     |
| recall75   | 0.937500     | 0.818182     | 0.764706     |
| precision  | 0.815789     | 0.457143     | 0.190184     |
| conf_obj   | 0.915425     | 0.962276     | 0.960115     |
| conf_noobj | 0.000745     | 0.000601     | 0.000589     |
+------------+--------------+--------------+--------------+
2020-12-20 02:36:54.217 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.680654
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.226828     | 0.267827     | 0.185999     |
| x          | 0.007916     | 0.008941     | 0.024448     |
| y          | 0.004109     | 0.009287     | 0.036165     |
| w          | 0.024787     | 0.018149     | 0.014450     |
| h          | 0.006924     | 0.007036     | 0.006406     |
| conf       | 0.177728     | 0.217294     | 0.103241     |
| cls        | 0.005364     | 0.007119     | 0.001288     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.900000     | 1.000000     |
| recall75   | 0.950000     | 0.800000     | 1.000000     |
| precision  | 0.703704     | 0.315789     | 0.173913     |
| conf_obj   | 0.961014     | 0.915803     | 0.970787     |
| conf_noobj | 0.000692     | 0.000574     | 0.000399     |
+------------+--------------+--------------+--------------+
2020-12-20 02:38:04.401 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.299899
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.410261     | 0.424642     | 0.464996     |
| x          | 0.006222     | 0.024933     | 0.033133     |
| y          | 0.005449     | 0.018268     | 0.033775     |
| w          | 0.027546     | 0.026130     | 0.020044     |
| h          | 0.022315     | 0.026211     | 0.019320     |
| conf       | 0.331468     | 0.318429     | 0.342561     |
| cls        | 0.017260     | 0.010672     | 0.016163     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.892857     | 0.892857     |
| recall75   | 0.814815     | 0.714286     | 0.714286     |
| precision  | 0.722222     | 0.403226     | 0.162338     |
| conf_obj   | 0.866490     | 0.881800     | 0.868895     |
| conf_noobj | 0.000886     | 0.000746     | 0.000694     |
+------------+--------------+--------------+--------------+
2020-12-20 02:39:06.357 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.459554
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.544828     | 0.478807     | 0.435919     |
| x          | 0.016064     | 0.019275     | 0.029361     |
| y          | 0.015658     | 0.026989     | 0.041824     |
| w          | 0.089679     | 0.036256     | 0.027558     |
| h          | 0.069220     | 0.039364     | 0.037895     |
| conf       | 0.284932     | 0.311097     | 0.245583     |
| cls        | 0.069275     | 0.045825     | 0.053698     |
| cls_acc    | 95.45%       | 97.73%       | 97.78%       |
| recall50   | 0.840909     | 0.840909     | 0.888889     |
| recall75   | 0.681818     | 0.659091     | 0.644444     |
| precision  | 0.698113     | 0.349057     | 0.180180     |
| conf_obj   | 0.889715     | 0.906014     | 0.926302     |
| conf_noobj | 0.000825     | 0.000920     | 0.000764     |
+------------+--------------+--------------+--------------+
2020-12-20 02:40:12.631 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.629968
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.215472     | 0.198335     | 0.216162     |
| x          | 0.003045     | 0.006484     | 0.013771     |
| y          | 0.003500     | 0.008309     | 0.019336     |
| w          | 0.025950     | 0.015993     | 0.008545     |
| h          | 0.015568     | 0.010450     | 0.006623     |
| conf       | 0.166830     | 0.156525     | 0.167114     |
| cls        | 0.000578     | 0.000574     | 0.000772     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.950000     | 1.000000     |
| precision  | 0.714286     | 0.408163     | 0.153846     |
| conf_obj   | 0.965508     | 0.966020     | 0.943407     |
| conf_noobj | 0.000899     | 0.000703     | 0.000592     |
+------------+--------------+--------------+--------------+
2020-12-20 02:41:16.089 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.359966
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.354605     | 0.509165     | 0.496195     |
| x          | 0.006116     | 0.008093     | 0.033156     |
| y          | 0.004943     | 0.010843     | 0.021584     |
| w          | 0.014555     | 0.013001     | 0.009835     |
| h          | 0.014087     | 0.014494     | 0.012660     |
| conf       | 0.305238     | 0.440045     | 0.395723     |
| cls        | 0.009666     | 0.022690     | 0.023238     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.916667     | 0.916667     |
| recall75   | 0.916667     | 0.916667     | 0.875000     |
| precision  | 0.785714     | 0.392857     | 0.161765     |
| conf_obj   | 0.903841     | 0.898058     | 0.867884     |
| conf_noobj | 0.000694     | 0.000760     | 0.000677     |
+------------+--------------+--------------+--------------+
2020-12-20 02:42:24.454 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.050944
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.346048     | 0.291742     | 0.413153     |
| x          | 0.011189     | 0.015681     | 0.029261     |
| y          | 0.007483     | 0.013268     | 0.025132     |
| w          | 0.026223     | 0.015711     | 0.011816     |
| h          | 0.025561     | 0.018970     | 0.009475     |
| conf       | 0.215576     | 0.157679     | 0.177772     |
| cls        | 0.060016     | 0.070434     | 0.159697     |
| cls_acc    | 96.00%       | 96.15%       | 92.31%       |
| recall50   | 0.880000     | 0.961538     | 0.923077     |
| recall75   | 0.840000     | 0.961538     | 0.846154     |
| precision  | 0.758621     | 0.390625     | 0.127660     |
| conf_obj   | 0.915916     | 0.975634     | 0.975249     |
| conf_noobj | 0.000692     | 0.000826     | 0.000764     |
+------------+--------------+--------------+--------------+
2020-12-20 02:43:29.950 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.396740
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.487277     | 0.423748     | 0.485716     |
| x          | 0.019498     | 0.017203     | 0.030616     |
| y          | 0.007740     | 0.011743     | 0.022778     |
| w          | 0.031418     | 0.030421     | 0.018918     |
| h          | 0.024199     | 0.028555     | 0.018513     |
| conf       | 0.280826     | 0.244907     | 0.269105     |
| cls        | 0.123596     | 0.090919     | 0.125785     |
| cls_acc    | 94.87%       | 97.73%       | 95.65%       |
| recall50   | 0.846154     | 0.931818     | 0.913043     |
| recall75   | 0.666667     | 0.795455     | 0.739130     |
| precision  | 0.717391     | 0.482353     | 0.207921     |
| conf_obj   | 0.911563     | 0.938163     | 0.927319     |
| conf_noobj | 0.000910     | 0.001005     | 0.000960     |
+------------+--------------+--------------+--------------+
2020-12-20 02:43:39.646 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.189
2020-12-20 02:43:39.650 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 02:44:35.688 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10933   | 0.52488 | 0.18096 | 0.31486 |
| 1     | Wear_helmet | 0.65498   | 0.91232 | 0.76253 | 0.87591 |
| 2     | Total       | 0.38216   | 0.71860 | 0.47174 | 0.59538 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:44:35.689 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.595383818299023
2020-12-20 02:44:35.690 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 02:44:35.690 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.039368

2020-12-20 02:44:36.047 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 1/2, epo 2/5
2020-12-20 02:44:36.047 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 1/2, epo 2/5; time cost: 0:15:24.544451

2020-12-20 02:44:36.047 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 1/2, epo 3/5
2020-12-20 02:44:37.475 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.063415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.410729     | 0.353562     | 0.299124     |
| x          | 0.002252     | 0.018151     | 0.020797     |
| y          | 0.006631     | 0.010873     | 0.026283     |
| w          | 0.015402     | 0.012540     | 0.013567     |
| h          | 0.016361     | 0.018989     | 0.018426     |
| conf       | 0.327475     | 0.223648     | 0.180971     |
| cls        | 0.042609     | 0.069362     | 0.039080     |
| cls_acc    | 94.74%       | 94.74%       | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 1.000000     |
| recall75   | 0.894737     | 0.894737     | 0.842105     |
| precision  | 0.666667     | 0.450000     | 0.133803     |
| conf_obj   | 0.905035     | 0.911462     | 0.934345     |
| conf_noobj | 0.000748     | 0.000535     | 0.000652     |
+------------+--------------+--------------+--------------+
2020-12-20 02:45:45.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.787294
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.263324     | 0.288033     | 0.235938     |
| x          | 0.024970     | 0.015889     | 0.018078     |
| y          | 0.009681     | 0.014381     | 0.018718     |
| w          | 0.044367     | 0.039004     | 0.024531     |
| h          | 0.034481     | 0.031731     | 0.022058     |
| conf       | 0.133494     | 0.171106     | 0.144907     |
| cls        | 0.016331     | 0.015921     | 0.007646     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 1.000000     |
| recall75   | 0.750000     | 0.791667     | 0.833333     |
| precision  | 0.696970     | 0.338235     | 0.150000     |
| conf_obj   | 0.981022     | 0.970455     | 0.972591     |
| conf_noobj | 0.000676     | 0.000715     | 0.000534     |
+------------+--------------+--------------+--------------+
2020-12-20 02:46:53.894 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 2.073817
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.877712     | 0.603538     | 0.592567     |
| x          | 0.024399     | 0.023734     | 0.031802     |
| y          | 0.013371     | 0.021773     | 0.023955     |
| w          | 0.039049     | 0.017923     | 0.015474     |
| h          | 0.026873     | 0.013583     | 0.010292     |
| conf       | 0.600341     | 0.376918     | 0.364413     |
| cls        | 0.173678     | 0.149608     | 0.146631     |
| cls_acc    | 97.30%       | 97.56%       | 97.67%       |
| recall50   | 0.864865     | 0.902439     | 0.906977     |
| recall75   | 0.621622     | 0.780488     | 0.744186     |
| precision  | 0.680851     | 0.440476     | 0.156627     |
| conf_obj   | 0.853496     | 0.911976     | 0.889849     |
| conf_noobj | 0.000953     | 0.000834     | 0.000851     |
+------------+--------------+--------------+--------------+
2020-12-20 02:48:00.081 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.557472
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.568772     | 0.510990     | 0.477710     |
| x          | 0.019403     | 0.016658     | 0.021836     |
| y          | 0.012208     | 0.011273     | 0.024229     |
| w          | 0.049508     | 0.046384     | 0.021150     |
| h          | 0.037437     | 0.045881     | 0.018927     |
| conf       | 0.239823     | 0.326138     | 0.339252     |
| cls        | 0.210395     | 0.064656     | 0.052316     |
| cls_acc    | 93.94%       | 97.14%       | 97.22%       |
| recall50   | 0.878788     | 0.914286     | 0.944444     |
| recall75   | 0.757576     | 0.771429     | 0.833333     |
| precision  | 0.644444     | 0.444444     | 0.161137     |
| conf_obj   | 0.929566     | 0.892690     | 0.900867     |
| conf_noobj | 0.000932     | 0.000763     | 0.000784     |
+------------+--------------+--------------+--------------+
2020-12-20 02:49:00.895 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.279083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.533721     | 0.373058     | 0.372304     |
| x          | 0.009774     | 0.023332     | 0.037618     |
| y          | 0.005835     | 0.021313     | 0.036785     |
| w          | 0.033796     | 0.009553     | 0.007709     |
| h          | 0.025077     | 0.013586     | 0.014698     |
| conf       | 0.436576     | 0.290277     | 0.262902     |
| cls        | 0.022664     | 0.014996     | 0.012591     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.878788     | 0.970588     | 0.941176     |
| recall75   | 0.757576     | 0.882353     | 0.911765     |
| precision  | 0.707317     | 0.383721     | 0.176796     |
| conf_obj   | 0.864114     | 0.907205     | 0.901717     |
| conf_noobj | 0.000843     | 0.000785     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 02:50:10.161 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.895061
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.333221     | 0.251065     | 0.310775     |
| x          | 0.007036     | 0.005648     | 0.020725     |
| y          | 0.006038     | 0.014093     | 0.025891     |
| w          | 0.027377     | 0.023819     | 0.014156     |
| h          | 0.026004     | 0.025213     | 0.017359     |
| conf       | 0.206307     | 0.169417     | 0.214215     |
| cls        | 0.060458     | 0.012875     | 0.018429     |
| cls_acc    | 96.97%       | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.970588     | 0.942857     |
| recall75   | 0.787879     | 0.794118     | 0.800000     |
| precision  | 0.789474     | 0.485294     | 0.203704     |
| conf_obj   | 0.921640     | 0.956178     | 0.941876     |
| conf_noobj | 0.000678     | 0.000617     | 0.000657     |
+------------+--------------+--------------+--------------+
2020-12-20 02:51:12.636 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.481636
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.196845     | 0.138062     | 0.146729     |
| x          | 0.002606     | 0.005944     | 0.013390     |
| y          | 0.006252     | 0.011225     | 0.023714     |
| w          | 0.020939     | 0.010663     | 0.009979     |
| h          | 0.007349     | 0.005112     | 0.004489     |
| conf       | 0.158675     | 0.104805     | 0.094880     |
| cls        | 0.001024     | 0.000314     | 0.000277     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.583333     | 0.333333     | 0.140000     |
| conf_obj   | 0.988589     | 0.987750     | 0.992589     |
| conf_noobj | 0.000779     | 0.000460     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 02:52:17.486 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.924116
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.312692     | 0.301348     | 0.310076     |
| x          | 0.006719     | 0.021602     | 0.025869     |
| y          | 0.013138     | 0.016185     | 0.038710     |
| w          | 0.022549     | 0.015755     | 0.016437     |
| h          | 0.031219     | 0.026111     | 0.029313     |
| conf       | 0.231761     | 0.202000     | 0.155866     |
| cls        | 0.007305     | 0.019696     | 0.043881     |
| cls_acc    | 100.00%      | 100.00%      | 96.77%       |
| recall50   | 0.965517     | 0.900000     | 0.967742     |
| recall75   | 0.827586     | 0.766667     | 0.741935     |
| precision  | 0.823529     | 0.409091     | 0.200000     |
| conf_obj   | 0.930325     | 0.941097     | 0.958174     |
| conf_noobj | 0.000821     | 0.000753     | 0.000606     |
+------------+--------------+--------------+--------------+
2020-12-20 02:53:21.207 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.534786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.581896     | 0.436746     | 0.516145     |
| x          | 0.008925     | 0.038908     | 0.042989     |
| y          | 0.009974     | 0.033958     | 0.048612     |
| w          | 0.026369     | 0.033396     | 0.007754     |
| h          | 0.014147     | 0.014121     | 0.019425     |
| conf       | 0.467608     | 0.304430     | 0.390891     |
| cls        | 0.054873     | 0.011931     | 0.006473     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.916667     | 0.791667     |
| recall75   | 0.791667     | 0.791667     | 0.750000     |
| precision  | 0.571429     | 0.318841     | 0.135714     |
| conf_obj   | 0.842618     | 0.887753     | 0.832305     |
| conf_noobj | 0.000876     | 0.000696     | 0.000504     |
+------------+--------------+--------------+--------------+
2020-12-20 02:54:28.691 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.985368
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.358947     | 0.342884     | 0.283537     |
| x          | 0.018259     | 0.035043     | 0.012329     |
| y          | 0.010222     | 0.025318     | 0.032128     |
| w          | 0.098990     | 0.040036     | 0.011190     |
| h          | 0.116673     | 0.068429     | 0.043173     |
| conf       | 0.103014     | 0.168133     | 0.179087     |
| cls        | 0.011790     | 0.005924     | 0.005630     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.862069     | 1.000000     |
| recall75   | 0.720000     | 0.758621     | 0.866667     |
| precision  | 0.827586     | 0.352113     | 0.163043     |
| conf_obj   | 0.977098     | 0.980750     | 0.970804     |
| conf_noobj | 0.000565     | 0.000726     | 0.000704     |
+------------+--------------+--------------+--------------+
2020-12-20 02:55:37.867 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.656801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.488026     | 0.558989     | 0.609786     |
| x          | 0.010466     | 0.009055     | 0.015024     |
| y          | 0.007735     | 0.014581     | 0.024621     |
| w          | 0.038839     | 0.036839     | 0.011708     |
| h          | 0.051023     | 0.041372     | 0.014457     |
| conf       | 0.368190     | 0.452851     | 0.537959     |
| cls        | 0.011773     | 0.004291     | 0.006016     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.906250     | 0.906250     |
| recall75   | 0.866667     | 0.812500     | 0.843750     |
| precision  | 0.729730     | 0.402778     | 0.174699     |
| conf_obj   | 0.898847     | 0.889513     | 0.894552     |
| conf_noobj | 0.000790     | 0.000694     | 0.000585     |
+------------+--------------+--------------+--------------+
2020-12-20 02:56:41.070 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.545402
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.196659     | 0.179806     | 0.168937     |
| x          | 0.002958     | 0.007470     | 0.013831     |
| y          | 0.005993     | 0.007375     | 0.011279     |
| w          | 0.012748     | 0.008849     | 0.015859     |
| h          | 0.033924     | 0.008690     | 0.008468     |
| conf       | 0.139550     | 0.146458     | 0.118212     |
| cls        | 0.001485     | 0.000963     | 0.001287     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.923077     | 1.000000     |
| precision  | 0.666667     | 0.288889     | 0.141414     |
| conf_obj   | 0.989857     | 0.972894     | 0.967799     |
| conf_noobj | 0.000812     | 0.000710     | 0.000500     |
+------------+--------------+--------------+--------------+
2020-12-20 02:57:46.269 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.172503
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.452124     | 0.373041     | 0.347339     |
| x          | 0.014203     | 0.004198     | 0.029873     |
| y          | 0.009601     | 0.014920     | 0.024311     |
| w          | 0.029090     | 0.016168     | 0.022193     |
| h          | 0.017654     | 0.013454     | 0.013882     |
| conf       | 0.312215     | 0.256247     | 0.219325     |
| cls        | 0.069360     | 0.068054     | 0.037753     |
| cls_acc    | 96.15%       | 96.30%       | 96.30%       |
| recall50   | 0.884615     | 0.925926     | 0.925926     |
| recall75   | 0.769231     | 0.888889     | 0.851852     |
| precision  | 0.766667     | 0.423729     | 0.187970     |
| conf_obj   | 0.903375     | 0.918660     | 0.924827     |
| conf_noobj | 0.000695     | 0.000725     | 0.000712     |
+------------+--------------+--------------+--------------+
2020-12-20 02:58:52.278 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.612736
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.224456     | 0.208795     | 0.179485     |
| x          | 0.010245     | 0.015012     | 0.012016     |
| y          | 0.004357     | 0.010646     | 0.016138     |
| w          | 0.020323     | 0.014385     | 0.011975     |
| h          | 0.016146     | 0.021877     | 0.009597     |
| conf       | 0.150666     | 0.127586     | 0.124041     |
| cls        | 0.022718     | 0.019289     | 0.005717     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.964286     | 1.000000     |
| recall75   | 0.961538     | 0.892857     | 0.965517     |
| precision  | 0.735294     | 0.529412     | 0.210145     |
| conf_obj   | 0.966790     | 0.980942     | 0.981846     |
| conf_noobj | 0.000715     | 0.000605     | 0.000561     |
+------------+--------------+--------------+--------------+
2020-12-20 02:59:03.806 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.142
2020-12-20 02:59:03.811 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 02:59:58.633 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.17105   | 0.38806 | 0.23744 | 0.26209 |
| 1     | Wear_helmet | 0.39956   | 0.94360 | 0.56140 | 0.88716 |
| 2     | Total       | 0.28531   | 0.66583 | 0.39942 | 0.57463 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 02:59:58.634 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5746266955467954
2020-12-20 02:59:58.634 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 02:59:58.634 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.823007

2020-12-20 02:59:59.148 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 1/2, epo 3/5
2020-12-20 02:59:59.148 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 1/2, epo 3/5; time cost: 0:15:23.100583

2020-12-20 02:59:59.148 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 1/2, epo 4/5
2020-12-20 03:00:00.625 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.729096
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.292987     | 0.237684     | 0.198425     |
| x          | 0.015590     | 0.035605     | 0.016297     |
| y          | 0.004273     | 0.010558     | 0.019778     |
| w          | 0.033443     | 0.013906     | 0.011213     |
| h          | 0.031318     | 0.015116     | 0.012664     |
| conf       | 0.203107     | 0.159656     | 0.136213     |
| cls        | 0.005256     | 0.002844     | 0.002259     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 1.000000     |
| recall75   | 0.818182     | 0.875000     | 0.920000     |
| precision  | 0.552632     | 0.319444     | 0.160256     |
| conf_obj   | 0.975688     | 0.978816     | 0.973574     |
| conf_noobj | 0.001016     | 0.000740     | 0.000563     |
+------------+--------------+--------------+--------------+
2020-12-20 03:01:07.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.768864
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.578122     | 0.626705     | 0.564037     |
| x          | 0.009589     | 0.021531     | 0.029501     |
| y          | 0.013051     | 0.017105     | 0.024454     |
| w          | 0.083386     | 0.054379     | 0.058633     |
| h          | 0.080006     | 0.049502     | 0.041277     |
| conf       | 0.321088     | 0.408315     | 0.332831     |
| cls        | 0.071001     | 0.075872     | 0.077340     |
| cls_acc    | 97.30%       | 97.50%       | 97.56%       |
| recall50   | 0.891892     | 0.850000     | 0.902439     |
| recall75   | 0.702703     | 0.700000     | 0.682927     |
| precision  | 0.767442     | 0.400000     | 0.182266     |
| conf_obj   | 0.902424     | 0.850713     | 0.874474     |
| conf_noobj | 0.000765     | 0.000814     | 0.000629     |
+------------+--------------+--------------+--------------+
2020-12-20 03:02:15.568 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.974945
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.771551     | 0.606071     | 0.597324     |
| x          | 0.004328     | 0.007282     | 0.029903     |
| y          | 0.013836     | 0.034751     | 0.045525     |
| w          | 0.013604     | 0.007187     | 0.004936     |
| h          | 0.025139     | 0.014482     | 0.012151     |
| conf       | 0.261618     | 0.187571     | 0.137436     |
| cls        | 0.453027     | 0.354798     | 0.367373     |
| cls_acc    | 93.75%       | 93.75%       | 93.75%       |
| recall50   | 0.875000     | 0.937500     | 0.937500     |
| recall75   | 0.875000     | 0.937500     | 0.937500     |
| precision  | 0.560000     | 0.263158     | 0.108696     |
| conf_obj   | 0.913682     | 0.956076     | 0.958255     |
| conf_noobj | 0.000728     | 0.000759     | 0.000461     |
+------------+--------------+--------------+--------------+
2020-12-20 03:03:23.746 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.773735
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.317173     | 0.196921     | 0.259641     |
| x          | 0.014510     | 0.008760     | 0.019132     |
| y          | 0.003239     | 0.008134     | 0.011153     |
| w          | 0.009766     | 0.011391     | 0.008063     |
| h          | 0.014691     | 0.006058     | 0.006503     |
| conf       | 0.238496     | 0.153869     | 0.205904     |
| cls        | 0.036470     | 0.008710     | 0.008886     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.958333     |
| recall75   | 0.904762     | 0.958333     | 0.958333     |
| precision  | 0.677419     | 0.421053     | 0.175573     |
| conf_obj   | 0.929919     | 0.959261     | 0.915209     |
| conf_noobj | 0.000852     | 0.000617     | 0.000500     |
+------------+--------------+--------------+--------------+
2020-12-20 03:04:29.778 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.169461
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.507657     | 0.391555     | 0.270249     |
| x          | 0.025403     | 0.024513     | 0.011150     |
| y          | 0.008831     | 0.017905     | 0.032142     |
| w          | 0.044592     | 0.025763     | 0.013710     |
| h          | 0.027393     | 0.017943     | 0.011619     |
| conf       | 0.313588     | 0.256609     | 0.194182     |
| cls        | 0.087850     | 0.048822     | 0.007446     |
| cls_acc    | 100.00%      | 96.43%       | 100.00%      |
| recall50   | 0.920000     | 0.857143     | 0.965517     |
| recall75   | 0.800000     | 0.714286     | 0.793103     |
| precision  | 0.638889     | 0.400000     | 0.162791     |
| conf_obj   | 0.924461     | 0.931422     | 0.944184     |
| conf_noobj | 0.000900     | 0.000658     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 03:05:34.562 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.070321
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.340659     | 0.368954     | 0.360707     |
| x          | 0.009068     | 0.028184     | 0.035318     |
| y          | 0.022889     | 0.014292     | 0.035717     |
| w          | 0.037808     | 0.031383     | 0.025433     |
| h          | 0.044743     | 0.049664     | 0.028102     |
| conf       | 0.223774     | 0.243537     | 0.234743     |
| cls        | 0.002378     | 0.001895     | 0.001394     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.875000     | 0.882353     |
| recall75   | 0.875000     | 0.750000     | 0.823529     |
| precision  | 0.714286     | 0.318182     | 0.140187     |
| conf_obj   | 0.935930     | 0.926834     | 0.932101     |
| conf_noobj | 0.000783     | 0.000614     | 0.000580     |
+------------+--------------+--------------+--------------+
2020-12-20 03:06:33.885 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.417548
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.572071     | 0.375424     | 0.470053     |
| x          | 0.004958     | 0.011880     | 0.033139     |
| y          | 0.006356     | 0.016756     | 0.028484     |
| w          | 0.023056     | 0.019023     | 0.019108     |
| h          | 0.008844     | 0.013526     | 0.017911     |
| conf       | 0.286106     | 0.177142     | 0.148843     |
| cls        | 0.242752     | 0.137097     | 0.222568     |
| cls_acc    | 89.47%       | 90.48%       | 90.48%       |
| recall50   | 0.842105     | 0.857143     | 0.904762     |
| recall75   | 0.736842     | 0.761905     | 0.761905     |
| precision  | 0.484848     | 0.346154     | 0.125000     |
| conf_obj   | 0.916272     | 0.935734     | 0.948031     |
| conf_noobj | 0.000928     | 0.000527     | 0.000497     |
+------------+--------------+--------------+--------------+
2020-12-20 03:07:40.696 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.421060
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.469905     | 0.490721     | 0.460434     |
| x          | 0.011297     | 0.020064     | 0.024814     |
| y          | 0.008753     | 0.016531     | 0.030155     |
| w          | 0.029715     | 0.028146     | 0.022342     |
| h          | 0.024390     | 0.014326     | 0.010373     |
| conf       | 0.266343     | 0.258129     | 0.217283     |
| cls        | 0.129407     | 0.153524     | 0.155467     |
| cls_acc    | 96.30%       | 96.30%       | 96.43%       |
| recall50   | 0.888889     | 0.925926     | 0.964286     |
| recall75   | 0.814815     | 0.925926     | 0.821429     |
| precision  | 0.648649     | 0.378788     | 0.142857     |
| conf_obj   | 0.953037     | 0.948283     | 0.948570     |
| conf_noobj | 0.000742     | 0.000761     | 0.000669     |
+------------+--------------+--------------+--------------+
2020-12-20 03:08:45.218 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.978816
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.314629     | 0.291474     | 0.372713     |
| x          | 0.020671     | 0.024429     | 0.042748     |
| y          | 0.005411     | 0.013828     | 0.047073     |
| w          | 0.023113     | 0.011505     | 0.018727     |
| h          | 0.037798     | 0.029708     | 0.036092     |
| conf       | 0.176700     | 0.170106     | 0.143856     |
| cls        | 0.050935     | 0.041898     | 0.084216     |
| cls_acc    | 100.00%      | 100.00%      | 92.86%       |
| recall50   | 0.920000     | 0.961538     | 0.892857     |
| recall75   | 0.840000     | 0.846154     | 0.607143     |
| precision  | 0.589744     | 0.362319     | 0.147929     |
| conf_obj   | 0.949413     | 0.946122     | 0.968859     |
| conf_noobj | 0.000777     | 0.000580     | 0.000552     |
+------------+--------------+--------------+--------------+
2020-12-20 03:09:53.119 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.834696
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.449666     | 0.187281     | 0.197749     |
| x          | 0.004048     | 0.006103     | 0.021582     |
| y          | 0.008608     | 0.005592     | 0.013360     |
| w          | 0.017073     | 0.007565     | 0.010462     |
| h          | 0.028747     | 0.014536     | 0.013060     |
| conf       | 0.361046     | 0.140115     | 0.129652     |
| cls        | 0.030144     | 0.013372     | 0.009632     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.958333     | 0.916667     |
| precision  | 0.676471     | 0.358209     | 0.134078     |
| conf_obj   | 0.928163     | 0.975452     | 0.986829     |
| conf_noobj | 0.000791     | 0.000568     | 0.000552     |
+------------+--------------+--------------+--------------+
2020-12-20 03:10:55.317 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.920112
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.327033     | 0.241314     | 0.351765     |
| x          | 0.008554     | 0.009748     | 0.014728     |
| y          | 0.011992     | 0.024103     | 0.035229     |
| w          | 0.033088     | 0.015023     | 0.013908     |
| h          | 0.032073     | 0.010991     | 0.017920     |
| conf       | 0.235189     | 0.177010     | 0.263379     |
| cls        | 0.006136     | 0.004440     | 0.006601     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 0.900000     |
| recall75   | 0.800000     | 0.900000     | 0.800000     |
| precision  | 0.750000     | 0.408163     | 0.155172     |
| conf_obj   | 0.907520     | 0.941008     | 0.883576     |
| conf_noobj | 0.000694     | 0.000648     | 0.000580     |
+------------+--------------+--------------+--------------+
2020-12-20 03:11:57.597 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.321197
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.943981     | 0.735753     | 0.641463     |
| x          | 0.017451     | 0.017323     | 0.038742     |
| y          | 0.007476     | 0.024713     | 0.032375     |
| w          | 0.059836     | 0.046123     | 0.013939     |
| h          | 0.050622     | 0.038945     | 0.022764     |
| conf       | 0.499444     | 0.299551     | 0.304002     |
| cls        | 0.309151     | 0.309098     | 0.229641     |
| cls_acc    | 88.24%       | 92.11%       | 92.31%       |
| recall50   | 0.735294     | 0.842105     | 0.846154     |
| recall75   | 0.529412     | 0.736842     | 0.769231     |
| precision  | 0.581395     | 0.347826     | 0.133603     |
| conf_obj   | 0.838486     | 0.913796     | 0.899761     |
| conf_noobj | 0.001101     | 0.000965     | 0.000914     |
+------------+--------------+--------------+--------------+
2020-12-20 03:13:02.125 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.941943
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.252694     | 0.471862     | 0.217386     |
| x          | 0.004591     | 0.012773     | 0.025754     |
| y          | 0.009063     | 0.006770     | 0.016708     |
| w          | 0.020782     | 0.012554     | 0.010444     |
| h          | 0.012905     | 0.006345     | 0.008663     |
| conf       | 0.204115     | 0.433202     | 0.155553     |
| cls        | 0.001240     | 0.000217     | 0.000265     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 1.000000     |
| recall75   | 0.958333     | 0.958333     | 1.000000     |
| precision  | 0.705882     | 0.306667     | 0.177778     |
| conf_obj   | 0.964149     | 0.876110     | 0.958450     |
| conf_noobj | 0.000930     | 0.000828     | 0.000560     |
+------------+--------------+--------------+--------------+
2020-12-20 03:14:11.647 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.877901
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.267633     | 0.238177     | 0.372091     |
| x          | 0.012996     | 0.016090     | 0.015271     |
| y          | 0.008662     | 0.031989     | 0.035301     |
| w          | 0.030551     | 0.008463     | 0.009332     |
| h          | 0.020484     | 0.014342     | 0.012569     |
| conf       | 0.193596     | 0.166752     | 0.298644     |
| cls        | 0.001343     | 0.000541     | 0.000974     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.947368     |
| recall75   | 0.833333     | 0.944444     | 0.894737     |
| precision  | 0.750000     | 0.375000     | 0.126761     |
| conf_obj   | 0.928669     | 0.939745     | 0.914919     |
| conf_noobj | 0.000646     | 0.000574     | 0.000473     |
+------------+--------------+--------------+--------------+
2020-12-20 03:14:25.403 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.127
2020-12-20 03:14:25.408 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 03:15:18.837 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10165   | 0.41294 | 0.16314 | 0.24757 |
| 1     | Wear_helmet | 0.45427   | 0.93460 | 0.61138 | 0.89582 |
| 2     | Total       | 0.27796   | 0.67377 | 0.38726 | 0.57170 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:15:18.838 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5716964873984662
2020-12-20 03:15:18.838 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 03:15:18.838 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:53.430228

2020-12-20 03:15:19.354 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 1/2, epo 4/5
2020-12-20 03:15:19.354 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 1/2, epo 4/5; time cost: 0:15:20.205626

2020-12-20 03:15:19.354 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 8/20, idx 1/2, epo 5/5
2020-12-20 03:15:20.505 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.413180
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.641586     | 0.428044     | 0.343550     |
| x          | 0.020365     | 0.022651     | 0.031994     |
| y          | 0.008692     | 0.010169     | 0.025027     |
| w          | 0.032655     | 0.023795     | 0.018115     |
| h          | 0.025652     | 0.016040     | 0.011895     |
| conf       | 0.444082     | 0.265151     | 0.189165     |
| cls        | 0.110139     | 0.090238     | 0.067354     |
| cls_acc    | 93.55%       | 94.29%       | 97.14%       |
| recall50   | 0.741935     | 0.914286     | 0.942857     |
| recall75   | 0.677419     | 0.800000     | 0.828571     |
| precision  | 0.696970     | 0.561404     | 0.224490     |
| conf_obj   | 0.838055     | 0.904911     | 0.946115     |
| conf_noobj | 0.000674     | 0.000555     | 0.000604     |
+------------+--------------+--------------+--------------+
2020-12-20 03:16:24.125 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.853151
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.701421     | 0.618504     | 0.533227     |
| x          | 0.010700     | 0.029551     | 0.035949     |
| y          | 0.014715     | 0.016409     | 0.026245     |
| w          | 0.045775     | 0.041664     | 0.020572     |
| h          | 0.038089     | 0.029477     | 0.026169     |
| conf       | 0.443975     | 0.404919     | 0.380779     |
| cls        | 0.148166     | 0.096483     | 0.043513     |
| cls_acc    | 96.43%       | 94.12%       | 100.00%      |
| recall50   | 0.821429     | 0.882353     | 0.885714     |
| recall75   | 0.714286     | 0.764706     | 0.742857     |
| precision  | 0.560976     | 0.405405     | 0.172222     |
| conf_obj   | 0.886021     | 0.881476     | 0.858861     |
| conf_noobj | 0.001568     | 0.001209     | 0.000958     |
+------------+--------------+--------------+--------------+
2020-12-20 03:17:31.341 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.668357
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.184442     | 0.175462     | 0.308453     |
| x          | 0.003597     | 0.014268     | 0.028056     |
| y          | 0.006936     | 0.011404     | 0.024007     |
| w          | 0.013564     | 0.017834     | 0.007093     |
| h          | 0.029901     | 0.015345     | 0.011288     |
| conf       | 0.120581     | 0.112623     | 0.232425     |
| cls        | 0.009863     | 0.003988     | 0.005586     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.960000     |
| recall75   | 0.913043     | 0.916667     | 0.880000     |
| precision  | 0.766667     | 0.480000     | 0.198347     |
| conf_obj   | 0.953090     | 0.956324     | 0.919016     |
| conf_noobj | 0.000496     | 0.000379     | 0.000395     |
+------------+--------------+--------------+--------------+
2020-12-20 03:18:40.088 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.485550
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.532892     | 0.474475     | 0.478182     |
| x          | 0.004839     | 0.005926     | 0.016381     |
| y          | 0.009576     | 0.009492     | 0.030365     |
| w          | 0.024947     | 0.020612     | 0.016115     |
| h          | 0.021393     | 0.014699     | 0.009017     |
| conf       | 0.389923     | 0.358633     | 0.352725     |
| cls        | 0.082214     | 0.065114     | 0.053580     |
| cls_acc    | 96.55%       | 96.77%       | 96.77%       |
| recall50   | 0.931035     | 0.935484     | 0.935484     |
| recall75   | 0.862069     | 0.870968     | 0.903226     |
| precision  | 0.771429     | 0.397260     | 0.201389     |
| conf_obj   | 0.912821     | 0.926793     | 0.933293     |
| conf_noobj | 0.000721     | 0.000797     | 0.000609     |
+------------+--------------+--------------+--------------+
2020-12-20 03:19:46.340 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.190572
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.369150     | 0.413540     | 0.407882     |
| x          | 0.007290     | 0.015873     | 0.062385     |
| y          | 0.005920     | 0.007955     | 0.028658     |
| w          | 0.052778     | 0.067787     | 0.059129     |
| h          | 0.032294     | 0.033902     | 0.023944     |
| conf       | 0.245262     | 0.245737     | 0.196157     |
| cls        | 0.025606     | 0.042285     | 0.037609     |
| cls_acc    | 100.00%      | 95.83%       | 96.00%       |
| recall50   | 0.958333     | 0.916667     | 0.960000     |
| recall75   | 0.875000     | 0.750000     | 0.720000     |
| precision  | 0.741935     | 0.440000     | 0.190476     |
| conf_obj   | 0.912581     | 0.917348     | 0.932637     |
| conf_noobj | 0.000830     | 0.000703     | 0.000612     |
+------------+--------------+--------------+--------------+
2020-12-20 03:20:48.923 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.236286
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.372917     | 0.417942     | 0.445427     |
| x          | 0.010434     | 0.015822     | 0.028787     |
| y          | 0.007665     | 0.012118     | 0.020267     |
| w          | 0.029402     | 0.027915     | 0.026377     |
| h          | 0.016185     | 0.016970     | 0.016664     |
| conf       | 0.281624     | 0.312310     | 0.304525     |
| cls        | 0.027607     | 0.032808     | 0.048807     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.941176     | 0.941176     |
| recall75   | 0.818182     | 0.852941     | 0.794118     |
| precision  | 0.815789     | 0.500000     | 0.207792     |
| conf_obj   | 0.903007     | 0.909187     | 0.901176     |
| conf_noobj | 0.000816     | 0.000902     | 0.000737     |
+------------+--------------+--------------+--------------+
2020-12-20 03:21:52.002 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.139527
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.477004     | 0.355149     | 0.307374     |
| x          | 0.005686     | 0.012009     | 0.030733     |
| y          | 0.006726     | 0.013020     | 0.013482     |
| w          | 0.027818     | 0.024913     | 0.012418     |
| h          | 0.027684     | 0.050893     | 0.023021     |
| conf       | 0.399292     | 0.250132     | 0.224055     |
| cls        | 0.009798     | 0.004182     | 0.003666     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.923077     | 0.925926     |
| recall75   | 0.769231     | 0.769231     | 0.777778     |
| precision  | 0.676471     | 0.369231     | 0.121951     |
| conf_obj   | 0.880636     | 0.920396     | 0.943706     |
| conf_noobj | 0.000893     | 0.000770     | 0.000793     |
+------------+--------------+--------------+--------------+
2020-12-20 03:22:55.310 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.352334
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.521318     | 0.458388     | 0.372629     |
| x          | 0.013218     | 0.006434     | 0.017338     |
| y          | 0.007972     | 0.012788     | 0.019105     |
| w          | 0.035936     | 0.024225     | 0.018967     |
| h          | 0.027962     | 0.031858     | 0.019967     |
| conf       | 0.328076     | 0.290307     | 0.247299     |
| cls        | 0.108154     | 0.092776     | 0.049953     |
| cls_acc    | 97.14%       | 97.37%       | 97.44%       |
| recall50   | 0.942857     | 0.921053     | 0.948718     |
| recall75   | 0.800000     | 0.815789     | 0.871795     |
| precision  | 0.673469     | 0.437500     | 0.174528     |
| conf_obj   | 0.911163     | 0.916238     | 0.944767     |
| conf_noobj | 0.001119     | 0.000883     | 0.000859     |
+------------+--------------+--------------+--------------+
2020-12-20 03:24:02.109 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.100570
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.388612     | 0.335651     | 0.376307     |
| x          | 0.018218     | 0.029840     | 0.023256     |
| y          | 0.011643     | 0.005083     | 0.013219     |
| w          | 0.028571     | 0.021746     | 0.013937     |
| h          | 0.024453     | 0.016328     | 0.009995     |
| conf       | 0.291626     | 0.248552     | 0.308064     |
| cls        | 0.014103     | 0.014102     | 0.007837     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.931035     | 0.931035     |
| recall75   | 0.851852     | 0.896552     | 0.862069     |
| precision  | 0.750000     | 0.415385     | 0.200000     |
| conf_obj   | 0.927905     | 0.916931     | 0.908039     |
| conf_noobj | 0.000589     | 0.000635     | 0.000537     |
+------------+--------------+--------------+--------------+
2020-12-20 03:25:14.834 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.222377
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.477359     | 0.377353     | 0.367665     |
| x          | 0.017291     | 0.031541     | 0.042736     |
| y          | 0.022307     | 0.023407     | 0.034401     |
| w          | 0.008956     | 0.014253     | 0.013149     |
| h          | 0.027930     | 0.015802     | 0.015765     |
| conf       | 0.377930     | 0.287253     | 0.253133     |
| cls        | 0.022945     | 0.005096     | 0.008481     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 0.941176     |
| recall75   | 0.764706     | 0.764706     | 0.764706     |
| precision  | 0.695652     | 0.326531     | 0.111888     |
| conf_obj   | 0.852307     | 0.892858     | 0.906786     |
| conf_noobj | 0.000963     | 0.000820     | 0.000728     |
+------------+--------------+--------------+--------------+
2020-12-20 03:26:22.798 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.024676
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.342368     | 0.358903     | 0.323404     |
| x          | 0.020777     | 0.010117     | 0.016059     |
| y          | 0.005425     | 0.010433     | 0.019458     |
| w          | 0.049875     | 0.021556     | 0.010788     |
| h          | 0.028893     | 0.018701     | 0.010831     |
| conf       | 0.228668     | 0.290708     | 0.259442     |
| cls        | 0.008731     | 0.007388     | 0.006826     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.976190     | 0.976744     |
| recall75   | 0.846154     | 0.833333     | 0.953488     |
| precision  | 0.800000     | 0.488095     | 0.225806     |
| conf_obj   | 0.918350     | 0.941970     | 0.937253     |
| conf_noobj | 0.000799     | 0.000837     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 03:27:32.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.417556
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.159836     | 0.117067     | 0.140653     |
| x          | 0.001408     | 0.005735     | 0.022616     |
| y          | 0.002431     | 0.005301     | 0.019637     |
| w          | 0.010009     | 0.010142     | 0.003075     |
| h          | 0.014208     | 0.004835     | 0.005711     |
| conf       | 0.129991     | 0.089588     | 0.087801     |
| cls        | 0.001789     | 0.001466     | 0.001812     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.842105     | 0.410256     | 0.175824     |
| conf_obj   | 0.971414     | 0.984874     | 0.991169     |
| conf_noobj | 0.000575     | 0.000439     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 03:28:39.722 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.288616
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.610252     | 0.304478     | 0.373886     |
| x          | 0.008739     | 0.008379     | 0.025100     |
| y          | 0.009112     | 0.022005     | 0.028005     |
| w          | 0.070722     | 0.028405     | 0.025530     |
| h          | 0.060328     | 0.038815     | 0.024092     |
| conf       | 0.451775     | 0.194936     | 0.229103     |
| cls        | 0.009577     | 0.011938     | 0.042055     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.888889     | 0.964286     | 0.931035     |
| recall75   | 0.740741     | 0.857143     | 0.827586     |
| precision  | 0.750000     | 0.409091     | 0.174194     |
| conf_obj   | 0.870802     | 0.941930     | 0.930997     |
| conf_noobj | 0.000457     | 0.000568     | 0.000540     |
+------------+--------------+--------------+--------------+
2020-12-20 03:29:48.892 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.631270
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.255305     | 0.199076     | 0.176889     |
| x          | 0.004339     | 0.012910     | 0.027964     |
| y          | 0.004459     | 0.005769     | 0.020942     |
| w          | 0.012850     | 0.007679     | 0.004128     |
| h          | 0.012201     | 0.009531     | 0.007017     |
| conf       | 0.219804     | 0.162838     | 0.116305     |
| cls        | 0.001652     | 0.000348     | 0.000531     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 1.000000     | 0.960000     |
| precision  | 0.774194     | 0.373134     | 0.182482     |
| conf_obj   | 0.919189     | 0.958320     | 0.987740     |
| conf_noobj | 0.000763     | 0.000703     | 0.000568     |
+------------+--------------+--------------+--------------+
2020-12-20 03:30:01.417 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.115
2020-12-20 03:30:01.421 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 03:31:00.369 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.29950   | 0.30100 | 0.30025 | 0.22765 |
| 1     | Wear_helmet | 0.48300   | 0.94929 | 0.64024 | 0.89722 |
| 2     | Total       | 0.39125   | 0.62514 | 0.47025 | 0.56244 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:31:00.371 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5624358767074875
2020-12-20 03:31:00.372 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 03:31:00.373 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.951339

2020-12-20 03:31:00.916 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 8/20, idx 1/2, epo 5/5
2020-12-20 03:31:00.917 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 8/20, idx 1/2, epo 5/5; time cost: 0:15:41.561717

2020-12-20 03:31:00.917 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.169
2020-12-20 03:31:01.304 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 03:34:47.445 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.33455   | 0.40967 | 0.36832 | 0.33238 |
| 1     | Wear_helmet | 0.49647   | 0.92524 | 0.64620 | 0.86579 |
| 2     | Total       | 0.41551   | 0.66745 | 0.50726 | 0.59909 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:34:47.445 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5990862402673757
2020-12-20 03:34:47.446 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 03:34:47.446 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:46.141640

2020-12-20 03:34:53.388 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 9!
2020-12-20 03:34:53.519 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 1/2, epo 1/5
2020-12-20 03:34:55.285 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.631857
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.431917     | 0.569867     | 0.630073     |
| x          | 0.041503     | 0.037314     | 0.049118     |
| y          | 0.007648     | 0.013501     | 0.031785     |
| w          | 0.039570     | 0.030045     | 0.026164     |
| h          | 0.040147     | 0.025657     | 0.021517     |
| conf       | 0.185103     | 0.265894     | 0.296742     |
| cls        | 0.117946     | 0.197456     | 0.204748     |
| cls_acc    | 97.50%       | 93.75%       | 96.00%       |
| recall50   | 0.800000     | 0.875000     | 0.880000     |
| recall75   | 0.650000     | 0.666667     | 0.680000     |
| precision  | 0.680851     | 0.407767     | 0.194690     |
| conf_obj   | 0.935019     | 0.919163     | 0.919384     |
| conf_noobj | 0.000608     | 0.000764     | 0.000716     |
+------------+--------------+--------------+--------------+
2020-12-20 03:36:01.027 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.912103
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.528958     | 0.567899     | 0.815247     |
| x          | 0.058008     | 0.007483     | 0.030025     |
| y          | 0.018765     | 0.023266     | 0.033950     |
| w          | 0.081384     | 0.072020     | 0.077935     |
| h          | 0.087509     | 0.047013     | 0.057430     |
| conf       | 0.278639     | 0.408981     | 0.609745     |
| cls        | 0.004651     | 0.009135     | 0.006162     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.875000     | 0.777778     |
| recall75   | 0.739130     | 0.750000     | 0.666667     |
| precision  | 0.612903     | 0.333333     | 0.131250     |
| conf_obj   | 0.897452     | 0.861967     | 0.800932     |
| conf_noobj | 0.000774     | 0.000748     | 0.000690     |
+------------+--------------+--------------+--------------+
2020-12-20 03:37:12.867 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.733081
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.203667     | 0.190583     | 0.338831     |
| x          | 0.011800     | 0.018916     | 0.040507     |
| y          | 0.006135     | 0.012566     | 0.018808     |
| w          | 0.018016     | 0.007602     | 0.013692     |
| h          | 0.012498     | 0.009126     | 0.005341     |
| conf       | 0.152890     | 0.140573     | 0.258302     |
| cls        | 0.002328     | 0.001799     | 0.002180     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.920000     |
| recall75   | 0.920000     | 1.000000     | 0.880000     |
| precision  | 0.757576     | 0.416667     | 0.157534     |
| conf_obj   | 0.948443     | 0.971258     | 0.925214     |
| conf_noobj | 0.000665     | 0.000682     | 0.000632     |
+------------+--------------+--------------+--------------+
2020-12-20 03:38:13.642 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.783201
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.383260     | 0.199031     | 0.200910     |
| x          | 0.002658     | 0.006012     | 0.019102     |
| y          | 0.001392     | 0.007176     | 0.021124     |
| w          | 0.014046     | 0.010688     | 0.005778     |
| h          | 0.011552     | 0.012176     | 0.008403     |
| conf       | 0.335631     | 0.151318     | 0.134815     |
| cls        | 0.017981     | 0.011662     | 0.011688     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 1.000000     | 0.952381     |
| precision  | 0.760000     | 0.538462     | 0.214286     |
| conf_obj   | 0.899232     | 0.947961     | 0.960908     |
| conf_noobj | 0.000693     | 0.000468     | 0.000465     |
+------------+--------------+--------------+--------------+
2020-12-20 03:39:18.554 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.539963
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.163918     | 0.181962     | 0.194084     |
| x          | 0.004860     | 0.010635     | 0.037256     |
| y          | 0.004423     | 0.017728     | 0.016110     |
| w          | 0.014748     | 0.008381     | 0.002775     |
| h          | 0.006431     | 0.008827     | 0.004954     |
| conf       | 0.131836     | 0.135516     | 0.131695     |
| cls        | 0.001620     | 0.000875     | 0.001294     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.933333     | 1.000000     |
| precision  | 0.652174     | 0.384615     | 0.163043     |
| conf_obj   | 0.982730     | 0.979674     | 0.962688     |
| conf_noobj | 0.000776     | 0.000612     | 0.000496     |
+------------+--------------+--------------+--------------+
2020-12-20 03:40:21.495 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.727035
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.262628     | 0.222142     | 0.242265     |
| x          | 0.004382     | 0.016360     | 0.047788     |
| y          | 0.005561     | 0.012975     | 0.052407     |
| w          | 0.023616     | 0.017572     | 0.007908     |
| h          | 0.034556     | 0.025908     | 0.012245     |
| conf       | 0.187344     | 0.145629     | 0.121024     |
| cls        | 0.007169     | 0.003699     | 0.000893     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.900000     | 0.900000     |
| precision  | 0.760000     | 0.370370     | 0.156250     |
| conf_obj   | 0.931649     | 0.957864     | 0.970707     |
| conf_noobj | 0.000600     | 0.000546     | 0.000466     |
+------------+--------------+--------------+--------------+
2020-12-20 03:41:26.498 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.666227
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.484553     | 0.672315     | 0.509359     |
| x          | 0.005718     | 0.021671     | 0.029549     |
| y          | 0.004287     | 0.009587     | 0.018583     |
| w          | 0.012211     | 0.014152     | 0.019160     |
| h          | 0.017699     | 0.015584     | 0.015357     |
| conf       | 0.335716     | 0.402837     | 0.232238     |
| cls        | 0.108922     | 0.208483     | 0.194472     |
| cls_acc    | 95.65%       | 92.31%       | 92.31%       |
| recall50   | 0.869565     | 0.769231     | 0.884615     |
| recall75   | 0.826087     | 0.692308     | 0.769231     |
| precision  | 0.625000     | 0.344828     | 0.157534     |
| conf_obj   | 0.901507     | 0.846033     | 0.903785     |
| conf_noobj | 0.000822     | 0.000646     | 0.000566     |
+------------+--------------+--------------+--------------+
2020-12-20 03:42:31.618 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.257259
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.448003     | 0.458066     | 0.351189     |
| x          | 0.016769     | 0.013315     | 0.024731     |
| y          | 0.013670     | 0.020477     | 0.025607     |
| w          | 0.054346     | 0.047658     | 0.034889     |
| h          | 0.049360     | 0.047615     | 0.015108     |
| conf       | 0.310969     | 0.317907     | 0.229962     |
| cls        | 0.002890     | 0.011094     | 0.020892     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.916667     | 0.958333     |
| recall75   | 0.791667     | 0.750000     | 0.791667     |
| precision  | 0.636364     | 0.366667     | 0.141975     |
| conf_obj   | 0.900584     | 0.904446     | 0.932818     |
| conf_noobj | 0.001021     | 0.000895     | 0.000805     |
+------------+--------------+--------------+--------------+
2020-12-20 03:43:31.064 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.122788
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.347238     | 0.397571     | 0.377979     |
| x          | 0.019150     | 0.022244     | 0.036729     |
| y          | 0.008532     | 0.013386     | 0.017896     |
| w          | 0.038349     | 0.028893     | 0.015149     |
| h          | 0.045805     | 0.028442     | 0.009448     |
| conf       | 0.218734     | 0.295342     | 0.292613     |
| cls        | 0.016668     | 0.009265     | 0.006144     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.888889     | 0.928571     |
| recall75   | 0.652174     | 0.703704     | 0.821429     |
| precision  | 0.555556     | 0.393443     | 0.139785     |
| conf_obj   | 0.966892     | 0.905801     | 0.921623     |
| conf_noobj | 0.000975     | 0.000800     | 0.000822     |
+------------+--------------+--------------+--------------+
2020-12-20 03:44:31.622 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.915274
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.763443     | 0.522469     | 0.629362     |
| x          | 0.021834     | 0.020769     | 0.020848     |
| y          | 0.004037     | 0.029552     | 0.029977     |
| w          | 0.023880     | 0.020613     | 0.023879     |
| h          | 0.028871     | 0.020058     | 0.028723     |
| conf       | 0.613779     | 0.391625     | 0.434120     |
| cls        | 0.071041     | 0.039852     | 0.091815     |
| cls_acc    | 96.00%       | 100.00%      | 92.86%       |
| recall50   | 0.760000     | 0.857143     | 0.892857     |
| recall75   | 0.720000     | 0.750000     | 0.785714     |
| precision  | 0.730769     | 0.428571     | 0.182482     |
| conf_obj   | 0.794060     | 0.868393     | 0.888898     |
| conf_noobj | 0.000596     | 0.000552     | 0.000494     |
+------------+--------------+--------------+--------------+
2020-12-20 03:45:37.516 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.375275
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.498831     | 0.427287     | 0.449158     |
| x          | 0.009347     | 0.015867     | 0.032637     |
| y          | 0.005548     | 0.012563     | 0.028096     |
| w          | 0.041524     | 0.025743     | 0.023551     |
| h          | 0.026854     | 0.010760     | 0.017377     |
| conf       | 0.406709     | 0.334218     | 0.297288     |
| cls        | 0.008849     | 0.028135     | 0.050208     |
| cls_acc    | 100.00%      | 100.00%      | 93.33%       |
| recall50   | 0.928571     | 0.933333     | 0.933333     |
| recall75   | 0.928571     | 0.933333     | 0.800000     |
| precision  | 0.650000     | 0.388889     | 0.141414     |
| conf_obj   | 0.914782     | 0.923742     | 0.918698     |
| conf_noobj | 0.000811     | 0.000661     | 0.000636     |
+------------+--------------+--------------+--------------+
2020-12-20 03:46:38.442 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.615854
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.696628     | 0.526585     | 0.392640     |
| x          | 0.009964     | 0.006317     | 0.019750     |
| y          | 0.003743     | 0.009414     | 0.025395     |
| w          | 0.031360     | 0.034167     | 0.014035     |
| h          | 0.025298     | 0.022237     | 0.014720     |
| conf       | 0.619286     | 0.446720     | 0.314519     |
| cls        | 0.006977     | 0.007731     | 0.004221     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.918919     | 0.945946     |
| recall75   | 0.861111     | 0.918919     | 0.837838     |
| precision  | 0.744186     | 0.485714     | 0.214724     |
| conf_obj   | 0.836748     | 0.887364     | 0.917596     |
| conf_noobj | 0.000913     | 0.000724     | 0.000644     |
+------------+--------------+--------------+--------------+
2020-12-20 03:47:40.664 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.601533
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.191317     | 0.205057     | 0.205158     |
| x          | 0.003972     | 0.006115     | 0.017826     |
| y          | 0.005664     | 0.010462     | 0.032505     |
| w          | 0.016623     | 0.013511     | 0.011084     |
| h          | 0.015075     | 0.006302     | 0.003810     |
| conf       | 0.145603     | 0.166012     | 0.138200     |
| cls        | 0.004380     | 0.002655     | 0.001733     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 1.000000     | 0.941176     |
| precision  | 0.739130     | 0.333333     | 0.151786     |
| conf_obj   | 0.960332     | 0.952737     | 0.956765     |
| conf_noobj | 0.000564     | 0.000609     | 0.000451     |
+------------+--------------+--------------+--------------+
2020-12-20 03:48:42.662 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.078048
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.359184     | 0.414302     | 0.304562     |
| x          | 0.006383     | 0.011176     | 0.012629     |
| y          | 0.014104     | 0.030040     | 0.019437     |
| w          | 0.036277     | 0.046279     | 0.022084     |
| h          | 0.028426     | 0.043916     | 0.010140     |
| conf       | 0.237221     | 0.254975     | 0.204188     |
| cls        | 0.036773     | 0.027916     | 0.036085     |
| cls_acc    | 96.88%       | 100.00%      | 97.14%       |
| recall50   | 0.906250     | 0.914286     | 0.914286     |
| recall75   | 0.875000     | 0.885714     | 0.857143     |
| precision  | 0.743590     | 0.457143     | 0.182857     |
| conf_obj   | 0.933342     | 0.911395     | 0.946664     |
| conf_noobj | 0.000610     | 0.000635     | 0.000621     |
+------------+--------------+--------------+--------------+
2020-12-20 03:48:54.917 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.188
2020-12-20 03:48:54.998 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 03:49:59.962 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14144   | 0.39055 | 0.20767 | 0.22835 |
| 1     | Wear_helmet | 0.38600   | 0.96209 | 0.55096 | 0.90432 |
| 2     | Total       | 0.26372   | 0.67632 | 0.37931 | 0.56634 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 03:49:59.962 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5663354356437932
2020-12-20 03:49:59.963 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 03:49:59.963 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:04.964708

2020-12-20 03:50:00.424 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 1/2, epo 1/5
2020-12-20 03:50:00.424 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 1/2, epo 1/5; time cost: 0:15:06.905501

2020-12-20 03:50:00.425 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 1/2, epo 2/5
2020-12-20 03:50:01.519 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.548900
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.175929     | 0.169392     | 0.203580     |
| x          | 0.016214     | 0.013264     | 0.033199     |
| y          | 0.002943     | 0.006341     | 0.017638     |
| w          | 0.020348     | 0.022445     | 0.013448     |
| h          | 0.009069     | 0.010247     | 0.009318     |
| conf       | 0.109387     | 0.114591     | 0.126727     |
| cls        | 0.017968     | 0.002504     | 0.003250     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 1.000000     | 0.923077     |
| precision  | 0.827586     | 0.568182     | 0.196970     |
| conf_obj   | 0.970816     | 0.964766     | 0.981979     |
| conf_noobj | 0.000537     | 0.000451     | 0.000579     |
+------------+--------------+--------------+--------------+
2020-12-20 03:51:04.892 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.984748
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.328309     | 0.303640     | 0.352799     |
| x          | 0.003915     | 0.010627     | 0.027842     |
| y          | 0.005136     | 0.012041     | 0.030602     |
| w          | 0.019814     | 0.013132     | 0.011360     |
| h          | 0.016789     | 0.008449     | 0.007960     |
| conf       | 0.142322     | 0.142954     | 0.136387     |
| cls        | 0.140333     | 0.116437     | 0.138647     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.961538     | 0.923077     | 0.961538     |
| precision  | 0.694444     | 0.423729     | 0.164474     |
| conf_obj   | 0.970469     | 0.968992     | 0.976986     |
| conf_noobj | 0.000671     | 0.000563     | 0.000554     |
+------------+--------------+--------------+--------------+
2020-12-20 03:52:10.313 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.800242
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.280126     | 0.268095     | 0.252021     |
| x          | 0.010569     | 0.012268     | 0.009090     |
| y          | 0.008225     | 0.010175     | 0.024708     |
| w          | 0.035444     | 0.026221     | 0.010497     |
| h          | 0.035165     | 0.026230     | 0.012615     |
| conf       | 0.185219     | 0.188057     | 0.187916     |
| cls        | 0.005504     | 0.005143     | 0.007195     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.964286     | 0.964286     |
| recall75   | 0.814815     | 0.785714     | 0.892857     |
| precision  | 0.722222     | 0.562500     | 0.194245     |
| conf_obj   | 0.968438     | 0.958190     | 0.959049     |
| conf_noobj | 0.000831     | 0.000644     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 03:53:12.280 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.261948
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.496720     | 0.448168     | 0.317060     |
| x          | 0.075623     | 0.012815     | 0.011958     |
| y          | 0.010000     | 0.019529     | 0.025567     |
| w          | 0.036585     | 0.035037     | 0.022330     |
| h          | 0.031251     | 0.024067     | 0.021433     |
| conf       | 0.339460     | 0.341678     | 0.218680     |
| cls        | 0.003800     | 0.015042     | 0.017092     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.900000     | 0.950000     |
| recall75   | 0.736842     | 0.850000     | 0.900000     |
| precision  | 0.586207     | 0.339623     | 0.148438     |
| conf_obj   | 0.916080     | 0.860124     | 0.922961     |
| conf_noobj | 0.000772     | 0.000611     | 0.000448     |
+------------+--------------+--------------+--------------+
2020-12-20 03:54:23.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.735328
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.216903     | 0.233943     | 0.284483     |
| x          | 0.005418     | 0.011904     | 0.028547     |
| y          | 0.007967     | 0.011224     | 0.015263     |
| w          | 0.020009     | 0.010772     | 0.014216     |
| h          | 0.025490     | 0.020701     | 0.016348     |
| conf       | 0.153272     | 0.172112     | 0.191289     |
| cls        | 0.004746     | 0.007231     | 0.018820     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.894737     |
| recall75   | 0.875000     | 0.823529     | 0.736842     |
| precision  | 0.727273     | 0.361702     | 0.145299     |
| conf_obj   | 0.971300     | 0.950730     | 0.930509     |
| conf_noobj | 0.000695     | 0.000589     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-20 03:55:31.832 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.866676
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.365520     | 0.262968     | 0.238188     |
| x          | 0.006839     | 0.008707     | 0.014948     |
| y          | 0.010518     | 0.009332     | 0.024577     |
| w          | 0.039308     | 0.047971     | 0.021048     |
| h          | 0.040516     | 0.033935     | 0.015266     |
| conf       | 0.257087     | 0.160352     | 0.161159     |
| cls        | 0.011252     | 0.002671     | 0.001191     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.789474     | 0.894737     |
| precision  | 0.612903     | 0.404255     | 0.131944     |
| conf_obj   | 0.923689     | 0.948568     | 0.964558     |
| conf_noobj | 0.001066     | 0.000595     | 0.000663     |
+------------+--------------+--------------+--------------+
2020-12-20 03:56:33.975 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.685833
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.661218     | 0.706619     | 0.317996     |
| x          | 0.010678     | 0.007664     | 0.029848     |
| y          | 0.020238     | 0.028859     | 0.020434     |
| w          | 0.021047     | 0.015802     | 0.010242     |
| h          | 0.021649     | 0.030852     | 0.005520     |
| conf       | 0.585783     | 0.620800     | 0.251284     |
| cls        | 0.001823     | 0.002643     | 0.000668     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.785714     | 0.785714     | 0.928571     |
| recall75   | 0.785714     | 0.785714     | 0.928571     |
| precision  | 0.354839     | 0.166667     | 0.093525     |
| conf_obj   | 0.827117     | 0.792979     | 0.894531     |
| conf_noobj | 0.001228     | 0.000919     | 0.000574     |
+------------+--------------+--------------+--------------+
2020-12-20 03:57:45.288 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.330307
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.509424     | 0.435439     | 0.385444     |
| x          | 0.017125     | 0.011281     | 0.039657     |
| y          | 0.010294     | 0.024191     | 0.054665     |
| w          | 0.041272     | 0.020836     | 0.013092     |
| h          | 0.032858     | 0.022338     | 0.015853     |
| conf       | 0.357847     | 0.302756     | 0.208387     |
| cls        | 0.050029     | 0.054037     | 0.053790     |
| cls_acc    | 96.77%       | 96.97%       | 96.97%       |
| recall50   | 0.935484     | 0.939394     | 0.939394     |
| recall75   | 0.838710     | 0.878788     | 0.878788     |
| precision  | 0.674419     | 0.333333     | 0.158163     |
| conf_obj   | 0.897819     | 0.914600     | 0.935109     |
| conf_noobj | 0.000851     | 0.000925     | 0.000642     |
+------------+--------------+--------------+--------------+
2020-12-20 03:58:54.378 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.866561
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.295406     | 0.281431     | 0.289723     |
| x          | 0.025229     | 0.033060     | 0.039060     |
| y          | 0.006831     | 0.009128     | 0.019816     |
| w          | 0.038884     | 0.018739     | 0.007682     |
| h          | 0.024796     | 0.023576     | 0.010977     |
| conf       | 0.160366     | 0.147772     | 0.194043     |
| cls        | 0.039301     | 0.049156     | 0.018145     |
| cls_acc    | 96.55%       | 96.88%       | 100.00%      |
| recall50   | 0.862069     | 0.906250     | 0.969697     |
| recall75   | 0.758621     | 0.718750     | 0.818182     |
| precision  | 0.735294     | 0.453125     | 0.175824     |
| conf_obj   | 0.944321     | 0.957522     | 0.939779     |
| conf_noobj | 0.000528     | 0.000552     | 0.000584     |
+------------+--------------+--------------+--------------+
2020-12-20 04:00:02.746 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.729154
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.254785     | 0.235799     | 0.238570     |
| x          | 0.003895     | 0.013181     | 0.026696     |
| y          | 0.015987     | 0.015953     | 0.027034     |
| w          | 0.024499     | 0.019544     | 0.009043     |
| h          | 0.024691     | 0.020589     | 0.014323     |
| conf       | 0.169605     | 0.160160     | 0.158021     |
| cls        | 0.016108     | 0.006373     | 0.003454     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.920000     | 0.960000     |
| precision  | 0.694444     | 0.357143     | 0.136612     |
| conf_obj   | 0.959687     | 0.974868     | 0.969227     |
| conf_noobj | 0.000824     | 0.000779     | 0.000673     |
+------------+--------------+--------------+--------------+
2020-12-20 04:01:13.639 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.612303
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.434695     | 0.625177     | 0.552432     |
| x          | 0.010844     | 0.008928     | 0.017774     |
| y          | 0.005655     | 0.011779     | 0.029930     |
| w          | 0.019401     | 0.021454     | 0.015486     |
| h          | 0.031001     | 0.024152     | 0.018271     |
| conf       | 0.187971     | 0.352282     | 0.281324     |
| cls        | 0.179823     | 0.206581     | 0.189646     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.807692     | 0.807692     | 0.846154     |
| precision  | 0.675676     | 0.352113     | 0.177305     |
| conf_obj   | 0.949938     | 0.925170     | 0.937053     |
| conf_noobj | 0.000847     | 0.000820     | 0.000572     |
+------------+--------------+--------------+--------------+
2020-12-20 04:02:18.152 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.697180
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.249717     | 0.223908     | 0.223555     |
| x          | 0.006527     | 0.007257     | 0.037953     |
| y          | 0.005745     | 0.017081     | 0.018660     |
| w          | 0.048688     | 0.026971     | 0.036761     |
| h          | 0.033560     | 0.016010     | 0.021644     |
| conf       | 0.147218     | 0.149179     | 0.099430     |
| cls        | 0.007980     | 0.007410     | 0.009107     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 0.882353     | 0.705882     |
| precision  | 0.772727     | 0.377778     | 0.165049     |
| conf_obj   | 0.939977     | 0.944512     | 0.973230     |
| conf_noobj | 0.000473     | 0.000473     | 0.000362     |
+------------+--------------+--------------+--------------+
2020-12-20 04:03:26.444 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.443801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.126837     | 0.129327     | 0.187637     |
| x          | 0.003768     | 0.007640     | 0.015231     |
| y          | 0.005218     | 0.013680     | 0.051695     |
| w          | 0.009989     | 0.007699     | 0.005751     |
| h          | 0.029039     | 0.017432     | 0.016285     |
| conf       | 0.077283     | 0.082555     | 0.098202     |
| cls        | 0.001539     | 0.000322     | 0.000473     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.950000     |
| precision  | 0.869565     | 0.465116     | 0.173913     |
| conf_obj   | 0.985028     | 0.988893     | 0.979657     |
| conf_noobj | 0.000450     | 0.000446     | 0.000428     |
+------------+--------------+--------------+--------------+
2020-12-20 04:04:40.151 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.893657
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.377237     | 0.303797     | 0.212623     |
| x          | 0.015886     | 0.012219     | 0.012031     |
| y          | 0.008309     | 0.005363     | 0.012250     |
| w          | 0.027414     | 0.038884     | 0.014130     |
| h          | 0.012268     | 0.026780     | 0.007393     |
| conf       | 0.302473     | 0.215809     | 0.164113     |
| cls        | 0.010887     | 0.004743     | 0.002707     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.966667     | 1.000000     |
| recall75   | 0.821429     | 0.900000     | 0.967742     |
| precision  | 0.577778     | 0.397260     | 0.193750     |
| conf_obj   | 0.954902     | 0.951057     | 0.967134     |
| conf_noobj | 0.001311     | 0.000892     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 04:04:50.755 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.098
2020-12-20 04:04:50.759 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 04:05:43.527 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.18584   | 0.52239 | 0.27415 | 0.31886 |
| 1     | Wear_helmet | 0.60574   | 0.90948 | 0.72717 | 0.86901 |
| 2     | Total       | 0.39579   | 0.71593 | 0.50066 | 0.59394 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:05:43.528 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5939355626241755
2020-12-20 04:05:43.528 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 04:05:43.528 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:52.768467

2020-12-20 04:05:44.019 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 1/2, epo 2/5
2020-12-20 04:05:44.019 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 1/2, epo 2/5; time cost: 0:15:43.593684

2020-12-20 04:05:44.019 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 1/2, epo 3/5
2020-12-20 04:05:45.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.844028
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.303582     | 0.320000     | 0.220447     |
| x          | 0.003786     | 0.008078     | 0.013211     |
| y          | 0.004549     | 0.022006     | 0.037813     |
| w          | 0.017027     | 0.019684     | 0.011609     |
| h          | 0.016442     | 0.026552     | 0.014161     |
| conf       | 0.206810     | 0.159651     | 0.128539     |
| cls        | 0.054968     | 0.084029     | 0.015113     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.944444     | 0.947368     |
| precision  | 0.680000     | 0.391304     | 0.179245     |
| conf_obj   | 0.948046     | 0.956272     | 0.965596     |
| conf_noobj | 0.000742     | 0.000630     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 04:06:51.260 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.635937
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.663180     | 0.552058     | 0.420700     |
| x          | 0.007824     | 0.028964     | 0.030002     |
| y          | 0.008310     | 0.021624     | 0.036862     |
| w          | 0.035329     | 0.037430     | 0.018278     |
| h          | 0.037719     | 0.041913     | 0.019357     |
| conf       | 0.488716     | 0.385072     | 0.294855     |
| cls        | 0.085283     | 0.037055     | 0.021347     |
| cls_acc    | 100.00%      | 96.67%       | 100.00%      |
| recall50   | 0.857143     | 0.866667     | 0.870968     |
| recall75   | 0.714286     | 0.666667     | 0.645161     |
| precision  | 0.727273     | 0.419355     | 0.181208     |
| conf_obj   | 0.861943     | 0.885414     | 0.904348     |
| conf_noobj | 0.000919     | 0.000850     | 0.000757     |
+------------+--------------+--------------+--------------+
2020-12-20 04:07:56.428 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.895369
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.312069     | 0.263705     | 0.319594     |
| x          | 0.008927     | 0.016876     | 0.026844     |
| y          | 0.002789     | 0.012902     | 0.018349     |
| w          | 0.033955     | 0.032275     | 0.033821     |
| h          | 0.038373     | 0.040089     | 0.046862     |
| conf       | 0.205793     | 0.139649     | 0.153283     |
| cls        | 0.022232     | 0.021915     | 0.040434     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.823529     | 0.823529     | 0.777778     |
| precision  | 0.653846     | 0.340000     | 0.169811     |
| conf_obj   | 0.968898     | 0.992524     | 0.958565     |
| conf_noobj | 0.000874     | 0.000622     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 04:09:03.329 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.910546
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.350836     | 0.334534     | 0.225176     |
| x          | 0.006893     | 0.014376     | 0.016574     |
| y          | 0.006799     | 0.010469     | 0.026480     |
| w          | 0.025951     | 0.017321     | 0.010457     |
| h          | 0.010857     | 0.008063     | 0.008105     |
| conf       | 0.297535     | 0.282914     | 0.161756     |
| cls        | 0.002800     | 0.001392     | 0.001803     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.928571     | 1.000000     |
| recall75   | 0.777778     | 0.821429     | 0.928571     |
| precision  | 0.705882     | 0.440678     | 0.187919     |
| conf_obj   | 0.911967     | 0.897818     | 0.955980     |
| conf_noobj | 0.000604     | 0.000569     | 0.000517     |
+------------+--------------+--------------+--------------+
2020-12-20 04:10:07.947 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.752374
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.255293     | 0.234648     | 0.262433     |
| x          | 0.010016     | 0.006497     | 0.008748     |
| y          | 0.004487     | 0.013912     | 0.014729     |
| w          | 0.031341     | 0.018328     | 0.007175     |
| h          | 0.022631     | 0.017552     | 0.015807     |
| conf       | 0.182953     | 0.176074     | 0.213092     |
| cls        | 0.003864     | 0.002286     | 0.002882     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.928571     | 0.964286     |
| recall75   | 0.840000     | 0.857143     | 0.892857     |
| precision  | 0.774194     | 0.500000     | 0.174194     |
| conf_obj   | 0.952281     | 0.940249     | 0.918067     |
| conf_noobj | 0.000722     | 0.000555     | 0.000593     |
+------------+--------------+--------------+--------------+
2020-12-20 04:11:13.127 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.745970
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.290343     | 0.214123     | 0.241504     |
| x          | 0.009840     | 0.022381     | 0.017564     |
| y          | 0.011869     | 0.008923     | 0.025507     |
| w          | 0.035728     | 0.033121     | 0.018271     |
| h          | 0.058523     | 0.049990     | 0.028199     |
| conf       | 0.171376     | 0.097211     | 0.150587     |
| cls        | 0.003007     | 0.002496     | 0.001376     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 1.000000     |
| recall75   | 0.880000     | 0.923077     | 0.888889     |
| precision  | 0.800000     | 0.510204     | 0.247706     |
| conf_obj   | 0.953372     | 0.985219     | 0.954979     |
| conf_noobj | 0.000575     | 0.000468     | 0.000487     |
+------------+--------------+--------------+--------------+
2020-12-20 04:12:18.654 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.753288
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.286399     | 0.235436     | 0.231453     |
| x          | 0.015398     | 0.015332     | 0.017152     |
| y          | 0.004311     | 0.005877     | 0.019176     |
| w          | 0.016779     | 0.019712     | 0.012735     |
| h          | 0.033042     | 0.024843     | 0.027731     |
| conf       | 0.215845     | 0.169015     | 0.153397     |
| cls        | 0.001023     | 0.000659     | 0.001262     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.850000     | 0.904762     |
| precision  | 0.645161     | 0.344828     | 0.166667     |
| conf_obj   | 0.966687     | 0.967689     | 0.958925     |
| conf_noobj | 0.001097     | 0.000699     | 0.000535     |
+------------+--------------+--------------+--------------+
2020-12-20 04:13:25.250 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.743187
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.656961     | 0.571197     | 0.515029     |
| x          | 0.011240     | 0.035000     | 0.033888     |
| y          | 0.021986     | 0.020363     | 0.033343     |
| w          | 0.086466     | 0.025697     | 0.031814     |
| h          | 0.140477     | 0.025313     | 0.021417     |
| conf       | 0.300036     | 0.357608     | 0.272978     |
| cls        | 0.096756     | 0.107216     | 0.121588     |
| cls_acc    | 100.00%      | 93.33%       | 90.32%       |
| recall50   | 0.821429     | 0.800000     | 0.870968     |
| recall75   | 0.678571     | 0.733333     | 0.774194     |
| precision  | 0.696970     | 0.342857     | 0.177632     |
| conf_obj   | 0.875624     | 0.886989     | 0.894798     |
| conf_noobj | 0.000693     | 0.000874     | 0.000643     |
+------------+--------------+--------------+--------------+
2020-12-20 04:14:25.316 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.106525
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.499006     | 0.324148     | 0.283371     |
| x          | 0.022722     | 0.019218     | 0.022085     |
| y          | 0.010944     | 0.010010     | 0.021705     |
| w          | 0.046906     | 0.035562     | 0.032834     |
| h          | 0.040024     | 0.020876     | 0.024775     |
| conf       | 0.361201     | 0.218886     | 0.170382     |
| cls        | 0.017208     | 0.019596     | 0.011590     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.838710     | 0.942857     | 0.973684     |
| recall75   | 0.741935     | 0.828571     | 0.710526     |
| precision  | 0.702703     | 0.523810     | 0.248322     |
| conf_obj   | 0.879874     | 0.940201     | 0.964623     |
| conf_noobj | 0.000789     | 0.000554     | 0.000562     |
+------------+--------------+--------------+--------------+
2020-12-20 04:15:36.229 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.031725
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.322030     | 0.352432     | 0.357262     |
| x          | 0.007176     | 0.009547     | 0.014444     |
| y          | 0.011915     | 0.019931     | 0.030693     |
| w          | 0.033734     | 0.019443     | 0.020841     |
| h          | 0.036028     | 0.029500     | 0.022402     |
| conf       | 0.211767     | 0.255990     | 0.250000     |
| cls        | 0.021410     | 0.018022     | 0.018883     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.939394     | 0.941176     |
| recall75   | 0.870968     | 0.787879     | 0.735294     |
| precision  | 0.837838     | 0.442857     | 0.181818     |
| conf_obj   | 0.962667     | 0.950323     | 0.942013     |
| conf_noobj | 0.000834     | 0.000997     | 0.000854     |
+------------+--------------+--------------+--------------+
2020-12-20 04:16:36.705 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.006027
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.403164     | 0.316606     | 0.286257     |
| x          | 0.003503     | 0.009717     | 0.027499     |
| y          | 0.002272     | 0.010201     | 0.015865     |
| w          | 0.020476     | 0.024749     | 0.021733     |
| h          | 0.043003     | 0.055254     | 0.041800     |
| conf       | 0.296713     | 0.191972     | 0.174148     |
| cls        | 0.037197     | 0.024713     | 0.005213     |
| cls_acc    | 95.00%       | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.800000     | 0.850000     |
| precision  | 0.692308     | 0.344828     | 0.161290     |
| conf_obj   | 0.916126     | 0.971213     | 0.960221     |
| conf_noobj | 0.001012     | 0.000981     | 0.000713     |
+------------+--------------+--------------+--------------+
2020-12-20 04:17:42.781 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.770436
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.233596     | 0.225315     | 0.311524     |
| x          | 0.006007     | 0.009650     | 0.027679     |
| y          | 0.004952     | 0.008932     | 0.020152     |
| w          | 0.019747     | 0.017191     | 0.002913     |
| h          | 0.013567     | 0.011014     | 0.005655     |
| conf       | 0.188697     | 0.178218     | 0.254896     |
| cls        | 0.000626     | 0.000310     | 0.000229     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 0.923077     |
| recall75   | 0.923077     | 0.961538     | 0.923077     |
| precision  | 0.833333     | 0.400000     | 0.210526     |
| conf_obj   | 0.954351     | 0.960994     | 0.928556     |
| conf_noobj | 0.000588     | 0.000653     | 0.000526     |
+------------+--------------+--------------+--------------+
2020-12-20 04:18:48.087 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.176722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.419617     | 0.365441     | 0.391664     |
| x          | 0.011919     | 0.013884     | 0.032179     |
| y          | 0.006256     | 0.011941     | 0.021806     |
| w          | 0.052813     | 0.041307     | 0.032387     |
| h          | 0.034084     | 0.034850     | 0.029779     |
| conf       | 0.308296     | 0.258998     | 0.271934     |
| cls        | 0.006249     | 0.004462     | 0.003579     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.918919     | 0.894737     | 0.948718     |
| recall75   | 0.810811     | 0.815789     | 0.717949     |
| precision  | 0.871795     | 0.485714     | 0.205556     |
| conf_obj   | 0.895030     | 0.912774     | 0.948773     |
| conf_noobj | 0.000640     | 0.000611     | 0.000563     |
+------------+--------------+--------------+--------------+
2020-12-20 04:19:53.508 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.204047
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.405636     | 0.440494     | 0.357916     |
| x          | 0.011549     | 0.023919     | 0.041354     |
| y          | 0.007856     | 0.019595     | 0.039339     |
| w          | 0.065331     | 0.042209     | 0.026974     |
| h          | 0.041946     | 0.029609     | 0.015185     |
| conf       | 0.269129     | 0.320693     | 0.230187     |
| cls        | 0.009825     | 0.004469     | 0.004876     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.931035     | 0.966667     |
| recall75   | 0.750000     | 0.793103     | 0.866667     |
| precision  | 0.742857     | 0.355263     | 0.185897     |
| conf_obj   | 0.916410     | 0.902073     | 0.942825     |
| conf_noobj | 0.000614     | 0.000674     | 0.000537     |
+------------+--------------+--------------+--------------+
2020-12-20 04:20:06.541 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 1.062
2020-12-20 04:20:06.545 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 04:21:06.473 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05780   | 0.36318 | 0.09973 | 0.18306 |
| 1     | Wear_helmet | 0.23980   | 0.96066 | 0.38379 | 0.89138 |
| 2     | Total       | 0.14880   | 0.66192 | 0.24176 | 0.53722 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:21:06.474 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5372175481033307
2020-12-20 04:21:06.474 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 04:21:06.475 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.929594

2020-12-20 04:21:06.885 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 1/2, epo 3/5
2020-12-20 04:21:06.885 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 1/2, epo 3/5; time cost: 0:15:22.865519

2020-12-20 04:21:06.886 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 1/2, epo 4/5
2020-12-20 04:21:08.345 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.832736
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.294118     | 0.272270     | 0.266348     |
| x          | 0.011793     | 0.009540     | 0.017834     |
| y          | 0.005744     | 0.007473     | 0.023009     |
| w          | 0.027283     | 0.022444     | 0.021489     |
| h          | 0.035898     | 0.026587     | 0.013876     |
| conf       | 0.206710     | 0.203124     | 0.187846     |
| cls        | 0.006691     | 0.003102     | 0.002294     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.966667     | 0.966667     |
| recall75   | 0.750000     | 0.900000     | 0.700000     |
| precision  | 0.750000     | 0.491525     | 0.189542     |
| conf_obj   | 0.940391     | 0.932881     | 0.940394     |
| conf_noobj | 0.000768     | 0.000573     | 0.000527     |
+------------+--------------+--------------+--------------+
2020-12-20 04:22:19.456 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.309655
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.531719     | 0.385871     | 0.392064     |
| x          | 0.019062     | 0.016446     | 0.013906     |
| y          | 0.010646     | 0.012200     | 0.037879     |
| w          | 0.018896     | 0.015873     | 0.010619     |
| h          | 0.020684     | 0.027037     | 0.015593     |
| conf       | 0.291332     | 0.191811     | 0.241152     |
| cls        | 0.171098     | 0.122504     | 0.072915     |
| cls_acc    | 90.00%       | 93.02%       | 95.35%       |
| recall50   | 0.825000     | 0.906977     | 0.953488     |
| recall75   | 0.725000     | 0.767442     | 0.860465     |
| precision  | 0.733333     | 0.469880     | 0.215789     |
| conf_obj   | 0.902892     | 0.940801     | 0.936093     |
| conf_noobj | 0.000531     | 0.000597     | 0.000603     |
+------------+--------------+--------------+--------------+
2020-12-20 04:23:27.639 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.168574
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.411033     | 0.423146     | 0.334395     |
| x          | 0.032950     | 0.030728     | 0.037976     |
| y          | 0.011496     | 0.014328     | 0.068046     |
| w          | 0.026234     | 0.073635     | 0.055956     |
| h          | 0.016191     | 0.044047     | 0.030020     |
| conf       | 0.317862     | 0.249807     | 0.128850     |
| cls        | 0.006299     | 0.010600     | 0.013547     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.842105     | 0.850000     | 0.904762     |
| recall75   | 0.736842     | 0.750000     | 0.666667     |
| precision  | 0.695652     | 0.369565     | 0.163793     |
| conf_obj   | 0.864453     | 0.882133     | 0.967077     |
| conf_noobj | 0.000706     | 0.000485     | 0.000457     |
+------------+--------------+--------------+--------------+
2020-12-20 04:24:31.611 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.273968
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.597370     | 0.364412     | 0.312186     |
| x          | 0.017073     | 0.016753     | 0.032394     |
| y          | 0.012365     | 0.020104     | 0.030975     |
| w          | 0.032503     | 0.018990     | 0.011609     |
| h          | 0.034336     | 0.019965     | 0.006177     |
| conf       | 0.482475     | 0.287896     | 0.230007     |
| cls        | 0.018618     | 0.000704     | 0.001024     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.833333     | 0.888889     |
| recall75   | 0.777778     | 0.777778     | 0.833333     |
| precision  | 0.576923     | 0.306122     | 0.124031     |
| conf_obj   | 0.875007     | 0.887348     | 0.918466     |
| conf_noobj | 0.000772     | 0.000603     | 0.000543     |
+------------+--------------+--------------+--------------+
2020-12-20 04:25:42.168 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.356575
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.494031     | 0.506129     | 0.356415     |
| x          | 0.002253     | 0.009246     | 0.017592     |
| y          | 0.006717     | 0.009646     | 0.033425     |
| w          | 0.027344     | 0.018533     | 0.011617     |
| h          | 0.009322     | 0.017024     | 0.012116     |
| conf       | 0.401242     | 0.395777     | 0.245825     |
| cls        | 0.047154     | 0.055903     | 0.035841     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.888889     | 0.888889     |
| recall75   | 0.823529     | 0.833333     | 0.888889     |
| precision  | 0.517241     | 0.290909     | 0.131148     |
| conf_obj   | 0.884724     | 0.869742     | 0.930357     |
| conf_noobj | 0.001235     | 0.000890     | 0.000639     |
+------------+--------------+--------------+--------------+
2020-12-20 04:26:46.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.291426
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.462588     | 0.408157     | 0.420681     |
| x          | 0.009921     | 0.013342     | 0.025268     |
| y          | 0.025353     | 0.012480     | 0.030272     |
| w          | 0.028582     | 0.010113     | 0.010483     |
| h          | 0.025942     | 0.017422     | 0.016287     |
| conf       | 0.232039     | 0.226249     | 0.180395     |
| cls        | 0.140751     | 0.128551     | 0.157975     |
| cls_acc    | 96.55%       | 96.55%       | 96.55%       |
| recall50   | 0.896552     | 0.965517     | 0.965517     |
| recall75   | 0.724138     | 0.896552     | 0.862069     |
| precision  | 0.634146     | 0.368421     | 0.153846     |
| conf_obj   | 0.931876     | 0.941118     | 0.959169     |
| conf_noobj | 0.000912     | 0.000819     | 0.000688     |
+------------+--------------+--------------+--------------+
2020-12-20 04:27:51.212 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.712747
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.234356     | 0.226289     | 0.252102     |
| x          | 0.006622     | 0.012288     | 0.027026     |
| y          | 0.007896     | 0.012986     | 0.034866     |
| w          | 0.033211     | 0.015269     | 0.013127     |
| h          | 0.019159     | 0.014226     | 0.015530     |
| conf       | 0.164715     | 0.170201     | 0.160112     |
| cls        | 0.002752     | 0.001320     | 0.001442     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 1.000000     | 1.000000     |
| recall75   | 0.911765     | 0.888889     | 0.864865     |
| precision  | 0.750000     | 0.450000     | 0.185000     |
| conf_obj   | 0.948043     | 0.960604     | 0.966493     |
| conf_noobj | 0.000642     | 0.000696     | 0.000584     |
+------------+--------------+--------------+--------------+
2020-12-20 04:28:55.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.645552
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.231140     | 0.221582     | 0.192831     |
| x          | 0.012901     | 0.005699     | 0.021798     |
| y          | 0.004390     | 0.016826     | 0.018493     |
| w          | 0.020689     | 0.016717     | 0.014783     |
| h          | 0.020505     | 0.010623     | 0.010875     |
| conf       | 0.164834     | 0.167898     | 0.117513     |
| cls        | 0.007821     | 0.003820     | 0.009369     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.956522     | 1.000000     |
| recall75   | 0.909091     | 0.913043     | 0.869565     |
| precision  | 0.700000     | 0.415094     | 0.214953     |
| conf_obj   | 0.966225     | 0.966732     | 0.978132     |
| conf_noobj | 0.000745     | 0.000653     | 0.000472     |
+------------+--------------+--------------+--------------+
2020-12-20 04:30:02.660 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.164514
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.378051     | 0.369805     | 0.416657     |
| x          | 0.018933     | 0.012966     | 0.028976     |
| y          | 0.009103     | 0.011957     | 0.018353     |
| w          | 0.036648     | 0.023349     | 0.021377     |
| h          | 0.034086     | 0.013767     | 0.016950     |
| conf       | 0.151791     | 0.223877     | 0.228906     |
| cls        | 0.127489     | 0.083890     | 0.102097     |
| cls_acc    | 90.62%       | 92.11%       | 95.00%       |
| recall50   | 0.875000     | 0.894737     | 0.950000     |
| recall75   | 0.718750     | 0.736842     | 0.775000     |
| precision  | 0.700000     | 0.409639     | 0.156379     |
| conf_obj   | 0.969544     | 0.960849     | 0.978740     |
| conf_noobj | 0.000762     | 0.000883     | 0.000971     |
+------------+--------------+--------------+--------------+
2020-12-20 04:31:08.734 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.041061
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.415776     | 0.289312     | 0.335973     |
| x          | 0.011578     | 0.018942     | 0.022256     |
| y          | 0.005846     | 0.005741     | 0.019066     |
| w          | 0.053949     | 0.022390     | 0.017918     |
| h          | 0.024164     | 0.014181     | 0.022180     |
| conf       | 0.238234     | 0.181164     | 0.220692     |
| cls        | 0.082006     | 0.046893     | 0.033860     |
| cls_acc    | 95.00%       | 95.00%       | 100.00%      |
| recall50   | 0.900000     | 0.950000     | 0.952381     |
| recall75   | 0.850000     | 0.850000     | 0.761905     |
| precision  | 0.620690     | 0.404255     | 0.148148     |
| conf_obj   | 0.931394     | 0.946346     | 0.935671     |
| conf_noobj | 0.000808     | 0.000623     | 0.000620     |
+------------+--------------+--------------+--------------+
2020-12-20 04:32:13.629 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.843291
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.300256     | 0.272581     | 0.270454     |
| x          | 0.008478     | 0.013455     | 0.042849     |
| y          | 0.014219     | 0.014003     | 0.043390     |
| w          | 0.015389     | 0.007649     | 0.009076     |
| h          | 0.017652     | 0.009825     | 0.013549     |
| conf       | 0.223653     | 0.215168     | 0.149537     |
| cls        | 0.020865     | 0.012481     | 0.012053     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.809524     | 0.952381     | 0.952381     |
| precision  | 0.689655     | 0.323077     | 0.176471     |
| conf_obj   | 0.948122     | 0.957364     | 0.962806     |
| conf_noobj | 0.000812     | 0.000869     | 0.000563     |
+------------+--------------+--------------+--------------+
2020-12-20 04:33:15.036 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.869922
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.295798     | 0.310348     | 0.263776     |
| x          | 0.014748     | 0.031409     | 0.014144     |
| y          | 0.002777     | 0.008024     | 0.022424     |
| w          | 0.027436     | 0.022062     | 0.009064     |
| h          | 0.017255     | 0.023562     | 0.016415     |
| conf       | 0.218013     | 0.198133     | 0.171169     |
| cls        | 0.015570     | 0.027158     | 0.030560     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.961538     | 1.000000     |
| recall75   | 0.884615     | 0.769231     | 0.925926     |
| precision  | 0.714286     | 0.373134     | 0.146739     |
| conf_obj   | 0.934554     | 0.964394     | 0.981520     |
| conf_noobj | 0.000815     | 0.000839     | 0.000727     |
+------------+--------------+--------------+--------------+
2020-12-20 04:34:23.785 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.823834
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.214141     | 0.302184     | 0.307509     |
| x          | 0.009844     | 0.027255     | 0.019801     |
| y          | 0.013455     | 0.020142     | 0.026131     |
| w          | 0.037897     | 0.018736     | 0.013036     |
| h          | 0.030103     | 0.017947     | 0.012418     |
| conf       | 0.113240     | 0.177043     | 0.226609     |
| cls        | 0.009601     | 0.041061     | 0.009514     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.903226     | 0.937500     |
| recall75   | 0.851852     | 0.806452     | 0.812500     |
| precision  | 0.843750     | 0.528302     | 0.196078     |
| conf_obj   | 0.982326     | 0.938460     | 0.938338     |
| conf_noobj | 0.000456     | 0.000529     | 0.000601     |
+------------+--------------+--------------+--------------+
2020-12-20 04:35:32.098 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.060628
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.430895     | 0.314293     | 0.315440     |
| x          | 0.008664     | 0.028409     | 0.044785     |
| y          | 0.003898     | 0.011541     | 0.032013     |
| w          | 0.046991     | 0.012779     | 0.014650     |
| h          | 0.027543     | 0.013346     | 0.015743     |
| conf       | 0.342395     | 0.233235     | 0.173226     |
| cls        | 0.001404     | 0.014983     | 0.035024     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 1.000000     | 1.000000     |
| recall75   | 0.750000     | 0.863636     | 0.863636     |
| precision  | 0.680000     | 0.423077     | 0.188034     |
| conf_obj   | 0.874017     | 0.896837     | 0.933141     |
| conf_noobj | 0.000794     | 0.000641     | 0.000542     |
+------------+--------------+--------------+--------------+
2020-12-20 04:35:42.714 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 1.036
2020-12-20 04:35:42.718 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 04:36:36.311 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08280   | 0.42040 | 0.13835 | 0.19020 |
| 1     | Wear_helmet | 0.42039   | 0.93981 | 0.58093 | 0.88499 |
| 2     | Total       | 0.25160   | 0.68010 | 0.35964 | 0.53759 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:36:36.313 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5375939407626488
2020-12-20 04:36:36.314 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 04:36:36.315 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:53.596424

2020-12-20 04:36:36.898 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 1/2, epo 4/5
2020-12-20 04:36:36.899 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 1/2, epo 4/5; time cost: 0:15:30.012762

2020-12-20 04:36:36.899 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 9/20, idx 1/2, epo 5/5
2020-12-20 04:36:38.340 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.976608
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.366616     | 0.311508     | 0.298483     |
| x          | 0.005010     | 0.006606     | 0.022087     |
| y          | 0.007199     | 0.021072     | 0.031238     |
| w          | 0.012304     | 0.011827     | 0.008422     |
| h          | 0.029627     | 0.016491     | 0.011143     |
| conf       | 0.309589     | 0.254351     | 0.224150     |
| cls        | 0.002888     | 0.001162     | 0.001443     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.944444     | 0.944444     |
| recall75   | 0.777778     | 0.888889     | 0.888889     |
| precision  | 0.681818     | 0.346939     | 0.212500     |
| conf_obj   | 0.849504     | 0.885612     | 0.896373     |
| conf_noobj | 0.000427     | 0.000436     | 0.000251     |
+------------+--------------+--------------+--------------+
2020-12-20 04:37:45.980 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.668775
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.247101     | 0.229337     | 0.192336     |
| x          | 0.007023     | 0.001864     | 0.014196     |
| y          | 0.007951     | 0.008184     | 0.029682     |
| w          | 0.027950     | 0.005355     | 0.007354     |
| h          | 0.035034     | 0.017194     | 0.015529     |
| conf       | 0.149174     | 0.183413     | 0.114787     |
| cls        | 0.019969     | 0.013328     | 0.010788     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 0.937500     | 0.937500     | 0.875000     |
| precision  | 0.727273     | 0.375000     | 0.177778     |
| conf_obj   | 0.966432     | 0.943133     | 0.969606     |
| conf_noobj | 0.000634     | 0.000511     | 0.000438     |
+------------+--------------+--------------+--------------+
2020-12-20 04:38:51.333 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.130949
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.518294     | 0.332471     | 0.280184     |
| x          | 0.006218     | 0.015872     | 0.021556     |
| y          | 0.003818     | 0.014188     | 0.032369     |
| w          | 0.047365     | 0.035562     | 0.018035     |
| h          | 0.031985     | 0.026661     | 0.014235     |
| conf       | 0.293129     | 0.208326     | 0.186037     |
| cls        | 0.135779     | 0.031861     | 0.007951     |
| cls_acc    | 92.31%       | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.928571     | 0.964286     |
| recall75   | 0.846154     | 0.642857     | 0.892857     |
| precision  | 0.705882     | 0.382353     | 0.164634     |
| conf_obj   | 0.925551     | 0.940074     | 0.955340     |
| conf_noobj | 0.000656     | 0.000596     | 0.000530     |
+------------+--------------+--------------+--------------+
2020-12-20 04:39:54.780 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.728423
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.220004     | 0.265187     | 0.243232     |
| x          | 0.007315     | 0.006999     | 0.021231     |
| y          | 0.010357     | 0.023350     | 0.038554     |
| w          | 0.011801     | 0.008630     | 0.006122     |
| h          | 0.019237     | 0.024002     | 0.013853     |
| conf       | 0.161371     | 0.196142     | 0.157112     |
| cls        | 0.009923     | 0.006064     | 0.006359     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.958333     | 0.958333     |
| recall75   | 0.826087     | 0.916667     | 0.916667     |
| precision  | 0.916667     | 0.418182     | 0.167883     |
| conf_obj   | 0.947465     | 0.934882     | 0.938745     |
| conf_noobj | 0.000447     | 0.000511     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 04:41:06.323 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.540576
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.553767     | 0.497043     | 0.489766     |
| x          | 0.015789     | 0.007275     | 0.012728     |
| y          | 0.010167     | 0.010007     | 0.019183     |
| w          | 0.045954     | 0.047211     | 0.018014     |
| h          | 0.019062     | 0.026563     | 0.012817     |
| conf       | 0.459696     | 0.402283     | 0.423902     |
| cls        | 0.003098     | 0.003704     | 0.003122     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.814815     | 0.857143     | 0.892857     |
| recall75   | 0.740741     | 0.750000     | 0.857143     |
| precision  | 0.647059     | 0.380952     | 0.135135     |
| conf_obj   | 0.850428     | 0.863063     | 0.860875     |
| conf_noobj | 0.001069     | 0.000874     | 0.000803     |
+------------+--------------+--------------+--------------+
2020-12-20 04:42:09.783 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.173896
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.294668     | 0.459016     | 0.420213     |
| x          | 0.008963     | 0.013028     | 0.035923     |
| y          | 0.009021     | 0.013505     | 0.018054     |
| w          | 0.031616     | 0.012655     | 0.010775     |
| h          | 0.026553     | 0.019423     | 0.009714     |
| conf       | 0.199699     | 0.387493     | 0.337973     |
| cls        | 0.018817     | 0.012912     | 0.007774     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.785714     | 0.892857     |
| recall75   | 0.821429     | 0.750000     | 0.750000     |
| precision  | 0.823529     | 0.423077     | 0.206612     |
| conf_obj   | 0.935366     | 0.832224     | 0.876146     |
| conf_noobj | 0.000802     | 0.000668     | 0.000569     |
+------------+--------------+--------------+--------------+
2020-12-20 04:43:13.866 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.176925
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.401137     | 0.463766     | 0.312021     |
| x          | 0.026141     | 0.024265     | 0.041479     |
| y          | 0.007515     | 0.008818     | 0.038085     |
| w          | 0.025349     | 0.015101     | 0.021835     |
| h          | 0.012184     | 0.008943     | 0.016590     |
| conf       | 0.322980     | 0.394665     | 0.188893     |
| cls        | 0.006969     | 0.011973     | 0.005140     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.866667     | 1.000000     |
| recall75   | 0.866667     | 0.800000     | 0.733333     |
| precision  | 0.583333     | 0.265306     | 0.088757     |
| conf_obj   | 0.870817     | 0.838915     | 0.941711     |
| conf_noobj | 0.000703     | 0.000609     | 0.000642     |
+------------+--------------+--------------+--------------+
2020-12-20 04:44:14.722 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.297583
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.449895     | 0.441989     | 0.405698     |
| x          | 0.005607     | 0.018621     | 0.025629     |
| y          | 0.005746     | 0.015300     | 0.027833     |
| w          | 0.040719     | 0.025099     | 0.036868     |
| h          | 0.045518     | 0.030379     | 0.035059     |
| conf       | 0.337172     | 0.325238     | 0.252306     |
| cls        | 0.015134     | 0.027352     | 0.028004     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.920000     | 0.888889     |
| recall75   | 0.791667     | 0.680000     | 0.666667     |
| precision  | 0.718750     | 0.396552     | 0.163265     |
| conf_obj   | 0.925343     | 0.882276     | 0.924856     |
| conf_noobj | 0.000896     | 0.000671     | 0.000674     |
+------------+--------------+--------------+--------------+
2020-12-20 04:45:16.006 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.451328
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.584895     | 0.450103     | 0.416329     |
| x          | 0.028265     | 0.030649     | 0.033917     |
| y          | 0.014007     | 0.013166     | 0.044257     |
| w          | 0.070297     | 0.042361     | 0.018233     |
| h          | 0.043947     | 0.030252     | 0.015761     |
| conf       | 0.345611     | 0.268111     | 0.253190     |
| cls        | 0.082769     | 0.065564     | 0.050972     |
| cls_acc    | 96.30%       | 100.00%      | 100.00%      |
| recall50   | 0.814815     | 0.935484     | 0.970588     |
| recall75   | 0.592593     | 0.677419     | 0.735294     |
| precision  | 0.666667     | 0.420290     | 0.184358     |
| conf_obj   | 0.882838     | 0.903031     | 0.912663     |
| conf_noobj | 0.000804     | 0.000748     | 0.000685     |
+------------+--------------+--------------+--------------+
2020-12-20 04:46:23.345 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.525726
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.498568     | 0.496124     | 0.531034     |
| x          | 0.010669     | 0.006326     | 0.017181     |
| y          | 0.006237     | 0.008263     | 0.022885     |
| w          | 0.029572     | 0.030458     | 0.027755     |
| h          | 0.033440     | 0.019525     | 0.018855     |
| conf       | 0.395074     | 0.391749     | 0.416455     |
| cls        | 0.023575     | 0.039804     | 0.027904     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.913043     | 0.913043     |
| recall75   | 0.782609     | 0.782609     | 0.826087     |
| precision  | 0.656250     | 0.375000     | 0.172131     |
| conf_obj   | 0.894508     | 0.897568     | 0.898167     |
| conf_noobj | 0.000977     | 0.000716     | 0.000612     |
+------------+--------------+--------------+--------------+
2020-12-20 04:47:23.231 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.230415
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.450603     | 0.429230     | 0.350582     |
| x          | 0.011939     | 0.026694     | 0.048350     |
| y          | 0.006699     | 0.012383     | 0.025004     |
| w          | 0.049694     | 0.030287     | 0.022670     |
| h          | 0.059058     | 0.043640     | 0.024270     |
| conf       | 0.289279     | 0.267985     | 0.194968     |
| cls        | 0.033933     | 0.048242     | 0.035320     |
| cls_acc    | 100.00%      | 96.43%       | 96.77%       |
| recall50   | 0.920000     | 0.857143     | 0.935484     |
| recall75   | 0.760000     | 0.750000     | 0.645161     |
| precision  | 0.696970     | 0.358209     | 0.188312     |
| conf_obj   | 0.904817     | 0.923950     | 0.940120     |
| conf_noobj | 0.000763     | 0.000652     | 0.000594     |
+------------+--------------+--------------+--------------+
2020-12-20 04:48:28.716 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.995670
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.425597     | 0.307480     | 0.262594     |
| x          | 0.009523     | 0.016236     | 0.011167     |
| y          | 0.004115     | 0.009407     | 0.011554     |
| w          | 0.061085     | 0.039160     | 0.023367     |
| h          | 0.027248     | 0.028438     | 0.016727     |
| conf       | 0.303751     | 0.207257     | 0.192282     |
| cls        | 0.019873     | 0.006981     | 0.007496     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 1.000000     |
| recall75   | 0.920000     | 0.821429     | 0.964286     |
| precision  | 0.625000     | 0.415385     | 0.183007     |
| conf_obj   | 0.967724     | 0.976083     | 0.967137     |
| conf_noobj | 0.001193     | 0.000822     | 0.000721     |
+------------+--------------+--------------+--------------+
2020-12-20 04:49:29.629 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.223771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.516242     | 0.408712     | 0.298817     |
| x          | 0.004295     | 0.015121     | 0.019602     |
| y          | 0.011183     | 0.012643     | 0.024697     |
| w          | 0.032109     | 0.034331     | 0.010470     |
| h          | 0.047406     | 0.047298     | 0.013904     |
| conf       | 0.312913     | 0.182132     | 0.194524     |
| cls        | 0.108335     | 0.117187     | 0.035620     |
| cls_acc    | 94.74%       | 89.47%       | 100.00%      |
| recall50   | 0.894737     | 0.894737     | 1.000000     |
| recall75   | 0.842105     | 0.736842     | 0.842105     |
| precision  | 0.680000     | 0.354167     | 0.123377     |
| conf_obj   | 0.908404     | 0.952637     | 0.941378     |
| conf_noobj | 0.000746     | 0.000701     | 0.000715     |
+------------+--------------+--------------+--------------+
2020-12-20 04:50:39.163 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.853166
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.373240     | 0.272607     | 0.207318     |
| x          | 0.005544     | 0.016142     | 0.033642     |
| y          | 0.004901     | 0.012110     | 0.040548     |
| w          | 0.022395     | 0.029160     | 0.008294     |
| h          | 0.020623     | 0.009099     | 0.006765     |
| conf       | 0.316998     | 0.204323     | 0.114941     |
| cls        | 0.002780     | 0.001773     | 0.003128     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.944444     | 1.000000     |
| recall75   | 0.941176     | 0.944444     | 0.888889     |
| precision  | 0.761905     | 0.377778     | 0.176471     |
| conf_obj   | 0.905842     | 0.947265     | 0.974879     |
| conf_noobj | 0.000724     | 0.000543     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 04:50:50.117 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 1.065
2020-12-20 04:50:50.123 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 04:51:51.983 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11526   | 0.46020 | 0.18435 | 0.28568 |
| 1     | Wear_helmet | 0.50968   | 0.92322 | 0.65678 | 0.88000 |
| 2     | Total       | 0.31247   | 0.69171 | 0.42057 | 0.58284 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:51:51.985 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5828393276894012
2020-12-20 04:51:51.986 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 04:51:51.986 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.863062

2020-12-20 04:51:52.445 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 9/20, idx 1/2, epo 5/5
2020-12-20 04:51:52.446 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 9/20, idx 1/2, epo 5/5; time cost: 0:15:15.546539

2020-12-20 04:51:52.446 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.090
2020-12-20 04:51:52.722 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 04:55:42.720 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13103   | 0.54126 | 0.21098 | 0.39708 |
| 1     | Wear_helmet | 0.50152   | 0.89735 | 0.64343 | 0.84379 |
| 2     | Total       | 0.31628   | 0.71931 | 0.42721 | 0.62044 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 04:55:42.720 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6204363434174223
2020-12-20 04:55:42.721 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 04:55:42.721 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:49.999199

2020-12-20 04:55:48.222 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 10!
2020-12-20 04:55:48.353 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 1/2, epo 1/5
2020-12-20 04:55:49.509 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.972005
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.278993     | 0.348486     | 0.344525     |
| x          | 0.010496     | 0.022765     | 0.045933     |
| y          | 0.010366     | 0.010054     | 0.019073     |
| w          | 0.025416     | 0.010327     | 0.023312     |
| h          | 0.016831     | 0.013299     | 0.020250     |
| conf       | 0.195622     | 0.243088     | 0.166090     |
| cls        | 0.020262     | 0.048952     | 0.069867     |
| cls_acc    | 100.00%      | 95.24%       | 95.45%       |
| recall50   | 0.944444     | 0.904762     | 0.909091     |
| recall75   | 0.944444     | 0.714286     | 0.727273     |
| precision  | 0.607143     | 0.301587     | 0.137931     |
| conf_obj   | 0.986877     | 0.945899     | 0.975044     |
| conf_noobj | 0.001171     | 0.000932     | 0.000697     |
+------------+--------------+--------------+--------------+
2020-12-20 04:56:48.729 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.903420
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.377324     | 0.260945     | 0.265151     |
| x          | 0.007977     | 0.019479     | 0.018749     |
| y          | 0.009322     | 0.022793     | 0.028750     |
| w          | 0.024060     | 0.026448     | 0.014022     |
| h          | 0.024041     | 0.016088     | 0.010266     |
| conf       | 0.254975     | 0.148341     | 0.163473     |
| cls        | 0.056949     | 0.027797     | 0.029891     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.954545     | 0.954545     |
| recall75   | 0.863636     | 0.863636     | 0.909091     |
| precision  | 0.714286     | 0.488372     | 0.207921     |
| conf_obj   | 0.895321     | 0.947003     | 0.941533     |
| conf_noobj | 0.000702     | 0.000529     | 0.000510     |
+------------+--------------+--------------+--------------+
2020-12-20 04:57:52.463 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.114725
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.510511     | 0.336717     | 0.267498     |
| x          | 0.012824     | 0.028422     | 0.024835     |
| y          | 0.004497     | 0.009738     | 0.021444     |
| w          | 0.039506     | 0.027657     | 0.037608     |
| h          | 0.035713     | 0.036061     | 0.024613     |
| conf       | 0.381741     | 0.215167     | 0.145328     |
| cls        | 0.036230     | 0.019672     | 0.013670     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.888889     | 1.000000     |
| recall75   | 0.666667     | 0.833333     | 0.736842     |
| precision  | 0.516129     | 0.266667     | 0.152000     |
| conf_obj   | 0.885191     | 0.959443     | 0.985768     |
| conf_noobj | 0.001028     | 0.000831     | 0.000603     |
+------------+--------------+--------------+--------------+
2020-12-20 04:58:53.068 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.587844
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.647495     | 0.444782     | 0.495567     |
| x          | 0.029342     | 0.010372     | 0.029987     |
| y          | 0.016404     | 0.029288     | 0.026655     |
| w          | 0.030396     | 0.023664     | 0.032473     |
| h          | 0.041111     | 0.030913     | 0.033850     |
| conf       | 0.511853     | 0.322653     | 0.356934     |
| cls        | 0.018389     | 0.027892     | 0.015667     |
| cls_acc    | 100.00%      | 97.78%       | 100.00%      |
| recall50   | 0.900000     | 0.933333     | 0.913043     |
| recall75   | 0.750000     | 0.755556     | 0.760870     |
| precision  | 0.782609     | 0.525000     | 0.177966     |
| conf_obj   | 0.865115     | 0.906836     | 0.901848     |
| conf_noobj | 0.000817     | 0.000758     | 0.000839     |
+------------+--------------+--------------+--------------+
2020-12-20 04:59:56.234 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.532395
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.190646     | 0.175359     | 0.166391     |
| x          | 0.005820     | 0.003973     | 0.016027     |
| y          | 0.004787     | 0.008105     | 0.035561     |
| w          | 0.018815     | 0.017564     | 0.006144     |
| h          | 0.025846     | 0.021247     | 0.017547     |
| conf       | 0.132681     | 0.122823     | 0.089718     |
| cls        | 0.002696     | 0.001645     | 0.001394     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.894737     | 0.894737     |
| precision  | 0.730769     | 0.413043     | 0.195876     |
| conf_obj   | 0.968910     | 0.957810     | 0.977427     |
| conf_noobj | 0.000544     | 0.000427     | 0.000339     |
+------------+--------------+--------------+--------------+
2020-12-20 05:00:58.302 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.740163
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.239916     | 0.259476     | 0.240770     |
| x          | 0.005870     | 0.003736     | 0.010607     |
| y          | 0.004199     | 0.009608     | 0.026653     |
| w          | 0.033409     | 0.022993     | 0.024673     |
| h          | 0.020894     | 0.014248     | 0.018342     |
| conf       | 0.099106     | 0.130849     | 0.115265     |
| cls        | 0.076438     | 0.078043     | 0.045231     |
| cls_acc    | 96.15%       | 96.15%       | 96.30%       |
| recall50   | 0.961538     | 0.961538     | 0.962963     |
| recall75   | 0.884615     | 0.923077     | 0.925926     |
| precision  | 0.735294     | 0.409836     | 0.208000     |
| conf_obj   | 0.980852     | 0.986275     | 0.990226     |
| conf_noobj | 0.000563     | 0.000634     | 0.000513     |
+------------+--------------+--------------+--------------+
2020-12-20 05:02:02.889 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 2.198804
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.803511     | 0.741963     | 0.653331     |
| x          | 0.024755     | 0.033087     | 0.020926     |
| y          | 0.011687     | 0.020269     | 0.031390     |
| w          | 0.028944     | 0.025566     | 0.032745     |
| h          | 0.042220     | 0.078919     | 0.059317     |
| conf       | 0.554570     | 0.475695     | 0.419946     |
| cls        | 0.141334     | 0.108426     | 0.089006     |
| cls_acc    | 97.06%       | 97.37%       | 97.37%       |
| recall50   | 0.676471     | 0.789474     | 0.842105     |
| recall75   | 0.647059     | 0.578947     | 0.552632     |
| precision  | 0.718750     | 0.447761     | 0.206452     |
| conf_obj   | 0.776275     | 0.800369     | 0.833556     |
| conf_noobj | 0.000717     | 0.000724     | 0.000680     |
+------------+--------------+--------------+--------------+
2020-12-20 05:03:08.423 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.244541
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.493565     | 0.373413     | 0.377564     |
| x          | 0.020804     | 0.022266     | 0.041789     |
| y          | 0.006857     | 0.007215     | 0.044951     |
| w          | 0.039494     | 0.050117     | 0.044537     |
| h          | 0.051914     | 0.044572     | 0.048720     |
| conf       | 0.324975     | 0.226157     | 0.167550     |
| cls        | 0.049521     | 0.023086     | 0.030017     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.952381     | 0.904762     |
| recall75   | 0.714286     | 0.761905     | 0.761905     |
| precision  | 0.666667     | 0.357143     | 0.152000     |
| conf_obj   | 0.883220     | 0.924430     | 0.944933     |
| conf_noobj | 0.000742     | 0.000618     | 0.000506     |
+------------+--------------+--------------+--------------+
2020-12-20 05:04:13.653 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 2.245101
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.711114     | 0.740758     | 0.793229     |
| x          | 0.012963     | 0.021161     | 0.034586     |
| y          | 0.007715     | 0.012024     | 0.024378     |
| w          | 0.049743     | 0.025150     | 0.019009     |
| h          | 0.044680     | 0.022846     | 0.015916     |
| conf       | 0.325989     | 0.282844     | 0.384173     |
| cls        | 0.270023     | 0.376733     | 0.315167     |
| cls_acc    | 94.44%       | 92.11%       | 95.24%       |
| recall50   | 0.861111     | 0.868421     | 0.857143     |
| recall75   | 0.694444     | 0.763158     | 0.738095     |
| precision  | 0.815789     | 0.559322     | 0.241611     |
| conf_obj   | 0.893097     | 0.913880     | 0.849634     |
| conf_noobj | 0.000490     | 0.000474     | 0.000546     |
+------------+--------------+--------------+--------------+
2020-12-20 05:05:17.784 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.997681
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.299622     | 0.360633     | 0.337427     |
| x          | 0.014375     | 0.011751     | 0.033307     |
| y          | 0.006693     | 0.006670     | 0.020143     |
| w          | 0.052363     | 0.038102     | 0.024712     |
| h          | 0.031842     | 0.019133     | 0.021881     |
| conf       | 0.191061     | 0.282964     | 0.235720     |
| cls        | 0.003288     | 0.002014     | 0.001663     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.892857     | 0.933333     |
| recall75   | 0.807692     | 0.714286     | 0.766667     |
| precision  | 0.766667     | 0.446429     | 0.233333     |
| conf_obj   | 0.938018     | 0.907613     | 0.952393     |
| conf_noobj | 0.000432     | 0.000506     | 0.000410     |
+------------+--------------+--------------+--------------+
2020-12-20 05:06:23.350 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.416714
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.541207     | 0.441109     | 0.434398     |
| x          | 0.012864     | 0.012147     | 0.030863     |
| y          | 0.010602     | 0.008893     | 0.021451     |
| w          | 0.040372     | 0.023399     | 0.018085     |
| h          | 0.083743     | 0.019908     | 0.015005     |
| conf       | 0.385127     | 0.366422     | 0.339749     |
| cls        | 0.008499     | 0.010340     | 0.009245     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.892857     | 0.931035     |
| recall75   | 0.760000     | 0.750000     | 0.758621     |
| precision  | 0.696970     | 0.403226     | 0.183673     |
| conf_obj   | 0.900456     | 0.884355     | 0.901849     |
| conf_noobj | 0.000865     | 0.000730     | 0.000649     |
+------------+--------------+--------------+--------------+
2020-12-20 05:07:22.252 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.647240
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.172551     | 0.183498     | 0.291192     |
| x          | 0.009288     | 0.024109     | 0.038786     |
| y          | 0.005063     | 0.012526     | 0.050697     |
| w          | 0.019071     | 0.019678     | 0.008469     |
| h          | 0.011886     | 0.015853     | 0.023320     |
| conf       | 0.118932     | 0.107737     | 0.165987     |
| cls        | 0.008310     | 0.003594     | 0.003931     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 0.965517     |
| recall75   | 0.888889     | 0.928571     | 0.827586     |
| precision  | 0.843750     | 0.482143     | 0.195804     |
| conf_obj   | 0.956254     | 0.978469     | 0.940404     |
| conf_noobj | 0.000429     | 0.000462     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 05:08:33.035 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.653504
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.206178     | 0.198550     | 0.248777     |
| x          | 0.008534     | 0.010484     | 0.038163     |
| y          | 0.002277     | 0.006913     | 0.016979     |
| w          | 0.031022     | 0.024036     | 0.024703     |
| h          | 0.019599     | 0.022277     | 0.024321     |
| conf       | 0.137407     | 0.126455     | 0.138741     |
| cls        | 0.007338     | 0.008384     | 0.005870     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.964286     |
| recall75   | 0.923077     | 0.962963     | 0.857143     |
| precision  | 0.764706     | 0.421875     | 0.139896     |
| conf_obj   | 0.987454     | 0.988732     | 0.985666     |
| conf_noobj | 0.000674     | 0.000655     | 0.000648     |
+------------+--------------+--------------+--------------+
2020-12-20 05:09:43.456 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.800698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.311460     | 0.242425     | 0.246812     |
| x          | 0.006116     | 0.009550     | 0.011982     |
| y          | 0.016670     | 0.017864     | 0.018105     |
| w          | 0.032287     | 0.015700     | 0.029354     |
| h          | 0.024448     | 0.014964     | 0.019000     |
| conf       | 0.222854     | 0.181391     | 0.163182     |
| cls        | 0.009086     | 0.002955     | 0.005189     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.900000     | 0.800000     |
| precision  | 0.750000     | 0.425532     | 0.151515     |
| conf_obj   | 0.907928     | 0.932018     | 0.951068     |
| conf_noobj | 0.000652     | 0.000634     | 0.000608     |
+------------+--------------+--------------+--------------+
2020-12-20 05:09:54.884 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 1.097
2020-12-20 05:09:54.888 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 05:10:54.863 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07102   | 0.50000 | 0.12438 | 0.21340 |
| 1     | Wear_helmet | 0.35604   | 0.94123 | 0.51665 | 0.86029 |
| 2     | Total       | 0.21353   | 0.72062 | 0.32052 | 0.53685 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:10:54.868 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5368456722288519
2020-12-20 05:10:54.881 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 05:10:54.881 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.992687

2020-12-20 05:10:55.451 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 1/2, epo 1/5
2020-12-20 05:10:55.452 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 1/2, epo 1/5; time cost: 0:15:07.098171

2020-12-20 05:10:55.452 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 1/2, epo 2/5
2020-12-20 05:10:56.678 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.629130
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.217247     | 0.214727     | 0.197156     |
| x          | 0.003909     | 0.007706     | 0.027737     |
| y          | 0.004445     | 0.012128     | 0.027854     |
| w          | 0.010792     | 0.009637     | 0.003412     |
| h          | 0.031284     | 0.033605     | 0.012531     |
| conf       | 0.164964     | 0.149233     | 0.117983     |
| cls        | 0.001853     | 0.002417     | 0.007638     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.900000     | 1.000000     |
| precision  | 0.625000     | 0.363636     | 0.150376     |
| conf_obj   | 0.956973     | 0.966885     | 0.991138     |
| conf_noobj | 0.000748     | 0.000598     | 0.000511     |
+------------+--------------+--------------+--------------+
2020-12-20 05:12:03.872 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.983066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.588701     | 0.670216     | 0.724149     |
| x          | 0.006168     | 0.013012     | 0.029496     |
| y          | 0.002664     | 0.014071     | 0.019041     |
| w          | 0.034073     | 0.025632     | 0.023584     |
| h          | 0.030331     | 0.031638     | 0.020648     |
| conf       | 0.408249     | 0.457404     | 0.465164     |
| cls        | 0.107216     | 0.128458     | 0.166217     |
| cls_acc    | 95.83%       | 92.00%       | 92.00%       |
| recall50   | 0.916667     | 0.840000     | 0.840000     |
| recall75   | 0.916667     | 0.840000     | 0.800000     |
| precision  | 0.758621     | 0.437500     | 0.203883     |
| conf_obj   | 0.893225     | 0.877405     | 0.890425     |
| conf_noobj | 0.000681     | 0.000614     | 0.000555     |
+------------+--------------+--------------+--------------+
2020-12-20 05:13:08.109 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.845469
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.359910     | 0.239685     | 0.245875     |
| x          | 0.007579     | 0.007561     | 0.015333     |
| y          | 0.004168     | 0.007161     | 0.025089     |
| w          | 0.030244     | 0.019998     | 0.021261     |
| h          | 0.016857     | 0.004458     | 0.017127     |
| conf       | 0.299827     | 0.198828     | 0.165675     |
| cls        | 0.001235     | 0.001679     | 0.001389     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 0.933333     |
| recall75   | 0.866667     | 1.000000     | 0.866667     |
| precision  | 0.666667     | 0.326087     | 0.140000     |
| conf_obj   | 0.909968     | 0.936439     | 0.940785     |
| conf_noobj | 0.001125     | 0.000776     | 0.000560     |
+------------+--------------+--------------+--------------+
2020-12-20 05:14:11.567 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.241011
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.424198     | 0.395456     | 0.421357     |
| x          | 0.003922     | 0.008816     | 0.018356     |
| y          | 0.004879     | 0.016349     | 0.017222     |
| w          | 0.027079     | 0.017248     | 0.019632     |
| h          | 0.023720     | 0.017663     | 0.014511     |
| conf       | 0.361325     | 0.333639     | 0.347187     |
| cls        | 0.003274     | 0.001741     | 0.004448     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.888889     |
| recall75   | 0.944444     | 0.888889     | 0.888889     |
| precision  | 0.739130     | 0.395349     | 0.179775     |
| conf_obj   | 0.911300     | 0.927105     | 0.908235     |
| conf_noobj | 0.000562     | 0.000423     | 0.000331     |
+------------+--------------+--------------+--------------+
2020-12-20 05:15:22.759 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 2.746696
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.970138     | 0.799822     | 0.976735     |
| x          | 0.028207     | 0.021048     | 0.041736     |
| y          | 0.013392     | 0.029856     | 0.034821     |
| w          | 0.069331     | 0.023655     | 0.018651     |
| h          | 0.065368     | 0.026809     | 0.029401     |
| conf       | 0.638633     | 0.560047     | 0.698541     |
| cls        | 0.155206     | 0.138408     | 0.153584     |
| cls_acc    | 96.15%       | 96.15%       | 96.30%       |
| recall50   | 0.846154     | 0.884615     | 0.888889     |
| recall75   | 0.692308     | 0.769231     | 0.740741     |
| precision  | 0.647059     | 0.353846     | 0.165517     |
| conf_obj   | 0.803086     | 0.835004     | 0.820986     |
| conf_noobj | 0.000743     | 0.000674     | 0.000462     |
+------------+--------------+--------------+--------------+
2020-12-20 05:16:30.122 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.427786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.582052     | 0.532677     | 0.313058     |
| x          | 0.017692     | 0.026556     | 0.028093     |
| y          | 0.009100     | 0.016385     | 0.022343     |
| w          | 0.036650     | 0.013027     | 0.023759     |
| h          | 0.016668     | 0.015125     | 0.015962     |
| conf       | 0.412202     | 0.421325     | 0.215508     |
| cls        | 0.089741     | 0.040259     | 0.007394     |
| cls_acc    | 96.43%       | 96.67%       | 100.00%      |
| recall50   | 0.821429     | 0.866667     | 0.935484     |
| recall75   | 0.750000     | 0.700000     | 0.870968     |
| precision  | 0.696970     | 0.388060     | 0.202797     |
| conf_obj   | 0.873069     | 0.893376     | 0.931970     |
| conf_noobj | 0.000798     | 0.000723     | 0.000628     |
+------------+--------------+--------------+--------------+
2020-12-20 05:17:37.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.696875
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.178927     | 0.227635     | 0.290313     |
| x          | 0.010544     | 0.020723     | 0.038711     |
| y          | 0.003980     | 0.009861     | 0.013466     |
| w          | 0.016863     | 0.018728     | 0.019273     |
| h          | 0.018406     | 0.013098     | 0.022129     |
| conf       | 0.124110     | 0.159995     | 0.177874     |
| cls        | 0.005024     | 0.005230     | 0.018859     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.972222     |
| recall75   | 0.848485     | 0.914286     | 0.861111     |
| precision  | 0.846154     | 0.514706     | 0.203488     |
| conf_obj   | 0.960539     | 0.986991     | 0.980111     |
| conf_noobj | 0.000558     | 0.000755     | 0.000727     |
+------------+--------------+--------------+--------------+
2020-12-20 05:18:39.735 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.639670
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.264492     | 0.179539     | 0.195639     |
| x          | 0.003072     | 0.007379     | 0.014201     |
| y          | 0.004676     | 0.009626     | 0.023109     |
| w          | 0.015828     | 0.013624     | 0.016742     |
| h          | 0.013381     | 0.010619     | 0.012281     |
| conf       | 0.226154     | 0.137054     | 0.126675     |
| cls        | 0.001381     | 0.001236     | 0.002631     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.882353     | 0.944444     |
| precision  | 0.653846     | 0.425000     | 0.178218     |
| conf_obj   | 0.932880     | 0.972327     | 0.980098     |
| conf_noobj | 0.000852     | 0.000603     | 0.000527     |
+------------+--------------+--------------+--------------+
2020-12-20 05:19:46.980 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.460699
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.649639     | 0.436599     | 0.374461     |
| x          | 0.026656     | 0.038098     | 0.037666     |
| y          | 0.010419     | 0.031505     | 0.032263     |
| w          | 0.066415     | 0.044982     | 0.012245     |
| h          | 0.055864     | 0.033001     | 0.023548     |
| conf       | 0.424780     | 0.273840     | 0.256310     |
| cls        | 0.065504     | 0.015174     | 0.012428     |
| cls_acc    | 96.67%       | 100.00%      | 100.00%      |
| recall50   | 0.800000     | 0.935484     | 0.903226     |
| recall75   | 0.700000     | 0.709677     | 0.806452     |
| precision  | 0.666667     | 0.446154     | 0.180645     |
| conf_obj   | 0.847199     | 0.905002     | 0.899687     |
| conf_noobj | 0.000780     | 0.000612     | 0.000571     |
+------------+--------------+--------------+--------------+
2020-12-20 05:20:55.170 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.674791
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.232978     | 0.196803     | 0.245010     |
| x          | 0.005265     | 0.013569     | 0.027158     |
| y          | 0.005521     | 0.013083     | 0.018874     |
| w          | 0.012931     | 0.014466     | 0.009782     |
| h          | 0.010023     | 0.007132     | 0.005121     |
| conf       | 0.161820     | 0.123858     | 0.129268     |
| cls        | 0.037418     | 0.024695     | 0.054808     |
| cls_acc    | 100.00%      | 100.00%      | 95.00%       |
| recall50   | 1.000000     | 1.000000     | 0.950000     |
| recall75   | 0.850000     | 0.950000     | 0.950000     |
| precision  | 0.769231     | 0.408163     | 0.190000     |
| conf_obj   | 0.971582     | 0.981984     | 0.966317     |
| conf_noobj | 0.000790     | 0.000554     | 0.000460     |
+------------+--------------+--------------+--------------+
2020-12-20 05:21:59.986 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.555268
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.180706     | 0.168371     | 0.206191     |
| x          | 0.003165     | 0.005331     | 0.010942     |
| y          | 0.003346     | 0.018521     | 0.046898     |
| w          | 0.016072     | 0.009806     | 0.004353     |
| h          | 0.009868     | 0.006714     | 0.007427     |
| conf       | 0.147021     | 0.125812     | 0.135934     |
| cls        | 0.001235     | 0.002186     | 0.000638     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 0.961538     | 0.962963     |
| precision  | 0.764706     | 0.426230     | 0.183673     |
| conf_obj   | 0.967799     | 0.982929     | 0.984838     |
| conf_noobj | 0.000741     | 0.000658     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 05:23:03.192 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.128698
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.427815     | 0.383675     | 0.317208     |
| x          | 0.020904     | 0.014806     | 0.016145     |
| y          | 0.006375     | 0.012055     | 0.016961     |
| w          | 0.038848     | 0.027899     | 0.013143     |
| h          | 0.049396     | 0.034521     | 0.019458     |
| conf       | 0.298800     | 0.263745     | 0.234098     |
| cls        | 0.013491     | 0.030649     | 0.017404     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.925000     | 0.975610     |
| recall75   | 0.685714     | 0.800000     | 0.804878     |
| precision  | 0.769231     | 0.506849     | 0.198020     |
| conf_obj   | 0.900336     | 0.926252     | 0.945242     |
| conf_noobj | 0.000757     | 0.000830     | 0.000802     |
+------------+--------------+--------------+--------------+
2020-12-20 05:24:04.050 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.744280
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.241835     | 0.271410     | 0.231035     |
| x          | 0.003034     | 0.009652     | 0.031901     |
| y          | 0.002669     | 0.010516     | 0.022811     |
| w          | 0.014792     | 0.013170     | 0.012225     |
| h          | 0.012912     | 0.024176     | 0.016413     |
| conf       | 0.207043     | 0.213016     | 0.146380     |
| cls        | 0.001385     | 0.000880     | 0.001303     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 0.937500     |
| precision  | 0.592593     | 0.288462     | 0.139130     |
| conf_obj   | 0.945215     | 0.946217     | 0.955323     |
| conf_noobj | 0.000787     | 0.000641     | 0.000453     |
+------------+--------------+--------------+--------------+
2020-12-20 05:25:14.673 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.297643
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.600173     | 0.349101     | 0.348369     |
| x          | 0.012224     | 0.020974     | 0.044306     |
| y          | 0.022612     | 0.018557     | 0.047765     |
| w          | 0.025240     | 0.014249     | 0.010527     |
| h          | 0.028840     | 0.014969     | 0.019757     |
| conf       | 0.399038     | 0.266931     | 0.194476     |
| cls        | 0.112219     | 0.013421     | 0.031538     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.827586     | 0.933333     | 0.966667     |
| recall75   | 0.724138     | 0.900000     | 0.866667     |
| precision  | 0.666667     | 0.383562     | 0.179012     |
| conf_obj   | 0.857989     | 0.915760     | 0.937984     |
| conf_noobj | 0.000825     | 0.000737     | 0.000603     |
+------------+--------------+--------------+--------------+
2020-12-20 05:25:27.790 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 1.026
2020-12-20 05:25:27.795 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 05:26:24.211 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07749   | 0.49751 | 0.13409 | 0.30096 |
| 1     | Wear_helmet | 0.38502   | 0.93081 | 0.54472 | 0.88797 |
| 2     | Total       | 0.23126   | 0.71416 | 0.33941 | 0.59447 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:26:24.212 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5944662635600204
2020-12-20 05:26:24.212 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 05:26:24.212 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.416891

2020-12-20 05:26:24.671 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 1/2, epo 2/5
2020-12-20 05:26:24.672 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 1/2, epo 2/5; time cost: 0:15:29.219560

2020-12-20 05:26:24.672 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 1/2, epo 3/5
2020-12-20 05:26:25.761 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.094497
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.414215     | 0.319376     | 0.360905     |
| x          | 0.007050     | 0.010336     | 0.013590     |
| y          | 0.007407     | 0.023844     | 0.021245     |
| w          | 0.026937     | 0.024078     | 0.013017     |
| h          | 0.019571     | 0.021791     | 0.016431     |
| conf       | 0.298163     | 0.180982     | 0.267663     |
| cls        | 0.055087     | 0.058345     | 0.028959     |
| cls_acc    | 100.00%      | 96.15%       | 100.00%      |
| recall50   | 0.923077     | 0.923077     | 0.962963     |
| recall75   | 0.769231     | 0.807692     | 0.888889     |
| precision  | 0.800000     | 0.393443     | 0.184397     |
| conf_obj   | 0.889226     | 0.944981     | 0.933898     |
| conf_noobj | 0.000577     | 0.000729     | 0.000644     |
+------------+--------------+--------------+--------------+
2020-12-20 05:27:30.440 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.664771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.236456     | 0.239816     | 0.188498     |
| x          | 0.004131     | 0.008567     | 0.019142     |
| y          | 0.010919     | 0.008032     | 0.013637     |
| w          | 0.026481     | 0.027147     | 0.011517     |
| h          | 0.026170     | 0.031187     | 0.015136     |
| conf       | 0.162452     | 0.147507     | 0.110561     |
| cls        | 0.006304     | 0.017377     | 0.018506     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.812500     | 0.937500     | 0.941176     |
| precision  | 0.761905     | 0.380952     | 0.163462     |
| conf_obj   | 0.964098     | 0.967130     | 0.979985     |
| conf_noobj | 0.000634     | 0.000595     | 0.000467     |
+------------+--------------+--------------+--------------+
2020-12-20 05:28:33.183 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.863611
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.317039     | 0.223939     | 0.322633     |
| x          | 0.016532     | 0.031782     | 0.038613     |
| y          | 0.002951     | 0.008795     | 0.019942     |
| w          | 0.021091     | 0.019620     | 0.033023     |
| h          | 0.011374     | 0.015798     | 0.044547     |
| conf       | 0.251721     | 0.133489     | 0.182613     |
| cls        | 0.013371     | 0.014455     | 0.003895     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 0.962963     |
| recall75   | 0.708333     | 0.884615     | 0.777778     |
| precision  | 0.733333     | 0.509804     | 0.204724     |
| conf_obj   | 0.915846     | 0.957228     | 0.931756     |
| conf_noobj | 0.000665     | 0.000414     | 0.000434     |
+------------+--------------+--------------+--------------+
2020-12-20 05:29:40.514 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.673653
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.246839     | 0.235636     | 0.191177     |
| x          | 0.002820     | 0.005770     | 0.012787     |
| y          | 0.004264     | 0.006805     | 0.030170     |
| w          | 0.013759     | 0.014924     | 0.008678     |
| h          | 0.019041     | 0.011228     | 0.008769     |
| conf       | 0.176706     | 0.162690     | 0.098000     |
| cls        | 0.030250     | 0.034220     | 0.032774     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 1.000000     | 1.000000     |
| precision  | 0.777778     | 0.454545     | 0.189873     |
| conf_obj   | 0.941461     | 0.936736     | 0.972582     |
| conf_noobj | 0.000619     | 0.000450     | 0.000342     |
+------------+--------------+--------------+--------------+
2020-12-20 05:30:45.591 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.826090
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.280647     | 0.250974     | 0.294468     |
| x          | 0.026584     | 0.008428     | 0.024111     |
| y          | 0.011875     | 0.016684     | 0.028954     |
| w          | 0.031061     | 0.023324     | 0.028181     |
| h          | 0.030347     | 0.016206     | 0.021566     |
| conf       | 0.171519     | 0.179480     | 0.182972     |
| cls        | 0.009261     | 0.006852     | 0.008684     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.950000     | 0.900000     |
| precision  | 0.533333     | 0.392157     | 0.127389     |
| conf_obj   | 0.977143     | 0.963443     | 0.956211     |
| conf_noobj | 0.000818     | 0.000659     | 0.000665     |
+------------+--------------+--------------+--------------+
2020-12-20 05:31:48.108 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.611075
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.200571     | 0.172055     | 0.238449     |
| x          | 0.013275     | 0.013531     | 0.043726     |
| y          | 0.004242     | 0.006743     | 0.017288     |
| w          | 0.015774     | 0.013754     | 0.015936     |
| h          | 0.015032     | 0.015712     | 0.021820     |
| conf       | 0.142323     | 0.107149     | 0.135679     |
| cls        | 0.009926     | 0.015166     | 0.004000     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.966667     | 0.967742     |
| recall75   | 0.884615     | 0.900000     | 0.903226     |
| precision  | 0.676471     | 0.527273     | 0.200000     |
| conf_obj   | 0.967967     | 0.981958     | 0.981655     |
| conf_noobj | 0.000659     | 0.000463     | 0.000571     |
+------------+--------------+--------------+--------------+
2020-12-20 05:32:51.931 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.975077
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.355541     | 0.350392     | 0.269144     |
| x          | 0.015299     | 0.025276     | 0.027382     |
| y          | 0.009160     | 0.016158     | 0.019246     |
| w          | 0.066277     | 0.041342     | 0.017123     |
| h          | 0.049853     | 0.037778     | 0.013850     |
| conf       | 0.177693     | 0.178763     | 0.160584     |
| cls        | 0.037259     | 0.051074     | 0.030960     |
| cls_acc    | 96.77%       | 97.14%       | 97.30%       |
| recall50   | 0.903226     | 0.942857     | 0.972973     |
| recall75   | 0.870968     | 0.857143     | 0.837838     |
| precision  | 0.666667     | 0.417722     | 0.174757     |
| conf_obj   | 0.969592     | 0.970187     | 0.968777     |
| conf_noobj | 0.000744     | 0.000701     | 0.000597     |
+------------+--------------+--------------+--------------+
2020-12-20 05:33:54.926 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.754731
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.208532     | 0.335959     | 0.210239     |
| x          | 0.016918     | 0.011420     | 0.030241     |
| y          | 0.003824     | 0.005890     | 0.015890     |
| w          | 0.015356     | 0.008380     | 0.005983     |
| h          | 0.011680     | 0.007125     | 0.005243     |
| conf       | 0.160191     | 0.302339     | 0.151355     |
| cls        | 0.000563     | 0.000806     | 0.001528     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.916667     | 0.958333     |
| recall75   | 0.875000     | 0.916667     | 0.958333     |
| precision  | 0.766667     | 0.360656     | 0.193277     |
| conf_obj   | 0.948591     | 0.900908     | 0.952883     |
| conf_noobj | 0.000549     | 0.000691     | 0.000432     |
+------------+--------------+--------------+--------------+
2020-12-20 05:34:58.415 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.114747
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.429619     | 0.385447     | 0.299682     |
| x          | 0.004961     | 0.011203     | 0.037410     |
| y          | 0.006286     | 0.020537     | 0.029813     |
| w          | 0.046988     | 0.048161     | 0.015480     |
| h          | 0.030359     | 0.037261     | 0.016671     |
| conf       | 0.297108     | 0.221664     | 0.169828     |
| cls        | 0.043917     | 0.046620     | 0.030480     |
| cls_acc    | 96.00%       | 96.00%       | 96.00%       |
| recall50   | 0.840000     | 0.920000     | 0.960000     |
| recall75   | 0.840000     | 0.880000     | 0.840000     |
| precision  | 0.636364     | 0.418182     | 0.188976     |
| conf_obj   | 0.910384     | 0.942104     | 0.952009     |
| conf_noobj | 0.000978     | 0.000759     | 0.000578     |
+------------+--------------+--------------+--------------+
2020-12-20 05:36:03.965 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.634907
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.200611     | 0.190368     | 0.243927     |
| x          | 0.010808     | 0.011006     | 0.028298     |
| y          | 0.010041     | 0.017031     | 0.052270     |
| w          | 0.028845     | 0.017424     | 0.013876     |
| h          | 0.007318     | 0.008779     | 0.006875     |
| conf       | 0.138750     | 0.129613     | 0.141154     |
| cls        | 0.004850     | 0.006514     | 0.001455     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.888889     | 0.947368     |
| precision  | 0.782609     | 0.375000     | 0.155738     |
| conf_obj   | 0.969386     | 0.970554     | 0.956051     |
| conf_noobj | 0.000710     | 0.000583     | 0.000506     |
+------------+--------------+--------------+--------------+
2020-12-20 05:37:16.189 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.717876
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.237912     | 0.262184     | 0.217780     |
| x          | 0.002653     | 0.013326     | 0.038617     |
| y          | 0.003663     | 0.005308     | 0.023429     |
| w          | 0.016514     | 0.012327     | 0.023390     |
| h          | 0.006344     | 0.006443     | 0.005300     |
| conf       | 0.202704     | 0.220577     | 0.118219     |
| cls        | 0.006033     | 0.004201     | 0.008825     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 0.875000     |
| precision  | 0.714286     | 0.375000     | 0.141593     |
| conf_obj   | 0.943985     | 0.900928     | 0.958986     |
| conf_noobj | 0.000588     | 0.000384     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 05:38:28.458 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.085048
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.296081     | 0.346449     | 0.442518     |
| x          | 0.016191     | 0.018432     | 0.031022     |
| y          | 0.013956     | 0.014660     | 0.022263     |
| w          | 0.053394     | 0.051475     | 0.039233     |
| h          | 0.035488     | 0.058512     | 0.047558     |
| conf       | 0.170500     | 0.194946     | 0.298589     |
| cls        | 0.006551     | 0.008423     | 0.003853     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.935484     | 0.972973     | 0.875000     |
| recall75   | 0.774194     | 0.702703     | 0.625000     |
| precision  | 0.852941     | 0.529412     | 0.183246     |
| conf_obj   | 0.929628     | 0.921191     | 0.921712     |
| conf_noobj | 0.000678     | 0.000602     | 0.000785     |
+------------+--------------+--------------+--------------+
2020-12-20 05:39:30.364 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.190417
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.389327     | 0.371841     | 0.429249     |
| x          | 0.022762     | 0.012360     | 0.016811     |
| y          | 0.019651     | 0.013123     | 0.019195     |
| w          | 0.047632     | 0.018168     | 0.013642     |
| h          | 0.041947     | 0.016641     | 0.017720     |
| conf       | 0.192093     | 0.264660     | 0.334847     |
| cls        | 0.065241     | 0.046889     | 0.027034     |
| cls_acc    | 95.65%       | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.961538     | 0.961538     |
| recall75   | 0.869565     | 0.884615     | 0.884615     |
| precision  | 0.636364     | 0.471698     | 0.162338     |
| conf_obj   | 0.972456     | 0.917108     | 0.894699     |
| conf_noobj | 0.000849     | 0.000726     | 0.000625     |
+------------+--------------+--------------+--------------+
2020-12-20 05:40:40.983 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.977108
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.363021     | 0.300047     | 0.314040     |
| x          | 0.004900     | 0.003917     | 0.015191     |
| y          | 0.006740     | 0.009975     | 0.028247     |
| w          | 0.027821     | 0.010922     | 0.010969     |
| h          | 0.023557     | 0.013282     | 0.007875     |
| conf       | 0.199828     | 0.139976     | 0.134740     |
| cls        | 0.100175     | 0.121977     | 0.117017     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.846154     | 0.923077     | 0.923077     |
| precision  | 0.694444     | 0.378788     | 0.144509     |
| conf_obj   | 0.944299     | 0.968788     | 0.980698     |
| conf_noobj | 0.000789     | 0.000583     | 0.000586     |
+------------+--------------+--------------+--------------+
2020-12-20 05:40:54.424 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.996
2020-12-20 05:40:54.426 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 05:41:49.375 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09927   | 0.47264 | 0.16408 | 0.29038 |
| 1     | Wear_helmet | 0.37694   | 0.94218 | 0.53846 | 0.88592 |
| 2     | Total       | 0.23811   | 0.70741 | 0.35127 | 0.58815 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:41:49.377 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5881524117622687
2020-12-20 05:41:49.378 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 05:41:49.379 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.951668

2020-12-20 05:41:49.912 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 1/2, epo 3/5
2020-12-20 05:41:49.913 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 1/2, epo 3/5; time cost: 0:15:25.240226

2020-12-20 05:41:49.913 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 1/2, epo 4/5
2020-12-20 05:41:50.979 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.409651
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.526653     | 0.456535     | 0.426463     |
| x          | 0.010696     | 0.009854     | 0.018457     |
| y          | 0.014820     | 0.009891     | 0.028570     |
| w          | 0.029952     | 0.016714     | 0.013348     |
| h          | 0.035159     | 0.011815     | 0.023012     |
| conf       | 0.360382     | 0.382197     | 0.301098     |
| cls        | 0.075645     | 0.026063     | 0.041977     |
| cls_acc    | 97.22%       | 100.00%      | 97.62%       |
| recall50   | 0.861111     | 0.878049     | 0.880952     |
| recall75   | 0.666667     | 0.804878     | 0.809524     |
| precision  | 0.775000     | 0.537313     | 0.222892     |
| conf_obj   | 0.873449     | 0.866744     | 0.902706     |
| conf_noobj | 0.000698     | 0.000599     | 0.000669     |
+------------+--------------+--------------+--------------+
2020-12-20 05:42:55.030 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.635955
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.213301     | 0.170976     | 0.251678     |
| x          | 0.001502     | 0.005958     | 0.016916     |
| y          | 0.002936     | 0.006703     | 0.030059     |
| w          | 0.018335     | 0.011691     | 0.013147     |
| h          | 0.022713     | 0.015549     | 0.016130     |
| conf       | 0.116290     | 0.112507     | 0.137865     |
| cls        | 0.051526     | 0.018569     | 0.037560     |
| cls_acc    | 95.45%       | 100.00%      | 95.65%       |
| recall50   | 0.954545     | 1.000000     | 0.956522     |
| recall75   | 0.954545     | 0.954545     | 0.782609     |
| precision  | 0.777778     | 0.500000     | 0.177419     |
| conf_obj   | 0.980705     | 0.988051     | 0.976770     |
| conf_noobj | 0.000536     | 0.000501     | 0.000555     |
+------------+--------------+--------------+--------------+
2020-12-20 05:43:57.431 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.138137
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.421963     | 0.314801     | 0.401372     |
| x          | 0.008035     | 0.014189     | 0.024173     |
| y          | 0.007304     | 0.012542     | 0.028707     |
| w          | 0.056911     | 0.018625     | 0.015223     |
| h          | 0.042440     | 0.022962     | 0.018632     |
| conf       | 0.195564     | 0.183829     | 0.201345     |
| cls        | 0.111709     | 0.062655     | 0.113292     |
| cls_acc    | 92.00%       | 96.15%       | 96.43%       |
| recall50   | 0.920000     | 0.961538     | 0.928571     |
| recall75   | 0.920000     | 0.807692     | 0.821429     |
| precision  | 0.657143     | 0.396825     | 0.174497     |
| conf_obj   | 0.960488     | 0.963259     | 0.944485     |
| conf_noobj | 0.000796     | 0.000753     | 0.000587     |
+------------+--------------+--------------+--------------+
2020-12-20 05:44:59.798 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.824092
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.280035     | 0.295555     | 0.248502     |
| x          | 0.015531     | 0.009418     | 0.027300     |
| y          | 0.005837     | 0.012462     | 0.021089     |
| w          | 0.021299     | 0.021868     | 0.010477     |
| h          | 0.021320     | 0.023464     | 0.013723     |
| conf       | 0.205907     | 0.218009     | 0.158404     |
| cls        | 0.010142     | 0.010334     | 0.017510     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.921053     | 0.951219     | 0.952381     |
| recall75   | 0.736842     | 0.829268     | 0.880952     |
| precision  | 0.813953     | 0.481481     | 0.254777     |
| conf_obj   | 0.916134     | 0.926811     | 0.944570     |
| conf_noobj | 0.000551     | 0.000585     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 05:46:01.528 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.900302
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.218644     | 0.316417     | 0.365241     |
| x          | 0.008069     | 0.007351     | 0.024124     |
| y          | 0.011524     | 0.010779     | 0.026372     |
| w          | 0.049593     | 0.012339     | 0.009403     |
| h          | 0.013574     | 0.010507     | 0.007373     |
| conf       | 0.126801     | 0.265633     | 0.289068     |
| cls        | 0.009083     | 0.009807     | 0.008902     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 0.952381     |
| recall75   | 0.857143     | 0.857143     | 0.904762     |
| precision  | 0.800000     | 0.441860     | 0.188679     |
| conf_obj   | 0.960849     | 0.899007     | 0.899686     |
| conf_noobj | 0.000508     | 0.000539     | 0.000503     |
+------------+--------------+--------------+--------------+
2020-12-20 05:47:02.908 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.812598
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.227593     | 0.283524     | 0.301481     |
| x          | 0.028047     | 0.014321     | 0.018272     |
| y          | 0.005538     | 0.013657     | 0.030560     |
| w          | 0.024994     | 0.033964     | 0.007101     |
| h          | 0.016824     | 0.024598     | 0.011337     |
| conf       | 0.147769     | 0.194796     | 0.230604     |
| cls        | 0.004423     | 0.002188     | 0.003606     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 0.966667     |
| recall75   | 0.840000     | 0.793103     | 0.900000     |
| precision  | 0.774194     | 0.460317     | 0.197279     |
| conf_obj   | 0.956765     | 0.937379     | 0.926207     |
| conf_noobj | 0.000562     | 0.000612     | 0.000561     |
+------------+--------------+--------------+--------------+
2020-12-20 05:48:02.539 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.973661
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.243578     | 0.339769     | 0.390313     |
| x          | 0.007536     | 0.015171     | 0.031798     |
| y          | 0.004430     | 0.006608     | 0.017200     |
| w          | 0.023955     | 0.023788     | 0.015592     |
| h          | 0.016381     | 0.014828     | 0.012680     |
| conf       | 0.165933     | 0.231831     | 0.289420     |
| cls        | 0.025344     | 0.047544     | 0.023623     |
| cls_acc    | 100.00%      | 95.12%       | 100.00%      |
| recall50   | 0.975000     | 0.926829     | 0.976190     |
| recall75   | 0.925000     | 0.878049     | 0.928571     |
| precision  | 0.847826     | 0.404255     | 0.176724     |
| conf_obj   | 0.948793     | 0.930673     | 0.931484     |
| conf_noobj | 0.000596     | 0.000775     | 0.000768     |
+------------+--------------+--------------+--------------+
2020-12-20 05:49:13.460 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.413274
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.127015     | 0.144153     | 0.142106     |
| x          | 0.004404     | 0.005881     | 0.016989     |
| y          | 0.003838     | 0.012639     | 0.025952     |
| w          | 0.007863     | 0.011748     | 0.014325     |
| h          | 0.009229     | 0.006901     | 0.007717     |
| conf       | 0.101477     | 0.106863     | 0.076663     |
| cls        | 0.000205     | 0.000120     | 0.000461     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 0.823529     |
| precision  | 0.708333     | 0.340000     | 0.168317     |
| conf_obj   | 0.979860     | 0.980562     | 0.992315     |
| conf_noobj | 0.000497     | 0.000480     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 05:50:25.412 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.562147
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.206625     | 0.170661     | 0.184861     |
| x          | 0.005322     | 0.003964     | 0.021152     |
| y          | 0.008512     | 0.007890     | 0.015688     |
| w          | 0.017000     | 0.008978     | 0.006909     |
| h          | 0.028883     | 0.040567     | 0.050618     |
| conf       | 0.140586     | 0.102643     | 0.087272     |
| cls        | 0.006322     | 0.006620     | 0.003223     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.916667     | 0.833333     |
| precision  | 0.733333     | 0.400000     | 0.151899     |
| conf_obj   | 0.942863     | 0.964314     | 0.972250     |
| conf_noobj | 0.000333     | 0.000311     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 05:51:34.568 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.194806
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.564637     | 0.305823     | 0.324347     |
| x          | 0.013622     | 0.008816     | 0.015645     |
| y          | 0.004787     | 0.009175     | 0.028988     |
| w          | 0.023499     | 0.022004     | 0.020494     |
| h          | 0.022884     | 0.027279     | 0.022497     |
| conf       | 0.398296     | 0.194129     | 0.161600     |
| cls        | 0.101549     | 0.044420     | 0.075123     |
| cls_acc    | 96.43%       | 96.43%       | 96.43%       |
| recall50   | 0.750000     | 0.964286     | 0.928571     |
| recall75   | 0.750000     | 0.857143     | 0.750000     |
| precision  | 0.677419     | 0.500000     | 0.206349     |
| conf_obj   | 0.847715     | 0.940826     | 0.953909     |
| conf_noobj | 0.000693     | 0.000561     | 0.000521     |
+------------+--------------+--------------+--------------+
2020-12-20 05:52:40.851 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.805504
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.273823     | 0.227520     | 0.304161     |
| x          | 0.004199     | 0.008180     | 0.022661     |
| y          | 0.003212     | 0.015736     | 0.021463     |
| w          | 0.031992     | 0.050763     | 0.007677     |
| h          | 0.024581     | 0.034765     | 0.008782     |
| conf       | 0.204587     | 0.115347     | 0.232912     |
| cls        | 0.005252     | 0.002728     | 0.010666     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 0.923077     |
| recall75   | 0.920000     | 0.923077     | 0.923077     |
| precision  | 0.857143     | 0.531915     | 0.149068     |
| conf_obj   | 0.952452     | 0.974822     | 0.932466     |
| conf_noobj | 0.000580     | 0.000501     | 0.000624     |
+------------+--------------+--------------+--------------+
2020-12-20 05:53:43.500 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.827620
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.346980     | 0.247639     | 0.233001     |
| x          | 0.007171     | 0.012758     | 0.024425     |
| y          | 0.003969     | 0.009820     | 0.009302     |
| w          | 0.034119     | 0.030783     | 0.018563     |
| h          | 0.039796     | 0.022126     | 0.015090     |
| conf       | 0.252377     | 0.166693     | 0.160497     |
| cls        | 0.009550     | 0.005458     | 0.005123     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 0.965517     |
| recall75   | 0.888889     | 0.821429     | 0.862069     |
| precision  | 0.812500     | 0.491228     | 0.217054     |
| conf_obj   | 0.896934     | 0.949559     | 0.957044     |
| conf_noobj | 0.000565     | 0.000496     | 0.000521     |
+------------+--------------+--------------+--------------+
2020-12-20 05:54:49.690 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.660856
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.692510     | 0.508128     | 0.460218     |
| x          | 0.018073     | 0.013583     | 0.019202     |
| y          | 0.005055     | 0.007789     | 0.018474     |
| w          | 0.032059     | 0.015287     | 0.015572     |
| h          | 0.023592     | 0.010294     | 0.013439     |
| conf       | 0.413148     | 0.387839     | 0.323081     |
| cls        | 0.200583     | 0.073336     | 0.070450     |
| cls_acc    | 93.55%       | 96.97%       | 93.94%       |
| recall50   | 0.870968     | 0.878788     | 0.878788     |
| recall75   | 0.774194     | 0.848485     | 0.727273     |
| precision  | 0.750000     | 0.475410     | 0.208633     |
| conf_obj   | 0.894213     | 0.890386     | 0.901264     |
| conf_noobj | 0.000692     | 0.000639     | 0.000628     |
+------------+--------------+--------------+--------------+
2020-12-20 05:55:54.108 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.710902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.291713     | 0.213719     | 0.205471     |
| x          | 0.007741     | 0.005546     | 0.016774     |
| y          | 0.003004     | 0.005521     | 0.021601     |
| w          | 0.017582     | 0.012031     | 0.009119     |
| h          | 0.011191     | 0.009094     | 0.008567     |
| conf       | 0.247297     | 0.178761     | 0.148104     |
| cls        | 0.004896     | 0.002765     | 0.001306     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 1.000000     |
| recall75   | 0.857143     | 0.928571     | 1.000000     |
| precision  | 0.794118     | 0.473684     | 0.193103     |
| conf_obj   | 0.927940     | 0.960860     | 0.979721     |
| conf_noobj | 0.000844     | 0.000657     | 0.000627     |
+------------+--------------+--------------+--------------+
2020-12-20 05:56:04.218 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.987
2020-12-20 05:56:04.221 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 05:56:59.055 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13220   | 0.48507 | 0.20778 | 0.29882 |
| 1     | Wear_helmet | 0.52410   | 0.93791 | 0.67244 | 0.89568 |
| 2     | Total       | 0.32815   | 0.71149 | 0.44011 | 0.59725 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 05:56:59.055 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5972465516573895
2020-12-20 05:56:59.056 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 05:56:59.056 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.835003

2020-12-20 05:56:59.580 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 1/2, epo 4/5
2020-12-20 05:56:59.580 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 1/2, epo 4/5; time cost: 0:15:09.666704

2020-12-20 05:56:59.580 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 10/20, idx 1/2, epo 5/5
2020-12-20 05:57:00.645 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.155435
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.479275     | 0.380852     | 0.295308     |
| x          | 0.004764     | 0.007219     | 0.014626     |
| y          | 0.002639     | 0.004535     | 0.013733     |
| w          | 0.021648     | 0.013060     | 0.012049     |
| h          | 0.025573     | 0.017163     | 0.013700     |
| conf       | 0.411627     | 0.327904     | 0.220001     |
| cls        | 0.013023     | 0.010971     | 0.021199     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.863636     | 0.863636     | 0.909091     |
| recall75   | 0.863636     | 0.818182     | 0.909091     |
| precision  | 0.863636     | 0.593750     | 0.227273     |
| conf_obj   | 0.867484     | 0.866815     | 0.905462     |
| conf_noobj | 0.000481     | 0.000441     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 05:58:04.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.595079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.668997     | 0.475708     | 0.450375     |
| x          | 0.009908     | 0.009137     | 0.015085     |
| y          | 0.005927     | 0.019710     | 0.030906     |
| w          | 0.026004     | 0.019901     | 0.010591     |
| h          | 0.015467     | 0.009208     | 0.007743     |
| conf       | 0.610102     | 0.410165     | 0.377522     |
| cls        | 0.001588     | 0.007586     | 0.008527     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.937500     | 0.937500     |
| recall75   | 0.812500     | 0.875000     | 0.937500     |
| precision  | 0.608696     | 0.340909     | 0.145631     |
| conf_obj   | 0.816466     | 0.861745     | 0.891125     |
| conf_noobj | 0.000877     | 0.000632     | 0.000482     |
+------------+--------------+--------------+--------------+
2020-12-20 05:59:11.341 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.535428
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.480085     | 0.464899     | 0.590444     |
| x          | 0.009500     | 0.014493     | 0.031395     |
| y          | 0.009215     | 0.016899     | 0.029601     |
| w          | 0.021691     | 0.032855     | 0.027551     |
| h          | 0.020878     | 0.021074     | 0.019458     |
| conf       | 0.400294     | 0.350695     | 0.449504     |
| cls        | 0.018508     | 0.028884     | 0.032935     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.975000     | 0.926829     |
| recall75   | 0.828571     | 0.825000     | 0.682927     |
| precision  | 0.790698     | 0.513158     | 0.219653     |
| conf_obj   | 0.921694     | 0.933039     | 0.895703     |
| conf_noobj | 0.000809     | 0.000738     | 0.000696     |
+------------+--------------+--------------+--------------+
2020-12-20 06:00:16.146 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.135616
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.526382     | 0.312407     | 0.296827     |
| x          | 0.018311     | 0.027204     | 0.017569     |
| y          | 0.011604     | 0.020017     | 0.038167     |
| w          | 0.017632     | 0.008285     | 0.008124     |
| h          | 0.023953     | 0.023530     | 0.030443     |
| conf       | 0.428508     | 0.225477     | 0.199461     |
| cls        | 0.026374     | 0.007895     | 0.003063     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.965517     | 0.965517     |
| recall75   | 0.750000     | 0.827586     | 0.827586     |
| precision  | 0.631579     | 0.437500     | 0.179487     |
| conf_obj   | 0.854688     | 0.937155     | 0.946644     |
| conf_noobj | 0.000850     | 0.000598     | 0.000505     |
+------------+--------------+--------------+--------------+
2020-12-20 06:01:21.554 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.068523
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.412423     | 0.320289     | 0.335811     |
| x          | 0.014223     | 0.017319     | 0.030575     |
| y          | 0.005692     | 0.016725     | 0.025438     |
| w          | 0.029193     | 0.026997     | 0.013867     |
| h          | 0.011806     | 0.013451     | 0.009839     |
| conf       | 0.223265     | 0.193738     | 0.169530     |
| cls        | 0.128244     | 0.052058     | 0.086562     |
| cls_acc    | 96.55%       | 100.00%      | 94.12%       |
| recall50   | 0.896552     | 0.969697     | 0.911765     |
| recall75   | 0.827586     | 0.787879     | 0.794118     |
| precision  | 0.764706     | 0.457143     | 0.175141     |
| conf_obj   | 0.935470     | 0.960092     | 0.960955     |
| conf_noobj | 0.000635     | 0.000590     | 0.000554     |
+------------+--------------+--------------+--------------+
2020-12-20 06:02:32.067 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.567889
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.554736     | 0.426001     | 0.587152     |
| x          | 0.019708     | 0.017524     | 0.029269     |
| y          | 0.011378     | 0.016459     | 0.030567     |
| w          | 0.028951     | 0.019399     | 0.020610     |
| h          | 0.036608     | 0.025602     | 0.031428     |
| conf       | 0.434328     | 0.318265     | 0.464943     |
| cls        | 0.023762     | 0.028753     | 0.010335     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.810811     | 0.926829     | 0.904762     |
| recall75   | 0.702703     | 0.780488     | 0.666667     |
| precision  | 0.882353     | 0.644068     | 0.245161     |
| conf_obj   | 0.816976     | 0.891066     | 0.884731     |
| conf_noobj | 0.000398     | 0.000513     | 0.000620     |
+------------+--------------+--------------+--------------+
2020-12-20 06:03:32.554 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.644490
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.246818     | 0.194908     | 0.202764     |
| x          | 0.004041     | 0.007324     | 0.024418     |
| y          | 0.006257     | 0.011239     | 0.025257     |
| w          | 0.013268     | 0.006822     | 0.004164     |
| h          | 0.010418     | 0.010943     | 0.005849     |
| conf       | 0.209936     | 0.157624     | 0.140131     |
| cls        | 0.002899     | 0.000956     | 0.002944     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 0.923077     | 1.000000     |
| precision  | 0.787879     | 0.419355     | 0.213115     |
| conf_obj   | 0.923473     | 0.974600     | 0.964771     |
| conf_noobj | 0.000570     | 0.000678     | 0.000488     |
+------------+--------------+--------------+--------------+
2020-12-20 06:04:38.816 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.976250
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.335528     | 0.303478     | 0.337244     |
| x          | 0.011572     | 0.012776     | 0.011146     |
| y          | 0.007384     | 0.008277     | 0.032450     |
| w          | 0.033767     | 0.026541     | 0.021900     |
| h          | 0.029153     | 0.025569     | 0.027653     |
| conf       | 0.234361     | 0.187079     | 0.200145     |
| cls        | 0.019292     | 0.043236     | 0.043950     |
| cls_acc    | 100.00%      | 96.77%       | 97.06%       |
| recall50   | 1.000000     | 0.935484     | 0.970588     |
| recall75   | 0.740741     | 0.806452     | 0.852941     |
| precision  | 0.729730     | 0.460317     | 0.194118     |
| conf_obj   | 0.945432     | 0.944172     | 0.948992     |
| conf_noobj | 0.000780     | 0.000563     | 0.000623     |
+------------+--------------+--------------+--------------+
2020-12-20 06:05:40.445 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.177284
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.275891     | 0.423468     | 0.477925     |
| x          | 0.004706     | 0.008048     | 0.017001     |
| y          | 0.009459     | 0.025836     | 0.052513     |
| w          | 0.021122     | 0.031464     | 0.021607     |
| h          | 0.047197     | 0.058404     | 0.043142     |
| conf       | 0.150152     | 0.182709     | 0.212958     |
| cls        | 0.043255     | 0.117007     | 0.130704     |
| cls_acc    | 95.65%       | 95.65%       | 96.00%       |
| recall50   | 0.956522     | 0.956522     | 0.920000     |
| recall75   | 0.826087     | 0.826087     | 0.640000     |
| precision  | 0.758621     | 0.360656     | 0.186992     |
| conf_obj   | 0.963527     | 0.955732     | 0.927671     |
| conf_noobj | 0.000688     | 0.000672     | 0.000479     |
+------------+--------------+--------------+--------------+
2020-12-20 06:06:48.737 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.603730
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.518842     | 0.540019     | 0.544869     |
| x          | 0.021633     | 0.020550     | 0.022772     |
| y          | 0.008416     | 0.024823     | 0.022968     |
| w          | 0.081154     | 0.048241     | 0.053415     |
| h          | 0.061860     | 0.047961     | 0.045196     |
| conf       | 0.188493     | 0.154142     | 0.225337     |
| cls        | 0.157286     | 0.244302     | 0.175182     |
| cls_acc    | 96.30%       | 93.10%       | 93.33%       |
| recall50   | 0.888889     | 0.793103     | 0.833333     |
| recall75   | 0.703704     | 0.586207     | 0.733333     |
| precision  | 0.727273     | 0.396552     | 0.173611     |
| conf_obj   | 0.940035     | 0.947119     | 0.925362     |
| conf_noobj | 0.000720     | 0.000563     | 0.000583     |
+------------+--------------+--------------+--------------+
2020-12-20 06:07:58.179 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.576972
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.200194     | 0.198878     | 0.177900     |
| x          | 0.003466     | 0.011547     | 0.012999     |
| y          | 0.002994     | 0.010911     | 0.016513     |
| w          | 0.022910     | 0.010183     | 0.010778     |
| h          | 0.012153     | 0.012886     | 0.011730     |
| conf       | 0.141222     | 0.120930     | 0.111231     |
| cls        | 0.017449     | 0.032422     | 0.014648     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.954545     | 0.913043     | 0.913043     |
| precision  | 0.733333     | 0.431373     | 0.212963     |
| conf_obj   | 0.983238     | 0.988459     | 0.986208     |
| conf_noobj | 0.000680     | 0.000545     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 06:09:04.238 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.673591
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.690254     | 0.465223     | 0.518114     |
| x          | 0.009527     | 0.011735     | 0.041427     |
| y          | 0.008283     | 0.006310     | 0.008457     |
| w          | 0.043586     | 0.026899     | 0.027953     |
| h          | 0.024829     | 0.019075     | 0.022597     |
| conf       | 0.576179     | 0.379531     | 0.396448     |
| cls        | 0.027850     | 0.021673     | 0.021232     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.814815     | 0.896552     | 0.862069     |
| recall75   | 0.777778     | 0.862069     | 0.758621     |
| precision  | 0.666667     | 0.490566     | 0.196850     |
| conf_obj   | 0.841187     | 0.896012     | 0.885140     |
| conf_noobj | 0.000924     | 0.000633     | 0.000576     |
+------------+--------------+--------------+--------------+
2020-12-20 06:10:08.784 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.727850
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.250361     | 0.222637     | 0.254852     |
| x          | 0.004320     | 0.012492     | 0.036652     |
| y          | 0.006734     | 0.020780     | 0.023122     |
| w          | 0.009398     | 0.008539     | 0.008207     |
| h          | 0.038323     | 0.039269     | 0.011716     |
| conf       | 0.186045     | 0.133707     | 0.169846     |
| cls        | 0.005541     | 0.007850     | 0.005309     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.937500     | 1.000000     |
| precision  | 0.652174     | 0.355556     | 0.119403     |
| conf_obj   | 0.941411     | 0.959366     | 0.939466     |
| conf_noobj | 0.000579     | 0.000432     | 0.000460     |
+------------+--------------+--------------+--------------+
2020-12-20 06:11:14.864 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.945289
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.328596     | 0.273792     | 0.342901     |
| x          | 0.017698     | 0.016268     | 0.018703     |
| y          | 0.004310     | 0.008168     | 0.017070     |
| w          | 0.013903     | 0.012139     | 0.011272     |
| h          | 0.013013     | 0.012227     | 0.006415     |
| conf       | 0.261663     | 0.218651     | 0.265407     |
| cls        | 0.018009     | 0.006338     | 0.024034     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.918919     | 0.947368     |
| recall75   | 0.888889     | 0.837838     | 0.868421     |
| precision  | 0.916667     | 0.557377     | 0.241611     |
| conf_obj   | 0.905713     | 0.928170     | 0.920579     |
| conf_noobj | 0.000440     | 0.000600     | 0.000590     |
+------------+--------------+--------------+--------------+
2020-12-20 06:11:25.575 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.939
2020-12-20 06:11:25.580 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 06:12:27.349 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07999   | 0.56468 | 0.14012 | 0.28549 |
| 1     | Wear_helmet | 0.55597   | 0.91327 | 0.69118 | 0.87194 |
| 2     | Total       | 0.31798   | 0.73897 | 0.41565 | 0.57872 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:12:27.351 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5787151758857791
2020-12-20 06:12:27.351 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 06:12:27.352 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.770822

2020-12-20 06:12:27.922 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 10/20, idx 1/2, epo 5/5
2020-12-20 06:12:27.923 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 10/20, idx 1/2, epo 5/5; time cost: 0:15:28.342103

2020-12-20 06:12:27.923 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 1.009
2020-12-20 06:12:28.142 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 06:16:09.621 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09358   | 0.64015 | 0.16328 | 0.41297 |
| 1     | Wear_helmet | 0.52475   | 0.90553 | 0.66445 | 0.84850 |
| 2     | Total       | 0.30916   | 0.77284 | 0.41387 | 0.63073 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:16:09.622 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6307348663373775
2020-12-20 06:16:09.622 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 06:16:09.622 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:41.479590

2020-12-20 06:16:14.647 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 11!
2020-12-20 06:16:14.775 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 1/2, epo 1/5
2020-12-20 06:16:16.051 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.581111
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.571910     | 0.538965     | 0.470235     |
| x          | 0.006953     | 0.009701     | 0.021117     |
| y          | 0.004929     | 0.006779     | 0.014117     |
| w          | 0.015430     | 0.013585     | 0.009838     |
| h          | 0.020895     | 0.020831     | 0.020900     |
| conf       | 0.273993     | 0.217976     | 0.147163     |
| cls        | 0.249711     | 0.270093     | 0.257100     |
| cls_acc    | 92.86%       | 93.33%       | 93.33%       |
| recall50   | 0.892857     | 0.933333     | 0.933333     |
| recall75   | 0.785714     | 0.833333     | 0.766667     |
| precision  | 0.714286     | 0.459016     | 0.184211     |
| conf_obj   | 0.916391     | 0.932496     | 0.972761     |
| conf_noobj | 0.000763     | 0.000606     | 0.000581     |
+------------+--------------+--------------+--------------+
2020-12-20 06:17:22.901 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.311582
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.524457     | 0.414304     | 0.372822     |
| x          | 0.009255     | 0.012616     | 0.030551     |
| y          | 0.014942     | 0.014040     | 0.038490     |
| w          | 0.039632     | 0.022805     | 0.014307     |
| h          | 0.032254     | 0.017887     | 0.007545     |
| conf       | 0.424813     | 0.323379     | 0.249762     |
| cls        | 0.003561     | 0.023577     | 0.032167     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.850000     | 0.950000     |
| recall75   | 0.800000     | 0.850000     | 0.950000     |
| precision  | 0.739130     | 0.404762     | 0.155738     |
| conf_obj   | 0.852441     | 0.860540     | 0.905759     |
| conf_noobj | 0.000461     | 0.000431     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 06:18:26.797 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.288256
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.505826     | 0.377235     | 0.405195     |
| x          | 0.005565     | 0.012758     | 0.038146     |
| y          | 0.003277     | 0.009823     | 0.033677     |
| w          | 0.012438     | 0.024925     | 0.013599     |
| h          | 0.028859     | 0.039656     | 0.013386     |
| conf       | 0.399168     | 0.259566     | 0.282413     |
| cls        | 0.056518     | 0.030507     | 0.023974     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 0.950000     |
| recall75   | 0.894737     | 0.842105     | 0.750000     |
| precision  | 0.720000     | 0.486486     | 0.208791     |
| conf_obj   | 0.889528     | 0.917044     | 0.913810     |
| conf_noobj | 0.000687     | 0.000451     | 0.000366     |
+------------+--------------+--------------+--------------+
2020-12-20 06:19:27.126 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.677771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.215871     | 0.233148     | 0.228752     |
| x          | 0.010207     | 0.008023     | 0.015179     |
| y          | 0.011375     | 0.006625     | 0.017359     |
| w          | 0.014770     | 0.018098     | 0.017456     |
| h          | 0.011867     | 0.009254     | 0.006579     |
| conf       | 0.165486     | 0.189040     | 0.168767     |
| cls        | 0.002165     | 0.002108     | 0.003412     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.920000     | 0.961538     |
| recall75   | 0.880000     | 0.800000     | 0.884615     |
| precision  | 0.827586     | 0.500000     | 0.260417     |
| conf_obj   | 0.963352     | 0.943367     | 0.954633     |
| conf_noobj | 0.000615     | 0.000437     | 0.000427     |
+------------+--------------+--------------+--------------+
2020-12-20 06:20:28.005 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.961272
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.320213     | 0.283350     | 0.357708     |
| x          | 0.003712     | 0.011053     | 0.018588     |
| y          | 0.003003     | 0.005218     | 0.021806     |
| w          | 0.027536     | 0.020766     | 0.021858     |
| h          | 0.022520     | 0.013328     | 0.014457     |
| conf       | 0.260482     | 0.231409     | 0.279600     |
| cls        | 0.002961     | 0.001576     | 0.001399     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 0.880000     |
| recall75   | 0.833333     | 0.880000     | 0.800000     |
| precision  | 0.676471     | 0.390625     | 0.171875     |
| conf_obj   | 0.939494     | 0.930371     | 0.892868     |
| conf_noobj | 0.000957     | 0.000702     | 0.000537     |
+------------+--------------+--------------+--------------+
2020-12-20 06:21:34.665 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.504904
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.473891     | 0.489116     | 0.541897     |
| x          | 0.018981     | 0.008046     | 0.018739     |
| y          | 0.004939     | 0.017412     | 0.026509     |
| w          | 0.025155     | 0.020201     | 0.009802     |
| h          | 0.056051     | 0.048213     | 0.031188     |
| conf       | 0.209511     | 0.214881     | 0.285302     |
| cls        | 0.159254     | 0.180363     | 0.170357     |
| cls_acc    | 97.37%       | 97.62%       | 97.67%       |
| recall50   | 0.921053     | 0.952381     | 0.906977     |
| recall75   | 0.789474     | 0.785714     | 0.813953     |
| precision  | 0.714286     | 0.512821     | 0.183962     |
| conf_obj   | 0.944736     | 0.937651     | 0.920379     |
| conf_noobj | 0.000738     | 0.000665     | 0.000661     |
+------------+--------------+--------------+--------------+
2020-12-20 06:22:41.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.668945
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.186428     | 0.232979     | 0.249538     |
| x          | 0.003932     | 0.010090     | 0.034774     |
| y          | 0.006072     | 0.009716     | 0.013477     |
| w          | 0.015038     | 0.012382     | 0.015591     |
| h          | 0.011509     | 0.009302     | 0.008371     |
| conf       | 0.140304     | 0.185513     | 0.172776     |
| cls        | 0.009573     | 0.005977     | 0.004550     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.939394     | 0.942857     | 0.837838     |
| precision  | 0.785714     | 0.460526     | 0.197861     |
| conf_obj   | 0.976703     | 0.968291     | 0.973191     |
| conf_noobj | 0.000654     | 0.000738     | 0.000668     |
+------------+--------------+--------------+--------------+
2020-12-20 06:23:42.407 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.180713
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.406276     | 0.450589     | 0.323849     |
| x          | 0.002274     | 0.015481     | 0.012489     |
| y          | 0.004897     | 0.010572     | 0.013116     |
| w          | 0.046461     | 0.046759     | 0.027487     |
| h          | 0.030555     | 0.019210     | 0.016952     |
| conf       | 0.180170     | 0.140635     | 0.124021     |
| cls        | 0.141919     | 0.217931     | 0.129784     |
| cls_acc    | 100.00%      | 95.65%       | 95.83%       |
| recall50   | 0.954545     | 0.913043     | 0.958333     |
| recall75   | 0.954545     | 0.869565     | 0.916667     |
| precision  | 0.724138     | 0.466667     | 0.212963     |
| conf_obj   | 0.933340     | 0.961646     | 0.971675     |
| conf_noobj | 0.000628     | 0.000533     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 06:24:44.891 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.547699
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.261063     | 0.134326     | 0.152310     |
| x          | 0.005231     | 0.007303     | 0.014140     |
| y          | 0.013933     | 0.006821     | 0.015944     |
| w          | 0.011752     | 0.007039     | 0.005440     |
| h          | 0.019266     | 0.012542     | 0.007251     |
| conf       | 0.152405     | 0.089946     | 0.104565     |
| cls        | 0.058475     | 0.010675     | 0.004969     |
| cls_acc    | 91.30%       | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 1.000000     | 1.000000     |
| recall75   | 0.869565     | 0.960000     | 0.960000     |
| precision  | 0.645161     | 0.454545     | 0.204918     |
| conf_obj   | 0.961104     | 0.974326     | 0.973968     |
| conf_noobj | 0.000620     | 0.000375     | 0.000365     |
+------------+--------------+--------------+--------------+
2020-12-20 06:25:55.644 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.334518
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.485902     | 0.400767     | 0.447849     |
| x          | 0.048995     | 0.029689     | 0.060352     |
| y          | 0.006079     | 0.018795     | 0.033388     |
| w          | 0.052754     | 0.039427     | 0.028078     |
| h          | 0.026363     | 0.022417     | 0.018300     |
| conf       | 0.298653     | 0.269500     | 0.268982     |
| cls        | 0.053059     | 0.020939     | 0.038750     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.785714     | 0.903226     | 0.794118     |
| recall75   | 0.714286     | 0.677419     | 0.617647     |
| precision  | 0.709677     | 0.430769     | 0.176471     |
| conf_obj   | 0.899993     | 0.902208     | 0.903045     |
| conf_noobj | 0.000539     | 0.000619     | 0.000573     |
+------------+--------------+--------------+--------------+
2020-12-20 06:27:01.886 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.924229
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.365383     | 0.310522     | 0.248324     |
| x          | 0.003844     | 0.019657     | 0.014827     |
| y          | 0.003279     | 0.017452     | 0.034184     |
| w          | 0.007219     | 0.005323     | 0.010652     |
| h          | 0.026461     | 0.026162     | 0.024578     |
| conf       | 0.319476     | 0.237241     | 0.160331     |
| cls        | 0.005103     | 0.004688     | 0.003753     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.947368     | 0.947368     |
| recall75   | 0.842105     | 0.789474     | 0.947368     |
| precision  | 0.566667     | 0.295082     | 0.125874     |
| conf_obj   | 0.888940     | 0.938864     | 0.956400     |
| conf_noobj | 0.000871     | 0.000563     | 0.000478     |
+------------+--------------+--------------+--------------+
2020-12-20 06:28:08.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.961069
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.780838     | 0.613157     | 0.567073     |
| x          | 0.014315     | 0.016012     | 0.028886     |
| y          | 0.015575     | 0.010588     | 0.015491     |
| w          | 0.132648     | 0.047007     | 0.017508     |
| h          | 0.094681     | 0.052599     | 0.048815     |
| conf       | 0.476109     | 0.451863     | 0.443593     |
| cls        | 0.047511     | 0.035088     | 0.012780     |
| cls_acc    | 97.62%       | 97.87%       | 100.00%      |
| recall50   | 0.809524     | 0.914894     | 0.918367     |
| recall75   | 0.595238     | 0.723404     | 0.775510     |
| precision  | 0.693878     | 0.447917     | 0.217391     |
| conf_obj   | 0.854309     | 0.879209     | 0.893948     |
| conf_noobj | 0.001026     | 0.001095     | 0.000880     |
+------------+--------------+--------------+--------------+
2020-12-20 06:29:08.914 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.743145
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.215142     | 0.255507     | 0.272496     |
| x          | 0.010846     | 0.013523     | 0.019494     |
| y          | 0.005237     | 0.012479     | 0.020215     |
| w          | 0.022760     | 0.020231     | 0.016189     |
| h          | 0.018188     | 0.016884     | 0.014061     |
| conf       | 0.147679     | 0.185606     | 0.196808     |
| cls        | 0.010433     | 0.006783     | 0.005729     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.972973     | 0.975000     | 0.975610     |
| recall75   | 0.972973     | 0.875000     | 0.878049     |
| precision  | 0.800000     | 0.406250     | 0.209424     |
| conf_obj   | 0.955932     | 0.960097     | 0.962220     |
| conf_noobj | 0.000661     | 0.000773     | 0.000634     |
+------------+--------------+--------------+--------------+
2020-12-20 06:30:15.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.712430
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.212561     | 0.262508     | 0.237361     |
| x          | 0.008440     | 0.004009     | 0.011710     |
| y          | 0.004334     | 0.012102     | 0.033392     |
| w          | 0.031313     | 0.019816     | 0.015460     |
| h          | 0.035234     | 0.019909     | 0.009868     |
| conf       | 0.132486     | 0.206466     | 0.166661     |
| cls        | 0.000754     | 0.000205     | 0.000271     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 0.904762     | 0.904762     | 0.952381     |
| precision  | 0.656250     | 0.317460     | 0.122807     |
| conf_obj   | 0.981588     | 0.933005     | 0.964567     |
| conf_noobj | 0.000667     | 0.000641     | 0.000600     |
+------------+--------------+--------------+--------------+
2020-12-20 06:30:28.851 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.984
2020-12-20 06:30:28.857 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 06:31:30.115 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.04774   | 0.48010 | 0.08684 | 0.23390 |
| 1     | Wear_helmet | 0.31871   | 0.93981 | 0.47600 | 0.88584 |
| 2     | Total       | 0.18322   | 0.70995 | 0.28142 | 0.55987 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:31:30.116 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5598705897283657
2020-12-20 06:31:30.116 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 06:31:30.116 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.259498

2020-12-20 06:31:30.544 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 1/2, epo 1/5
2020-12-20 06:31:30.544 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 1/2, epo 1/5; time cost: 0:15:15.769003

2020-12-20 06:31:30.544 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 1/2, epo 2/5
2020-12-20 06:31:31.809 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.594809
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.139411     | 0.263362     | 0.192036     |
| x          | 0.004895     | 0.006393     | 0.010445     |
| y          | 0.005813     | 0.014041     | 0.035145     |
| w          | 0.024039     | 0.031947     | 0.014416     |
| h          | 0.023034     | 0.019520     | 0.006748     |
| conf       | 0.079885     | 0.190200     | 0.121846     |
| cls        | 0.001744     | 0.001260     | 0.003437     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 1.000000     |
| recall75   | 0.904762     | 0.818182     | 0.954545     |
| precision  | 0.875000     | 0.437500     | 0.180328     |
| conf_obj   | 0.980244     | 0.949733     | 0.984178     |
| conf_noobj | 0.000421     | 0.000460     | 0.000509     |
+------------+--------------+--------------+--------------+
2020-12-20 06:32:37.286 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.534387
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.159300     | 0.175491     | 0.199596     |
| x          | 0.005038     | 0.011705     | 0.028652     |
| y          | 0.004596     | 0.012407     | 0.027220     |
| w          | 0.021917     | 0.016288     | 0.014225     |
| h          | 0.017117     | 0.027273     | 0.013175     |
| conf       | 0.108549     | 0.105998     | 0.113961     |
| cls        | 0.002085     | 0.001820     | 0.002364     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.920000     | 0.960000     | 0.920000     |
| precision  | 0.806452     | 0.454545     | 0.179856     |
| conf_obj   | 0.969109     | 0.980211     | 0.982144     |
| conf_noobj | 0.000498     | 0.000463     | 0.000459     |
+------------+--------------+--------------+--------------+
2020-12-20 06:33:40.206 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.680491
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.309584     | 0.183750     | 0.187157     |
| x          | 0.006967     | 0.007289     | 0.016009     |
| y          | 0.002758     | 0.004999     | 0.011368     |
| w          | 0.026073     | 0.014979     | 0.008175     |
| h          | 0.010736     | 0.011518     | 0.016173     |
| conf       | 0.257658     | 0.142886     | 0.132188     |
| cls        | 0.005394     | 0.002079     | 0.003243     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.965517     | 1.000000     |
| recall75   | 0.827586     | 0.931035     | 0.896552     |
| precision  | 0.729730     | 0.491228     | 0.204225     |
| conf_obj   | 0.930066     | 0.956216     | 0.963912     |
| conf_noobj | 0.000676     | 0.000459     | 0.000443     |
+------------+--------------+--------------+--------------+
2020-12-20 06:34:49.507 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.384275
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.128227     | 0.126575     | 0.129472     |
| x          | 0.002770     | 0.007895     | 0.018330     |
| y          | 0.004524     | 0.008603     | 0.019983     |
| w          | 0.010379     | 0.008921     | 0.005375     |
| h          | 0.015312     | 0.014046     | 0.009646     |
| conf       | 0.094935     | 0.086828     | 0.075810     |
| cls        | 0.000306     | 0.000281     | 0.000328     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.944444     | 0.944444     |
| precision  | 0.818182     | 0.562500     | 0.233766     |
| conf_obj   | 0.976692     | 0.969550     | 0.979376     |
| conf_noobj | 0.000407     | 0.000269     | 0.000279     |
+------------+--------------+--------------+--------------+
2020-12-20 06:35:54.829 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.716435
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.212907     | 0.251881     | 0.251646     |
| x          | 0.006948     | 0.009824     | 0.022261     |
| y          | 0.005989     | 0.011897     | 0.026313     |
| w          | 0.013476     | 0.014568     | 0.010552     |
| h          | 0.023374     | 0.016698     | 0.017532     |
| conf       | 0.161885     | 0.197489     | 0.173572     |
| cls        | 0.001237     | 0.001406     | 0.001414     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.961538     | 1.000000     |
| recall75   | 0.826087     | 0.846154     | 0.814815     |
| precision  | 0.880000     | 0.581395     | 0.223140     |
| conf_obj   | 0.932483     | 0.910960     | 0.941315     |
| conf_noobj | 0.000291     | 0.000395     | 0.000498     |
+------------+--------------+--------------+--------------+
2020-12-20 06:37:02.339 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.686236
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.204190     | 0.251823     | 0.230224     |
| x          | 0.004560     | 0.016448     | 0.012307     |
| y          | 0.004731     | 0.014236     | 0.030522     |
| w          | 0.033908     | 0.019701     | 0.012502     |
| h          | 0.019886     | 0.011972     | 0.007977     |
| conf       | 0.137463     | 0.187155     | 0.165294     |
| cls        | 0.003643     | 0.002310     | 0.001621     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.894737     | 0.904762     | 0.857143     |
| precision  | 0.791667     | 0.328125     | 0.165289     |
| conf_obj   | 0.951468     | 0.945877     | 0.954098     |
| conf_noobj | 0.000494     | 0.000670     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 06:38:06.417 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.371900
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.111910     | 0.111190     | 0.148800     |
| x          | 0.002706     | 0.007410     | 0.019644     |
| y          | 0.001735     | 0.006112     | 0.010525     |
| w          | 0.019592     | 0.009948     | 0.005163     |
| h          | 0.011392     | 0.011558     | 0.007399     |
| conf       | 0.075142     | 0.075312     | 0.105297     |
| cls        | 0.001343     | 0.000850     | 0.000773     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.818182     | 0.486486     | 0.145161     |
| conf_obj   | 0.995015     | 0.997700     | 0.986562     |
| conf_noobj | 0.000492     | 0.000420     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 06:39:13.137 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.777869
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.178354     | 0.411249     | 0.188267     |
| x          | 0.003625     | 0.008967     | 0.006688     |
| y          | 0.005053     | 0.015189     | 0.019446     |
| w          | 0.019165     | 0.021753     | 0.020452     |
| h          | 0.020021     | 0.014426     | 0.006476     |
| conf       | 0.128234     | 0.309018     | 0.119408     |
| cls        | 0.002257     | 0.041897     | 0.015796     |
| cls_acc    | 100.00%      | 94.74%       | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.944444     | 0.894737     | 1.000000     |
| precision  | 0.782609     | 0.439024     | 0.195876     |
| conf_obj   | 0.961067     | 0.910337     | 0.957277     |
| conf_noobj | 0.000475     | 0.000355     | 0.000331     |
+------------+--------------+--------------+--------------+
2020-12-20 06:40:20.400 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.587220
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.238853     | 0.178550     | 0.169817     |
| x          | 0.002526     | 0.011623     | 0.021691     |
| y          | 0.004621     | 0.008612     | 0.026094     |
| w          | 0.027562     | 0.020040     | 0.014547     |
| h          | 0.018220     | 0.010237     | 0.010836     |
| conf       | 0.184277     | 0.127563     | 0.095607     |
| cls        | 0.001648     | 0.000475     | 0.001042     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 0.944444     |
| precision  | 0.739130     | 0.461538     | 0.185567     |
| conf_obj   | 0.935171     | 0.966422     | 0.983811     |
| conf_noobj | 0.000516     | 0.000428     | 0.000382     |
+------------+--------------+--------------+--------------+
2020-12-20 06:41:22.543 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.054873
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.370707     | 0.355076     | 0.329090     |
| x          | 0.005969     | 0.013637     | 0.029761     |
| y          | 0.003378     | 0.015275     | 0.027018     |
| w          | 0.019200     | 0.024461     | 0.011610     |
| h          | 0.018123     | 0.018991     | 0.017194     |
| conf       | 0.188158     | 0.119690     | 0.204767     |
| cls        | 0.135879     | 0.163023     | 0.038740     |
| cls_acc    | 93.33%       | 93.75%       | 100.00%      |
| recall50   | 0.866667     | 0.937500     | 0.937500     |
| recall75   | 0.866667     | 0.875000     | 0.875000     |
| precision  | 0.590909     | 0.375000     | 0.131579     |
| conf_obj   | 0.946904     | 0.971305     | 0.928774     |
| conf_noobj | 0.000714     | 0.000516     | 0.000498     |
+------------+--------------+--------------+--------------+
2020-12-20 06:42:25.658 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.193105
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.379225     | 0.377698     | 0.436182     |
| x          | 0.009789     | 0.016056     | 0.038017     |
| y          | 0.008647     | 0.016254     | 0.019940     |
| w          | 0.038526     | 0.016646     | 0.012466     |
| h          | 0.029157     | 0.017500     | 0.013831     |
| conf       | 0.183855     | 0.239146     | 0.219030     |
| cls        | 0.109251     | 0.072096     | 0.132898     |
| cls_acc    | 96.55%       | 96.67%       | 96.77%       |
| recall50   | 0.965517     | 0.900000     | 0.935484     |
| recall75   | 0.827586     | 0.833333     | 0.903226     |
| precision  | 0.717949     | 0.397059     | 0.162011     |
| conf_obj   | 0.964715     | 0.925692     | 0.948434     |
| conf_noobj | 0.000840     | 0.000668     | 0.000609     |
+------------+--------------+--------------+--------------+
2020-12-20 06:43:31.361 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.837154
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.459022     | 0.202516     | 0.175616     |
| x          | 0.004851     | 0.008422     | 0.018519     |
| y          | 0.005026     | 0.003231     | 0.012993     |
| w          | 0.055005     | 0.023985     | 0.019083     |
| h          | 0.022258     | 0.017318     | 0.016681     |
| conf       | 0.270563     | 0.145226     | 0.106722     |
| cls        | 0.101319     | 0.004333     | 0.001621     |
| cls_acc    | 94.12%       | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.941176     | 1.000000     |
| recall75   | 0.823529     | 0.823529     | 0.823529     |
| precision  | 0.625000     | 0.470588     | 0.223684     |
| conf_obj   | 0.926461     | 0.954480     | 0.964418     |
| conf_noobj | 0.000704     | 0.000435     | 0.000367     |
+------------+--------------+--------------+--------------+
2020-12-20 06:44:37.252 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.576213
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.730548     | 0.414376     | 0.431289     |
| x          | 0.017990     | 0.012776     | 0.025578     |
| y          | 0.010086     | 0.010116     | 0.026820     |
| w          | 0.023546     | 0.020372     | 0.013089     |
| h          | 0.024522     | 0.014405     | 0.013904     |
| conf       | 0.638495     | 0.342859     | 0.340271     |
| cls        | 0.015909     | 0.013849     | 0.011627     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.848485     | 0.941176     | 0.911765     |
| recall75   | 0.757576     | 0.852941     | 0.794118     |
| precision  | 0.622222     | 0.450704     | 0.164021     |
| conf_obj   | 0.822474     | 0.890700     | 0.906060     |
| conf_noobj | 0.001286     | 0.000905     | 0.000837     |
+------------+--------------+--------------+--------------+
2020-12-20 06:45:43.752 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.383954
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.484762     | 0.425580     | 0.473611     |
| x          | 0.006438     | 0.014478     | 0.014480     |
| y          | 0.010167     | 0.022014     | 0.026451     |
| w          | 0.038044     | 0.023542     | 0.011921     |
| h          | 0.025505     | 0.018128     | 0.010017     |
| conf       | 0.312705     | 0.237376     | 0.349170     |
| cls        | 0.091904     | 0.110042     | 0.061572     |
| cls_acc    | 96.55%       | 96.88%       | 93.75%       |
| recall50   | 0.862069     | 0.906250     | 0.843750     |
| recall75   | 0.758621     | 0.750000     | 0.781250     |
| precision  | 0.735294     | 0.500000     | 0.184932     |
| conf_obj   | 0.881761     | 0.922120     | 0.878904     |
| conf_noobj | 0.000697     | 0.000646     | 0.000589     |
+------------+--------------+--------------+--------------+
2020-12-20 06:45:54.094 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.934
2020-12-20 06:45:54.098 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 06:46:54.638 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11908   | 0.43781 | 0.18723 | 0.22530 |
| 1     | Wear_helmet | 0.47939   | 0.94265 | 0.63556 | 0.89341 |
| 2     | Total       | 0.29924   | 0.69023 | 0.41140 | 0.55935 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 06:46:54.639 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5593542629407788
2020-12-20 06:46:54.639 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 06:46:54.639 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:00.541000

2020-12-20 06:46:55.042 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 1/2, epo 2/5
2020-12-20 06:46:55.042 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 1/2, epo 2/5; time cost: 0:15:24.497468

2020-12-20 06:46:55.043 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 1/2, epo 3/5
2020-12-20 06:46:56.516 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.892056
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.394273     | 0.229773     | 0.268010     |
| x          | 0.020279     | 0.017070     | 0.020243     |
| y          | 0.011007     | 0.008726     | 0.025197     |
| w          | 0.039912     | 0.042960     | 0.053622     |
| h          | 0.022071     | 0.025622     | 0.036228     |
| conf       | 0.279421     | 0.130578     | 0.129331     |
| cls        | 0.021583     | 0.004817     | 0.003389     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.966667     | 1.000000     |
| recall75   | 0.857143     | 0.833333     | 0.750000     |
| precision  | 0.735294     | 0.517857     | 0.285714     |
| conf_obj   | 0.919550     | 0.971708     | 0.976809     |
| conf_noobj | 0.000709     | 0.000495     | 0.000412     |
+------------+--------------+--------------+--------------+
2020-12-20 06:47:58.384 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.870251
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.369984     | 0.278532     | 0.221735     |
| x          | 0.006553     | 0.008863     | 0.012684     |
| y          | 0.003672     | 0.022028     | 0.017761     |
| w          | 0.011824     | 0.012309     | 0.008912     |
| h          | 0.020503     | 0.010550     | 0.011288     |
| conf       | 0.324422     | 0.220686     | 0.158199     |
| cls        | 0.003011     | 0.004095     | 0.012891     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.956522     | 1.000000     |
| recall75   | 0.857143     | 0.826087     | 0.913043     |
| precision  | 0.588235     | 0.392857     | 0.176923     |
| conf_obj   | 0.920525     | 0.933117     | 0.951753     |
| conf_noobj | 0.001128     | 0.000655     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 06:49:09.424 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.137886
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.382686     | 0.302855     | 0.452345     |
| x          | 0.007728     | 0.010441     | 0.019730     |
| y          | 0.003542     | 0.008905     | 0.016447     |
| w          | 0.039202     | 0.027716     | 0.016543     |
| h          | 0.013112     | 0.025926     | 0.021298     |
| conf       | 0.318459     | 0.229184     | 0.377773     |
| cls        | 0.000644     | 0.000683     | 0.000554     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.916667     | 0.916667     |
| recall75   | 0.863636     | 0.833333     | 0.916667     |
| precision  | 0.606061     | 0.379310     | 0.170543     |
| conf_obj   | 0.902243     | 0.930420     | 0.909263     |
| conf_noobj | 0.000896     | 0.000615     | 0.000464     |
+------------+--------------+--------------+--------------+
2020-12-20 06:50:13.580 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.177674
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.478648     | 0.379123     | 0.319903     |
| x          | 0.002407     | 0.006259     | 0.016110     |
| y          | 0.008334     | 0.012622     | 0.037490     |
| w          | 0.027434     | 0.019978     | 0.019510     |
| h          | 0.036431     | 0.021237     | 0.010846     |
| conf       | 0.318003     | 0.231784     | 0.112733     |
| cls        | 0.086039     | 0.087244     | 0.123215     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.894737     | 0.894737     | 0.947368     |
| recall75   | 0.894737     | 0.894737     | 0.947368     |
| precision  | 0.586207     | 0.309091     | 0.214286     |
| conf_obj   | 0.908795     | 0.934998     | 0.967136     |
| conf_noobj | 0.000766     | 0.000520     | 0.000328     |
+------------+--------------+--------------+--------------+
2020-12-20 06:51:19.414 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.116946
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.378834     | 0.343574     | 0.394537     |
| x          | 0.021570     | 0.011727     | 0.033607     |
| y          | 0.005602     | 0.004294     | 0.018093     |
| w          | 0.020853     | 0.018614     | 0.023397     |
| h          | 0.015227     | 0.018109     | 0.014526     |
| conf       | 0.271401     | 0.208609     | 0.249122     |
| cls        | 0.044181     | 0.082221     | 0.055791     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.913043     | 0.962963     | 0.896552     |
| recall75   | 0.695652     | 0.888889     | 0.758621     |
| precision  | 0.617647     | 0.433333     | 0.184397     |
| conf_obj   | 0.933462     | 0.929065     | 0.917175     |
| conf_noobj | 0.000890     | 0.000599     | 0.000550     |
+------------+--------------+--------------+--------------+
2020-12-20 06:52:22.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.401726
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.479808     | 0.480850     | 0.441068     |
| x          | 0.017654     | 0.015575     | 0.012739     |
| y          | 0.011941     | 0.009120     | 0.020003     |
| w          | 0.019067     | 0.024419     | 0.026497     |
| h          | 0.025328     | 0.023705     | 0.025966     |
| conf       | 0.270330     | 0.217279     | 0.225920     |
| cls        | 0.135488     | 0.190752     | 0.129944     |
| cls_acc    | 97.37%       | 95.35%       | 95.35%       |
| recall50   | 0.894737     | 0.906977     | 0.930233     |
| recall75   | 0.763158     | 0.767442     | 0.813953     |
| precision  | 0.693878     | 0.481481     | 0.208333     |
| conf_obj   | 0.937023     | 0.951328     | 0.946225     |
| conf_noobj | 0.000998     | 0.000735     | 0.000724     |
+------------+--------------+--------------+--------------+
2020-12-20 06:53:29.759 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.199978
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.316663     | 0.389447     | 0.493868     |
| x          | 0.009600     | 0.010245     | 0.031539     |
| y          | 0.009728     | 0.019066     | 0.027579     |
| w          | 0.019692     | 0.017342     | 0.011087     |
| h          | 0.038805     | 0.039475     | 0.019867     |
| conf       | 0.140880     | 0.134737     | 0.200781     |
| cls        | 0.097956     | 0.168581     | 0.203016     |
| cls_acc    | 96.15%       | 96.55%       | 96.88%       |
| recall50   | 0.923077     | 0.965517     | 0.937500     |
| recall75   | 0.653846     | 0.724138     | 0.625000     |
| precision  | 0.750000     | 0.451613     | 0.201342     |
| conf_obj   | 0.988289     | 0.979972     | 0.949153     |
| conf_noobj | 0.000686     | 0.000625     | 0.000584     |
+------------+--------------+--------------+--------------+
2020-12-20 06:54:33.789 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 2.090628
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.711257     | 0.679294     | 0.700078     |
| x          | 0.008724     | 0.017335     | 0.015749     |
| y          | 0.003704     | 0.009960     | 0.026380     |
| w          | 0.020372     | 0.014401     | 0.009458     |
| h          | 0.013106     | 0.017994     | 0.008035     |
| conf       | 0.235121     | 0.173591     | 0.250515     |
| cls        | 0.430230     | 0.446012     | 0.389941     |
| cls_acc    | 93.94%       | 94.29%       | 94.44%       |
| recall50   | 0.909091     | 0.914286     | 0.888889     |
| recall75   | 0.818182     | 0.857143     | 0.833333     |
| precision  | 0.750000     | 0.457143     | 0.181818     |
| conf_obj   | 0.923276     | 0.955584     | 0.940602     |
| conf_noobj | 0.000649     | 0.000581     | 0.000528     |
+------------+--------------+--------------+--------------+
2020-12-20 06:55:39.983 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.032446
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.280991     | 0.372838     | 0.378618     |
| x          | 0.017489     | 0.014545     | 0.020218     |
| y          | 0.011578     | 0.012035     | 0.037782     |
| w          | 0.017790     | 0.023746     | 0.011111     |
| h          | 0.028267     | 0.022152     | 0.012818     |
| conf       | 0.143719     | 0.213034     | 0.196044     |
| cls        | 0.062149     | 0.087325     | 0.100646     |
| cls_acc    | 100.00%      | 97.06%       | 97.14%       |
| recall50   | 0.961538     | 0.911765     | 0.942857     |
| recall75   | 0.807692     | 0.764706     | 0.885714     |
| precision  | 0.757576     | 0.436620     | 0.208861     |
| conf_obj   | 0.973112     | 0.949468     | 0.934580     |
| conf_noobj | 0.000603     | 0.000542     | 0.000457     |
+------------+--------------+--------------+--------------+
2020-12-20 06:56:48.024 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.323027
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.478363     | 0.394753     | 0.449911     |
| x          | 0.015046     | 0.021267     | 0.021524     |
| y          | 0.005532     | 0.019157     | 0.023613     |
| w          | 0.032384     | 0.024145     | 0.019906     |
| h          | 0.032196     | 0.028244     | 0.031136     |
| conf       | 0.295542     | 0.219285     | 0.290356     |
| cls        | 0.097664     | 0.082656     | 0.063375     |
| cls_acc    | 96.67%       | 96.67%       | 100.00%      |
| recall50   | 0.866667     | 0.933333     | 0.903226     |
| recall75   | 0.733333     | 0.833333     | 0.806452     |
| precision  | 0.684211     | 0.368421     | 0.187919     |
| conf_obj   | 0.910677     | 0.937272     | 0.907852     |
| conf_noobj | 0.000810     | 0.000675     | 0.000549     |
+------------+--------------+--------------+--------------+
2020-12-20 06:57:55.259 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.826034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.400576     | 0.251629     | 0.173829     |
| x          | 0.003222     | 0.006555     | 0.015557     |
| y          | 0.002997     | 0.010511     | 0.013113     |
| w          | 0.027321     | 0.015478     | 0.008673     |
| h          | 0.029752     | 0.023926     | 0.014229     |
| conf       | 0.335963     | 0.192972     | 0.116649     |
| cls        | 0.001321     | 0.002186     | 0.005609     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.937500     | 1.000000     |
| recall75   | 0.937500     | 0.875000     | 1.000000     |
| precision  | 0.625000     | 0.326087     | 0.188235     |
| conf_obj   | 0.909627     | 0.934751     | 0.959232     |
| conf_noobj | 0.000702     | 0.000501     | 0.000342     |
+------------+--------------+--------------+--------------+
2020-12-20 06:58:59.110 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.549149
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.517664     | 0.520828     | 0.510658     |
| x          | 0.017250     | 0.010889     | 0.014707     |
| y          | 0.019312     | 0.008554     | 0.019962     |
| w          | 0.026974     | 0.024763     | 0.009078     |
| h          | 0.029263     | 0.015289     | 0.008833     |
| conf       | 0.422425     | 0.455783     | 0.453300     |
| cls        | 0.002440     | 0.005550     | 0.004777     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.906250     | 0.906250     |
| recall75   | 0.843750     | 0.875000     | 0.875000     |
| precision  | 0.769231     | 0.508772     | 0.214815     |
| conf_obj   | 0.876506     | 0.904505     | 0.903738     |
| conf_noobj | 0.000825     | 0.000652     | 0.000586     |
+------------+--------------+--------------+--------------+
2020-12-20 06:59:59.267 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.002440
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.374117     | 0.346537     | 0.281786     |
| x          | 0.013152     | 0.017814     | 0.022451     |
| y          | 0.003747     | 0.013914     | 0.028736     |
| w          | 0.048902     | 0.041225     | 0.017782     |
| h          | 0.042666     | 0.050904     | 0.027598     |
| conf       | 0.259303     | 0.211389     | 0.169121     |
| cls        | 0.006347     | 0.011291     | 0.016098     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.913043     | 1.000000     |
| recall75   | 0.909091     | 0.869565     | 0.869565     |
| precision  | 0.645161     | 0.338710     | 0.182540     |
| conf_obj   | 0.912036     | 0.931254     | 0.945855     |
| conf_noobj | 0.000710     | 0.000656     | 0.000478     |
+------------+--------------+--------------+--------------+
2020-12-20 07:01:03.305 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.943755
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.340782     | 0.291544     | 0.311429     |
| x          | 0.006895     | 0.009616     | 0.024428     |
| y          | 0.004917     | 0.012980     | 0.013994     |
| w          | 0.017089     | 0.022068     | 0.014464     |
| h          | 0.029300     | 0.025750     | 0.018428     |
| conf       | 0.241025     | 0.181052     | 0.201427     |
| cls        | 0.041556     | 0.040078     | 0.038688     |
| cls_acc    | 96.43%       | 96.55%       | 96.77%       |
| recall50   | 0.928571     | 0.965517     | 0.903226     |
| recall75   | 0.785714     | 0.862069     | 0.806452     |
| precision  | 0.787879     | 0.417910     | 0.204380     |
| conf_obj   | 0.918642     | 0.951949     | 0.927084     |
| conf_noobj | 0.000711     | 0.000680     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 07:01:15.336 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.947
2020-12-20 07:01:15.341 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 07:02:11.178 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.19531   | 0.37313 | 0.25641 | 0.25950 |
| 1     | Wear_helmet | 0.52185   | 0.95640 | 0.67526 | 0.91256 |
| 2     | Total       | 0.35858   | 0.66477 | 0.46583 | 0.58603 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:02:11.179 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5860288183368199
2020-12-20 07:02:11.179 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 07:02:11.179 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.838477

2020-12-20 07:02:11.671 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 1/2, epo 3/5
2020-12-20 07:02:11.671 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 1/2, epo 3/5; time cost: 0:15:16.627959

2020-12-20 07:02:11.672 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 1/2, epo 4/5
2020-12-20 07:02:12.937 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.990526
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.365880     | 0.345409     | 0.279237     |
| x          | 0.002232     | 0.008267     | 0.021900     |
| y          | 0.004190     | 0.006038     | 0.022600     |
| w          | 0.015928     | 0.013515     | 0.014290     |
| h          | 0.010893     | 0.009665     | 0.009606     |
| conf       | 0.310415     | 0.303563     | 0.207956     |
| cls        | 0.022221     | 0.004361     | 0.002885     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 0.961538     |
| recall75   | 0.960000     | 0.923077     | 0.923077     |
| precision  | 0.631579     | 0.390625     | 0.183824     |
| conf_obj   | 0.911963     | 0.899732     | 0.927843     |
| conf_noobj | 0.001089     | 0.000730     | 0.000497     |
+------------+--------------+--------------+--------------+
2020-12-20 07:03:18.822 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.232753
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.461353     | 0.405309     | 0.366090     |
| x          | 0.020186     | 0.017968     | 0.018711     |
| y          | 0.011434     | 0.016178     | 0.036205     |
| w          | 0.033403     | 0.025957     | 0.015702     |
| h          | 0.030354     | 0.018648     | 0.018362     |
| conf       | 0.355580     | 0.319549     | 0.268011     |
| cls        | 0.010396     | 0.007009     | 0.009098     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.930233     | 0.931818     | 0.954545     |
| recall75   | 0.744186     | 0.750000     | 0.795455     |
| precision  | 0.727273     | 0.398058     | 0.185022     |
| conf_obj   | 0.913857     | 0.922060     | 0.942953     |
| conf_noobj | 0.000944     | 0.000967     | 0.000755     |
+------------+--------------+--------------+--------------+
2020-12-20 07:04:24.779 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.020293
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.360105     | 0.355076     | 0.305111     |
| x          | 0.004629     | 0.010972     | 0.011431     |
| y          | 0.009357     | 0.011530     | 0.014041     |
| w          | 0.021719     | 0.013387     | 0.009184     |
| h          | 0.021264     | 0.021235     | 0.030013     |
| conf       | 0.206145     | 0.279528     | 0.214196     |
| cls        | 0.096992     | 0.018425     | 0.026246     |
| cls_acc    | 96.15%       | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.964286     | 0.964286     |
| recall75   | 0.884615     | 0.892857     | 0.857143     |
| precision  | 0.750000     | 0.529412     | 0.219512     |
| conf_obj   | 0.933842     | 0.946336     | 0.934844     |
| conf_noobj | 0.000509     | 0.000434     | 0.000401     |
+------------+--------------+--------------+--------------+
2020-12-20 07:05:32.855 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.549085
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.177571     | 0.227301     | 0.144213     |
| x          | 0.009584     | 0.005964     | 0.015715     |
| y          | 0.001873     | 0.002706     | 0.012680     |
| w          | 0.022348     | 0.019235     | 0.011769     |
| h          | 0.013804     | 0.012495     | 0.005988     |
| conf       | 0.127484     | 0.178139     | 0.093647     |
| cls        | 0.002478     | 0.008762     | 0.004415     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.941176     | 0.944444     | 1.000000     |
| precision  | 0.708333     | 0.447368     | 0.209302     |
| conf_obj   | 0.985285     | 0.930577     | 0.982643     |
| conf_noobj | 0.000577     | 0.000381     | 0.000388     |
+------------+--------------+--------------+--------------+
2020-12-20 07:06:38.190 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.844444
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.416117     | 0.242298     | 0.186030     |
| x          | 0.008822     | 0.018543     | 0.014432     |
| y          | 0.006053     | 0.006464     | 0.028552     |
| w          | 0.027001     | 0.017702     | 0.010579     |
| h          | 0.016313     | 0.009396     | 0.010715     |
| conf       | 0.331689     | 0.185539     | 0.116665     |
| cls        | 0.026239     | 0.004654     | 0.005086     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.913043     | 1.000000     |
| recall75   | 0.818182     | 0.869565     | 0.956522     |
| precision  | 0.645161     | 0.362069     | 0.184000     |
| conf_obj   | 0.894278     | 0.938345     | 0.968622     |
| conf_noobj | 0.000594     | 0.000428     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 07:07:43.716 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.547367
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.503367     | 0.631264     | 0.412737     |
| x          | 0.009323     | 0.024114     | 0.013927     |
| y          | 0.003868     | 0.005154     | 0.016532     |
| w          | 0.025273     | 0.021411     | 0.022229     |
| h          | 0.038371     | 0.021410     | 0.018931     |
| conf       | 0.137383     | 0.147580     | 0.147254     |
| cls        | 0.289149     | 0.411596     | 0.193864     |
| cls_acc    | 93.10%       | 89.66%       | 90.32%       |
| recall50   | 0.931035     | 0.862069     | 0.903226     |
| recall75   | 0.758621     | 0.793103     | 0.838710     |
| precision  | 0.750000     | 0.390625     | 0.153005     |
| conf_obj   | 0.949706     | 0.958873     | 0.967852     |
| conf_noobj | 0.000520     | 0.000469     | 0.000510     |
+------------+--------------+--------------+--------------+
2020-12-20 07:08:47.610 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.270027
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.401583     | 0.484119     | 0.384325     |
| x          | 0.023846     | 0.019018     | 0.027720     |
| y          | 0.006883     | 0.014163     | 0.020854     |
| w          | 0.027997     | 0.021241     | 0.020845     |
| h          | 0.027115     | 0.020802     | 0.015335     |
| conf       | 0.303066     | 0.395809     | 0.292560     |
| cls        | 0.012676     | 0.013086     | 0.007011     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.883721     | 0.913043     |
| recall75   | 0.666667     | 0.767442     | 0.782609     |
| precision  | 0.720000     | 0.408602     | 0.162162     |
| conf_obj   | 0.905828     | 0.891798     | 0.903679     |
| conf_noobj | 0.000786     | 0.000767     | 0.000729     |
+------------+--------------+--------------+--------------+
2020-12-20 07:09:58.499 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.042327
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.441888     | 0.322639     | 0.277800     |
| x          | 0.020000     | 0.023240     | 0.026605     |
| y          | 0.008858     | 0.009035     | 0.021708     |
| w          | 0.021855     | 0.022159     | 0.038209     |
| h          | 0.031581     | 0.031432     | 0.027263     |
| conf       | 0.292168     | 0.230929     | 0.152491     |
| cls        | 0.067426     | 0.005845     | 0.011523     |
| cls_acc    | 95.45%       | 100.00%      | 100.00%      |
| recall50   | 0.818182     | 1.000000     | 1.000000     |
| recall75   | 0.681818     | 0.791667     | 0.720000     |
| precision  | 0.600000     | 0.428571     | 0.210084     |
| conf_obj   | 0.901922     | 0.926480     | 0.972335     |
| conf_noobj | 0.000922     | 0.000720     | 0.000594     |
+------------+--------------+--------------+--------------+
2020-12-20 07:11:02.476 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.844571
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.316144     | 0.284688     | 0.243739     |
| x          | 0.005757     | 0.008006     | 0.023290     |
| y          | 0.008071     | 0.013601     | 0.028027     |
| w          | 0.021968     | 0.037315     | 0.020205     |
| h          | 0.047861     | 0.049913     | 0.044056     |
| conf       | 0.226564     | 0.172375     | 0.122542     |
| cls        | 0.005922     | 0.003478     | 0.005619     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.823529     | 0.850000     | 0.700000     |
| precision  | 0.680000     | 0.452381     | 0.208333     |
| conf_obj   | 0.929823     | 0.939374     | 0.963391     |
| conf_noobj | 0.000563     | 0.000430     | 0.000361     |
+------------+--------------+--------------+--------------+
2020-12-20 07:12:06.763 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.822107
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.259033     | 0.260415     | 0.302659     |
| x          | 0.011833     | 0.003813     | 0.009221     |
| y          | 0.007073     | 0.011013     | 0.021255     |
| w          | 0.034268     | 0.026158     | 0.013453     |
| h          | 0.033123     | 0.031314     | 0.018255     |
| conf       | 0.142922     | 0.168719     | 0.220670     |
| cls        | 0.029814     | 0.019399     | 0.019806     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 1.000000     | 0.941176     |
| recall75   | 0.787879     | 0.882353     | 0.882353     |
| precision  | 0.911765     | 0.539683     | 0.200000     |
| conf_obj   | 0.944675     | 0.964966     | 0.940997     |
| conf_noobj | 0.000392     | 0.000633     | 0.000690     |
+------------+--------------+--------------+--------------+
2020-12-20 07:13:12.055 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.666492
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.171389     | 0.187165     | 0.307938     |
| x          | 0.003794     | 0.008779     | 0.025703     |
| y          | 0.006301     | 0.011227     | 0.046948     |
| w          | 0.021772     | 0.013377     | 0.005043     |
| h          | 0.020615     | 0.018811     | 0.015576     |
| conf       | 0.118087     | 0.133919     | 0.213777     |
| cls        | 0.000819     | 0.001053     | 0.000891     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.904762     | 0.952381     | 0.904762     |
| precision  | 0.750000     | 0.428571     | 0.188679     |
| conf_obj   | 0.972679     | 0.970501     | 0.935677     |
| conf_noobj | 0.000491     | 0.000545     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 07:14:20.684 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.230460
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.399706     | 0.311635     | 0.519119     |
| x          | 0.012806     | 0.018467     | 0.034268     |
| y          | 0.003814     | 0.007247     | 0.017098     |
| w          | 0.043032     | 0.037560     | 0.034507     |
| h          | 0.011200     | 0.012501     | 0.017385     |
| conf       | 0.301023     | 0.181795     | 0.320674     |
| cls        | 0.027831     | 0.054066     | 0.095186     |
| cls_acc    | 100.00%      | 97.06%       | 94.59%       |
| recall50   | 0.870968     | 0.911765     | 0.891892     |
| recall75   | 0.838710     | 0.823529     | 0.729730     |
| precision  | 0.750000     | 0.525424     | 0.242647     |
| conf_obj   | 0.905017     | 0.935290     | 0.919473     |
| conf_noobj | 0.000556     | 0.000384     | 0.000414     |
+------------+--------------+--------------+--------------+
2020-12-20 07:15:22.279 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.083012
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.332400     | 0.352580     | 0.398032     |
| x          | 0.011895     | 0.035845     | 0.049167     |
| y          | 0.004357     | 0.008194     | 0.019768     |
| w          | 0.023933     | 0.024434     | 0.014289     |
| h          | 0.016835     | 0.011941     | 0.015897     |
| conf       | 0.244339     | 0.248589     | 0.271554     |
| cls        | 0.031041     | 0.023578     | 0.027357     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.979592     | 0.941176     | 0.960784     |
| recall75   | 0.857143     | 0.784314     | 0.882353     |
| precision  | 0.857143     | 0.564706     | 0.255208     |
| conf_obj   | 0.912756     | 0.926608     | 0.917548     |
| conf_noobj | 0.000611     | 0.000689     | 0.000740     |
+------------+--------------+--------------+--------------+
2020-12-20 07:16:29.693 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.746239
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.310290     | 0.197545     | 0.238404     |
| x          | 0.004683     | 0.006840     | 0.020157     |
| y          | 0.004187     | 0.010964     | 0.024073     |
| w          | 0.048157     | 0.027889     | 0.016834     |
| h          | 0.034322     | 0.021424     | 0.012786     |
| conf       | 0.217157     | 0.129696     | 0.162303     |
| cls        | 0.001784     | 0.000733     | 0.002252     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 0.967742     |
| recall75   | 0.900000     | 0.933333     | 0.935484     |
| precision  | 0.800000     | 0.491803     | 0.222222     |
| conf_obj   | 0.920795     | 0.958131     | 0.940719     |
| conf_noobj | 0.000494     | 0.000446     | 0.000428     |
+------------+--------------+--------------+--------------+
2020-12-20 07:16:42.779 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.912
2020-12-20 07:16:42.783 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 07:17:38.201 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13067   | 0.48010 | 0.20543 | 0.30866 |
| 1     | Wear_helmet | 0.41144   | 0.94455 | 0.57320 | 0.89140 |
| 2     | Total       | 0.27105   | 0.71232 | 0.38931 | 0.60003 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:17:38.202 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6000329008399337
2020-12-20 07:17:38.202 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 07:17:38.202 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.419141

2020-12-20 07:17:38.657 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 1/2, epo 4/5
2020-12-20 07:17:38.657 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 1/2, epo 4/5; time cost: 0:15:26.985246

2020-12-20 07:17:38.657 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 11/20, idx 1/2, epo 5/5
2020-12-20 07:17:39.766 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.866238
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.323890     | 0.287744     | 0.254604     |
| x          | 0.010776     | 0.023250     | 0.031743     |
| y          | 0.004889     | 0.009312     | 0.017299     |
| w          | 0.037056     | 0.014453     | 0.016167     |
| h          | 0.024003     | 0.017722     | 0.021030     |
| conf       | 0.239652     | 0.219805     | 0.153739     |
| cls        | 0.007515     | 0.003201     | 0.014627     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.875000     | 0.937500     |
| recall75   | 0.875000     | 0.875000     | 0.937500     |
| precision  | 0.592593     | 0.358974     | 0.163043     |
| conf_obj   | 0.935987     | 0.916731     | 0.954577     |
| conf_noobj | 0.000948     | 0.000545     | 0.000486     |
+------------+--------------+--------------+--------------+
2020-12-20 07:18:41.877 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.969466
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.364910     | 0.300579     | 0.303977     |
| x          | 0.011012     | 0.004128     | 0.020470     |
| y          | 0.004358     | 0.011206     | 0.015569     |
| w          | 0.034998     | 0.031359     | 0.025447     |
| h          | 0.028490     | 0.016475     | 0.015488     |
| conf       | 0.285208     | 0.236749     | 0.226321     |
| cls        | 0.000845     | 0.000662     | 0.000683     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.923077     | 0.925926     |
| recall75   | 0.800000     | 0.884615     | 0.814815     |
| precision  | 0.851852     | 0.558140     | 0.192308     |
| conf_obj   | 0.909174     | 0.917361     | 0.934533     |
| conf_noobj | 0.000291     | 0.000344     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 07:19:42.573 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.204833
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.377126     | 0.358968     | 0.468739     |
| x          | 0.008742     | 0.012949     | 0.013810     |
| y          | 0.002692     | 0.008520     | 0.016957     |
| w          | 0.023792     | 0.017535     | 0.011692     |
| h          | 0.019004     | 0.016171     | 0.014218     |
| conf       | 0.206842     | 0.203863     | 0.242018     |
| cls        | 0.116053     | 0.099931     | 0.170044     |
| cls_acc    | 93.75%       | 90.91%       | 91.43%       |
| recall50   | 0.906250     | 0.878788     | 0.857143     |
| recall75   | 0.843750     | 0.787879     | 0.742857     |
| precision  | 0.878788     | 0.547170     | 0.234375     |
| conf_obj   | 0.930388     | 0.917922     | 0.891609     |
| conf_noobj | 0.000532     | 0.000391     | 0.000451     |
+------------+--------------+--------------+--------------+
2020-12-20 07:20:45.031 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.094994
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.409541     | 0.350455     | 0.334998     |
| x          | 0.007188     | 0.016607     | 0.009058     |
| y          | 0.005168     | 0.012904     | 0.033840     |
| w          | 0.033888     | 0.016936     | 0.023003     |
| h          | 0.031726     | 0.028051     | 0.023997     |
| conf       | 0.234720     | 0.149733     | 0.174144     |
| cls        | 0.096851     | 0.126224     | 0.070956     |
| cls_acc    | 96.15%       | 96.15%       | 96.15%       |
| recall50   | 0.961538     | 0.961538     | 0.961538     |
| recall75   | 0.923077     | 0.846154     | 0.769231     |
| precision  | 0.714286     | 0.384615     | 0.201613     |
| conf_obj   | 0.903811     | 0.968837     | 0.953627     |
| conf_noobj | 0.000688     | 0.000661     | 0.000470     |
+------------+--------------+--------------+--------------+
2020-12-20 07:21:48.493 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.822935
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.330790     | 0.265262     | 0.226882     |
| x          | 0.003754     | 0.010050     | 0.024204     |
| y          | 0.009534     | 0.007815     | 0.021489     |
| w          | 0.018013     | 0.019191     | 0.007936     |
| h          | 0.027028     | 0.027729     | 0.011481     |
| conf       | 0.266844     | 0.198808     | 0.159640     |
| cls        | 0.005616     | 0.001669     | 0.002132     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.866667     | 0.966667     |
| precision  | 0.756757     | 0.405405     | 0.214286     |
| conf_obj   | 0.920664     | 0.938646     | 0.953924     |
| conf_noobj | 0.000644     | 0.000619     | 0.000492     |
+------------+--------------+--------------+--------------+
2020-12-20 07:22:54.762 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.909128
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.337582     | 0.284963     | 0.286582     |
| x          | 0.007429     | 0.032367     | 0.029695     |
| y          | 0.013561     | 0.019556     | 0.033847     |
| w          | 0.020569     | 0.011667     | 0.012402     |
| h          | 0.022248     | 0.019568     | 0.021710     |
| conf       | 0.084186     | 0.147822     | 0.160156     |
| cls        | 0.189589     | 0.053983     | 0.028771     |
| cls_acc    | 100.00%      | 96.97%       | 100.00%      |
| recall50   | 0.966667     | 0.939394     | 0.972222     |
| recall75   | 0.833333     | 0.787879     | 0.777778     |
| precision  | 0.805556     | 0.525424     | 0.205882     |
| conf_obj   | 0.980233     | 0.963149     | 0.951204     |
| conf_noobj | 0.000426     | 0.000446     | 0.000467     |
+------------+--------------+--------------+--------------+
2020-12-20 07:24:03.850 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.027700
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.371735     | 0.364730     | 0.291236     |
| x          | 0.018382     | 0.008564     | 0.027031     |
| y          | 0.008034     | 0.007936     | 0.020389     |
| w          | 0.025342     | 0.024202     | 0.017240     |
| h          | 0.034535     | 0.030575     | 0.026386     |
| conf       | 0.271182     | 0.281046     | 0.188328     |
| cls        | 0.014260     | 0.012407     | 0.011861     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.900000     | 1.000000     |
| recall75   | 0.862069     | 0.733333     | 0.866667     |
| precision  | 0.577778     | 0.317647     | 0.164835     |
| conf_obj   | 0.947127     | 0.897268     | 0.934161     |
| conf_noobj | 0.000909     | 0.000708     | 0.000519     |
+------------+--------------+--------------+--------------+
2020-12-20 07:25:06.140 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.444379
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.568028     | 0.455990     | 0.420361     |
| x          | 0.014309     | 0.020724     | 0.028598     |
| y          | 0.012110     | 0.020493     | 0.050037     |
| w          | 0.025873     | 0.012075     | 0.006098     |
| h          | 0.044804     | 0.024317     | 0.017210     |
| conf       | 0.440050     | 0.365041     | 0.314260     |
| cls        | 0.030883     | 0.013340     | 0.004158     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.928571     | 0.964286     |
| recall75   | 0.814815     | 0.785714     | 0.892857     |
| precision  | 0.774194     | 0.382353     | 0.190141     |
| conf_obj   | 0.869345     | 0.869578     | 0.914260     |
| conf_noobj | 0.000848     | 0.000787     | 0.000584     |
+------------+--------------+--------------+--------------+
2020-12-20 07:26:08.003 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.920136
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.399972     | 0.273616     | 0.246548     |
| x          | 0.026779     | 0.011823     | 0.028199     |
| y          | 0.011618     | 0.020080     | 0.030751     |
| w          | 0.022032     | 0.020913     | 0.008795     |
| h          | 0.021325     | 0.030562     | 0.012473     |
| conf       | 0.270910     | 0.185461     | 0.156629     |
| cls        | 0.047308     | 0.004778     | 0.009701     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.827586     | 0.935484     | 1.000000     |
| recall75   | 0.689655     | 0.806452     | 0.812500     |
| precision  | 0.827586     | 0.527273     | 0.248062     |
| conf_obj   | 0.893252     | 0.914459     | 0.936904     |
| conf_noobj | 0.000268     | 0.000396     | 0.000426     |
+------------+--------------+--------------+--------------+
2020-12-20 07:27:11.099 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.851468
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.252779     | 0.275978     | 0.322711     |
| x          | 0.023027     | 0.017196     | 0.022739     |
| y          | 0.007177     | 0.010000     | 0.023513     |
| w          | 0.037749     | 0.031042     | 0.044008     |
| h          | 0.045567     | 0.034492     | 0.042881     |
| conf       | 0.069638     | 0.173779     | 0.178023     |
| cls        | 0.069621     | 0.009469     | 0.011547     |
| cls_acc    | 95.24%       | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 1.000000     |
| recall75   | 0.809524     | 0.787234     | 0.755102     |
| precision  | 0.866667     | 0.516484     | 0.216814     |
| conf_obj   | 0.974473     | 0.954704     | 0.965429     |
| conf_noobj | 0.000314     | 0.000579     | 0.000602     |
+------------+--------------+--------------+--------------+
2020-12-20 07:28:24.216 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.865486
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.278439     | 0.298964     | 0.288083     |
| x          | 0.005691     | 0.012122     | 0.041987     |
| y          | 0.004991     | 0.007350     | 0.015779     |
| w          | 0.015499     | 0.014643     | 0.008568     |
| h          | 0.026023     | 0.021668     | 0.011968     |
| conf       | 0.216242     | 0.238134     | 0.206555     |
| cls        | 0.009992     | 0.005047     | 0.003226     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.967742     | 1.000000     |
| recall75   | 0.964286     | 0.870968     | 0.838710     |
| precision  | 0.756757     | 0.434783     | 0.190184     |
| conf_obj   | 0.954330     | 0.941219     | 0.937787     |
| conf_noobj | 0.000897     | 0.000743     | 0.000665     |
+------------+--------------+--------------+--------------+
2020-12-20 07:29:31.859 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.704475
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.248586     | 0.236126     | 0.219763     |
| x          | 0.007365     | 0.018860     | 0.024606     |
| y          | 0.002490     | 0.009086     | 0.026628     |
| w          | 0.012611     | 0.012591     | 0.010751     |
| h          | 0.011406     | 0.013021     | 0.011576     |
| conf       | 0.194042     | 0.161535     | 0.141400     |
| cls        | 0.020673     | 0.021033     | 0.004802     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 1.000000     |
| recall75   | 0.909091     | 0.818182     | 0.909091     |
| precision  | 0.700000     | 0.375000     | 0.160584     |
| conf_obj   | 0.958688     | 0.956657     | 0.964206     |
| conf_noobj | 0.000666     | 0.000525     | 0.000485     |
+------------+--------------+--------------+--------------+
2020-12-20 07:30:37.352 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.906548
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.318455     | 0.280026     | 0.308067     |
| x          | 0.009484     | 0.023130     | 0.038934     |
| y          | 0.008374     | 0.023555     | 0.064255     |
| w          | 0.015706     | 0.010156     | 0.009438     |
| h          | 0.010172     | 0.007721     | 0.008942     |
| conf       | 0.273761     | 0.215016     | 0.185599     |
| cls        | 0.000956     | 0.000448     | 0.000899     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.944444     | 0.944444     | 1.000000     |
| precision  | 0.666667     | 0.326923     | 0.152542     |
| conf_obj   | 0.909031     | 0.920030     | 0.919669     |
| conf_noobj | 0.000678     | 0.000532     | 0.000444     |
+------------+--------------+--------------+--------------+
2020-12-20 07:31:48.643 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.737702
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.281152     | 0.228827     | 0.227723     |
| x          | 0.011110     | 0.009204     | 0.015050     |
| y          | 0.004510     | 0.006061     | 0.026200     |
| w          | 0.016147     | 0.011832     | 0.014831     |
| h          | 0.020285     | 0.013636     | 0.015481     |
| conf       | 0.218720     | 0.176286     | 0.152146     |
| cls        | 0.010381     | 0.011808     | 0.004015     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.928571     | 0.892857     |
| precision  | 0.756757     | 0.459016     | 0.172840     |
| conf_obj   | 0.951339     | 0.973980     | 0.987251     |
| conf_noobj | 0.000864     | 0.000694     | 0.000675     |
+------------+--------------+--------------+--------------+
2020-12-20 07:31:59.551 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.878
2020-12-20 07:31:59.556 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 07:33:02.674 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14068   | 0.43532 | 0.21264 | 0.28602 |
| 1     | Wear_helmet | 0.32273   | 0.95640 | 0.48260 | 0.89668 |
| 2     | Total       | 0.23170   | 0.69586 | 0.34762 | 0.59135 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:33:02.676 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5913513681317153
2020-12-20 07:33:02.676 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 07:33:02.677 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:03.120755

2020-12-20 07:33:03.260 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 11/20, idx 1/2, epo 5/5
2020-12-20 07:33:03.260 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 11/20, idx 1/2, epo 5/5; time cost: 0:15:24.602564

2020-12-20 07:33:03.261 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.931
2020-12-20 07:33:03.452 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 07:36:58.615 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16152   | 0.54870 | 0.24958 | 0.40911 |
| 1     | Wear_helmet | 0.33048   | 0.94396 | 0.48957 | 0.87628 |
| 2     | Total       | 0.24600   | 0.74633 | 0.36957 | 0.64269 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:36:58.615 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6426930996653722
2020-12-20 07:36:58.616 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 07:36:58.616 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:55.163626

2020-12-20 07:37:04.588 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 12!
2020-12-20 07:37:04.713 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 1/2, epo 1/5
2020-12-20 07:37:06.387 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.803109
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.340175     | 0.248514     | 0.214421     |
| x          | 0.013071     | 0.013382     | 0.050294     |
| y          | 0.003732     | 0.006180     | 0.023722     |
| w          | 0.017149     | 0.007839     | 0.009779     |
| h          | 0.007986     | 0.007436     | 0.007581     |
| conf       | 0.254938     | 0.200902     | 0.114166     |
| cls        | 0.043299     | 0.012776     | 0.008878     |
| cls_acc    | 94.74%       | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.950000     | 1.000000     |
| recall75   | 0.894737     | 0.950000     | 0.950000     |
| precision  | 0.653846     | 0.380000     | 0.188679     |
| conf_obj   | 0.949540     | 0.952302     | 0.986389     |
| conf_noobj | 0.000866     | 0.000692     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 07:38:10.306 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.851055
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.261642     | 0.332148     | 0.257265     |
| x          | 0.006365     | 0.006798     | 0.020296     |
| y          | 0.006790     | 0.013346     | 0.025317     |
| w          | 0.016146     | 0.018024     | 0.006667     |
| h          | 0.010378     | 0.014393     | 0.009136     |
| conf       | 0.172794     | 0.249991     | 0.163175     |
| cls        | 0.049170     | 0.029595     | 0.032674     |
| cls_acc    | 96.77%       | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.935484     | 1.000000     |
| recall75   | 0.967742     | 0.870968     | 0.935484     |
| precision  | 0.882353     | 0.580000     | 0.254098     |
| conf_obj   | 0.923610     | 0.904927     | 0.951246     |
| conf_noobj | 0.000357     | 0.000451     | 0.000479     |
+------------+--------------+--------------+--------------+
2020-12-20 07:39:14.371 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.753954
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.263869     | 0.219957     | 0.270127     |
| x          | 0.016331     | 0.018077     | 0.030208     |
| y          | 0.008938     | 0.012702     | 0.033138     |
| w          | 0.031682     | 0.014319     | 0.014813     |
| h          | 0.035904     | 0.020917     | 0.016595     |
| conf       | 0.165404     | 0.149418     | 0.169047     |
| cls        | 0.005610     | 0.004524     | 0.006326     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.818182     | 0.826087     | 0.913043     |
| precision  | 0.617647     | 0.328571     | 0.129213     |
| conf_obj   | 0.966534     | 0.973874     | 0.954135     |
| conf_noobj | 0.000817     | 0.000643     | 0.000594     |
+------------+--------------+--------------+--------------+
2020-12-20 07:40:17.023 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.733082
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.172944     | 0.289221     | 0.270917     |
| x          | 0.004532     | 0.016033     | 0.047588     |
| y          | 0.003641     | 0.008286     | 0.027554     |
| w          | 0.021654     | 0.021367     | 0.015568     |
| h          | 0.007726     | 0.008271     | 0.009527     |
| conf       | 0.110127     | 0.215830     | 0.163517     |
| cls        | 0.025264     | 0.019434     | 0.007163     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 0.961538     |
| recall75   | 0.960000     | 0.846154     | 0.807692     |
| precision  | 0.735294     | 0.416667     | 0.183824     |
| conf_obj   | 0.981130     | 0.941872     | 0.954813     |
| conf_noobj | 0.000602     | 0.000713     | 0.000547     |
+------------+--------------+--------------+--------------+
2020-12-20 07:41:20.893 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.648079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.736930     | 0.528374     | 0.382775     |
| x          | 0.013085     | 0.009692     | 0.024396     |
| y          | 0.010770     | 0.013937     | 0.014694     |
| w          | 0.010933     | 0.010042     | 0.014135     |
| h          | 0.017296     | 0.014286     | 0.007691     |
| conf       | 0.684211     | 0.478571     | 0.320932     |
| cls        | 0.000635     | 0.001845     | 0.000927     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.947368     | 0.947368     |
| recall75   | 0.833333     | 0.894737     | 0.947368     |
| precision  | 0.653846     | 0.315789     | 0.139535     |
| conf_obj   | 0.905578     | 0.908779     | 0.932882     |
| conf_noobj | 0.000686     | 0.000551     | 0.000441     |
+------------+--------------+--------------+--------------+
2020-12-20 07:42:29.560 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.598761
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.221160     | 0.203918     | 0.173683     |
| x          | 0.006743     | 0.017676     | 0.033021     |
| y          | 0.005659     | 0.009128     | 0.023051     |
| w          | 0.020226     | 0.013430     | 0.008071     |
| h          | 0.015433     | 0.013376     | 0.007190     |
| conf       | 0.171143     | 0.148700     | 0.100444     |
| cls        | 0.001955     | 0.001608     | 0.001906     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.931035     | 0.933333     | 0.933333     |
| precision  | 0.743590     | 0.365854     | 0.225564     |
| conf_obj   | 0.948402     | 0.959952     | 0.977097     |
| conf_noobj | 0.000594     | 0.000523     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 07:43:32.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.572508
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.209490     | 0.196526     | 0.166491     |
| x          | 0.002879     | 0.008220     | 0.027960     |
| y          | 0.002993     | 0.008020     | 0.019861     |
| w          | 0.060155     | 0.029970     | 0.018810     |
| h          | 0.011245     | 0.010617     | 0.006052     |
| conf       | 0.131404     | 0.138604     | 0.092830     |
| cls        | 0.000815     | 0.001095     | 0.000978     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 1.000000     | 0.764706     | 0.888889     |
| precision  | 0.680000     | 0.340426     | 0.157895     |
| conf_obj   | 0.967602     | 0.960350     | 0.991420     |
| conf_noobj | 0.000510     | 0.000438     | 0.000392     |
+------------+--------------+--------------+--------------+
2020-12-20 07:44:40.618 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.987069
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.239135     | 0.454981     | 0.292953     |
| x          | 0.005294     | 0.010467     | 0.028313     |
| y          | 0.004582     | 0.015726     | 0.030366     |
| w          | 0.050436     | 0.048514     | 0.026381     |
| h          | 0.032797     | 0.034733     | 0.020190     |
| conf       | 0.142401     | 0.340287     | 0.184473     |
| cls        | 0.003625     | 0.005255     | 0.003229     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.863636     | 0.954545     |
| recall75   | 0.904762     | 0.772727     | 0.772727     |
| precision  | 0.800000     | 0.441860     | 0.198113     |
| conf_obj   | 0.955262     | 0.878276     | 0.935673     |
| conf_noobj | 0.000475     | 0.000513     | 0.000518     |
+------------+--------------+--------------+--------------+
2020-12-20 07:45:45.328 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.519488
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.183658     | 0.161948     | 0.173882     |
| x          | 0.004391     | 0.005713     | 0.007300     |
| y          | 0.003338     | 0.006012     | 0.028184     |
| w          | 0.033959     | 0.019620     | 0.010754     |
| h          | 0.024829     | 0.024211     | 0.012041     |
| conf       | 0.116894     | 0.106180     | 0.115411     |
| cls        | 0.000247     | 0.000213     | 0.000192     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.904762     | 0.904762     |
| precision  | 0.724138     | 0.355932     | 0.135484     |
| conf_obj   | 0.982069     | 0.986969     | 0.984346     |
| conf_noobj | 0.000643     | 0.000513     | 0.000496     |
+------------+--------------+--------------+--------------+
2020-12-20 07:46:59.256 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.713982
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.284367     | 0.214836     | 0.214779     |
| x          | 0.003121     | 0.006610     | 0.013599     |
| y          | 0.003377     | 0.008196     | 0.017822     |
| w          | 0.016792     | 0.015393     | 0.008699     |
| h          | 0.013288     | 0.014844     | 0.010473     |
| conf       | 0.247156     | 0.168605     | 0.162564     |
| cls        | 0.000633     | 0.001188     | 0.001623     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 0.944444     |
| recall75   | 0.944444     | 0.944444     | 0.944444     |
| precision  | 0.708333     | 0.369565     | 0.170000     |
| conf_obj   | 0.939412     | 0.947683     | 0.955685     |
| conf_noobj | 0.000711     | 0.000543     | 0.000521     |
+------------+--------------+--------------+--------------+
2020-12-20 07:48:05.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.762195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.294388     | 0.241958     | 0.225850     |
| x          | 0.014943     | 0.010192     | 0.009466     |
| y          | 0.005861     | 0.013256     | 0.019048     |
| w          | 0.031745     | 0.048217     | 0.015439     |
| h          | 0.014218     | 0.022567     | 0.005447     |
| conf       | 0.204602     | 0.129420     | 0.160161     |
| cls        | 0.023019     | 0.018306     | 0.016289     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.961538     | 1.000000     |
| recall75   | 0.840000     | 0.884615     | 0.923077     |
| precision  | 0.766667     | 0.480769     | 0.200000     |
| conf_obj   | 0.916988     | 0.956957     | 0.950143     |
| conf_noobj | 0.000594     | 0.000462     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 07:49:12.274 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.813713
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.265325     | 0.299186     | 0.249202     |
| x          | 0.011191     | 0.012149     | 0.032721     |
| y          | 0.004815     | 0.008551     | 0.019847     |
| w          | 0.032516     | 0.023991     | 0.023658     |
| h          | 0.029103     | 0.013359     | 0.010376     |
| conf       | 0.135041     | 0.155110     | 0.147558     |
| cls        | 0.052659     | 0.086026     | 0.015040     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 0.947368     |
| recall75   | 0.838710     | 0.852941     | 0.763158     |
| precision  | 0.789474     | 0.523077     | 0.244898     |
| conf_obj   | 0.978477     | 0.975856     | 0.980954     |
| conf_noobj | 0.000777     | 0.000691     | 0.000598     |
+------------+--------------+--------------+--------------+
2020-12-20 07:50:13.933 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.695608
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.226787     | 0.223361     | 0.245460     |
| x          | 0.024479     | 0.029389     | 0.032855     |
| y          | 0.007945     | 0.005910     | 0.014577     |
| w          | 0.021019     | 0.014877     | 0.019077     |
| h          | 0.025151     | 0.034011     | 0.017756     |
| conf       | 0.137109     | 0.134266     | 0.157660     |
| cls        | 0.011085     | 0.004908     | 0.003535     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.966667     |
| recall75   | 0.791667     | 0.821429     | 0.900000     |
| precision  | 0.827586     | 0.538462     | 0.239669     |
| conf_obj   | 0.977143     | 0.970423     | 0.966022     |
| conf_noobj | 0.000506     | 0.000480     | 0.000531     |
+------------+--------------+--------------+--------------+
2020-12-20 07:51:17.267 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.655690
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.658590     | 0.494228     | 0.502872     |
| x          | 0.020024     | 0.012070     | 0.035498     |
| y          | 0.012606     | 0.009895     | 0.019059     |
| w          | 0.018118     | 0.014275     | 0.020500     |
| h          | 0.028143     | 0.015968     | 0.020056     |
| conf       | 0.495443     | 0.361800     | 0.319251     |
| cls        | 0.084255     | 0.080221     | 0.088509     |
| cls_acc    | 97.44%       | 95.45%       | 95.45%       |
| recall50   | 0.846154     | 0.886364     | 0.886364     |
| recall75   | 0.717949     | 0.818182     | 0.795455     |
| precision  | 0.717391     | 0.453488     | 0.211957     |
| conf_obj   | 0.871334     | 0.900969     | 0.892361     |
| conf_noobj | 0.000896     | 0.000776     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 07:51:29.518 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.913
2020-12-20 07:51:29.522 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 07:52:29.127 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07792   | 0.45025 | 0.13284 | 0.22659 |
| 1     | Wear_helmet | 0.38707   | 0.95355 | 0.55063 | 0.89213 |
| 2     | Total       | 0.23249   | 0.70190 | 0.34174 | 0.55936 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 07:52:29.128 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5593619910821446
2020-12-20 07:52:29.128 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 07:52:29.128 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.606194

2020-12-20 07:52:29.634 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 1/2, epo 1/5
2020-12-20 07:52:29.634 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 1/2, epo 1/5; time cost: 0:15:24.920166

2020-12-20 07:52:29.634 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 1/2, epo 2/5
2020-12-20 07:52:31.322 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.232449
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.458836     | 0.398339     | 0.375274     |
| x          | 0.011985     | 0.017628     | 0.029394     |
| y          | 0.010873     | 0.013386     | 0.034000     |
| w          | 0.037246     | 0.022753     | 0.013121     |
| h          | 0.035000     | 0.023599     | 0.015947     |
| conf       | 0.241316     | 0.220365     | 0.201168     |
| cls        | 0.122415     | 0.100607     | 0.081645     |
| cls_acc    | 97.73%       | 97.92%       | 98.00%       |
| recall50   | 0.931818     | 0.916667     | 0.900000     |
| recall75   | 0.659091     | 0.687500     | 0.780000     |
| precision  | 0.803922     | 0.453608     | 0.226131     |
| conf_obj   | 0.913816     | 0.941948     | 0.933672     |
| conf_noobj | 0.000546     | 0.000696     | 0.000580     |
+------------+--------------+--------------+--------------+
2020-12-20 07:53:42.552 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.232082
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.563449     | 0.361683     | 0.306950     |
| x          | 0.011425     | 0.013038     | 0.020772     |
| y          | 0.006077     | 0.023580     | 0.031245     |
| w          | 0.030207     | 0.021431     | 0.024221     |
| h          | 0.029091     | 0.028996     | 0.036200     |
| conf       | 0.483156     | 0.270631     | 0.192054     |
| cls        | 0.003493     | 0.004006     | 0.002457     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.863636     | 0.869565     | 1.000000     |
| recall75   | 0.772727     | 0.695652     | 0.739130     |
| precision  | 0.678571     | 0.350877     | 0.184000     |
| conf_obj   | 0.834850     | 0.896712     | 0.921890     |
| conf_noobj | 0.000757     | 0.000639     | 0.000496     |
+------------+--------------+--------------+--------------+
2020-12-20 07:54:45.886 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.675573
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.142616     | 0.259867     | 0.273090     |
| x          | 0.025438     | 0.043826     | 0.053545     |
| y          | 0.008110     | 0.011536     | 0.045256     |
| w          | 0.019597     | 0.013057     | 0.014180     |
| h          | 0.011487     | 0.015218     | 0.017824     |
| conf       | 0.069054     | 0.160777     | 0.094929     |
| cls        | 0.008929     | 0.015453     | 0.047355     |
| cls_acc    | 100.00%      | 100.00%      | 93.75%       |
| recall50   | 0.923077     | 0.866667     | 0.937500     |
| recall75   | 0.769231     | 0.666667     | 0.750000     |
| precision  | 0.705882     | 0.325000     | 0.159574     |
| conf_obj   | 0.990850     | 0.933518     | 0.977652     |
| conf_noobj | 0.000448     | 0.000432     | 0.000341     |
+------------+--------------+--------------+--------------+
2020-12-20 07:55:56.791 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.788842
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.251135     | 0.286422     | 0.251284     |
| x          | 0.016640     | 0.008955     | 0.019451     |
| y          | 0.002955     | 0.006857     | 0.006868     |
| w          | 0.017763     | 0.011324     | 0.015605     |
| h          | 0.016309     | 0.014647     | 0.009621     |
| conf       | 0.168877     | 0.188506     | 0.157239     |
| cls        | 0.028592     | 0.056134     | 0.042500     |
| cls_acc    | 100.00%      | 95.45%       | 95.45%       |
| recall50   | 0.952381     | 0.909091     | 0.954545     |
| recall75   | 0.952381     | 0.818182     | 0.863636     |
| precision  | 0.740741     | 0.465116     | 0.152174     |
| conf_obj   | 0.963922     | 0.948657     | 0.965654     |
| conf_noobj | 0.000687     | 0.000472     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-20 07:56:54.665 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.703270
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.352301     | 0.190331     | 0.160639     |
| x          | 0.013318     | 0.010335     | 0.021743     |
| y          | 0.003711     | 0.008242     | 0.016484     |
| w          | 0.031112     | 0.018904     | 0.003551     |
| h          | 0.021640     | 0.018252     | 0.004652     |
| conf       | 0.280925     | 0.132643     | 0.106243     |
| cls        | 0.001594     | 0.001956     | 0.007966     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 1.000000     | 1.000000     |
| recall75   | 0.789474     | 0.950000     | 1.000000     |
| precision  | 0.680000     | 0.377358     | 0.183486     |
| conf_obj   | 0.906695     | 0.966800     | 0.981207     |
| conf_noobj | 0.000631     | 0.000452     | 0.000387     |
+------------+--------------+--------------+--------------+
2020-12-20 07:57:54.777 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.780565
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.302768     | 0.253941     | 0.223856     |
| x          | 0.005459     | 0.008075     | 0.017502     |
| y          | 0.006681     | 0.013428     | 0.031770     |
| w          | 0.015990     | 0.026109     | 0.018712     |
| h          | 0.014772     | 0.016416     | 0.010178     |
| conf       | 0.250117     | 0.182329     | 0.137539     |
| cls        | 0.009749     | 0.007584     | 0.008154     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 1.000000     | 1.000000     |
| recall75   | 0.807692     | 0.928571     | 0.766667     |
| precision  | 0.666667     | 0.373333     | 0.181818     |
| conf_obj   | 0.924662     | 0.958823     | 0.981636     |
| conf_noobj | 0.000757     | 0.000681     | 0.000546     |
+------------+--------------+--------------+--------------+
2020-12-20 07:58:58.313 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.563512
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.172526     | 0.204875     | 0.186111     |
| x          | 0.004119     | 0.013879     | 0.027550     |
| y          | 0.006389     | 0.012746     | 0.027326     |
| w          | 0.015738     | 0.013313     | 0.012304     |
| h          | 0.012243     | 0.014364     | 0.012442     |
| conf       | 0.132366     | 0.150124     | 0.106068     |
| cls        | 0.001671     | 0.000449     | 0.000420     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 1.000000     |
| recall75   | 0.884615     | 0.964286     | 0.928571     |
| precision  | 0.764706     | 0.415385     | 0.208955     |
| conf_obj   | 0.970680     | 0.954937     | 0.975070     |
| conf_noobj | 0.000466     | 0.000468     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 08:00:08.240 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.822771
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.259520     | 0.251949     | 0.311303     |
| x          | 0.004676     | 0.018345     | 0.032951     |
| y          | 0.005725     | 0.010019     | 0.030237     |
| w          | 0.013755     | 0.014228     | 0.009139     |
| h          | 0.015427     | 0.017023     | 0.013188     |
| conf       | 0.206130     | 0.188208     | 0.223403     |
| cls        | 0.013807     | 0.004125     | 0.002384     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.913043     |
| recall75   | 0.956522     | 0.826087     | 0.869565     |
| precision  | 0.758621     | 0.400000     | 0.177966     |
| conf_obj   | 0.917842     | 0.933507     | 0.909107     |
| conf_noobj | 0.000583     | 0.000552     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 08:01:13.780 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.997087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.394210     | 0.332093     | 0.270784     |
| x          | 0.014958     | 0.018253     | 0.032073     |
| y          | 0.011126     | 0.005362     | 0.017608     |
| w          | 0.030208     | 0.026328     | 0.014301     |
| h          | 0.027385     | 0.020519     | 0.014153     |
| conf       | 0.207592     | 0.217556     | 0.180446     |
| cls        | 0.102941     | 0.044073     | 0.012204     |
| cls_acc    | 96.00%       | 96.88%       | 100.00%      |
| recall50   | 0.880000     | 0.968750     | 1.000000     |
| recall75   | 0.720000     | 0.843750     | 0.843750     |
| precision  | 0.758621     | 0.620000     | 0.226950     |
| conf_obj   | 0.952959     | 0.922816     | 0.955807     |
| conf_noobj | 0.000716     | 0.000542     | 0.000632     |
+------------+--------------+--------------+--------------+
2020-12-20 08:02:15.783 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.513044
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.141842     | 0.178584     | 0.192618     |
| x          | 0.005386     | 0.015906     | 0.025156     |
| y          | 0.005061     | 0.013164     | 0.029707     |
| w          | 0.023934     | 0.025779     | 0.015707     |
| h          | 0.031907     | 0.021274     | 0.012555     |
| conf       | 0.065642     | 0.095601     | 0.106769     |
| cls        | 0.009911     | 0.006860     | 0.002724     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 1.000000     |
| recall75   | 0.952381     | 0.909091     | 0.826087     |
| precision  | 0.840000     | 0.500000     | 0.221154     |
| conf_obj   | 0.987912     | 0.985139     | 0.981586     |
| conf_noobj | 0.000328     | 0.000392     | 0.000388     |
+------------+--------------+--------------+--------------+
2020-12-20 08:03:22.435 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.951763
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.487305     | 0.231595     | 0.232863     |
| x          | 0.006624     | 0.010375     | 0.031107     |
| y          | 0.006277     | 0.010373     | 0.018758     |
| w          | 0.024843     | 0.022352     | 0.010377     |
| h          | 0.015070     | 0.016616     | 0.013439     |
| conf       | 0.421412     | 0.169761     | 0.156450     |
| cls        | 0.013078     | 0.002118     | 0.002732     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.826087     | 0.880000     | 0.840000     |
| precision  | 0.724138     | 0.446429     | 0.198413     |
| conf_obj   | 0.887275     | 0.947767     | 0.959111     |
| conf_noobj | 0.000700     | 0.000596     | 0.000540     |
+------------+--------------+--------------+--------------+
2020-12-20 08:04:23.620 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.386514
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.144358     | 0.121246     | 0.120910     |
| x          | 0.000919     | 0.003874     | 0.015218     |
| y          | 0.001678     | 0.005188     | 0.012596     |
| w          | 0.007919     | 0.014525     | 0.005699     |
| h          | 0.006903     | 0.004023     | 0.002646     |
| conf       | 0.126738     | 0.093405     | 0.084516     |
| cls        | 0.000200     | 0.000231     | 0.000234     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.727273     | 0.432432     | 0.192771     |
| conf_obj   | 0.965361     | 0.970677     | 0.982910     |
| conf_noobj | 0.000500     | 0.000350     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 08:05:28.525 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.626621
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.558700     | 0.558377     | 0.509544     |
| x          | 0.004066     | 0.005874     | 0.024415     |
| y          | 0.004739     | 0.018609     | 0.050638     |
| w          | 0.050985     | 0.011844     | 0.008625     |
| h          | 0.032405     | 0.026249     | 0.028870     |
| conf       | 0.425447     | 0.485045     | 0.384171     |
| cls        | 0.041059     | 0.010755     | 0.012825     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.888889     | 0.833333     |
| recall75   | 0.888889     | 0.833333     | 0.833333     |
| precision  | 0.592593     | 0.307692     | 0.142857     |
| conf_obj   | 0.865665     | 0.857697     | 0.856672     |
| conf_noobj | 0.000748     | 0.000597     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 08:06:34.726 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.064221
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.402969     | 0.377065     | 0.284187     |
| x          | 0.006595     | 0.009471     | 0.023000     |
| y          | 0.003826     | 0.007536     | 0.015871     |
| w          | 0.039751     | 0.021119     | 0.017137     |
| h          | 0.027080     | 0.024021     | 0.012927     |
| conf       | 0.295738     | 0.308371     | 0.203796     |
| cls        | 0.029978     | 0.006547     | 0.011457     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.973684     | 1.000000     | 0.975610     |
| recall75   | 0.815789     | 0.875000     | 0.804878     |
| precision  | 0.822222     | 0.449438     | 0.254777     |
| conf_obj   | 0.910346     | 0.937483     | 0.949051     |
| conf_noobj | 0.000814     | 0.001062     | 0.000656     |
+------------+--------------+--------------+--------------+
2020-12-20 08:06:44.437 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.913
2020-12-20 08:06:44.441 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 08:07:42.122 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11492   | 0.50000 | 0.18689 | 0.31341 |
| 1     | Wear_helmet | 0.53804   | 0.93175 | 0.68217 | 0.89578 |
| 2     | Total       | 0.32648   | 0.71588 | 0.43453 | 0.60459 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:07:42.122 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6045928446732038
2020-12-20 08:07:42.123 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 08:07:42.123 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.681639

2020-12-20 08:07:42.599 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 1/2, epo 2/5
2020-12-20 08:07:42.599 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 1/2, epo 2/5; time cost: 0:15:12.964918

2020-12-20 08:07:42.600 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 1/2, epo 3/5
2020-12-20 08:07:43.819 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.641128
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.062676     | 0.304093     | 0.274359     |
| x          | 0.001868     | 0.012124     | 0.014218     |
| y          | 0.002923     | 0.007189     | 0.022865     |
| w          | 0.015336     | 0.018013     | 0.009576     |
| h          | 0.010221     | 0.009770     | 0.013499     |
| conf       | 0.029355     | 0.253213     | 0.211644     |
| cls        | 0.002973     | 0.003784     | 0.002557     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 0.964286     |
| recall75   | 1.000000     | 0.928571     | 0.892857     |
| precision  | 0.931035     | 0.529412     | 0.270000     |
| conf_obj   | 0.995639     | 0.956281     | 0.941548     |
| conf_noobj | 0.000197     | 0.000409     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 08:08:46.077 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.565342
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.151850     | 0.239405     | 0.174087     |
| x          | 0.002620     | 0.008675     | 0.009036     |
| y          | 0.005104     | 0.008600     | 0.027263     |
| w          | 0.015438     | 0.011740     | 0.013093     |
| h          | 0.007186     | 0.010053     | 0.009448     |
| conf       | 0.120355     | 0.197279     | 0.113780     |
| cls        | 0.001147     | 0.003059     | 0.001467     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 1.000000     |
| recall75   | 0.954545     | 0.863636     | 1.000000     |
| precision  | 0.758621     | 0.456522     | 0.242105     |
| conf_obj   | 0.971992     | 0.944293     | 0.964783     |
| conf_noobj | 0.000510     | 0.000401     | 0.000354     |
+------------+--------------+--------------+--------------+
2020-12-20 08:09:49.365 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.487014
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.441765     | 0.534788     | 0.510462     |
| x          | 0.013345     | 0.012498     | 0.029924     |
| y          | 0.006011     | 0.015759     | 0.041253     |
| w          | 0.031906     | 0.024411     | 0.011740     |
| h          | 0.016482     | 0.021925     | 0.009686     |
| conf       | 0.219225     | 0.245039     | 0.262933     |
| cls        | 0.154796     | 0.215156     | 0.154925     |
| cls_acc    | 94.44%       | 95.00%       | 95.24%       |
| recall50   | 0.888889     | 0.900000     | 0.928571     |
| recall75   | 0.805556     | 0.750000     | 0.904762     |
| precision  | 0.695652     | 0.450000     | 0.183099     |
| conf_obj   | 0.932943     | 0.927520     | 0.899187     |
| conf_noobj | 0.000707     | 0.000587     | 0.000617     |
+------------+--------------+--------------+--------------+
2020-12-20 08:10:56.359 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.731146
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.265408     | 0.236963     | 0.228776     |
| x          | 0.006429     | 0.010747     | 0.024448     |
| y          | 0.004309     | 0.017311     | 0.015993     |
| w          | 0.019136     | 0.010994     | 0.011337     |
| h          | 0.022715     | 0.021004     | 0.016639     |
| conf       | 0.172790     | 0.168639     | 0.157300     |
| cls        | 0.040028     | 0.008268     | 0.003058     |
| cls_acc    | 96.88%       | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 0.969697     | 0.971429     |
| recall75   | 0.906250     | 0.878788     | 0.885714     |
| precision  | 0.837838     | 0.561404     | 0.263566     |
| conf_obj   | 0.963774     | 0.958634     | 0.958130     |
| conf_noobj | 0.000655     | 0.000566     | 0.000485     |
+------------+--------------+--------------+--------------+
2020-12-20 08:11:58.798 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.029544
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.391359     | 0.318441     | 0.319744     |
| x          | 0.020326     | 0.021209     | 0.038193     |
| y          | 0.006034     | 0.011063     | 0.019079     |
| w          | 0.028155     | 0.022946     | 0.009822     |
| h          | 0.019954     | 0.013531     | 0.011631     |
| conf       | 0.296793     | 0.232828     | 0.223990     |
| cls        | 0.020097     | 0.016865     | 0.017030     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.896552     | 0.937500     | 0.939394     |
| recall75   | 0.793103     | 0.906250     | 0.939394     |
| precision  | 0.666667     | 0.508475     | 0.187879     |
| conf_obj   | 0.919086     | 0.943135     | 0.944929     |
| conf_noobj | 0.000891     | 0.000622     | 0.000686     |
+------------+--------------+--------------+--------------+
2020-12-20 08:13:07.258 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.563786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.260331     | 0.151029     | 0.152426     |
| x          | 0.005838     | 0.003361     | 0.008957     |
| y          | 0.003104     | 0.004113     | 0.010268     |
| w          | 0.009577     | 0.008135     | 0.008493     |
| h          | 0.008053     | 0.006865     | 0.006735     |
| conf       | 0.233478     | 0.128406     | 0.117804     |
| cls        | 0.000281     | 0.000149     | 0.000169     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 1.000000     | 1.000000     |
| precision  | 0.631579     | 0.413793     | 0.155844     |
| conf_obj   | 0.954515     | 0.968589     | 0.981882     |
| conf_noobj | 0.000962     | 0.000468     | 0.000467     |
+------------+--------------+--------------+--------------+
2020-12-20 08:14:16.503 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.670279
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.204321     | 0.204799     | 0.261159     |
| x          | 0.007887     | 0.024754     | 0.045707     |
| y          | 0.004371     | 0.010446     | 0.035397     |
| w          | 0.018091     | 0.020063     | 0.010881     |
| h          | 0.018711     | 0.013216     | 0.015210     |
| conf       | 0.089604     | 0.115686     | 0.145927     |
| cls        | 0.065656     | 0.020634     | 0.008038     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.916667     |
| recall75   | 0.954545     | 0.833333     | 0.833333     |
| precision  | 0.785714     | 0.470588     | 0.178862     |
| conf_obj   | 0.979567     | 0.981302     | 0.965281     |
| conf_noobj | 0.000458     | 0.000504     | 0.000500     |
+------------+--------------+--------------+--------------+
2020-12-20 08:15:23.146 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.653900
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.214150     | 0.236672     | 0.203078     |
| x          | 0.008452     | 0.026601     | 0.022365     |
| y          | 0.006153     | 0.010360     | 0.031474     |
| w          | 0.013932     | 0.006333     | 0.012225     |
| h          | 0.020315     | 0.016378     | 0.019996     |
| conf       | 0.164403     | 0.175642     | 0.115164     |
| cls        | 0.000895     | 0.001357     | 0.001853     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.846154     | 1.000000     |
| recall75   | 0.880000     | 0.769231     | 0.793103     |
| precision  | 0.851852     | 0.423077     | 0.233871     |
| conf_obj   | 0.932035     | 0.933801     | 0.979971     |
| conf_noobj | 0.000282     | 0.000387     | 0.000377     |
+------------+--------------+--------------+--------------+
2020-12-20 08:16:32.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.705188
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.150384     | 0.269184     | 0.285621     |
| x          | 0.008691     | 0.011313     | 0.009685     |
| y          | 0.001842     | 0.005745     | 0.015903     |
| w          | 0.013279     | 0.021335     | 0.013704     |
| h          | 0.009720     | 0.017299     | 0.018214     |
| conf       | 0.107780     | 0.178282     | 0.208158     |
| cls        | 0.009071     | 0.035210     | 0.019957     |
| cls_acc    | 100.00%      | 96.55%       | 100.00%      |
| recall50   | 0.958333     | 0.965517     | 0.965517     |
| recall75   | 0.916667     | 0.931035     | 0.896552     |
| precision  | 0.920000     | 0.538462     | 0.191781     |
| conf_obj   | 0.975185     | 0.952853     | 0.949243     |
| conf_noobj | 0.000493     | 0.000502     | 0.000520     |
+------------+--------------+--------------+--------------+
2020-12-20 08:17:36.251 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.344962
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.465129     | 0.402585     | 0.477248     |
| x          | 0.008750     | 0.040862     | 0.019990     |
| y          | 0.013513     | 0.041133     | 0.039694     |
| w          | 0.037127     | 0.033620     | 0.018648     |
| h          | 0.031472     | 0.030249     | 0.020887     |
| conf       | 0.350811     | 0.245781     | 0.361305     |
| cls        | 0.023456     | 0.010939     | 0.016723     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.868421     | 0.923077     |
| recall75   | 0.777778     | 0.657895     | 0.717949     |
| precision  | 0.767442     | 0.397590     | 0.161435     |
| conf_obj   | 0.905458     | 0.937630     | 0.871929     |
| conf_noobj | 0.000996     | 0.000870     | 0.000854     |
+------------+--------------+--------------+--------------+
2020-12-20 08:18:42.313 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.521083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.143261     | 0.159538     | 0.218283     |
| x          | 0.010861     | 0.012625     | 0.025993     |
| y          | 0.001536     | 0.006658     | 0.019983     |
| w          | 0.018786     | 0.029063     | 0.016395     |
| h          | 0.011243     | 0.013993     | 0.009012     |
| conf       | 0.097190     | 0.093335     | 0.135601     |
| cls        | 0.003645     | 0.003864     | 0.011298     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.916667     | 0.833333     |
| precision  | 0.821429     | 0.510638     | 0.203390     |
| conf_obj   | 0.964783     | 0.979543     | 0.965059     |
| conf_noobj | 0.000371     | 0.000398     | 0.000414     |
+------------+--------------+--------------+--------------+
2020-12-20 08:19:42.825 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.581163
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.193212     | 0.201969     | 0.185982     |
| x          | 0.002746     | 0.005503     | 0.011067     |
| y          | 0.002665     | 0.012911     | 0.019941     |
| w          | 0.021780     | 0.008256     | 0.007918     |
| h          | 0.018399     | 0.015891     | 0.007142     |
| conf       | 0.138093     | 0.154918     | 0.136586     |
| cls        | 0.009529     | 0.004490     | 0.003327     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 1.000000     |
| precision  | 0.640000     | 0.285714     | 0.123077     |
| conf_obj   | 0.992376     | 0.983087     | 0.989156     |
| conf_noobj | 0.000938     | 0.000808     | 0.000627     |
+------------+--------------+--------------+--------------+
2020-12-20 08:20:41.707 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.539248
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.088939     | 0.261741     | 0.188568     |
| x          | 0.002154     | 0.005750     | 0.012278     |
| y          | 0.004294     | 0.011203     | 0.055434     |
| w          | 0.019060     | 0.012768     | 0.013096     |
| h          | 0.020983     | 0.017348     | 0.012918     |
| conf       | 0.042204     | 0.214186     | 0.094353     |
| cls        | 0.000243     | 0.000487     | 0.000489     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 0.941176     | 0.882353     | 0.941176     |
| precision  | 0.894737     | 0.340426     | 0.226667     |
| conf_obj   | 0.990953     | 0.914404     | 0.965472     |
| conf_noobj | 0.000264     | 0.000380     | 0.000252     |
+------------+--------------+--------------+--------------+
2020-12-20 08:21:51.657 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.986181
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.233091     | 0.386761     | 0.366330     |
| x          | 0.014252     | 0.010083     | 0.023385     |
| y          | 0.004586     | 0.012967     | 0.021384     |
| w          | 0.018303     | 0.048519     | 0.023477     |
| h          | 0.022655     | 0.038888     | 0.025298     |
| conf       | 0.143880     | 0.244116     | 0.261208     |
| cls        | 0.029415     | 0.032186     | 0.011578     |
| cls_acc    | 100.00%      | 96.55%       | 100.00%      |
| recall50   | 0.962963     | 0.931035     | 0.933333     |
| recall75   | 0.851852     | 0.827586     | 0.800000     |
| precision  | 0.838710     | 0.529412     | 0.195804     |
| conf_obj   | 0.953491     | 0.951482     | 0.916857     |
| conf_noobj | 0.000480     | 0.000460     | 0.000541     |
+------------+--------------+--------------+--------------+
2020-12-20 08:22:03.685 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.901
2020-12-20 08:22:03.689 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 08:23:01.865 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05827   | 0.55721 | 0.10551 | 0.25478 |
| 1     | Wear_helmet | 0.45950   | 0.92749 | 0.61454 | 0.88310 |
| 2     | Total       | 0.25889   | 0.74235 | 0.36003 | 0.56894 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:23:01.866 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5689419451391955
2020-12-20 08:23:01.866 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 08:23:01.866 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.176608

2020-12-20 08:23:02.304 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 1/2, epo 3/5
2020-12-20 08:23:02.305 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 1/2, epo 3/5; time cost: 0:15:19.704781

2020-12-20 08:23:02.305 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 1/2, epo 4/5
2020-12-20 08:23:03.630 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.952086
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.368577     | 0.330195     | 0.253315     |
| x          | 0.007735     | 0.012757     | 0.020596     |
| y          | 0.004276     | 0.007939     | 0.027642     |
| w          | 0.014730     | 0.011117     | 0.010362     |
| h          | 0.020782     | 0.012140     | 0.010840     |
| conf       | 0.284003     | 0.247269     | 0.168950     |
| cls        | 0.037050     | 0.038972     | 0.014925     |
| cls_acc    | 96.67%       | 96.88%       | 100.00%      |
| recall50   | 0.866667     | 0.937500     | 0.968750     |
| recall75   | 0.833333     | 0.843750     | 0.812500     |
| precision  | 0.764706     | 0.434783     | 0.169399     |
| conf_obj   | 0.918121     | 0.941002     | 0.961874     |
| conf_noobj | 0.000823     | 0.000707     | 0.000632     |
+------------+--------------+--------------+--------------+
2020-12-20 08:24:09.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.239318
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.493667     | 0.336043     | 0.409609     |
| x          | 0.021036     | 0.013375     | 0.033443     |
| y          | 0.009939     | 0.015878     | 0.028113     |
| w          | 0.045364     | 0.035378     | 0.008837     |
| h          | 0.027963     | 0.020700     | 0.014706     |
| conf       | 0.380000     | 0.233739     | 0.317665     |
| cls        | 0.009364     | 0.016974     | 0.006845     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.974359     | 0.900000     |
| recall75   | 0.777778     | 0.820513     | 0.825000     |
| precision  | 0.640000     | 0.422222     | 0.162896     |
| conf_obj   | 0.901041     | 0.934757     | 0.907903     |
| conf_noobj | 0.000956     | 0.000670     | 0.000624     |
+------------+--------------+--------------+--------------+
2020-12-20 08:25:19.061 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.723141
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.242667     | 0.266268     | 0.214206     |
| x          | 0.004255     | 0.007480     | 0.020401     |
| y          | 0.005146     | 0.015069     | 0.022643     |
| w          | 0.013882     | 0.008094     | 0.007526     |
| h          | 0.021532     | 0.016304     | 0.005475     |
| conf       | 0.185742     | 0.214221     | 0.155436     |
| cls        | 0.012110     | 0.005100     | 0.002725     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 1.000000     |
| precision  | 0.700000     | 0.318182     | 0.151079     |
| conf_obj   | 0.964612     | 0.946885     | 0.952325     |
| conf_noobj | 0.000646     | 0.000727     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 08:26:30.280 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.380243
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.549522     | 0.369479     | 0.461243     |
| x          | 0.013660     | 0.014813     | 0.017323     |
| y          | 0.002714     | 0.011110     | 0.013210     |
| w          | 0.026736     | 0.014741     | 0.009839     |
| h          | 0.026683     | 0.019789     | 0.012782     |
| conf       | 0.295958     | 0.163700     | 0.280752     |
| cls        | 0.183770     | 0.145326     | 0.127337     |
| cls_acc    | 96.43%       | 93.10%       | 96.67%       |
| recall50   | 0.928571     | 0.896552     | 0.900000     |
| recall75   | 0.821429     | 0.862069     | 0.866667     |
| precision  | 0.650000     | 0.388060     | 0.186207     |
| conf_obj   | 0.924690     | 0.971659     | 0.927299     |
| conf_noobj | 0.000970     | 0.000673     | 0.000560     |
+------------+--------------+--------------+--------------+
2020-12-20 08:27:41.021 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.807418
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.650444     | 0.719054     | 0.437920     |
| x          | 0.027663     | 0.034848     | 0.049620     |
| y          | 0.010063     | 0.014776     | 0.037408     |
| w          | 0.053479     | 0.030311     | 0.048493     |
| h          | 0.044862     | 0.011502     | 0.007485     |
| conf       | 0.480049     | 0.613089     | 0.271165     |
| cls        | 0.034328     | 0.014528     | 0.023748     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.791667     | 0.760000     | 0.880000     |
| recall75   | 0.708333     | 0.720000     | 0.680000     |
| precision  | 0.593750     | 0.316667     | 0.156028     |
| conf_obj   | 0.838178     | 0.813779     | 0.905151     |
| conf_noobj | 0.000690     | 0.000558     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 08:28:51.865 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.113402
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.416030     | 0.374404     | 0.322968     |
| x          | 0.008683     | 0.014981     | 0.027149     |
| y          | 0.004765     | 0.010580     | 0.017787     |
| w          | 0.021589     | 0.015098     | 0.013975     |
| h          | 0.036341     | 0.044045     | 0.047614     |
| conf       | 0.294302     | 0.235564     | 0.163641     |
| cls        | 0.050350     | 0.054136     | 0.052800     |
| cls_acc    | 100.00%      | 95.83%       | 95.83%       |
| recall50   | 0.916667     | 0.875000     | 0.916667     |
| recall75   | 0.916667     | 0.791667     | 0.791667     |
| precision  | 0.628571     | 0.420000     | 0.194690     |
| conf_obj   | 0.890574     | 0.917731     | 0.940246     |
| conf_noobj | 0.000803     | 0.000493     | 0.000396     |
+------------+--------------+--------------+--------------+
2020-12-20 08:29:57.239 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.842250
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.352971     | 0.270808     | 0.218471     |
| x          | 0.011401     | 0.012240     | 0.019626     |
| y          | 0.010193     | 0.007622     | 0.015489     |
| w          | 0.021174     | 0.017681     | 0.014433     |
| h          | 0.025143     | 0.021931     | 0.022452     |
| conf       | 0.256841     | 0.202067     | 0.128653     |
| cls        | 0.028219     | 0.009268     | 0.017820     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.869565     | 0.956522     | 0.913043     |
| precision  | 0.777778     | 0.425926     | 0.184000     |
| conf_obj   | 0.913910     | 0.934616     | 0.974316     |
| conf_noobj | 0.000628     | 0.000686     | 0.000527     |
+------------+--------------+--------------+--------------+
2020-12-20 08:31:02.717 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.736010
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.228491     | 0.243061     | 0.264458     |
| x          | 0.014186     | 0.008362     | 0.014571     |
| y          | 0.004106     | 0.004332     | 0.015689     |
| w          | 0.027688     | 0.020493     | 0.011158     |
| h          | 0.014768     | 0.012070     | 0.006626     |
| conf       | 0.147720     | 0.178474     | 0.210312     |
| cls        | 0.020023     | 0.019330     | 0.006101     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.978723     | 0.979592     |
| recall75   | 0.820513     | 0.914894     | 0.938776     |
| precision  | 0.837209     | 0.605263     | 0.251309     |
| conf_obj   | 0.949356     | 0.952788     | 0.950321     |
| conf_noobj | 0.000472     | 0.000600     | 0.000700     |
+------------+--------------+--------------+--------------+
2020-12-20 08:32:08.010 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.589584
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.184820     | 0.234180     | 0.170583     |
| x          | 0.003284     | 0.017638     | 0.021996     |
| y          | 0.003959     | 0.008676     | 0.015504     |
| w          | 0.014460     | 0.017112     | 0.013139     |
| h          | 0.015491     | 0.018459     | 0.020830     |
| conf       | 0.145828     | 0.170534     | 0.098355     |
| cls        | 0.001799     | 0.001761     | 0.000758     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.750000     | 0.882353     |
| precision  | 0.714286     | 0.372093     | 0.195402     |
| conf_obj   | 0.972221     | 0.959877     | 0.982020     |
| conf_noobj | 0.000566     | 0.000608     | 0.000380     |
+------------+--------------+--------------+--------------+
2020-12-20 08:33:10.772 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.756075
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.296688     | 0.227901     | 0.231486     |
| x          | 0.005703     | 0.005874     | 0.019408     |
| y          | 0.004365     | 0.006380     | 0.023725     |
| w          | 0.030262     | 0.016817     | 0.032544     |
| h          | 0.026007     | 0.024276     | 0.020864     |
| conf       | 0.198080     | 0.128138     | 0.108427     |
| cls        | 0.032270     | 0.046416     | 0.026519     |
| cls_acc    | 100.00%      | 94.74%       | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.947368     | 0.842105     | 0.850000     |
| precision  | 0.678571     | 0.391304     | 0.188679     |
| conf_obj   | 0.974748     | 0.985694     | 0.986049     |
| conf_noobj | 0.000787     | 0.000539     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 08:34:12.548 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.827380
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.238331     | 0.304489     | 0.284560     |
| x          | 0.008731     | 0.007669     | 0.011213     |
| y          | 0.008563     | 0.016133     | 0.037942     |
| w          | 0.018951     | 0.012946     | 0.007641     |
| h          | 0.019952     | 0.012470     | 0.003215     |
| conf       | 0.180343     | 0.253086     | 0.222479     |
| cls        | 0.001791     | 0.002184     | 0.002070     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.842105     | 0.947368     |
| recall75   | 0.894737     | 0.789474     | 0.894737     |
| precision  | 0.782609     | 0.390244     | 0.191489     |
| conf_obj   | 0.944960     | 0.890761     | 0.902616     |
| conf_noobj | 0.000635     | 0.000464     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 08:35:15.234 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.812697
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.408104     | 0.221083     | 0.183511     |
| x          | 0.028877     | 0.009190     | 0.018512     |
| y          | 0.016347     | 0.014494     | 0.021457     |
| w          | 0.026802     | 0.011956     | 0.008866     |
| h          | 0.037491     | 0.016977     | 0.007173     |
| conf       | 0.298056     | 0.167454     | 0.126379     |
| cls        | 0.000531     | 0.001012     | 0.001124     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 1.000000     |
| recall75   | 0.850000     | 0.904762     | 1.000000     |
| precision  | 0.782609     | 0.500000     | 0.200000     |
| conf_obj   | 0.939805     | 0.950544     | 0.974898     |
| conf_noobj | 0.000659     | 0.000574     | 0.000513     |
+------------+--------------+--------------+--------------+
2020-12-20 08:36:21.227 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.784100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.245069     | 0.287950     | 0.251081     |
| x          | 0.018275     | 0.042099     | 0.047577     |
| y          | 0.014620     | 0.011636     | 0.032566     |
| w          | 0.025808     | 0.016492     | 0.018474     |
| h          | 0.031886     | 0.027917     | 0.017902     |
| conf       | 0.152300     | 0.189229     | 0.133654     |
| cls        | 0.002181     | 0.000577     | 0.000908     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.894737     | 1.000000     |
| recall75   | 0.777778     | 0.789474     | 0.700000     |
| precision  | 0.750000     | 0.361702     | 0.181818     |
| conf_obj   | 0.968027     | 0.938136     | 0.959866     |
| conf_noobj | 0.000554     | 0.000477     | 0.000390     |
+------------+--------------+--------------+--------------+
2020-12-20 08:37:27.623 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.123178
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.523253     | 0.302106     | 0.297819     |
| x          | 0.003019     | 0.013495     | 0.023106     |
| y          | 0.009994     | 0.012607     | 0.029580     |
| w          | 0.007195     | 0.006306     | 0.013328     |
| h          | 0.028864     | 0.013840     | 0.010364     |
| conf       | 0.457164     | 0.243659     | 0.217932     |
| cls        | 0.017015     | 0.012198     | 0.003509     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.958333     | 0.958333     |
| recall75   | 0.875000     | 0.916667     | 0.875000     |
| precision  | 0.511628     | 0.315068     | 0.157534     |
| conf_obj   | 0.887658     | 0.937051     | 0.935119     |
| conf_noobj | 0.001304     | 0.000749     | 0.000502     |
+------------+--------------+--------------+--------------+
2020-12-20 08:37:39.854 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.878
2020-12-20 08:37:39.857 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 08:38:32.923 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.22440   | 0.37065 | 0.27955 | 0.25337 |
| 1     | Wear_helmet | 0.50716   | 0.95687 | 0.66295 | 0.90989 |
| 2     | Total       | 0.36578   | 0.66376 | 0.47125 | 0.58163 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:38:32.923 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5816297561354771
2020-12-20 08:38:32.923 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 08:38:32.924 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:53.066306

2020-12-20 08:38:33.327 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 1/2, epo 4/5
2020-12-20 08:38:33.327 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 1/2, epo 4/5; time cost: 0:15:31.021578

2020-12-20 08:38:33.328 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 12/20, idx 1/2, epo 5/5
2020-12-20 08:38:34.893 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.414291
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.141128     | 0.128130     | 0.145033     |
| x          | 0.004206     | 0.008171     | 0.016377     |
| y          | 0.002609     | 0.013160     | 0.035792     |
| w          | 0.029076     | 0.024481     | 0.012879     |
| h          | 0.018589     | 0.015936     | 0.008850     |
| conf       | 0.084617     | 0.065652     | 0.069248     |
| cls        | 0.002032     | 0.000731     | 0.001887     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.894737     | 1.000000     |
| precision  | 0.826087     | 0.463415     | 0.213483     |
| conf_obj   | 0.988009     | 0.990261     | 0.993091     |
| conf_noobj | 0.000382     | 0.000307     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 08:39:41.261 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.337341
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.491841     | 0.428203     | 0.417297     |
| x          | 0.016625     | 0.015535     | 0.035388     |
| y          | 0.006633     | 0.011427     | 0.026471     |
| w          | 0.013711     | 0.007816     | 0.007258     |
| h          | 0.016899     | 0.022175     | 0.013259     |
| conf       | 0.394546     | 0.330240     | 0.271173     |
| cls        | 0.043428     | 0.041009     | 0.063747     |
| cls_acc    | 97.62%       | 97.78%       | 95.65%       |
| recall50   | 0.880952     | 0.933333     | 0.913043     |
| recall75   | 0.809524     | 0.911111     | 0.847826     |
| precision  | 0.787234     | 0.420000     | 0.219895     |
| conf_obj   | 0.882657     | 0.934468     | 0.935769     |
| conf_noobj | 0.000531     | 0.000730     | 0.000510     |
+------------+--------------+--------------+--------------+
2020-12-20 08:40:50.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.770197
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.268321     | 0.248452     | 0.253423     |
| x          | 0.007037     | 0.013408     | 0.034719     |
| y          | 0.008331     | 0.016988     | 0.030115     |
| w          | 0.025337     | 0.015952     | 0.005145     |
| h          | 0.008416     | 0.009099     | 0.009893     |
| conf       | 0.216717     | 0.191426     | 0.170206     |
| cls        | 0.002483     | 0.001578     | 0.003345     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.962963     | 1.000000     |
| recall75   | 0.923077     | 0.925926     | 1.000000     |
| precision  | 0.735294     | 0.393939     | 0.190141     |
| conf_obj   | 0.941016     | 0.941769     | 0.941869     |
| conf_noobj | 0.000574     | 0.000566     | 0.000457     |
+------------+--------------+--------------+--------------+
2020-12-20 08:41:54.773 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.569146
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.236406     | 0.164239     | 0.168501     |
| x          | 0.011162     | 0.011762     | 0.039379     |
| y          | 0.001545     | 0.005417     | 0.008027     |
| w          | 0.030538     | 0.021977     | 0.014119     |
| h          | 0.017272     | 0.007352     | 0.008034     |
| conf       | 0.123038     | 0.115374     | 0.097989     |
| cls        | 0.052850     | 0.002356     | 0.000953     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.863636     | 0.958333     | 0.916667     |
| precision  | 0.733333     | 0.521739     | 0.214286     |
| conf_obj   | 0.974406     | 0.976516     | 0.985200     |
| conf_noobj | 0.000556     | 0.000479     | 0.000398     |
+------------+--------------+--------------+--------------+
2020-12-20 08:43:02.026 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.409633
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.093460     | 0.154049     | 0.162123     |
| x          | 0.004965     | 0.018002     | 0.025113     |
| y          | 0.003863     | 0.010850     | 0.021678     |
| w          | 0.014111     | 0.016052     | 0.016071     |
| h          | 0.019002     | 0.020372     | 0.027858     |
| conf       | 0.050722     | 0.088355     | 0.070937     |
| cls        | 0.000798     | 0.000417     | 0.000466     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.857143     | 0.800000     |
| precision  | 0.933333     | 0.411765     | 0.254237     |
| conf_obj   | 0.988459     | 0.984362     | 0.984991     |
| conf_noobj | 0.000319     | 0.000401     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 08:44:03.558 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.233290
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.466448     | 0.404943     | 0.361899     |
| x          | 0.022315     | 0.025305     | 0.024292     |
| y          | 0.007064     | 0.012640     | 0.012998     |
| w          | 0.053968     | 0.042618     | 0.031808     |
| h          | 0.047917     | 0.018981     | 0.018847     |
| conf       | 0.324055     | 0.280697     | 0.252108     |
| cls        | 0.011127     | 0.024702     | 0.021846     |
| cls_acc    | 100.00%      | 97.22%       | 100.00%      |
| recall50   | 0.875000     | 0.888889     | 0.916667     |
| recall75   | 0.750000     | 0.722222     | 0.777778     |
| precision  | 0.823529     | 0.592593     | 0.253846     |
| conf_obj   | 0.914237     | 0.905032     | 0.895014     |
| conf_noobj | 0.000341     | 0.000291     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 08:45:08.565 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.892838
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.245155     | 0.335229     | 0.312454     |
| x          | 0.003748     | 0.011684     | 0.009632     |
| y          | 0.004390     | 0.009440     | 0.030922     |
| w          | 0.019371     | 0.012832     | 0.008797     |
| h          | 0.021992     | 0.024479     | 0.019076     |
| conf       | 0.106030     | 0.172873     | 0.175681     |
| cls        | 0.089623     | 0.103922     | 0.068348     |
| cls_acc    | 100.00%      | 96.43%       | 96.55%       |
| recall50   | 1.000000     | 0.928571     | 0.931035     |
| recall75   | 1.000000     | 0.821429     | 0.896552     |
| precision  | 0.866667     | 0.530612     | 0.275510     |
| conf_obj   | 0.975207     | 0.946759     | 0.955306     |
| conf_noobj | 0.000522     | 0.000440     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 08:46:08.938 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.898912
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.349646     | 0.276726     | 0.272541     |
| x          | 0.007823     | 0.011525     | 0.057098     |
| y          | 0.005077     | 0.008134     | 0.020139     |
| w          | 0.064717     | 0.049599     | 0.041116     |
| h          | 0.042923     | 0.046963     | 0.030400     |
| conf       | 0.205614     | 0.150633     | 0.117636     |
| cls        | 0.023492     | 0.009873     | 0.006152     |
| cls_acc    | 95.00%       | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 0.954545     |
| recall75   | 0.800000     | 0.818182     | 0.681818     |
| precision  | 0.612903     | 0.354839     | 0.138158     |
| conf_obj   | 0.954423     | 0.965243     | 0.982327     |
| conf_noobj | 0.000796     | 0.000558     | 0.000473     |
+------------+--------------+--------------+--------------+
2020-12-20 08:47:12.989 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.626503
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.228241     | 0.233922     | 0.164340     |
| x          | 0.001650     | 0.006921     | 0.021656     |
| y          | 0.004163     | 0.007321     | 0.025591     |
| w          | 0.008329     | 0.004220     | 0.009201     |
| h          | 0.010987     | 0.007182     | 0.003730     |
| conf       | 0.202897     | 0.207924     | 0.103863     |
| cls        | 0.000215     | 0.000354     | 0.000298     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 1.000000     | 0.944444     | 1.000000     |
| precision  | 0.666667     | 0.377778     | 0.181818     |
| conf_obj   | 0.938351     | 0.923706     | 0.976870     |
| conf_noobj | 0.000607     | 0.000459     | 0.000348     |
+------------+--------------+--------------+--------------+
2020-12-20 08:48:13.576 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.530786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.213376     | 0.175595     | 0.141815     |
| x          | 0.006476     | 0.009160     | 0.022587     |
| y          | 0.004913     | 0.008760     | 0.018731     |
| w          | 0.013593     | 0.008524     | 0.006242     |
| h          | 0.010141     | 0.012678     | 0.010783     |
| conf       | 0.169672     | 0.132526     | 0.081920     |
| cls        | 0.008580     | 0.003947     | 0.001553     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.937500     | 1.000000     |
| recall75   | 0.875000     | 0.937500     | 0.937500     |
| precision  | 0.714286     | 0.416667     | 0.225352     |
| conf_obj   | 0.947972     | 0.957471     | 0.978264     |
| conf_noobj | 0.000386     | 0.000303     | 0.000229     |
+------------+--------------+--------------+--------------+
2020-12-20 08:49:21.184 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.462223
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.119877     | 0.151829     | 0.190517     |
| x          | 0.002142     | 0.009099     | 0.015863     |
| y          | 0.002462     | 0.008925     | 0.028427     |
| w          | 0.018528     | 0.018132     | 0.009659     |
| h          | 0.016014     | 0.018685     | 0.014599     |
| conf       | 0.080490     | 0.096718     | 0.121521     |
| cls        | 0.000240     | 0.000270     | 0.000447     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.894737     | 0.894737     |
| precision  | 0.760000     | 0.452381     | 0.195876     |
| conf_obj   | 0.991423     | 0.989520     | 0.966397     |
| conf_noobj | 0.000486     | 0.000420     | 0.000384     |
+------------+--------------+--------------+--------------+
2020-12-20 08:50:27.578 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.809553
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.249348     | 0.229363     | 0.330842     |
| x          | 0.011629     | 0.015233     | 0.040452     |
| y          | 0.001381     | 0.005747     | 0.023794     |
| w          | 0.072406     | 0.055811     | 0.053371     |
| h          | 0.034817     | 0.016033     | 0.022507     |
| conf       | 0.121439     | 0.130053     | 0.187592     |
| cls        | 0.007676     | 0.006487     | 0.003127     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 0.909091     |
| recall75   | 0.900000     | 0.857143     | 0.636364     |
| precision  | 0.655172     | 0.403846     | 0.124224     |
| conf_obj   | 0.975571     | 0.970008     | 0.958159     |
| conf_noobj | 0.000676     | 0.000549     | 0.000559     |
+------------+--------------+--------------+--------------+
2020-12-20 08:51:31.927 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.812151
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.284372     | 0.253478     | 0.274301     |
| x          | 0.002670     | 0.007714     | 0.029965     |
| y          | 0.004778     | 0.011860     | 0.007773     |
| w          | 0.018880     | 0.005445     | 0.012443     |
| h          | 0.014085     | 0.021725     | 0.010917     |
| conf       | 0.178885     | 0.137039     | 0.152652     |
| cls        | 0.065073     | 0.069695     | 0.060549     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.954545     | 0.954545     | 0.954545     |
| precision  | 0.677419     | 0.411765     | 0.181034     |
| conf_obj   | 0.949242     | 0.973292     | 0.948315     |
| conf_noobj | 0.000785     | 0.000592     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 08:52:40.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.504847
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.181107     | 0.146292     | 0.177448     |
| x          | 0.004156     | 0.009438     | 0.021278     |
| y          | 0.002082     | 0.010638     | 0.025508     |
| w          | 0.014760     | 0.010173     | 0.007598     |
| h          | 0.016246     | 0.012824     | 0.014232     |
| conf       | 0.141572     | 0.102375     | 0.108261     |
| cls        | 0.002290     | 0.000844     | 0.000571     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.920000     |
| precision  | 0.714286     | 0.409836     | 0.154321     |
| conf_obj   | 0.971961     | 0.989382     | 0.989519     |
| conf_noobj | 0.000714     | 0.000512     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 08:52:53.945 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.830
2020-12-20 08:52:53.950 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 08:53:54.008 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12685   | 0.44776 | 0.19769 | 0.25709 |
| 1     | Wear_helmet | 0.51903   | 0.94360 | 0.66969 | 0.89598 |
| 2     | Total       | 0.32294   | 0.69568 | 0.43369 | 0.57653 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:53:54.010 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5765338219523672
2020-12-20 08:53:54.010 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 08:53:54.011 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:00.060519

2020-12-20 08:53:54.508 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 12/20, idx 1/2, epo 5/5
2020-12-20 08:53:54.508 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 12/20, idx 1/2, epo 5/5; time cost: 0:15:21.180094

2020-12-20 08:53:54.508 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.887
2020-12-20 08:53:54.757 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 08:57:49.298 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13950   | 0.55167 | 0.22269 | 0.40374 |
| 1     | Wear_helmet | 0.54227   | 0.92648 | 0.68412 | 0.88034 |
| 2     | Total       | 0.34088   | 0.73908 | 0.45341 | 0.64204 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 08:57:49.299 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6420408227116035
2020-12-20 08:57:49.299 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 08:57:49.299 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:54.542366

2020-12-20 08:57:55.246 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 13!
2020-12-20 08:57:55.374 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 1/2, epo 1/5
2020-12-20 08:57:58.084 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.931286
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.382439     | 0.285267     | 0.263580     |
| x          | 0.002782     | 0.006362     | 0.016042     |
| y          | 0.002539     | 0.006615     | 0.010937     |
| w          | 0.024809     | 0.023881     | 0.010186     |
| h          | 0.016830     | 0.011983     | 0.011019     |
| conf       | 0.270940     | 0.193984     | 0.143924     |
| cls        | 0.064539     | 0.042442     | 0.071471     |
| cls_acc    | 95.65%       | 95.65%       | 95.65%       |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.913043     | 0.782609     | 0.826087     |
| precision  | 0.564103     | 0.305556     | 0.140127     |
| conf_obj   | 0.963612     | 0.985064     | 0.987885     |
| conf_noobj | 0.001233     | 0.000858     | 0.000621     |
+------------+--------------+--------------+--------------+
2020-12-20 08:59:01.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.785922
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.336860     | 0.217604     | 0.231458     |
| x          | 0.003508     | 0.013142     | 0.020136     |
| y          | 0.006019     | 0.015794     | 0.028901     |
| w          | 0.028820     | 0.024705     | 0.014470     |
| h          | 0.020540     | 0.019091     | 0.005601     |
| conf       | 0.270745     | 0.138723     | 0.160075     |
| cls        | 0.007228     | 0.006149     | 0.002274     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.952381     | 0.857143     | 0.857143     |
| precision  | 0.617647     | 0.388889     | 0.200000     |
| conf_obj   | 0.912777     | 0.971421     | 0.935647     |
| conf_noobj | 0.000826     | 0.000521     | 0.000330     |
+------------+--------------+--------------+--------------+
2020-12-20 09:00:09.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.989985
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.440567     | 0.327390     | 0.222027     |
| x          | 0.004741     | 0.005798     | 0.015949     |
| y          | 0.003828     | 0.008170     | 0.020242     |
| w          | 0.015993     | 0.019383     | 0.010885     |
| h          | 0.014617     | 0.013382     | 0.008320     |
| conf       | 0.398963     | 0.279780     | 0.165537     |
| cls        | 0.002425     | 0.000877     | 0.001095     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.956522     | 0.869565     | 0.913043     |
| precision  | 0.733333     | 0.478261     | 0.198198     |
| conf_obj   | 0.908868     | 0.917730     | 0.945903     |
| conf_noobj | 0.000622     | 0.000508     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 09:01:13.203 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.648672
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.234551     | 0.177726     | 0.236395     |
| x          | 0.003333     | 0.007694     | 0.012583     |
| y          | 0.001131     | 0.007699     | 0.011143     |
| w          | 0.029243     | 0.014217     | 0.009483     |
| h          | 0.023174     | 0.014304     | 0.013749     |
| conf       | 0.170546     | 0.115757     | 0.179870     |
| cls        | 0.007124     | 0.018055     | 0.009567     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 0.952381     | 0.952381     | 0.857143     |
| precision  | 0.700000     | 0.396226     | 0.206186     |
| conf_obj   | 0.959341     | 0.978686     | 0.952392     |
| conf_noobj | 0.000664     | 0.000455     | 0.000380     |
+------------+--------------+--------------+--------------+
2020-12-20 09:02:22.918 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.820914
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.330507     | 0.266060     | 0.224348     |
| x          | 0.005149     | 0.011379     | 0.031283     |
| y          | 0.006300     | 0.007808     | 0.021080     |
| w          | 0.022292     | 0.008500     | 0.010671     |
| h          | 0.015167     | 0.008892     | 0.011651     |
| conf       | 0.270775     | 0.227448     | 0.147792     |
| cls        | 0.010824     | 0.002033     | 0.001872     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.954545     | 0.909091     | 0.909091     |
| precision  | 0.636364     | 0.308824     | 0.154412     |
| conf_obj   | 0.904517     | 0.937964     | 0.962359     |
| conf_noobj | 0.000757     | 0.000733     | 0.000483     |
+------------+--------------+--------------+--------------+
2020-12-20 09:03:31.648 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.208431
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.388352     | 0.389422     | 0.430657     |
| x          | 0.020560     | 0.010284     | 0.020937     |
| y          | 0.015748     | 0.019386     | 0.024769     |
| w          | 0.032281     | 0.017690     | 0.010942     |
| h          | 0.018311     | 0.010923     | 0.012655     |
| conf       | 0.285139     | 0.321375     | 0.346918     |
| cls        | 0.016313     | 0.009765     | 0.014435     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.906250     | 0.972222     | 0.921053     |
| recall75   | 0.750000     | 0.888889     | 0.842105     |
| precision  | 0.707317     | 0.443038     | 0.193370     |
| conf_obj   | 0.926252     | 0.941822     | 0.908605     |
| conf_noobj | 0.000801     | 0.000610     | 0.000551     |
+------------+--------------+--------------+--------------+
2020-12-20 09:04:41.397 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.515258
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.386996     | 0.645281     | 0.482981     |
| x          | 0.006851     | 0.014028     | 0.021796     |
| y          | 0.006382     | 0.008963     | 0.014421     |
| w          | 0.026143     | 0.025754     | 0.013481     |
| h          | 0.029027     | 0.023585     | 0.014888     |
| conf       | 0.290088     | 0.489337     | 0.321963     |
| cls        | 0.028505     | 0.083615     | 0.096432     |
| cls_acc    | 100.00%      | 96.30%       | 96.30%       |
| recall50   | 0.923077     | 0.925926     | 0.925926     |
| recall75   | 0.884615     | 0.851852     | 0.851852     |
| precision  | 0.827586     | 0.510204     | 0.187970     |
| conf_obj   | 0.900343     | 0.896812     | 0.910172     |
| conf_noobj | 0.000531     | 0.000565     | 0.000607     |
+------------+--------------+--------------+--------------+
2020-12-20 09:05:38.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.757034
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.289128     | 0.268891     | 0.199015     |
| x          | 0.010060     | 0.027505     | 0.023563     |
| y          | 0.006206     | 0.015453     | 0.026800     |
| w          | 0.021205     | 0.020076     | 0.020405     |
| h          | 0.017679     | 0.012478     | 0.010970     |
| conf       | 0.232483     | 0.192446     | 0.115759     |
| cls        | 0.001495     | 0.000933     | 0.001517     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.866667     | 1.000000     |
| recall75   | 0.800000     | 0.733333     | 0.866667     |
| precision  | 0.700000     | 0.361111     | 0.170455     |
| conf_obj   | 0.913090     | 0.918474     | 0.964372     |
| conf_noobj | 0.000486     | 0.000371     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 09:06:43.594 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.022110
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.327514     | 0.339442     | 0.355154     |
| x          | 0.008928     | 0.011966     | 0.016343     |
| y          | 0.009765     | 0.009683     | 0.020021     |
| w          | 0.010559     | 0.014625     | 0.011969     |
| h          | 0.013728     | 0.017743     | 0.016100     |
| conf       | 0.261484     | 0.242308     | 0.229332     |
| cls        | 0.023050     | 0.043118     | 0.061388     |
| cls_acc    | 100.00%      | 97.56%       | 97.56%       |
| recall50   | 0.900000     | 0.926829     | 0.951219     |
| recall75   | 0.800000     | 0.829268     | 0.829268     |
| precision  | 0.800000     | 0.475000     | 0.192118     |
| conf_obj   | 0.896101     | 0.930669     | 0.938072     |
| conf_noobj | 0.000679     | 0.000765     | 0.000736     |
+------------+--------------+--------------+--------------+
2020-12-20 09:07:56.550 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.802360
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.217801     | 0.326613     | 0.257946     |
| x          | 0.002640     | 0.007120     | 0.016484     |
| y          | 0.007064     | 0.027627     | 0.043843     |
| w          | 0.006549     | 0.007952     | 0.010201     |
| h          | 0.014998     | 0.013271     | 0.012115     |
| conf       | 0.184342     | 0.268625     | 0.168136     |
| cls        | 0.002207     | 0.002018     | 0.007167     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.920000     | 1.000000     |
| recall75   | 1.000000     | 0.840000     | 0.960000     |
| precision  | 0.741935     | 0.442308     | 0.196850     |
| conf_obj   | 0.956386     | 0.902387     | 0.938058     |
| conf_noobj | 0.000589     | 0.000487     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 09:09:02.115 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.731201
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.190945     | 0.312647     | 0.227609     |
| x          | 0.008667     | 0.024982     | 0.016927     |
| y          | 0.009668     | 0.024793     | 0.025597     |
| w          | 0.020554     | 0.020222     | 0.008012     |
| h          | 0.013327     | 0.024418     | 0.006403     |
| conf       | 0.137641     | 0.217290     | 0.170178     |
| cls        | 0.001089     | 0.000941     | 0.000492     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.916667     | 0.958333     |
| recall75   | 0.909091     | 0.875000     | 0.916667     |
| precision  | 0.875000     | 0.500000     | 0.258427     |
| conf_obj   | 0.949382     | 0.900846     | 0.936477     |
| conf_noobj | 0.000368     | 0.000447     | 0.000352     |
+------------+--------------+--------------+--------------+
2020-12-20 09:10:07.421 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.137112
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.432897     | 0.336866     | 0.367350     |
| x          | 0.018913     | 0.005911     | 0.024153     |
| y          | 0.010333     | 0.013760     | 0.032224     |
| w          | 0.040785     | 0.039629     | 0.034218     |
| h          | 0.031604     | 0.044585     | 0.044975     |
| conf       | 0.315845     | 0.213549     | 0.217741     |
| cls        | 0.015417     | 0.019432     | 0.014038     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.870968     | 0.941176     | 0.911765     |
| recall75   | 0.806452     | 0.823529     | 0.764706     |
| precision  | 0.642857     | 0.463768     | 0.193750     |
| conf_obj   | 0.946739     | 0.941246     | 0.944466     |
| conf_noobj | 0.000842     | 0.000637     | 0.000549     |
+------------+--------------+--------------+--------------+
2020-12-20 09:11:13.797 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.098869
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.336344     | 0.351564     | 0.410961     |
| x          | 0.008759     | 0.011300     | 0.027834     |
| y          | 0.007284     | 0.007970     | 0.028037     |
| w          | 0.018310     | 0.023887     | 0.008822     |
| h          | 0.018697     | 0.015212     | 0.007308     |
| conf       | 0.164165     | 0.177385     | 0.245075     |
| cls        | 0.119127     | 0.115809     | 0.093886     |
| cls_acc    | 96.00%       | 96.30%       | 96.30%       |
| recall50   | 0.960000     | 0.962963     | 0.962963     |
| recall75   | 0.880000     | 0.888889     | 0.814815     |
| precision  | 0.685714     | 0.419355     | 0.151163     |
| conf_obj   | 0.986880     | 0.979212     | 0.949582     |
| conf_noobj | 0.000772     | 0.000705     | 0.000653     |
+------------+--------------+--------------+--------------+
2020-12-20 09:12:17.457 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.619433
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.186896     | 0.242210     | 0.190327     |
| x          | 0.007304     | 0.005170     | 0.019412     |
| y          | 0.002308     | 0.006169     | 0.029897     |
| w          | 0.023829     | 0.014846     | 0.017586     |
| h          | 0.024707     | 0.020406     | 0.024493     |
| conf       | 0.123895     | 0.194064     | 0.098023     |
| cls        | 0.004853     | 0.001556     | 0.000915     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.954545     | 1.000000     |
| recall75   | 0.900000     | 0.909091     | 0.818182     |
| precision  | 0.769231     | 0.437500     | 0.205607     |
| conf_obj   | 0.965790     | 0.939161     | 0.988742     |
| conf_noobj | 0.000546     | 0.000468     | 0.000446     |
+------------+--------------+--------------+--------------+
2020-12-20 09:12:28.633 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.879
2020-12-20 09:12:28.638 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 09:13:26.033 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.17257   | 0.38806 | 0.23890 | 0.23237 |
| 1     | Wear_helmet | 0.58268   | 0.94692 | 0.72143 | 0.91186 |
| 2     | Total       | 0.37762   | 0.66749 | 0.48016 | 0.57211 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:13:26.034 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5721147847530551
2020-12-20 09:13:26.035 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 09:13:26.035 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.396813

2020-12-20 09:13:26.644 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 1/2, epo 1/5
2020-12-20 09:13:26.644 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 1/2, epo 1/5; time cost: 0:15:31.270282

2020-12-20 09:13:26.644 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 1/2, epo 2/5
2020-12-20 09:13:28.069 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.590844
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.188152     | 0.186175     | 0.216516     |
| x          | 0.005813     | 0.007905     | 0.027168     |
| y          | 0.006287     | 0.009321     | 0.030956     |
| w          | 0.016610     | 0.010798     | 0.009925     |
| h          | 0.014122     | 0.010162     | 0.005789     |
| conf       | 0.138632     | 0.145361     | 0.139539     |
| cls        | 0.006689     | 0.002627     | 0.003139     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.884615     | 0.962963     | 0.892857     |
| precision  | 0.833333     | 0.380282     | 0.160920     |
| conf_obj   | 0.952431     | 0.960010     | 0.967697     |
| conf_noobj | 0.000453     | 0.000535     | 0.000511     |
+------------+--------------+--------------+--------------+
2020-12-20 09:14:35.641 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.604682
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.229759     | 0.196146     | 0.178777     |
| x          | 0.005696     | 0.008014     | 0.016126     |
| y          | 0.014825     | 0.016038     | 0.023305     |
| w          | 0.021787     | 0.013582     | 0.013909     |
| h          | 0.018828     | 0.009584     | 0.016235     |
| conf       | 0.163891     | 0.145682     | 0.106112     |
| cls        | 0.004733     | 0.003246     | 0.003091     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.920000     | 0.880000     |
| precision  | 0.774194     | 0.403226     | 0.231481     |
| conf_obj   | 0.939046     | 0.961622     | 0.969647     |
| conf_noobj | 0.000488     | 0.000503     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 09:15:40.071 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.912354
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.339460     | 0.308048     | 0.264846     |
| x          | 0.012202     | 0.018412     | 0.029612     |
| y          | 0.020567     | 0.010397     | 0.014719     |
| w          | 0.057240     | 0.030570     | 0.025398     |
| h          | 0.030485     | 0.013418     | 0.016454     |
| conf       | 0.214968     | 0.229015     | 0.174920     |
| cls        | 0.003998     | 0.006236     | 0.003743     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.965517     | 0.965517     |
| recall75   | 0.777778     | 0.827586     | 0.689655     |
| precision  | 0.648649     | 0.444444     | 0.185430     |
| conf_obj   | 0.954167     | 0.939239     | 0.960549     |
| conf_noobj | 0.000721     | 0.000641     | 0.000597     |
+------------+--------------+--------------+--------------+
2020-12-20 09:16:45.967 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.683100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.136699     | 0.315508     | 0.230893     |
| x          | 0.014991     | 0.016975     | 0.031548     |
| y          | 0.012048     | 0.008710     | 0.024634     |
| w          | 0.016386     | 0.006408     | 0.012880     |
| h          | 0.011926     | 0.011954     | 0.009867     |
| conf       | 0.078586     | 0.267840     | 0.150518     |
| cls        | 0.002762     | 0.003621     | 0.001447     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.888889     | 0.944444     |
| recall75   | 0.882353     | 0.722222     | 0.833333     |
| precision  | 0.640000     | 0.333333     | 0.197674     |
| conf_obj   | 0.992276     | 0.909884     | 0.946449     |
| conf_noobj | 0.000451     | 0.000481     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 09:17:49.482 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.490593
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.161781     | 0.163581     | 0.165230     |
| x          | 0.003903     | 0.005866     | 0.014704     |
| y          | 0.005858     | 0.005907     | 0.008226     |
| w          | 0.014775     | 0.017331     | 0.007398     |
| h          | 0.018837     | 0.028590     | 0.007554     |
| conf       | 0.116508     | 0.105241     | 0.126401     |
| cls        | 0.001900     | 0.000646     | 0.000947     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.958333     | 0.958333     |
| precision  | 0.709677     | 0.500000     | 0.172662     |
| conf_obj   | 0.990979     | 0.993915     | 0.985484     |
| conf_noobj | 0.000734     | 0.000531     | 0.000586     |
+------------+--------------+--------------+--------------+
2020-12-20 09:18:58.733 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.740403
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.280836     | 0.220444     | 0.239122     |
| x          | 0.005771     | 0.007200     | 0.026702     |
| y          | 0.007023     | 0.011736     | 0.028797     |
| w          | 0.011362     | 0.011817     | 0.011251     |
| h          | 0.004857     | 0.011693     | 0.008093     |
| conf       | 0.249679     | 0.175894     | 0.154318     |
| cls        | 0.002145     | 0.002104     | 0.009960     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.958333     | 1.000000     |
| precision  | 0.676471     | 0.347826     | 0.163399     |
| conf_obj   | 0.933539     | 0.972739     | 0.956488     |
| conf_noobj | 0.000765     | 0.000683     | 0.000501     |
+------------+--------------+--------------+--------------+
2020-12-20 09:20:03.699 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.983469
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.461107     | 0.333772     | 0.188590     |
| x          | 0.008830     | 0.007768     | 0.030818     |
| y          | 0.004002     | 0.008860     | 0.025057     |
| w          | 0.042832     | 0.017942     | 0.018821     |
| h          | 0.015316     | 0.012562     | 0.007369     |
| conf       | 0.386547     | 0.285555     | 0.105825     |
| cls        | 0.003579     | 0.001084     | 0.000701     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.866667     | 1.000000     |
| recall75   | 0.800000     | 0.800000     | 0.800000     |
| precision  | 0.583333     | 0.309524     | 0.178571     |
| conf_obj   | 0.882283     | 0.889217     | 0.974244     |
| conf_noobj | 0.000871     | 0.000530     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 09:21:10.745 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.329907
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.418886     | 0.544802     | 0.366219     |
| x          | 0.002458     | 0.010858     | 0.024448     |
| y          | 0.017242     | 0.019161     | 0.014312     |
| w          | 0.011915     | 0.011314     | 0.007250     |
| h          | 0.008429     | 0.003802     | 0.003196     |
| conf       | 0.377634     | 0.495742     | 0.289279     |
| cls        | 0.001208     | 0.003925     | 0.027734     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.900000     | 0.900000     |
| recall75   | 0.900000     | 0.900000     | 0.900000     |
| precision  | 0.600000     | 0.290323     | 0.095745     |
| conf_obj   | 0.900784     | 0.882634     | 0.898818     |
| conf_noobj | 0.000475     | 0.000351     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 09:22:10.758 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.286312
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.494568     | 0.418110     | 0.373635     |
| x          | 0.012032     | 0.005426     | 0.018886     |
| y          | 0.010225     | 0.014683     | 0.029068     |
| w          | 0.022449     | 0.017220     | 0.013382     |
| h          | 0.023036     | 0.018121     | 0.018137     |
| conf       | 0.284821     | 0.249991     | 0.194273     |
| cls        | 0.142004     | 0.112669     | 0.099888     |
| cls_acc    | 94.74%       | 97.50%       | 95.00%       |
| recall50   | 0.894737     | 0.875000     | 0.925000     |
| recall75   | 0.736842     | 0.850000     | 0.875000     |
| precision  | 0.708333     | 0.443038     | 0.185930     |
| conf_obj   | 0.906499     | 0.917046     | 0.949051     |
| conf_noobj | 0.000760     | 0.000643     | 0.000629     |
+------------+--------------+--------------+--------------+
2020-12-20 09:23:14.611 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.118275
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.246193     | 0.483720     | 0.388362     |
| x          | 0.010717     | 0.016937     | 0.026034     |
| y          | 0.016666     | 0.022719     | 0.048208     |
| w          | 0.023972     | 0.015614     | 0.019835     |
| h          | 0.034765     | 0.032336     | 0.032103     |
| conf       | 0.136718     | 0.378336     | 0.254684     |
| cls        | 0.023355     | 0.017778     | 0.007498     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.933333     | 0.937500     |
| recall75   | 0.866667     | 0.800000     | 0.750000     |
| precision  | 0.714286     | 0.304348     | 0.128205     |
| conf_obj   | 0.970426     | 0.904615     | 0.929726     |
| conf_noobj | 0.000586     | 0.000523     | 0.000451     |
+------------+--------------+--------------+--------------+
2020-12-20 09:24:23.433 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.901032
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.269410     | 0.266003     | 0.365619     |
| x          | 0.006240     | 0.010414     | 0.012705     |
| y          | 0.006437     | 0.016458     | 0.013357     |
| w          | 0.017292     | 0.014260     | 0.013233     |
| h          | 0.016883     | 0.011288     | 0.011293     |
| conf       | 0.214023     | 0.200740     | 0.313811     |
| cls        | 0.008534     | 0.012842     | 0.001221     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.933333     | 0.933333     |
| recall75   | 0.892857     | 0.866667     | 0.900000     |
| precision  | 0.870968     | 0.608696     | 0.250000     |
| conf_obj   | 0.912340     | 0.921183     | 0.900883     |
| conf_noobj | 0.000604     | 0.000412     | 0.000443     |
+------------+--------------+--------------+--------------+
2020-12-20 09:25:24.646 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.094057
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.473284     | 0.277580     | 0.343193     |
| x          | 0.006955     | 0.013134     | 0.027826     |
| y          | 0.007800     | 0.012823     | 0.053014     |
| w          | 0.028438     | 0.015064     | 0.012733     |
| h          | 0.026548     | 0.021421     | 0.012927     |
| conf       | 0.397063     | 0.214047     | 0.235199     |
| cls        | 0.006479     | 0.001092     | 0.001495     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.961538     | 0.961538     |
| recall75   | 0.840000     | 0.884615     | 0.807692     |
| precision  | 0.793103     | 0.396825     | 0.187970     |
| conf_obj   | 0.870214     | 0.925082     | 0.922285     |
| conf_noobj | 0.000517     | 0.000536     | 0.000421     |
+------------+--------------+--------------+--------------+
2020-12-20 09:26:28.985 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.817943
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.268730     | 0.278751     | 0.270462     |
| x          | 0.004460     | 0.010219     | 0.016885     |
| y          | 0.004137     | 0.008029     | 0.021927     |
| w          | 0.018643     | 0.012358     | 0.009156     |
| h          | 0.023594     | 0.014794     | 0.012143     |
| conf       | 0.108163     | 0.111162     | 0.136912     |
| cls        | 0.109733     | 0.122188     | 0.073439     |
| cls_acc    | 96.43%       | 92.86%       | 92.86%       |
| recall50   | 0.964286     | 0.928571     | 0.928571     |
| recall75   | 0.892857     | 0.857143     | 0.857143     |
| precision  | 0.771429     | 0.464286     | 0.172185     |
| conf_obj   | 0.984596     | 0.980911     | 0.973463     |
| conf_noobj | 0.000534     | 0.000504     | 0.000495     |
+------------+--------------+--------------+--------------+
2020-12-20 09:27:42.570 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.551749
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.192729     | 0.175559     | 0.183461     |
| x          | 0.004791     | 0.015933     | 0.021279     |
| y          | 0.005510     | 0.017287     | 0.025461     |
| w          | 0.014430     | 0.015863     | 0.013419     |
| h          | 0.023431     | 0.019686     | 0.012268     |
| conf       | 0.143763     | 0.106301     | 0.109924     |
| cls        | 0.000804     | 0.000488     | 0.001110     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.894737     | 0.900000     |
| precision  | 0.750000     | 0.463415     | 0.200000     |
| conf_obj   | 0.949070     | 0.963278     | 0.971878     |
| conf_noobj | 0.000409     | 0.000328     | 0.000330     |
+------------+--------------+--------------+--------------+
2020-12-20 09:27:55.027 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.870
2020-12-20 09:27:55.030 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 09:28:50.878 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11707   | 0.38557 | 0.17961 | 0.24367 |
| 1     | Wear_helmet | 0.37961   | 0.95640 | 0.54350 | 0.89411 |
| 2     | Total       | 0.24834   | 0.67099 | 0.36155 | 0.56889 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:28:50.878 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5688876707813157
2020-12-20 09:28:50.878 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 09:28:50.879 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.848632

2020-12-20 09:28:51.284 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 1/2, epo 2/5
2020-12-20 09:28:51.284 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 1/2, epo 2/5; time cost: 0:15:24.639520

2020-12-20 09:28:51.285 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 1/2, epo 3/5
2020-12-20 09:28:52.624 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.539226
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.135906     | 0.192960     | 0.210360     |
| x          | 0.008654     | 0.004987     | 0.014790     |
| y          | 0.003591     | 0.009861     | 0.027817     |
| w          | 0.009018     | 0.011030     | 0.010222     |
| h          | 0.011821     | 0.015664     | 0.015582     |
| conf       | 0.100378     | 0.150654     | 0.141008     |
| cls        | 0.002444     | 0.000764     | 0.000940     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 1.000000     | 1.000000     |
| recall75   | 0.968750     | 0.906250     | 0.882353     |
| precision  | 0.885714     | 0.551724     | 0.237762     |
| conf_obj   | 0.970394     | 0.965148     | 0.978314     |
| conf_noobj | 0.000453     | 0.000568     | 0.000536     |
+------------+--------------+--------------+--------------+
2020-12-20 09:29:55.904 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.728240
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.198715     | 0.246536     | 0.282989     |
| x          | 0.004511     | 0.009181     | 0.033107     |
| y          | 0.007732     | 0.022550     | 0.020194     |
| w          | 0.012444     | 0.007636     | 0.006120     |
| h          | 0.016308     | 0.011955     | 0.009561     |
| conf       | 0.154917     | 0.194173     | 0.212297     |
| cls        | 0.002803     | 0.001041     | 0.001710     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.941176     |
| recall75   | 0.968750     | 0.939394     | 0.941176     |
| precision  | 0.820513     | 0.458333     | 0.220690     |
| conf_obj   | 0.973223     | 0.965172     | 0.941307     |
| conf_noobj | 0.000805     | 0.000832     | 0.000656     |
+------------+--------------+--------------+--------------+
2020-12-20 09:30:59.503 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.810310
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.237014     | 0.279001     | 0.294294     |
| x          | 0.007387     | 0.012337     | 0.031581     |
| y          | 0.004421     | 0.014756     | 0.036543     |
| w          | 0.016085     | 0.008409     | 0.009140     |
| h          | 0.017058     | 0.014852     | 0.015120     |
| conf       | 0.183009     | 0.221860     | 0.195329     |
| cls        | 0.009055     | 0.006787     | 0.006581     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.931035     | 0.965517     |
| recall75   | 0.857143     | 0.862069     | 0.896552     |
| precision  | 0.870968     | 0.450000     | 0.280000     |
| conf_obj   | 0.935682     | 0.922790     | 0.945132     |
| conf_noobj | 0.000541     | 0.000545     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 09:32:05.306 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.725748
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.246639     | 0.247936     | 0.231173     |
| x          | 0.009232     | 0.014144     | 0.038322     |
| y          | 0.008701     | 0.008252     | 0.013893     |
| w          | 0.022104     | 0.020167     | 0.023872     |
| h          | 0.019938     | 0.028691     | 0.019097     |
| conf       | 0.185800     | 0.176238     | 0.135145     |
| cls        | 0.000864     | 0.000444     | 0.000844     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.812500     | 0.823529     | 0.771429     |
| precision  | 0.810811     | 0.507463     | 0.244755     |
| conf_obj   | 0.930500     | 0.943310     | 0.974086     |
| conf_noobj | 0.000496     | 0.000551     | 0.000484     |
+------------+--------------+--------------+--------------+
2020-12-20 09:33:14.008 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.896872
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.313746     | 0.275439     | 0.307687     |
| x          | 0.017559     | 0.019540     | 0.035048     |
| y          | 0.009514     | 0.013594     | 0.060732     |
| w          | 0.036640     | 0.022404     | 0.019557     |
| h          | 0.044822     | 0.017403     | 0.028235     |
| conf       | 0.200364     | 0.183444     | 0.147405     |
| cls        | 0.004847     | 0.019053     | 0.016710     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.942857     | 1.000000     | 0.972222     |
| recall75   | 0.742857     | 0.742857     | 0.694444     |
| precision  | 0.891892     | 0.555556     | 0.244755     |
| conf_obj   | 0.894816     | 0.942403     | 0.966875     |
| conf_noobj | 0.000406     | 0.000666     | 0.000583     |
+------------+--------------+--------------+--------------+
2020-12-20 09:34:18.962 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.041686
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.369249     | 0.366469     | 0.305968     |
| x          | 0.021229     | 0.017112     | 0.022919     |
| y          | 0.008360     | 0.013656     | 0.024082     |
| w          | 0.041034     | 0.017990     | 0.012067     |
| h          | 0.031564     | 0.021220     | 0.015481     |
| conf       | 0.263586     | 0.293200     | 0.229604     |
| cls        | 0.003476     | 0.003291     | 0.001816     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.916667     | 0.972973     |
| recall75   | 0.687500     | 0.833333     | 0.837838     |
| precision  | 0.833333     | 0.559322     | 0.240000     |
| conf_obj   | 0.936422     | 0.910278     | 0.946966     |
| conf_noobj | 0.000671     | 0.000595     | 0.000660     |
+------------+--------------+--------------+--------------+
2020-12-20 09:35:29.220 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.906532
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.312006     | 0.310462     | 0.284064     |
| x          | 0.014415     | 0.005259     | 0.026454     |
| y          | 0.005282     | 0.010742     | 0.022149     |
| w          | 0.028872     | 0.017156     | 0.007354     |
| h          | 0.026711     | 0.014395     | 0.006494     |
| conf       | 0.102419     | 0.122291     | 0.129252     |
| cls        | 0.134308     | 0.140618     | 0.092362     |
| cls_acc    | 96.88%       | 96.97%       | 96.97%       |
| recall50   | 0.968750     | 0.969697     | 0.969697     |
| recall75   | 0.875000     | 0.939394     | 0.909091     |
| precision  | 0.837838     | 0.477612     | 0.209150     |
| conf_obj   | 0.977027     | 0.972259     | 0.968103     |
| conf_noobj | 0.000323     | 0.000406     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 09:36:36.596 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.858388
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.384580     | 0.169572     | 0.304235     |
| x          | 0.002280     | 0.006118     | 0.017978     |
| y          | 0.002549     | 0.003899     | 0.009107     |
| w          | 0.022394     | 0.018829     | 0.021361     |
| h          | 0.014092     | 0.020121     | 0.017561     |
| conf       | 0.341496     | 0.119989     | 0.236754     |
| cls        | 0.001770     | 0.000616     | 0.001475     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 1.000000     | 0.937500     |
| recall75   | 0.812500     | 0.937500     | 0.812500     |
| precision  | 0.636364     | 0.516129     | 0.258621     |
| conf_obj   | 0.885121     | 0.959485     | 0.901740     |
| conf_noobj | 0.000697     | 0.000327     | 0.000255     |
+------------+--------------+--------------+--------------+
2020-12-20 09:37:38.986 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.857776
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.287902     | 0.271350     | 0.298524     |
| x          | 0.009219     | 0.007866     | 0.033534     |
| y          | 0.007425     | 0.012331     | 0.034732     |
| w          | 0.026488     | 0.016205     | 0.029254     |
| h          | 0.015887     | 0.011541     | 0.016898     |
| conf       | 0.172886     | 0.167494     | 0.153122     |
| cls        | 0.055997     | 0.055913     | 0.030984     |
| cls_acc    | 96.30%       | 96.30%       | 96.30%       |
| recall50   | 0.962963     | 0.962963     | 0.962963     |
| recall75   | 0.851852     | 0.888889     | 0.851852     |
| precision  | 0.866667     | 0.509804     | 0.216667     |
| conf_obj   | 0.920176     | 0.935560     | 0.950029     |
| conf_noobj | 0.000416     | 0.000391     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 09:38:46.098 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.602383
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.190334     | 0.202233     | 0.209816     |
| x          | 0.003212     | 0.009472     | 0.014138     |
| y          | 0.011324     | 0.009549     | 0.010457     |
| w          | 0.011683     | 0.010126     | 0.008548     |
| h          | 0.009139     | 0.012423     | 0.018428     |
| conf       | 0.154659     | 0.159971     | 0.157336     |
| cls        | 0.000316     | 0.000693     | 0.000910     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 0.956522     |
| recall75   | 0.913043     | 0.913043     | 0.913043     |
| precision  | 0.766667     | 0.407407     | 0.186441     |
| conf_obj   | 0.957062     | 0.954020     | 0.955857     |
| conf_noobj | 0.000676     | 0.000515     | 0.000464     |
+------------+--------------+--------------+--------------+
2020-12-20 09:39:49.353 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.549464
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.629372     | 0.496180     | 0.423912     |
| x          | 0.006479     | 0.022050     | 0.031056     |
| y          | 0.018563     | 0.008501     | 0.021048     |
| w          | 0.013640     | 0.011904     | 0.011087     |
| h          | 0.028844     | 0.031930     | 0.023585     |
| conf       | 0.536470     | 0.408899     | 0.329773     |
| cls        | 0.025375     | 0.012895     | 0.007364     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 0.954545     |
| recall75   | 0.772727     | 0.818182     | 0.818182     |
| precision  | 0.750000     | 0.368421     | 0.184211     |
| conf_obj   | 0.899700     | 0.906312     | 0.930920     |
| conf_noobj | 0.000634     | 0.000609     | 0.000447     |
+------------+--------------+--------------+--------------+
2020-12-20 09:40:55.006 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.845253
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.251618     | 0.268164     | 0.325471     |
| x          | 0.010460     | 0.011665     | 0.014178     |
| y          | 0.009522     | 0.011873     | 0.035297     |
| w          | 0.041198     | 0.032016     | 0.022716     |
| h          | 0.025217     | 0.018969     | 0.018204     |
| conf       | 0.155770     | 0.187696     | 0.233664     |
| cls        | 0.009452     | 0.005945     | 0.001413     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.972973     | 1.000000     | 0.950000     |
| recall75   | 0.864865     | 0.800000     | 0.825000     |
| precision  | 0.878049     | 0.487805     | 0.175115     |
| conf_obj   | 0.947797     | 0.956559     | 0.946121     |
| conf_noobj | 0.000563     | 0.000734     | 0.000726     |
+------------+--------------+--------------+--------------+
2020-12-20 09:42:00.606 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.578737
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.167219     | 0.191495     | 0.220023     |
| x          | 0.008888     | 0.012283     | 0.034043     |
| y          | 0.002325     | 0.009165     | 0.022537     |
| w          | 0.013916     | 0.022281     | 0.014514     |
| h          | 0.015916     | 0.019530     | 0.015438     |
| conf       | 0.102818     | 0.095390     | 0.119029     |
| cls        | 0.023355     | 0.032845     | 0.014463     |
| cls_acc    | 100.00%      | 97.06%       | 100.00%      |
| recall50   | 1.000000     | 0.970588     | 1.000000     |
| recall75   | 0.935484     | 0.823529     | 0.800000     |
| precision  | 0.861111     | 0.634615     | 0.227273     |
| conf_obj   | 0.959682     | 0.974893     | 0.964426     |
| conf_noobj | 0.000375     | 0.000345     | 0.000406     |
+------------+--------------+--------------+--------------+
2020-12-20 09:43:09.009 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.027301
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.458696     | 0.279152     | 0.289454     |
| x          | 0.011713     | 0.007838     | 0.019257     |
| y          | 0.006365     | 0.013761     | 0.021444     |
| w          | 0.043041     | 0.024271     | 0.014191     |
| h          | 0.047807     | 0.029625     | 0.021804     |
| conf       | 0.296061     | 0.170035     | 0.174795     |
| cls        | 0.053709     | 0.033621     | 0.037964     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 1.000000     | 0.944444     |
| recall75   | 0.941176     | 0.833333     | 0.833333     |
| precision  | 0.551724     | 0.391304     | 0.160377     |
| conf_obj   | 0.923402     | 0.959425     | 0.948290     |
| conf_noobj | 0.000924     | 0.000577     | 0.000460     |
+------------+--------------+--------------+--------------+
2020-12-20 09:43:20.109 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.844
2020-12-20 09:43:20.114 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 09:44:15.537 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09954   | 0.48010 | 0.16489 | 0.26340 |
| 1     | Wear_helmet | 0.46713   | 0.94645 | 0.62553 | 0.90074 |
| 2     | Total       | 0.28334   | 0.71327 | 0.39521 | 0.58207 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:44:15.537 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5820659353933505
2020-12-20 09:44:15.538 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 09:44:15.538 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.424176

2020-12-20 09:44:16.025 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 1/2, epo 3/5
2020-12-20 09:44:16.026 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 1/2, epo 3/5; time cost: 0:15:24.740954

2020-12-20 09:44:16.026 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 1/2, epo 4/5
2020-12-20 09:44:17.771 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.670615
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.228575     | 0.201278     | 0.240763     |
| x          | 0.013155     | 0.035371     | 0.029911     |
| y          | 0.008357     | 0.008215     | 0.024391     |
| w          | 0.034099     | 0.015787     | 0.022999     |
| h          | 0.028404     | 0.026285     | 0.037029     |
| conf       | 0.137989     | 0.107920     | 0.114138     |
| cls        | 0.006570     | 0.007699     | 0.012295     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.880000     | 0.931035     |
| recall75   | 0.739130     | 0.760000     | 0.620690     |
| precision  | 0.724138     | 0.366667     | 0.225000     |
| conf_obj   | 0.960993     | 0.981922     | 0.968776     |
| conf_noobj | 0.000544     | 0.000534     | 0.000365     |
+------------+--------------+--------------+--------------+
2020-12-20 09:45:26.297 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.644930
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.242191     | 0.218611     | 0.184127     |
| x          | 0.010301     | 0.006809     | 0.012870     |
| y          | 0.006732     | 0.007330     | 0.015876     |
| w          | 0.023572     | 0.009720     | 0.009187     |
| h          | 0.021674     | 0.014061     | 0.009528     |
| conf       | 0.169845     | 0.177886     | 0.135854     |
| cls        | 0.010067     | 0.002805     | 0.000812     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.961538     | 0.961538     |
| recall75   | 0.840000     | 0.961538     | 0.961538     |
| precision  | 0.750000     | 0.362319     | 0.196850     |
| conf_obj   | 0.960748     | 0.948854     | 0.957992     |
| conf_noobj | 0.000618     | 0.000506     | 0.000365     |
+------------+--------------+--------------+--------------+
2020-12-20 09:46:37.114 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.735599
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.185639     | 0.227581     | 0.322379     |
| x          | 0.008773     | 0.025207     | 0.026031     |
| y          | 0.004741     | 0.009266     | 0.027059     |
| w          | 0.009019     | 0.015419     | 0.016716     |
| h          | 0.011661     | 0.010526     | 0.019030     |
| conf       | 0.068997     | 0.095702     | 0.194551     |
| cls        | 0.082449     | 0.071461     | 0.038993     |
| cls_acc    | 100.00%      | 92.59%       | 100.00%      |
| recall50   | 1.000000     | 0.925926     | 0.892857     |
| recall75   | 0.958333     | 0.814815     | 0.857143     |
| precision  | 0.960000     | 0.500000     | 0.227273     |
| conf_obj   | 0.971496     | 0.969991     | 0.921721     |
| conf_noobj | 0.000273     | 0.000354     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 09:47:44.735 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.204724
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.505226     | 0.374229     | 0.325269     |
| x          | 0.012162     | 0.013845     | 0.026059     |
| y          | 0.014344     | 0.010811     | 0.022745     |
| w          | 0.040423     | 0.028569     | 0.020393     |
| h          | 0.042032     | 0.022474     | 0.023500     |
| conf       | 0.259892     | 0.127464     | 0.093468     |
| cls        | 0.136373     | 0.171067     | 0.139104     |
| cls_acc    | 95.45%       | 95.45%       | 95.45%       |
| recall50   | 0.909091     | 0.954545     | 0.954545     |
| recall75   | 0.636364     | 0.681818     | 0.590909     |
| precision  | 0.689655     | 0.488372     | 0.228261     |
| conf_obj   | 0.880382     | 0.953726     | 0.980931     |
| conf_noobj | 0.000596     | 0.000416     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 09:48:49.923 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.873682
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.373261     | 0.228013     | 0.272407     |
| x          | 0.002706     | 0.007340     | 0.012912     |
| y          | 0.004023     | 0.009784     | 0.025631     |
| w          | 0.021457     | 0.014606     | 0.008875     |
| h          | 0.033353     | 0.023134     | 0.023911     |
| conf       | 0.303271     | 0.168245     | 0.196153     |
| cls        | 0.008450     | 0.004905     | 0.004926     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.965517     | 0.965517     |
| recall75   | 0.862069     | 0.827586     | 0.793103     |
| precision  | 0.823529     | 0.518519     | 0.207407     |
| conf_obj   | 0.923942     | 0.948926     | 0.934695     |
| conf_noobj | 0.000531     | 0.000458     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 09:49:55.397 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.539453
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.211356     | 0.183582     | 0.144515     |
| x          | 0.002157     | 0.005473     | 0.021444     |
| y          | 0.004075     | 0.019926     | 0.021110     |
| w          | 0.014605     | 0.010203     | 0.007783     |
| h          | 0.018608     | 0.011256     | 0.007624     |
| conf       | 0.171645     | 0.136471     | 0.085658     |
| cls        | 0.000265     | 0.000253     | 0.000896     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.933333     | 1.000000     |
| precision  | 0.652174     | 0.283019     | 0.164835     |
| conf_obj   | 0.982961     | 0.983926     | 0.990815     |
| conf_noobj | 0.000708     | 0.000608     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 09:50:59.818 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.323426
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.486275     | 0.421908     | 0.415244     |
| x          | 0.012320     | 0.020400     | 0.021129     |
| y          | 0.009598     | 0.009895     | 0.019595     |
| w          | 0.024018     | 0.020017     | 0.016142     |
| h          | 0.033753     | 0.025275     | 0.019172     |
| conf       | 0.314401     | 0.255369     | 0.258437     |
| cls        | 0.092184     | 0.090952     | 0.080769     |
| cls_acc    | 95.83%       | 92.45%       | 98.15%       |
| recall50   | 0.895833     | 0.886792     | 0.925926     |
| recall75   | 0.750000     | 0.773585     | 0.851852     |
| precision  | 0.811321     | 0.528090     | 0.252525     |
| conf_obj   | 0.904931     | 0.932810     | 0.921771     |
| conf_noobj | 0.000575     | 0.000673     | 0.000567     |
+------------+--------------+--------------+--------------+
2020-12-20 09:51:59.721 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.517759
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.104266     | 0.215800     | 0.197694     |
| x          | 0.009213     | 0.005905     | 0.029196     |
| y          | 0.005288     | 0.009790     | 0.043977     |
| w          | 0.015670     | 0.008610     | 0.009003     |
| h          | 0.012741     | 0.007880     | 0.005533     |
| conf       | 0.061119     | 0.183232     | 0.109675     |
| cls        | 0.000234     | 0.000383     | 0.000309     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 0.941176     |
| precision  | 0.800000     | 0.380952     | 0.177083     |
| conf_obj   | 0.988279     | 0.937303     | 0.965702     |
| conf_noobj | 0.000347     | 0.000407     | 0.000323     |
+------------+--------------+--------------+--------------+
2020-12-20 09:53:02.106 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.820758
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.327996     | 0.267135     | 0.225627     |
| x          | 0.006930     | 0.017739     | 0.035770     |
| y          | 0.009119     | 0.008928     | 0.018827     |
| w          | 0.033193     | 0.032133     | 0.017469     |
| h          | 0.023408     | 0.023635     | 0.024387     |
| conf       | 0.241198     | 0.175994     | 0.125104     |
| cls        | 0.014148     | 0.008705     | 0.004070     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.941176     | 0.972973     |
| recall75   | 0.787879     | 0.823529     | 0.810811     |
| precision  | 0.837838     | 0.500000     | 0.285714     |
| conf_obj   | 0.913801     | 0.946795     | 0.971711     |
| conf_noobj | 0.000511     | 0.000500     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 09:54:11.100 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.942553
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.345227     | 0.264219     | 0.333107     |
| x          | 0.005506     | 0.008067     | 0.019173     |
| y          | 0.003696     | 0.008558     | 0.030557     |
| w          | 0.044251     | 0.024841     | 0.024873     |
| h          | 0.012245     | 0.012733     | 0.013555     |
| conf       | 0.164321     | 0.174342     | 0.178948     |
| cls        | 0.115208     | 0.035678     | 0.066001     |
| cls_acc    | 94.74%       | 100.00%      | 94.74%       |
| recall50   | 0.947368     | 1.000000     | 0.894737     |
| recall75   | 0.894737     | 0.947368     | 0.842105     |
| precision  | 0.642857     | 0.358491     | 0.166667     |
| conf_obj   | 0.972814     | 0.946306     | 0.943760     |
| conf_noobj | 0.000595     | 0.000497     | 0.000361     |
+------------+--------------+--------------+--------------+
2020-12-20 09:55:15.984 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.166549
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.443420     | 0.401278     | 0.321851     |
| x          | 0.008357     | 0.035671     | 0.040628     |
| y          | 0.009735     | 0.020157     | 0.031804     |
| w          | 0.025099     | 0.016526     | 0.008133     |
| h          | 0.049350     | 0.042949     | 0.023580     |
| conf       | 0.331289     | 0.221539     | 0.199923     |
| cls        | 0.019590     | 0.064436     | 0.017782     |
| cls_acc    | 100.00%      | 95.45%       | 100.00%      |
| recall50   | 1.000000     | 0.818182     | 0.956522     |
| recall75   | 0.818182     | 0.772727     | 0.826087     |
| precision  | 0.647059     | 0.276923     | 0.181818     |
| conf_obj   | 0.894311     | 0.921375     | 0.916097     |
| conf_noobj | 0.000857     | 0.000581     | 0.000370     |
+------------+--------------+--------------+--------------+
2020-12-20 09:56:23.146 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.978377
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.455855     | 0.311557     | 0.210965     |
| x          | 0.003414     | 0.013841     | 0.013753     |
| y          | 0.009882     | 0.009004     | 0.014811     |
| w          | 0.055303     | 0.061277     | 0.039864     |
| h          | 0.014187     | 0.013760     | 0.019350     |
| conf       | 0.354014     | 0.174544     | 0.096596     |
| cls        | 0.019056     | 0.039130     | 0.026592     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.944444     | 1.000000     |
| recall75   | 0.888889     | 0.888889     | 0.888889     |
| precision  | 0.727273     | 0.459459     | 0.195652     |
| conf_obj   | 0.892763     | 0.929375     | 0.969830     |
| conf_noobj | 0.000402     | 0.000296     | 0.000289     |
+------------+--------------+--------------+--------------+
2020-12-20 09:57:24.526 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.484239
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.638288     | 0.373904     | 0.472047     |
| x          | 0.002649     | 0.001672     | 0.005776     |
| y          | 0.002923     | 0.006702     | 0.018637     |
| w          | 0.010535     | 0.007441     | 0.005268     |
| h          | 0.013904     | 0.009019     | 0.010036     |
| conf       | 0.104372     | 0.058867     | 0.075629     |
| cls        | 0.503904     | 0.290202     | 0.356700     |
| cls_acc    | 92.86%       | 92.86%       | 92.86%       |
| recall50   | 0.928571     | 0.928571     | 0.928571     |
| recall75   | 0.928571     | 0.928571     | 0.928571     |
| precision  | 0.619048     | 0.500000     | 0.180556     |
| conf_obj   | 0.988559     | 0.991919     | 0.986983     |
| conf_noobj | 0.000609     | 0.000306     | 0.000312     |
+------------+--------------+--------------+--------------+
2020-12-20 09:58:34.626 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.908123
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.355043     | 0.245512     | 0.307567     |
| x          | 0.001971     | 0.009046     | 0.050832     |
| y          | 0.005704     | 0.012407     | 0.041924     |
| w          | 0.065393     | 0.055815     | 0.058786     |
| h          | 0.051815     | 0.042784     | 0.047521     |
| conf       | 0.176346     | 0.121870     | 0.093354     |
| cls        | 0.053814     | 0.003589     | 0.015151     |
| cls_acc    | 93.75%       | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 0.888889     |
| recall75   | 0.875000     | 0.812500     | 0.777778     |
| precision  | 0.625000     | 0.410256     | 0.177778     |
| conf_obj   | 0.969805     | 0.970669     | 0.987068     |
| conf_noobj | 0.000764     | 0.000504     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 09:58:43.621 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.800
2020-12-20 09:58:43.624 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 09:59:38.589 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11911   | 0.47761 | 0.19067 | 0.31850 |
| 1     | Wear_helmet | 0.53697   | 0.92938 | 0.68067 | 0.88759 |
| 2     | Total       | 0.32804   | 0.70350 | 0.43567 | 0.60304 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 09:59:38.590 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6030427031171228
2020-12-20 09:59:38.590 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 09:59:38.591 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.966354

2020-12-20 09:59:39.033 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 1/2, epo 4/5
2020-12-20 09:59:39.033 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 1/2, epo 4/5; time cost: 0:15:23.006836

2020-12-20 09:59:39.033 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 13/20, idx 1/2, epo 5/5
2020-12-20 09:59:40.128 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.698210
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.231254     | 0.218456     | 0.248499     |
| x          | 0.005954     | 0.009517     | 0.019270     |
| y          | 0.005405     | 0.008421     | 0.033122     |
| w          | 0.021496     | 0.011350     | 0.013995     |
| h          | 0.016865     | 0.011458     | 0.011172     |
| conf       | 0.179051     | 0.176016     | 0.167860     |
| cls        | 0.002483     | 0.001695     | 0.003080     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.862069     | 0.900000     | 0.933333     |
| precision  | 0.783784     | 0.447761     | 0.204082     |
| conf_obj   | 0.952081     | 0.977946     | 0.957245     |
| conf_noobj | 0.000794     | 0.000786     | 0.000588     |
+------------+--------------+--------------+--------------+
2020-12-20 10:00:43.993 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.982360
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.461182     | 0.287451     | 0.233727     |
| x          | 0.012453     | 0.010307     | 0.019896     |
| y          | 0.003533     | 0.011851     | 0.021889     |
| w          | 0.016336     | 0.010407     | 0.008483     |
| h          | 0.027716     | 0.010572     | 0.009523     |
| conf       | 0.361692     | 0.193206     | 0.125618     |
| cls        | 0.039452     | 0.051107     | 0.048318     |
| cls_acc    | 100.00%      | 96.77%       | 96.77%       |
| recall50   | 0.838710     | 0.967742     | 0.967742     |
| recall75   | 0.709677     | 0.806452     | 0.903226     |
| precision  | 0.722222     | 0.483871     | 0.215827     |
| conf_obj   | 0.852936     | 0.933365     | 0.975541     |
| conf_noobj | 0.000684     | 0.000555     | 0.000449     |
+------------+--------------+--------------+--------------+
2020-12-20 10:01:55.097 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.137263
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.453908     | 0.372030     | 0.311325     |
| x          | 0.008482     | 0.020113     | 0.014260     |
| y          | 0.007268     | 0.020566     | 0.043703     |
| w          | 0.026054     | 0.029146     | 0.023435     |
| h          | 0.030214     | 0.028483     | 0.020279     |
| conf       | 0.355373     | 0.249889     | 0.180436     |
| cls        | 0.026517     | 0.023832     | 0.029213     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.909091     | 0.863636     |
| recall75   | 0.761905     | 0.681818     | 0.818182     |
| precision  | 0.833333     | 0.512821     | 0.206522     |
| conf_obj   | 0.907764     | 0.911766     | 0.927872     |
| conf_noobj | 0.000531     | 0.000410     | 0.000373     |
+------------+--------------+--------------+--------------+
2020-12-20 10:03:00.775 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.733774
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.252901     | 0.245619     | 0.235255     |
| x          | 0.004032     | 0.014091     | 0.023246     |
| y          | 0.003591     | 0.007983     | 0.023585     |
| w          | 0.030260     | 0.019189     | 0.015223     |
| h          | 0.039720     | 0.033523     | 0.023428     |
| conf       | 0.172160     | 0.163915     | 0.136892     |
| cls        | 0.003138     | 0.006918     | 0.012882     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.965517     | 1.000000     |
| recall75   | 0.888889     | 0.862069     | 0.862069     |
| precision  | 0.794118     | 0.424242     | 0.187097     |
| conf_obj   | 0.967781     | 0.951140     | 0.968802     |
| conf_noobj | 0.000695     | 0.000589     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 10:04:14.103 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.764249
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.218970     | 0.237604     | 0.307675     |
| x          | 0.003314     | 0.014768     | 0.027419     |
| y          | 0.007992     | 0.012050     | 0.024529     |
| w          | 0.023567     | 0.018882     | 0.012297     |
| h          | 0.025032     | 0.024036     | 0.017824     |
| conf       | 0.143539     | 0.161055     | 0.217897     |
| cls        | 0.015526     | 0.006812     | 0.007709     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.944444     |
| recall75   | 0.916667     | 0.861111     | 0.861111     |
| precision  | 0.837209     | 0.404494     | 0.202381     |
| conf_obj   | 0.955169     | 0.972223     | 0.934558     |
| conf_noobj | 0.000565     | 0.000671     | 0.000520     |
+------------+--------------+--------------+--------------+
2020-12-20 10:05:24.263 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.920016
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.660392     | 0.666649     | 0.592974     |
| x          | 0.010146     | 0.031283     | 0.024743     |
| y          | 0.020583     | 0.023577     | 0.021860     |
| w          | 0.075589     | 0.051105     | 0.020897     |
| h          | 0.045629     | 0.035790     | 0.013040     |
| conf       | 0.456906     | 0.469076     | 0.486984     |
| cls        | 0.051540     | 0.055817     | 0.025450     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.903226     | 0.909091     |
| recall75   | 0.750000     | 0.677419     | 0.757576     |
| precision  | 0.806452     | 0.474576     | 0.196078     |
| conf_obj   | 0.930259     | 0.898932     | 0.866603     |
| conf_noobj | 0.000562     | 0.000667     | 0.000651     |
+------------+--------------+--------------+--------------+
2020-12-20 10:06:30.097 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.629696
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.181655     | 0.212259     | 0.235782     |
| x          | 0.004304     | 0.015321     | 0.029895     |
| y          | 0.007164     | 0.018271     | 0.027693     |
| w          | 0.021533     | 0.021132     | 0.012945     |
| h          | 0.017911     | 0.017648     | 0.011714     |
| conf       | 0.130231     | 0.139726     | 0.153405     |
| cls        | 0.000510     | 0.000161     | 0.000129     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.965517     | 0.896552     | 0.862069     |
| precision  | 0.783784     | 0.439394     | 0.185897     |
| conf_obj   | 0.952407     | 0.959759     | 0.951002     |
| conf_noobj | 0.000407     | 0.000417     | 0.000432     |
+------------+--------------+--------------+--------------+
2020-12-20 10:07:38.038 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.698545
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.273906     | 0.241360     | 0.183279     |
| x          | 0.028196     | 0.008541     | 0.016287     |
| y          | 0.008773     | 0.018123     | 0.016320     |
| w          | 0.033004     | 0.027729     | 0.008849     |
| h          | 0.026122     | 0.020224     | 0.007312     |
| conf       | 0.174646     | 0.165091     | 0.133093     |
| cls        | 0.003164     | 0.001654     | 0.001417     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.954545     | 1.000000     |
| recall75   | 0.800000     | 0.772727     | 0.954545     |
| precision  | 0.629630     | 0.477273     | 0.207547     |
| conf_obj   | 0.936218     | 0.938501     | 0.963113     |
| conf_noobj | 0.000619     | 0.000466     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 10:08:41.902 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.840661
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.281943     | 0.300770     | 0.257948     |
| x          | 0.005275     | 0.010708     | 0.014325     |
| y          | 0.002914     | 0.008523     | 0.032411     |
| w          | 0.034738     | 0.022162     | 0.021332     |
| h          | 0.013186     | 0.011650     | 0.013913     |
| conf       | 0.217823     | 0.240100     | 0.163301     |
| cls        | 0.008005     | 0.007628     | 0.012667     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.966667     | 1.000000     |
| recall75   | 0.896552     | 0.900000     | 0.933333     |
| precision  | 0.800000     | 0.453125     | 0.181818     |
| conf_obj   | 0.952615     | 0.940100     | 0.969330     |
| conf_noobj | 0.000664     | 0.000638     | 0.000589     |
+------------+--------------+--------------+--------------+
2020-12-20 10:09:48.479 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.832214
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.342879     | 0.250081     | 0.239254     |
| x          | 0.008493     | 0.019730     | 0.035755     |
| y          | 0.005622     | 0.012958     | 0.045748     |
| w          | 0.020519     | 0.012558     | 0.014035     |
| h          | 0.038315     | 0.028774     | 0.026194     |
| conf       | 0.267414     | 0.174628     | 0.115715     |
| cls        | 0.002517     | 0.001433     | 0.001807     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.933333     | 1.000000     |
| recall75   | 0.933333     | 0.800000     | 0.733333     |
| precision  | 0.468750     | 0.250000     | 0.127119     |
| conf_obj   | 0.913502     | 0.933202     | 0.970528     |
| conf_noobj | 0.000887     | 0.000478     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 10:10:57.070 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.775459
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.280010     | 0.221096     | 0.274352     |
| x          | 0.016187     | 0.013954     | 0.032323     |
| y          | 0.005300     | 0.013456     | 0.034344     |
| w          | 0.031530     | 0.022921     | 0.017330     |
| h          | 0.028484     | 0.018028     | 0.012331     |
| conf       | 0.192258     | 0.150461     | 0.177426     |
| cls        | 0.006251     | 0.002276     | 0.000598     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.972973     | 0.925000     |
| recall75   | 0.852941     | 0.810811     | 0.825000     |
| precision  | 0.789474     | 0.473684     | 0.194737     |
| conf_obj   | 0.920182     | 0.956096     | 0.947454     |
| conf_noobj | 0.000345     | 0.000484     | 0.000487     |
+------------+--------------+--------------+--------------+
2020-12-20 10:12:02.249 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.466437
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.151809     | 0.167760     | 0.146868     |
| x          | 0.003783     | 0.007742     | 0.031202     |
| y          | 0.001894     | 0.003912     | 0.020070     |
| w          | 0.009524     | 0.004937     | 0.004733     |
| h          | 0.006003     | 0.005907     | 0.004624     |
| conf       | 0.129001     | 0.144598     | 0.085563     |
| cls        | 0.001605     | 0.000664     | 0.000676     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.952381     |
| precision  | 0.700000     | 0.375000     | 0.221053     |
| conf_obj   | 0.964870     | 0.970294     | 0.984791     |
| conf_noobj | 0.000564     | 0.000575     | 0.000331     |
+------------+--------------+--------------+--------------+
2020-12-20 10:13:07.989 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.058481
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.364161     | 0.335424     | 0.358896     |
| x          | 0.027030     | 0.022095     | 0.019039     |
| y          | 0.011922     | 0.009622     | 0.015739     |
| w          | 0.049044     | 0.021386     | 0.013778     |
| h          | 0.030288     | 0.012479     | 0.014783     |
| conf       | 0.173717     | 0.173763     | 0.147333     |
| cls        | 0.072160     | 0.096079     | 0.148224     |
| cls_acc    | 96.97%       | 94.59%       | 94.87%       |
| recall50   | 0.878788     | 0.891892     | 0.948718     |
| recall75   | 0.787879     | 0.783784     | 0.794872     |
| precision  | 0.743590     | 0.500000     | 0.270073     |
| conf_obj   | 0.953503     | 0.959871     | 0.973252     |
| conf_noobj | 0.000549     | 0.000566     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-20 10:14:13.962 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.657723
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.224492     | 0.159543     | 0.273688     |
| x          | 0.004479     | 0.007378     | 0.028052     |
| y          | 0.007615     | 0.006759     | 0.019960     |
| w          | 0.010836     | 0.009764     | 0.008516     |
| h          | 0.024324     | 0.018711     | 0.018488     |
| conf       | 0.173217     | 0.113018     | 0.196886     |
| cls        | 0.004021     | 0.003913     | 0.001786     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.909091     |
| recall75   | 0.904762     | 0.954545     | 0.772727     |
| precision  | 0.807692     | 0.564103     | 0.196078     |
| conf_obj   | 0.959771     | 0.971259     | 0.924886     |
| conf_noobj | 0.000532     | 0.000360     | 0.000446     |
+------------+--------------+--------------+--------------+
2020-12-20 10:14:24.468 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.810
2020-12-20 10:14:24.473 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 10:15:25.122 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.35749   | 0.36816 | 0.36275 | 0.24102 |
| 1     | Wear_helmet | 0.71217   | 0.93460 | 0.80836 | 0.90572 |
| 2     | Total       | 0.53483   | 0.65138 | 0.58555 | 0.57337 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:15:25.123 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5733709539198031
2020-12-20 10:15:25.124 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 10:15:25.124 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:00.651103

2020-12-20 10:15:25.630 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 13/20, idx 1/2, epo 5/5
2020-12-20 10:15:25.630 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 13/20, idx 1/2, epo 5/5; time cost: 0:15:46.596539

2020-12-20 10:15:25.631 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.841
2020-12-20 10:15:25.864 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 10:19:05.752 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.43252   | 0.47658 | 0.45348 | 0.38914 |
| 1     | Wear_helmet | 0.74228   | 0.90342 | 0.81496 | 0.87381 |
| 2     | Total       | 0.58740   | 0.69000 | 0.63422 | 0.63148 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:19:05.753 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6314761329224634
2020-12-20 10:19:05.754 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 10:19:05.754 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:39.889090

2020-12-20 10:19:11.335 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 14!
2020-12-20 10:19:11.594 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 1/2, epo 1/5
2020-12-20 10:19:12.820 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.737422
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.286271     | 0.205353     | 0.245798     |
| x          | 0.002038     | 0.004191     | 0.018425     |
| y          | 0.007205     | 0.005205     | 0.019907     |
| w          | 0.024656     | 0.025116     | 0.011514     |
| h          | 0.021264     | 0.017300     | 0.013840     |
| conf       | 0.215234     | 0.133852     | 0.156051     |
| cls        | 0.015875     | 0.019688     | 0.026060     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 0.954545     |
| recall75   | 0.952381     | 0.909091     | 0.863636     |
| precision  | 0.800000     | 0.525000     | 0.233333     |
| conf_obj   | 0.935006     | 0.955667     | 0.944004     |
| conf_noobj | 0.000399     | 0.000292     | 0.000323     |
+------------+--------------+--------------+--------------+
2020-12-20 10:20:16.062 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.775568
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.432031     | 0.180309     | 0.163229     |
| x          | 0.002766     | 0.005792     | 0.013124     |
| y          | 0.001721     | 0.008343     | 0.019463     |
| w          | 0.020035     | 0.013598     | 0.012186     |
| h          | 0.029276     | 0.022430     | 0.019346     |
| conf       | 0.370702     | 0.109610     | 0.093444     |
| cls        | 0.007529     | 0.020536     | 0.005666     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.866667     | 0.866667     | 0.933333     |
| precision  | 0.777778     | 0.454545     | 0.220588     |
| conf_obj   | 0.925735     | 0.973846     | 0.973387     |
| conf_noobj | 0.000702     | 0.000467     | 0.000342     |
+------------+--------------+--------------+--------------+
2020-12-20 10:21:16.296 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.527242
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.184479     | 0.166872     | 0.175891     |
| x          | 0.020324     | 0.014107     | 0.015921     |
| y          | 0.009805     | 0.022633     | 0.021087     |
| w          | 0.012577     | 0.010267     | 0.006280     |
| h          | 0.015610     | 0.011543     | 0.007518     |
| conf       | 0.125054     | 0.107749     | 0.124106     |
| cls        | 0.001109     | 0.000575     | 0.000979     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.960000     | 1.000000     |
| recall75   | 0.818182     | 0.920000     | 1.000000     |
| precision  | 0.700000     | 0.444444     | 0.196970     |
| conf_obj   | 0.959957     | 0.975365     | 0.968748     |
| conf_noobj | 0.000494     | 0.000412     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 10:22:18.052 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.497888
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.154297     | 0.171172     | 0.172420     |
| x          | 0.003431     | 0.006413     | 0.011174     |
| y          | 0.002986     | 0.008587     | 0.014844     |
| w          | 0.035139     | 0.027571     | 0.014599     |
| h          | 0.025043     | 0.018952     | 0.006699     |
| conf       | 0.087515     | 0.109262     | 0.124604     |
| cls        | 0.000183     | 0.000387     | 0.000500     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.875000     | 0.941176     |
| precision  | 0.761905     | 0.390244     | 0.175258     |
| conf_obj   | 0.988315     | 0.971416     | 0.952744     |
| conf_noobj | 0.000420     | 0.000405     | 0.000329     |
+------------+--------------+--------------+--------------+
2020-12-20 10:23:25.080 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.165164
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.410495     | 0.408157     | 0.346511     |
| x          | 0.014581     | 0.009436     | 0.019829     |
| y          | 0.009711     | 0.013242     | 0.025611     |
| w          | 0.030585     | 0.031566     | 0.013690     |
| h          | 0.021281     | 0.029046     | 0.023130     |
| conf       | 0.255675     | 0.258928     | 0.233453     |
| cls        | 0.078661     | 0.065940     | 0.030799     |
| cls_acc    | 97.37%       | 97.56%       | 100.00%      |
| recall50   | 0.868421     | 0.951219     | 0.975610     |
| recall75   | 0.763158     | 0.731707     | 0.829268     |
| precision  | 0.687500     | 0.438202     | 0.202020     |
| conf_obj   | 0.940852     | 0.957266     | 0.946413     |
| conf_noobj | 0.000838     | 0.000930     | 0.000711     |
+------------+--------------+--------------+--------------+
2020-12-20 10:24:33.079 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.513256
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.155478     | 0.179967     | 0.177811     |
| x          | 0.006893     | 0.007614     | 0.012317     |
| y          | 0.004659     | 0.005582     | 0.018199     |
| w          | 0.011409     | 0.013868     | 0.004647     |
| h          | 0.013051     | 0.017601     | 0.010135     |
| conf       | 0.097362     | 0.119669     | 0.125873     |
| cls        | 0.022105     | 0.015633     | 0.006641     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.880000     | 0.962963     | 0.962963     |
| precision  | 0.833333     | 0.473684     | 0.195652     |
| conf_obj   | 0.981762     | 0.975687     | 0.986040     |
| conf_noobj | 0.000413     | 0.000480     | 0.000518     |
+------------+--------------+--------------+--------------+
2020-12-20 10:25:36.433 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.935756
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.373074     | 0.304801     | 0.257882     |
| x          | 0.012272     | 0.009332     | 0.027700     |
| y          | 0.006513     | 0.013149     | 0.032866     |
| w          | 0.028686     | 0.026200     | 0.012115     |
| h          | 0.034485     | 0.026807     | 0.011889     |
| conf       | 0.280058     | 0.215766     | 0.166023     |
| cls        | 0.011060     | 0.013547     | 0.007289     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.942857     | 1.000000     |
| recall75   | 0.757576     | 0.828571     | 0.857143     |
| precision  | 0.789474     | 0.507692     | 0.222930     |
| conf_obj   | 0.894411     | 0.932888     | 0.959022     |
| conf_noobj | 0.000656     | 0.000661     | 0.000581     |
+------------+--------------+--------------+--------------+
2020-12-20 10:26:43.117 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.696979
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.285612     | 0.169279     | 0.242088     |
| x          | 0.003169     | 0.007528     | 0.019728     |
| y          | 0.005134     | 0.008252     | 0.014985     |
| w          | 0.016297     | 0.015092     | 0.011214     |
| h          | 0.014398     | 0.013038     | 0.010572     |
| conf       | 0.242464     | 0.123732     | 0.183648     |
| cls        | 0.004150     | 0.001636     | 0.001940     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 1.000000     | 0.966667     |
| recall75   | 0.931035     | 0.931035     | 0.900000     |
| precision  | 0.818182     | 0.527273     | 0.245763     |
| conf_obj   | 0.923475     | 0.972999     | 0.952943     |
| conf_noobj | 0.000652     | 0.000496     | 0.000479     |
+------------+--------------+--------------+--------------+
2020-12-20 10:27:47.933 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.913175
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.339975     | 0.296892     | 0.276308     |
| x          | 0.004104     | 0.002920     | 0.014259     |
| y          | 0.006209     | 0.015017     | 0.029864     |
| w          | 0.041083     | 0.020419     | 0.019691     |
| h          | 0.035069     | 0.030661     | 0.024404     |
| conf       | 0.248451     | 0.213962     | 0.175549     |
| cls        | 0.005060     | 0.013912     | 0.012541     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.964286     | 0.966667     |
| recall75   | 0.821429     | 0.892857     | 0.800000     |
| precision  | 0.838710     | 0.465517     | 0.202797     |
| conf_obj   | 0.921121     | 0.939018     | 0.944259     |
| conf_noobj | 0.000588     | 0.000563     | 0.000507     |
+------------+--------------+--------------+--------------+
2020-12-20 10:28:54.341 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.930004
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.334915     | 0.319841     | 0.275249     |
| x          | 0.009912     | 0.020526     | 0.032012     |
| y          | 0.006274     | 0.010144     | 0.030996     |
| w          | 0.054196     | 0.055976     | 0.031851     |
| h          | 0.036413     | 0.025745     | 0.017374     |
| conf       | 0.226685     | 0.204463     | 0.161578     |
| cls        | 0.001434     | 0.002988     | 0.001437     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.939394     | 0.971429     |
| recall75   | 0.838710     | 0.757576     | 0.828571     |
| precision  | 0.714286     | 0.392405     | 0.204819     |
| conf_obj   | 0.927188     | 0.943088     | 0.961722     |
| conf_noobj | 0.000690     | 0.000639     | 0.000486     |
+------------+--------------+--------------+--------------+
2020-12-20 10:30:04.002 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.014286
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.367439     | 0.309579     | 0.337267     |
| x          | 0.014843     | 0.016649     | 0.033500     |
| y          | 0.004765     | 0.010080     | 0.028697     |
| w          | 0.024048     | 0.015244     | 0.011100     |
| h          | 0.037162     | 0.029077     | 0.016391     |
| conf       | 0.224998     | 0.169483     | 0.209394     |
| cls        | 0.061624     | 0.069045     | 0.038186     |
| cls_acc    | 97.50%       | 97.56%       | 97.67%       |
| recall50   | 0.925000     | 0.975610     | 0.953488     |
| recall75   | 0.750000     | 0.804878     | 0.813953     |
| precision  | 0.740000     | 0.439560     | 0.197115     |
| conf_obj   | 0.944914     | 0.974874     | 0.950666     |
| conf_noobj | 0.000660     | 0.000692     | 0.000550     |
+------------+--------------+--------------+--------------+
2020-12-20 10:31:07.904 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.160699
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.421366     | 0.392045     | 0.347288     |
| x          | 0.015225     | 0.017542     | 0.051362     |
| y          | 0.009020     | 0.009621     | 0.027482     |
| w          | 0.035911     | 0.026236     | 0.031304     |
| h          | 0.032462     | 0.037494     | 0.038510     |
| conf       | 0.249877     | 0.153545     | 0.164697     |
| cls        | 0.078871     | 0.147608     | 0.033934     |
| cls_acc    | 96.30%       | 93.33%       | 100.00%      |
| recall50   | 0.888889     | 0.900000     | 0.935484     |
| recall75   | 0.703704     | 0.700000     | 0.645161     |
| precision  | 0.615385     | 0.421875     | 0.219697     |
| conf_obj   | 0.927798     | 0.963642     | 0.959168     |
| conf_noobj | 0.000929     | 0.000638     | 0.000589     |
+------------+--------------+--------------+--------------+
2020-12-20 10:32:08.001 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.482818
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.098292     | 0.208294     | 0.176232     |
| x          | 0.002641     | 0.009503     | 0.013972     |
| y          | 0.002993     | 0.004020     | 0.014712     |
| w          | 0.013699     | 0.011593     | 0.010221     |
| h          | 0.007236     | 0.011024     | 0.005121     |
| conf       | 0.071243     | 0.171759     | 0.131637     |
| cls        | 0.000479     | 0.000394     | 0.000569     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.928571     | 1.000000     |
| recall75   | 1.000000     | 0.928571     | 1.000000     |
| precision  | 0.777778     | 0.500000     | 0.186667     |
| conf_obj   | 0.988456     | 0.936448     | 0.945374     |
| conf_noobj | 0.000379     | 0.000351     | 0.000294     |
+------------+--------------+--------------+--------------+
2020-12-20 10:33:15.630 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.767248
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.309229     | 0.230271     | 0.227749     |
| x          | 0.011932     | 0.015736     | 0.034598     |
| y          | 0.005103     | 0.019662     | 0.043228     |
| w          | 0.012846     | 0.014355     | 0.012071     |
| h          | 0.024895     | 0.025056     | 0.016696     |
| conf       | 0.251514     | 0.153088     | 0.117134     |
| cls        | 0.002940     | 0.002373     | 0.004023     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.954545     | 1.000000     |
| recall75   | 0.863636     | 0.863636     | 0.909091     |
| precision  | 0.750000     | 0.428571     | 0.186441     |
| conf_obj   | 0.913806     | 0.944235     | 0.965724     |
| conf_noobj | 0.000415     | 0.000389     | 0.000359     |
+------------+--------------+--------------+--------------+
2020-12-20 10:33:29.325 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.814
2020-12-20 10:33:29.329 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 10:34:30.605 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.06095   | 0.55721 | 0.10988 | 0.26811 |
| 1     | Wear_helmet | 0.41093   | 0.94787 | 0.57331 | 0.89372 |
| 2     | Total       | 0.23594   | 0.75254 | 0.34160 | 0.58091 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:34:30.605 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5809140146430796
2020-12-20 10:34:30.606 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 10:34:30.606 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.277190

2020-12-20 10:34:31.065 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 1/2, epo 1/5
2020-12-20 10:34:31.066 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 1/2, epo 1/5; time cost: 0:15:19.471042

2020-12-20 10:34:31.066 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 1/2, epo 2/5
2020-12-20 10:34:32.564 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.494744
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.182225     | 0.150755     | 0.161764     |
| x          | 0.007656     | 0.011390     | 0.034277     |
| y          | 0.003208     | 0.007367     | 0.020157     |
| w          | 0.009174     | 0.006498     | 0.004424     |
| h          | 0.013834     | 0.010980     | 0.008339     |
| conf       | 0.145717     | 0.113320     | 0.092990     |
| cls        | 0.002635     | 0.001201     | 0.001577     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 1.000000     | 1.000000     |
| precision  | 0.724138     | 0.355932     | 0.185841     |
| conf_obj   | 0.970336     | 0.983924     | 0.984493     |
| conf_noobj | 0.000546     | 0.000473     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 10:35:35.893 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.773088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.174348     | 0.261459     | 0.337282     |
| x          | 0.012368     | 0.017067     | 0.037465     |
| y          | 0.005091     | 0.013117     | 0.028974     |
| w          | 0.031093     | 0.037881     | 0.023350     |
| h          | 0.028149     | 0.040018     | 0.024519     |
| conf       | 0.088710     | 0.138594     | 0.207389     |
| cls        | 0.008936     | 0.014782     | 0.015584     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.948718     | 0.954545     | 0.955556     |
| recall75   | 0.871795     | 0.727273     | 0.755556     |
| precision  | 0.860465     | 0.617647     | 0.267081     |
| conf_obj   | 0.954700     | 0.942503     | 0.946675     |
| conf_noobj | 0.000266     | 0.000372     | 0.000405     |
+------------+--------------+--------------+--------------+
2020-12-20 10:36:37.425 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.496701
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.157557     | 0.194068     | 0.145076     |
| x          | 0.004986     | 0.005706     | 0.007904     |
| y          | 0.003135     | 0.006661     | 0.009882     |
| w          | 0.014691     | 0.009870     | 0.005866     |
| h          | 0.012140     | 0.007638     | 0.003750     |
| conf       | 0.119258     | 0.161077     | 0.114714     |
| cls        | 0.003347     | 0.003116     | 0.002960     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 1.000000     | 1.000000     |
| precision  | 0.750000     | 0.360000     | 0.162162     |
| conf_obj   | 0.989625     | 0.964056     | 0.979194     |
| conf_noobj | 0.000548     | 0.000524     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 10:37:42.340 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.921224
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.659380     | 0.661869     | 0.599975     |
| x          | 0.023220     | 0.034512     | 0.041136     |
| y          | 0.006118     | 0.007568     | 0.027223     |
| w          | 0.097860     | 0.059552     | 0.023347     |
| h          | 0.102827     | 0.066057     | 0.024718     |
| conf       | 0.192119     | 0.187273     | 0.228448     |
| cls        | 0.237237     | 0.306908     | 0.255103     |
| cls_acc    | 92.00%       | 89.29%       | 90.32%       |
| recall50   | 0.920000     | 0.857143     | 0.870968     |
| recall75   | 0.800000     | 0.750000     | 0.709677     |
| precision  | 0.638889     | 0.428571     | 0.187500     |
| conf_obj   | 0.960866     | 0.943651     | 0.917489     |
| conf_noobj | 0.000864     | 0.000550     | 0.000523     |
+------------+--------------+--------------+--------------+
2020-12-20 10:38:49.288 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.752172
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.274068     | 0.270715     | 0.207389     |
| x          | 0.003242     | 0.003216     | 0.012214     |
| y          | 0.003810     | 0.008278     | 0.022439     |
| w          | 0.024724     | 0.024698     | 0.008825     |
| h          | 0.017974     | 0.016499     | 0.005786     |
| conf       | 0.221671     | 0.217237     | 0.157390     |
| cls        | 0.002648     | 0.000787     | 0.000736     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.933333     | 1.000000     |
| precision  | 0.625000     | 0.312500     | 0.166667     |
| conf_obj   | 0.929027     | 0.915510     | 0.932343     |
| conf_noobj | 0.000691     | 0.000516     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 10:39:58.654 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.421499
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.087548     | 0.158507     | 0.175444     |
| x          | 0.003394     | 0.007153     | 0.016978     |
| y          | 0.003545     | 0.009037     | 0.022898     |
| w          | 0.010568     | 0.008579     | 0.004023     |
| h          | 0.009471     | 0.009401     | 0.007990     |
| conf       | 0.060100     | 0.124189     | 0.123044     |
| cls        | 0.000470     | 0.000147     | 0.000510     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.950000     | 1.000000     |
| precision  | 0.950000     | 0.465116     | 0.190476     |
| conf_obj   | 0.977419     | 0.967372     | 0.965822     |
| conf_noobj | 0.000215     | 0.000390     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 10:40:58.431 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.592522
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.186968     | 0.215540     | 0.190015     |
| x          | 0.009055     | 0.005178     | 0.010000     |
| y          | 0.004560     | 0.009431     | 0.017199     |
| w          | 0.019746     | 0.018374     | 0.010464     |
| h          | 0.019420     | 0.025025     | 0.011075     |
| conf       | 0.132060     | 0.155028     | 0.140179     |
| cls        | 0.002127     | 0.002503     | 0.001097     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.842105     | 0.894737     |
| precision  | 0.703704     | 0.404255     | 0.153226     |
| conf_obj   | 0.977128     | 0.967677     | 0.977237     |
| conf_noobj | 0.000626     | 0.000527     | 0.000528     |
+------------+--------------+--------------+--------------+
2020-12-20 10:42:01.852 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.608925
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.176434     | 0.235732     | 0.196758     |
| x          | 0.027941     | 0.032267     | 0.037716     |
| y          | 0.004630     | 0.009264     | 0.017439     |
| w          | 0.020866     | 0.026439     | 0.008682     |
| h          | 0.036790     | 0.015538     | 0.009084     |
| conf       | 0.082387     | 0.149920     | 0.121192     |
| cls        | 0.003821     | 0.002305     | 0.002645     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.920000     | 1.000000     |
| recall75   | 0.818182     | 0.800000     | 0.821429     |
| precision  | 0.740741     | 0.403509     | 0.195804     |
| conf_obj   | 0.993607     | 0.960079     | 0.967768     |
| conf_noobj | 0.000367     | 0.000458     | 0.000394     |
+------------+--------------+--------------+--------------+
2020-12-20 10:43:08.625 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.580486
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.156838     | 0.177226     | 0.246422     |
| x          | 0.006365     | 0.005782     | 0.030448     |
| y          | 0.003277     | 0.007616     | 0.014602     |
| w          | 0.038385     | 0.026044     | 0.030223     |
| h          | 0.015563     | 0.024641     | 0.017747     |
| conf       | 0.090697     | 0.111611     | 0.142782     |
| cls        | 0.002552     | 0.001531     | 0.010621     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.909091     |
| recall75   | 0.842105     | 0.857143     | 0.772727     |
| precision  | 0.950000     | 0.477273     | 0.240964     |
| conf_obj   | 0.946170     | 0.968623     | 0.950236     |
| conf_noobj | 0.000229     | 0.000390     | 0.000308     |
+------------+--------------+--------------+--------------+
2020-12-20 10:44:11.718 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.426303
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.126820     | 0.154861     | 0.144622     |
| x          | 0.002615     | 0.003740     | 0.016575     |
| y          | 0.003931     | 0.008025     | 0.011300     |
| w          | 0.012901     | 0.012805     | 0.011672     |
| h          | 0.021459     | 0.019820     | 0.009746     |
| conf       | 0.085537     | 0.110374     | 0.095164     |
| cls        | 0.000376     | 0.000096     | 0.000165     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.875000     | 0.518519     | 0.264151     |
| conf_obj   | 0.975856     | 0.957945     | 0.961249     |
| conf_noobj | 0.000317     | 0.000257     | 0.000227     |
+------------+--------------+--------------+--------------+
2020-12-20 10:45:08.582 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.604837
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.251398     | 0.166985     | 0.186455     |
| x          | 0.006202     | 0.005552     | 0.017896     |
| y          | 0.002758     | 0.012223     | 0.030191     |
| w          | 0.018356     | 0.011283     | 0.010123     |
| h          | 0.019806     | 0.009873     | 0.011117     |
| conf       | 0.203038     | 0.127586     | 0.116509     |
| cls        | 0.001237     | 0.000469     | 0.000618     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.606061     | 0.357143     | 0.150376     |
| conf_obj   | 0.985912     | 0.985496     | 0.976548     |
| conf_noobj | 0.000827     | 0.000542     | 0.000433     |
+------------+--------------+--------------+--------------+
2020-12-20 10:46:11.669 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.324104
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.650832     | 0.295394     | 0.377878     |
| x          | 0.030365     | 0.012997     | 0.022522     |
| y          | 0.015885     | 0.019488     | 0.032651     |
| w          | 0.104522     | 0.022970     | 0.028970     |
| h          | 0.100513     | 0.025737     | 0.032966     |
| conf       | 0.288868     | 0.179581     | 0.189832     |
| cls        | 0.110680     | 0.034621     | 0.070936     |
| cls_acc    | 96.15%       | 100.00%      | 96.43%       |
| recall50   | 0.807692     | 0.928571     | 0.892857     |
| recall75   | 0.692308     | 0.714286     | 0.750000     |
| precision  | 0.777778     | 0.553191     | 0.215517     |
| conf_obj   | 0.879017     | 0.922943     | 0.925290     |
| conf_noobj | 0.000417     | 0.000421     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 10:47:12.546 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.391778
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.084864     | 0.143691     | 0.163223     |
| x          | 0.008799     | 0.024965     | 0.056381     |
| y          | 0.004586     | 0.013190     | 0.026026     |
| w          | 0.011393     | 0.008865     | 0.015308     |
| h          | 0.004182     | 0.005397     | 0.006733     |
| conf       | 0.055682     | 0.090942     | 0.058558     |
| cls        | 0.000222     | 0.000332     | 0.000218     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.933333     |
| precision  | 0.789474     | 0.500000     | 0.230769     |
| conf_obj   | 0.989911     | 0.966638     | 0.986229     |
| conf_noobj | 0.000244     | 0.000211     | 0.000210     |
+------------+--------------+--------------+--------------+
2020-12-20 10:48:24.283 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.664241
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.288257     | 0.180682     | 0.195302     |
| x          | 0.002383     | 0.004744     | 0.015225     |
| y          | 0.003170     | 0.015312     | 0.026648     |
| w          | 0.012500     | 0.008985     | 0.008247     |
| h          | 0.010036     | 0.013038     | 0.012060     |
| conf       | 0.212577     | 0.131356     | 0.125029     |
| cls        | 0.047592     | 0.007247     | 0.008093     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 1.000000     |
| recall75   | 0.967742     | 0.937500     | 0.875000     |
| precision  | 0.833333     | 0.507937     | 0.217687     |
| conf_obj   | 0.915174     | 0.974015     | 0.980464     |
| conf_noobj | 0.000577     | 0.000496     | 0.000482     |
+------------+--------------+--------------+--------------+
2020-12-20 10:48:35.843 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.808
2020-12-20 10:48:35.847 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 10:49:35.338 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16437   | 0.47512 | 0.24425 | 0.33783 |
| 1     | Wear_helmet | 0.61804   | 0.93175 | 0.74315 | 0.89551 |
| 2     | Total       | 0.39121   | 0.70344 | 0.49370 | 0.61667 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 10:49:35.339 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6166688850363711
2020-12-20 10:49:35.339 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 10:49:35.339 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.492535

2020-12-20 10:49:35.798 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 1/2, epo 2/5
2020-12-20 10:49:35.799 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 1/2, epo 2/5; time cost: 0:15:04.732250

2020-12-20 10:49:35.799 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 1/2, epo 3/5
2020-12-20 10:49:36.923 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.718691
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.311134     | 0.173408     | 0.234149     |
| x          | 0.003915     | 0.003972     | 0.013886     |
| y          | 0.009446     | 0.018536     | 0.021098     |
| w          | 0.026898     | 0.012698     | 0.009581     |
| h          | 0.027296     | 0.018158     | 0.019088     |
| conf       | 0.225391     | 0.113429     | 0.152951     |
| cls        | 0.018187     | 0.006616     | 0.017546     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.961538     | 0.961538     |
| recall75   | 0.791667     | 0.846154     | 0.846154     |
| precision  | 0.958333     | 0.735294     | 0.284091     |
| conf_obj   | 0.917569     | 0.955577     | 0.944857     |
| conf_noobj | 0.000330     | 0.000306     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 10:50:35.634 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.527724
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.132861     | 0.229501     | 0.165363     |
| x          | 0.002986     | 0.013239     | 0.032749     |
| y          | 0.012285     | 0.022958     | 0.015201     |
| w          | 0.019754     | 0.012441     | 0.010041     |
| h          | 0.011968     | 0.009640     | 0.006258     |
| conf       | 0.085149     | 0.170593     | 0.099261     |
| cls        | 0.000718     | 0.000630     | 0.001852     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.916667     | 1.000000     |
| recall75   | 0.916667     | 0.791667     | 0.960000     |
| precision  | 0.766667     | 0.400000     | 0.203252     |
| conf_obj   | 0.968513     | 0.945427     | 0.981124     |
| conf_noobj | 0.000332     | 0.000382     | 0.000342     |
+------------+--------------+--------------+--------------+
2020-12-20 10:51:39.804 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.749232
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.211700     | 0.248048     | 0.289484     |
| x          | 0.020032     | 0.046783     | 0.057747     |
| y          | 0.002669     | 0.009756     | 0.034529     |
| w          | 0.034637     | 0.023629     | 0.023197     |
| h          | 0.050343     | 0.036632     | 0.024311     |
| conf       | 0.102119     | 0.130518     | 0.149046     |
| cls        | 0.001900     | 0.000730     | 0.000655     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.850000     | 0.875000     |
| recall75   | 0.833333     | 0.700000     | 0.750000     |
| precision  | 0.809524     | 0.386364     | 0.177966     |
| conf_obj   | 0.976596     | 0.948824     | 0.940172     |
| conf_noobj | 0.000438     | 0.000380     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 10:52:40.477 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.699094
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.255073     | 0.241498     | 0.202523     |
| x          | 0.005342     | 0.006843     | 0.025296     |
| y          | 0.011979     | 0.013041     | 0.030151     |
| w          | 0.013485     | 0.014553     | 0.014970     |
| h          | 0.017746     | 0.013613     | 0.010363     |
| conf       | 0.198909     | 0.189151     | 0.119590     |
| cls        | 0.007611     | 0.004297     | 0.002152     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.966667     | 1.000000     |
| recall75   | 0.896552     | 0.900000     | 0.870968     |
| precision  | 0.729730     | 0.432836     | 0.210884     |
| conf_obj   | 0.942171     | 0.942216     | 0.968422     |
| conf_noobj | 0.000626     | 0.000572     | 0.000381     |
+------------+--------------+--------------+--------------+
2020-12-20 10:53:48.623 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.921460
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.255220     | 0.313526     | 0.352713     |
| x          | 0.017052     | 0.023329     | 0.025586     |
| y          | 0.010581     | 0.013947     | 0.034683     |
| w          | 0.032388     | 0.021770     | 0.009368     |
| h          | 0.019822     | 0.014709     | 0.010054     |
| conf       | 0.172907     | 0.236449     | 0.267386     |
| cls        | 0.002471     | 0.003321     | 0.005636     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.976744     | 0.959184     | 0.940000     |
| recall75   | 0.837209     | 0.836735     | 0.780000     |
| precision  | 0.823529     | 0.470000     | 0.213636     |
| conf_obj   | 0.942617     | 0.926543     | 0.914130     |
| conf_noobj | 0.000532     | 0.000735     | 0.000609     |
+------------+--------------+--------------+--------------+
2020-12-20 10:54:52.873 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.013577
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.413308     | 0.302376     | 0.297893     |
| x          | 0.016183     | 0.021931     | 0.017526     |
| y          | 0.006290     | 0.015841     | 0.025483     |
| w          | 0.034833     | 0.025102     | 0.020979     |
| h          | 0.016104     | 0.018772     | 0.011822     |
| conf       | 0.325695     | 0.209077     | 0.216410     |
| cls        | 0.014204     | 0.011652     | 0.005672     |
| cls_acc    | 97.78%       | 100.00%      | 100.00%      |
| recall50   | 0.844444     | 0.960000     | 0.962264     |
| recall75   | 0.733333     | 0.800000     | 0.849057     |
| precision  | 0.703704     | 0.521739     | 0.230769     |
| conf_obj   | 0.892857     | 0.937978     | 0.935156     |
| conf_noobj | 0.000747     | 0.000674     | 0.000622     |
+------------+--------------+--------------+--------------+
2020-12-20 10:55:57.758 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.987659
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.422158     | 0.309559     | 0.255942     |
| x          | 0.025542     | 0.044319     | 0.039666     |
| y          | 0.005570     | 0.020647     | 0.035181     |
| w          | 0.051672     | 0.028398     | 0.011170     |
| h          | 0.043282     | 0.029134     | 0.013409     |
| conf       | 0.295643     | 0.186303     | 0.156095     |
| cls        | 0.000448     | 0.000759     | 0.000421     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.896552     | 0.935484     |
| recall75   | 0.846154     | 0.724138     | 0.774194     |
| precision  | 0.766667     | 0.382353     | 0.189542     |
| conf_obj   | 0.914753     | 0.942098     | 0.944291     |
| conf_noobj | 0.000379     | 0.000498     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 10:57:01.723 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.036978
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.502306     | 0.301838     | 0.232835     |
| x          | 0.012366     | 0.024658     | 0.044364     |
| y          | 0.006022     | 0.012308     | 0.032989     |
| w          | 0.019374     | 0.019813     | 0.020898     |
| h          | 0.031926     | 0.039200     | 0.029562     |
| conf       | 0.363716     | 0.192723     | 0.093796     |
| cls        | 0.068902     | 0.013136     | 0.011226     |
| cls_acc    | 95.65%       | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.956522     | 0.956522     |
| recall75   | 0.869565     | 0.913043     | 0.826087     |
| precision  | 0.750000     | 0.500000     | 0.258824     |
| conf_obj   | 0.864509     | 0.912931     | 0.983307     |
| conf_noobj | 0.000619     | 0.000494     | 0.000391     |
+------------+--------------+--------------+--------------+
2020-12-20 10:58:03.419 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.756547
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.238474     | 0.270283     | 0.247790     |
| x          | 0.010502     | 0.006113     | 0.021231     |
| y          | 0.006452     | 0.019959     | 0.025575     |
| w          | 0.026005     | 0.021856     | 0.012201     |
| h          | 0.020507     | 0.017392     | 0.012455     |
| conf       | 0.149262     | 0.167968     | 0.156475     |
| cls        | 0.025747     | 0.036994     | 0.019854     |
| cls_acc    | 100.00%      | 97.06%       | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 1.000000     |
| recall75   | 0.843750     | 0.823529     | 0.833333     |
| precision  | 0.820513     | 0.463768     | 0.193548     |
| conf_obj   | 0.962721     | 0.949877     | 0.967328     |
| conf_noobj | 0.000591     | 0.000518     | 0.000534     |
+------------+--------------+--------------+--------------+
2020-12-20 10:59:08.353 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.615934
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.234508     | 0.176850     | 0.204575     |
| x          | 0.036683     | 0.009952     | 0.024758     |
| y          | 0.004927     | 0.012295     | 0.020330     |
| w          | 0.018562     | 0.008146     | 0.008602     |
| h          | 0.014134     | 0.015396     | 0.011779     |
| conf       | 0.120389     | 0.128687     | 0.136905     |
| cls        | 0.039812     | 0.002375     | 0.002200     |
| cls_acc    | 95.65%       | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.920000     | 1.000000     |
| precision  | 0.700000     | 0.500000     | 0.213675     |
| conf_obj   | 0.984304     | 0.961442     | 0.968176     |
| conf_noobj | 0.000516     | 0.000397     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 11:00:09.724 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.653205
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.228100     | 0.223265     | 0.201840     |
| x          | 0.001839     | 0.016780     | 0.011855     |
| y          | 0.004269     | 0.010651     | 0.016243     |
| w          | 0.016798     | 0.031823     | 0.037622     |
| h          | 0.008459     | 0.013229     | 0.017447     |
| conf       | 0.176922     | 0.115867     | 0.081465     |
| cls        | 0.019814     | 0.034915     | 0.037207     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.941176     | 1.000000     |
| recall75   | 0.937500     | 0.882353     | 0.941176     |
| precision  | 0.714286     | 0.421053     | 0.207317     |
| conf_obj   | 0.949288     | 0.964353     | 0.984782     |
| conf_noobj | 0.000510     | 0.000350     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 11:01:17.060 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.652981
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.222085     | 0.206230     | 0.224666     |
| x          | 0.004516     | 0.011865     | 0.025628     |
| y          | 0.006748     | 0.010479     | 0.037254     |
| w          | 0.008541     | 0.005309     | 0.009704     |
| h          | 0.024881     | 0.015582     | 0.018161     |
| conf       | 0.172774     | 0.158105     | 0.126787     |
| cls        | 0.004625     | 0.004890     | 0.007132     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.900000     | 0.900000     |
| precision  | 0.714286     | 0.350877     | 0.163934     |
| conf_obj   | 0.946845     | 0.963791     | 0.976130     |
| conf_noobj | 0.000660     | 0.000591     | 0.000450     |
+------------+--------------+--------------+--------------+
2020-12-20 11:02:23.386 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.590801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.213362     | 0.173699     | 0.203739     |
| x          | 0.006941     | 0.015187     | 0.015327     |
| y          | 0.003334     | 0.009329     | 0.030470     |
| w          | 0.024541     | 0.011776     | 0.013569     |
| h          | 0.027639     | 0.009032     | 0.008015     |
| conf       | 0.150689     | 0.128171     | 0.136127     |
| cls        | 0.000219     | 0.000204     | 0.000231     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.894737     | 0.850000     |
| precision  | 0.760000     | 0.404255     | 0.212766     |
| conf_obj   | 0.969239     | 0.979344     | 0.954792     |
| conf_noobj | 0.000596     | 0.000498     | 0.000346     |
+------------+--------------+--------------+--------------+
2020-12-20 11:03:27.649 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.632929
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.246183     | 0.210820     | 0.175926     |
| x          | 0.003396     | 0.009894     | 0.030015     |
| y          | 0.003515     | 0.013302     | 0.028311     |
| w          | 0.016738     | 0.006249     | 0.007443     |
| h          | 0.005177     | 0.003473     | 0.005300     |
| conf       | 0.217113     | 0.177724     | 0.104682     |
| cls        | 0.000243     | 0.000177     | 0.000175     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 1.000000     | 0.947368     |
| precision  | 0.692308     | 0.306452     | 0.204301     |
| conf_obj   | 0.941542     | 0.958087     | 0.979514     |
| conf_noobj | 0.000554     | 0.000625     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 11:03:39.742 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.800
2020-12-20 11:03:39.746 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 11:04:37.492 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.13880   | 0.41294 | 0.20776 | 0.25849 |
| 1     | Wear_helmet | 0.49071   | 0.93886 | 0.64454 | 0.89183 |
| 2     | Total       | 0.31475   | 0.67590 | 0.42615 | 0.57516 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:04:37.493 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5751565994389232
2020-12-20 11:04:37.493 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 11:04:37.493 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.746538

2020-12-20 11:04:38.019 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 1/2, epo 3/5
2020-12-20 11:04:38.020 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 1/2, epo 3/5; time cost: 0:15:02.220254

2020-12-20 11:04:38.020 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 1/2, epo 4/5
2020-12-20 11:04:39.299 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.536562
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.225866     | 0.185817     | 0.124879     |
| x          | 0.006022     | 0.004974     | 0.012508     |
| y          | 0.001955     | 0.004413     | 0.022314     |
| w          | 0.008375     | 0.008520     | 0.009036     |
| h          | 0.011172     | 0.005086     | 0.013144     |
| conf       | 0.198036     | 0.162638     | 0.067699     |
| cls        | 0.000306     | 0.000184     | 0.000178     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.928571     | 1.000000     |
| recall75   | 1.000000     | 0.928571     | 0.928571     |
| precision  | 0.666667     | 0.361111     | 0.205882     |
| conf_obj   | 0.935421     | 0.943956     | 0.992975     |
| conf_noobj | 0.000464     | 0.000394     | 0.000246     |
+------------+--------------+--------------+--------------+
2020-12-20 11:05:43.726 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.774836
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.277317     | 0.220772     | 0.276747     |
| x          | 0.005189     | 0.005670     | 0.020583     |
| y          | 0.007176     | 0.008593     | 0.010002     |
| w          | 0.013636     | 0.009630     | 0.017295     |
| h          | 0.020380     | 0.009811     | 0.022336     |
| conf       | 0.180402     | 0.145654     | 0.143797     |
| cls        | 0.050533     | 0.041414     | 0.062732     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 0.952381     | 0.956522     | 0.956522     |
| recall75   | 0.952381     | 0.869565     | 0.826087     |
| precision  | 0.740741     | 0.550000     | 0.220000     |
| conf_obj   | 0.922935     | 0.942538     | 0.954360     |
| conf_noobj | 0.000662     | 0.000391     | 0.000442     |
+------------+--------------+--------------+--------------+
2020-12-20 11:06:47.962 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.590479
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.179524     | 0.189507     | 0.221447     |
| x          | 0.007470     | 0.008846     | 0.019460     |
| y          | 0.003917     | 0.010756     | 0.015731     |
| w          | 0.017588     | 0.010095     | 0.005444     |
| h          | 0.010467     | 0.008311     | 0.010440     |
| conf       | 0.138668     | 0.148460     | 0.166464     |
| cls        | 0.001414     | 0.003040     | 0.003908     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 0.958333     |
| recall75   | 0.916667     | 1.000000     | 0.916667     |
| precision  | 0.821429     | 0.436364     | 0.209091     |
| conf_obj   | 0.949122     | 0.965993     | 0.947142     |
| conf_noobj | 0.000511     | 0.000589     | 0.000438     |
+------------+--------------+--------------+--------------+
2020-12-20 11:07:48.100 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.323623
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.091615     | 0.101239     | 0.130769     |
| x          | 0.001571     | 0.004847     | 0.009330     |
| y          | 0.002349     | 0.007587     | 0.024117     |
| w          | 0.009053     | 0.007824     | 0.005358     |
| h          | 0.014194     | 0.019254     | 0.005712     |
| conf       | 0.060189     | 0.060986     | 0.084292     |
| cls        | 0.004259     | 0.000741     | 0.001959     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 0.941176     |
| precision  | 0.894737     | 0.566667     | 0.217949     |
| conf_obj   | 0.978094     | 0.983628     | 0.972968     |
| conf_noobj | 0.000234     | 0.000174     | 0.000270     |
+------------+--------------+--------------+--------------+
2020-12-20 11:08:57.641 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.458590
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.146318     | 0.151991     | 0.160282     |
| x          | 0.002766     | 0.008050     | 0.031109     |
| y          | 0.003141     | 0.010099     | 0.023155     |
| w          | 0.010310     | 0.007692     | 0.005480     |
| h          | 0.015301     | 0.016642     | 0.011182     |
| conf       | 0.114685     | 0.109358     | 0.089188     |
| cls        | 0.000114     | 0.000151     | 0.000168     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 0.952381     |
| precision  | 0.750000     | 0.428571     | 0.189189     |
| conf_obj   | 0.978435     | 0.986353     | 0.983303     |
| conf_noobj | 0.000404     | 0.000409     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 11:10:07.284 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.690171
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.220318     | 0.194345     | 0.275508     |
| x          | 0.009342     | 0.008844     | 0.016462     |
| y          | 0.004746     | 0.009407     | 0.035644     |
| w          | 0.034518     | 0.026142     | 0.022574     |
| h          | 0.016135     | 0.007386     | 0.024380     |
| conf       | 0.154466     | 0.141438     | 0.175770     |
| cls        | 0.001112     | 0.001127     | 0.000679     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 0.931035     | 0.793103     |
| precision  | 0.700000     | 0.432836     | 0.189542     |
| conf_obj   | 0.960566     | 0.972586     | 0.938546     |
| conf_noobj | 0.000623     | 0.000574     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 11:11:10.925 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.371031
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.073804     | 0.151973     | 0.145254     |
| x          | 0.010986     | 0.043080     | 0.060841     |
| y          | 0.005348     | 0.013637     | 0.016073     |
| w          | 0.010732     | 0.006104     | 0.006065     |
| h          | 0.003588     | 0.007046     | 0.004277     |
| conf       | 0.042615     | 0.081327     | 0.056751     |
| cls        | 0.000535     | 0.000779     | 0.001247     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.923077     |
| precision  | 0.812500     | 0.481481     | 0.250000     |
| conf_obj   | 0.992886     | 0.967262     | 0.982663     |
| conf_noobj | 0.000238     | 0.000230     | 0.000164     |
+------------+--------------+--------------+--------------+
2020-12-20 11:12:15.857 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.550124
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.583228     | 0.536919     | 0.429977     |
| x          | 0.009422     | 0.025690     | 0.036981     |
| y          | 0.008340     | 0.017544     | 0.023410     |
| w          | 0.043062     | 0.031398     | 0.011367     |
| h          | 0.033660     | 0.030218     | 0.017463     |
| conf       | 0.435552     | 0.384910     | 0.288457     |
| cls        | 0.053192     | 0.047160     | 0.052299     |
| cls_acc    | 100.00%      | 95.00%       | 95.24%       |
| recall50   | 0.894737     | 0.900000     | 0.952381     |
| recall75   | 0.736842     | 0.750000     | 0.809524     |
| precision  | 0.772727     | 0.391304     | 0.178571     |
| conf_obj   | 0.848452     | 0.850261     | 0.927283     |
| conf_noobj | 0.000643     | 0.000577     | 0.000503     |
+------------+--------------+--------------+--------------+
2020-12-20 11:13:17.620 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.567989
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.141197     | 0.201859     | 0.224932     |
| x          | 0.010237     | 0.023322     | 0.020285     |
| y          | 0.008076     | 0.022762     | 0.018979     |
| w          | 0.019141     | 0.010571     | 0.012054     |
| h          | 0.020676     | 0.026060     | 0.017215     |
| conf       | 0.082685     | 0.117884     | 0.155343     |
| cls        | 0.000382     | 0.001260     | 0.001056     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.968750     | 0.939394     |
| recall75   | 0.838710     | 0.843750     | 0.909091     |
| precision  | 0.857143     | 0.534483     | 0.256198     |
| conf_obj   | 0.964661     | 0.965228     | 0.941988     |
| conf_noobj | 0.000297     | 0.000360     | 0.000380     |
+------------+--------------+--------------+--------------+
2020-12-20 11:14:20.876 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.070158
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.455856     | 0.325794     | 0.288508     |
| x          | 0.010082     | 0.008405     | 0.037990     |
| y          | 0.007254     | 0.011662     | 0.035436     |
| w          | 0.047506     | 0.037442     | 0.023630     |
| h          | 0.031858     | 0.032793     | 0.024577     |
| conf       | 0.332498     | 0.198560     | 0.160242     |
| cls        | 0.026658     | 0.036933     | 0.006633     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.866667     | 1.000000     | 0.941176     |
| recall75   | 0.800000     | 0.843750     | 0.676471     |
| precision  | 0.722222     | 0.438356     | 0.213333     |
| conf_obj   | 0.891928     | 0.963323     | 0.960590     |
| conf_noobj | 0.000929     | 0.000754     | 0.000491     |
+------------+--------------+--------------+--------------+
2020-12-20 11:15:27.429 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.509953
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.157279     | 0.158454     | 0.194219     |
| x          | 0.026043     | 0.024691     | 0.031313     |
| y          | 0.005379     | 0.008113     | 0.014714     |
| w          | 0.037217     | 0.019647     | 0.015988     |
| h          | 0.019923     | 0.020696     | 0.011904     |
| conf       | 0.064056     | 0.083471     | 0.117903     |
| cls        | 0.004663     | 0.001837     | 0.002398     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.965517     | 1.000000     |
| recall75   | 0.833333     | 0.862069     | 0.838710     |
| precision  | 0.821429     | 0.491228     | 0.227941     |
| conf_obj   | 0.989428     | 0.985277     | 0.978729     |
| conf_noobj | 0.000348     | 0.000373     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 11:16:27.160 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.879307
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.385447     | 0.254793     | 0.239067     |
| x          | 0.018822     | 0.010231     | 0.018681     |
| y          | 0.008499     | 0.015439     | 0.033086     |
| w          | 0.019513     | 0.020111     | 0.016867     |
| h          | 0.034125     | 0.027178     | 0.014223     |
| conf       | 0.274992     | 0.159980     | 0.149752     |
| cls        | 0.029496     | 0.021853     | 0.006459     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 1.000000     | 0.967742     |
| recall75   | 0.750000     | 0.838710     | 0.838710     |
| precision  | 0.619048     | 0.424658     | 0.198675     |
| conf_obj   | 0.936022     | 0.969665     | 0.968659     |
| conf_noobj | 0.001063     | 0.000690     | 0.000540     |
+------------+--------------+--------------+--------------+
2020-12-20 11:17:31.727 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.585988
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.212803     | 0.185543     | 0.187642     |
| x          | 0.010362     | 0.013634     | 0.020466     |
| y          | 0.003520     | 0.009032     | 0.027399     |
| w          | 0.015656     | 0.009632     | 0.008859     |
| h          | 0.006851     | 0.009385     | 0.005193     |
| conf       | 0.175612     | 0.142883     | 0.125157     |
| cls        | 0.000801     | 0.000977     | 0.000569     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 1.000000     |
| recall75   | 0.894737     | 0.894737     | 0.947368     |
| precision  | 0.642857     | 0.333333     | 0.180952     |
| conf_obj   | 0.964185     | 0.960893     | 0.971395     |
| conf_noobj | 0.000728     | 0.000479     | 0.000379     |
+------------+--------------+--------------+--------------+
2020-12-20 11:18:38.050 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.539421
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.159986     | 0.195309     | 0.184126     |
| x          | 0.008166     | 0.018790     | 0.013286     |
| y          | 0.001841     | 0.005457     | 0.017677     |
| w          | 0.018443     | 0.013239     | 0.011961     |
| h          | 0.016171     | 0.006604     | 0.008498     |
| conf       | 0.099296     | 0.128795     | 0.128477     |
| cls        | 0.016068     | 0.022424     | 0.004227     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 1.000000     |
| recall75   | 0.960000     | 0.857143     | 0.931035     |
| precision  | 0.833333     | 0.500000     | 0.254386     |
| conf_obj   | 0.979006     | 0.969737     | 0.977632     |
| conf_noobj | 0.000419     | 0.000454     | 0.000421     |
+------------+--------------+--------------+--------------+
2020-12-20 11:18:47.775 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.785
2020-12-20 11:18:47.779 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 11:19:44.718 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.05582   | 0.47015 | 0.09979 | 0.21015 |
| 1     | Wear_helmet | 0.39620   | 0.95782 | 0.56053 | 0.89730 |
| 2     | Total       | 0.22601   | 0.71398 | 0.33016 | 0.55372 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:19:44.718 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5537211313960716
2020-12-20 11:19:44.719 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 11:19:44.719 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.940172

2020-12-20 11:19:45.172 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 1/2, epo 4/5
2020-12-20 11:19:45.172 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 1/2, epo 4/5; time cost: 0:15:07.151860

2020-12-20 11:19:45.172 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 14/20, idx 1/2, epo 5/5
2020-12-20 11:19:46.732 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.665236
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.240395     | 0.213015     | 0.211826     |
| x          | 0.003439     | 0.011713     | 0.031412     |
| y          | 0.011738     | 0.013063     | 0.032424     |
| w          | 0.027455     | 0.019161     | 0.012700     |
| h          | 0.016162     | 0.010249     | 0.005227     |
| conf       | 0.179376     | 0.155209     | 0.128193     |
| cls        | 0.002226     | 0.003620     | 0.001869     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.937500     | 0.937500     |
| precision  | 0.571429     | 0.266667     | 0.144144     |
| conf_obj   | 0.969258     | 0.968570     | 0.962141     |
| conf_noobj | 0.000665     | 0.000562     | 0.000354     |
+------------+--------------+--------------+--------------+
2020-12-20 11:20:53.615 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.547311
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.126616     | 0.236206     | 0.184489     |
| x          | 0.003894     | 0.010489     | 0.022408     |
| y          | 0.005332     | 0.011298     | 0.023814     |
| w          | 0.014509     | 0.030466     | 0.021663     |
| h          | 0.025071     | 0.038972     | 0.028802     |
| conf       | 0.071645     | 0.127363     | 0.086763     |
| cls        | 0.006166     | 0.017618     | 0.001040     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.900000     | 1.000000     |
| recall75   | 1.000000     | 0.850000     | 0.750000     |
| precision  | 0.826087     | 0.514286     | 0.192308     |
| conf_obj   | 0.990091     | 0.956853     | 0.991876     |
| conf_noobj | 0.000331     | 0.000355     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 11:21:59.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.433854
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.106195     | 0.147087     | 0.180572     |
| x          | 0.007036     | 0.005810     | 0.024841     |
| y          | 0.003085     | 0.011750     | 0.031234     |
| w          | 0.009140     | 0.003232     | 0.008226     |
| h          | 0.013801     | 0.008491     | 0.010185     |
| conf       | 0.072050     | 0.117430     | 0.105728     |
| cls        | 0.001083     | 0.000373     | 0.000358     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 1.000000     | 0.952381     |
| precision  | 0.840000     | 0.403846     | 0.216495     |
| conf_obj   | 0.989609     | 0.970472     | 0.971151     |
| conf_noobj | 0.000410     | 0.000410     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 11:23:09.015 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.937508
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.280793     | 0.329881     | 0.326833     |
| x          | 0.009688     | 0.019841     | 0.038719     |
| y          | 0.005522     | 0.007259     | 0.029523     |
| w          | 0.066349     | 0.071660     | 0.081590     |
| h          | 0.033388     | 0.031623     | 0.038678     |
| conf       | 0.165424     | 0.198920     | 0.137619     |
| cls        | 0.000422     | 0.000577     | 0.000704     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 0.956522     |
| recall75   | 0.809524     | 0.666667     | 0.695652     |
| precision  | 0.700000     | 0.322581     | 0.148649     |
| conf_obj   | 0.955547     | 0.945808     | 0.965432     |
| conf_noobj | 0.000564     | 0.000619     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 11:24:15.274 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.723677
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.215174     | 0.288895     | 0.219608     |
| x          | 0.009263     | 0.009238     | 0.018098     |
| y          | 0.008575     | 0.005559     | 0.013298     |
| w          | 0.011234     | 0.011382     | 0.014306     |
| h          | 0.021599     | 0.035583     | 0.011793     |
| conf       | 0.152483     | 0.161042     | 0.125421     |
| cls        | 0.012020     | 0.066091     | 0.036692     |
| cls_acc    | 100.00%      | 95.65%       | 95.65%       |
| recall50   | 1.000000     | 0.956522     | 0.956522     |
| recall75   | 0.857143     | 0.913043     | 0.956522     |
| precision  | 0.750000     | 0.523810     | 0.217822     |
| conf_obj   | 0.969274     | 0.950496     | 0.967855     |
| conf_noobj | 0.000640     | 0.000476     | 0.000420     |
+------------+--------------+--------------+--------------+
2020-12-20 11:25:19.487 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.278673
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.425839     | 0.466959     | 0.385875     |
| x          | 0.006295     | 0.012628     | 0.023128     |
| y          | 0.008524     | 0.022248     | 0.027176     |
| w          | 0.025315     | 0.024765     | 0.016818     |
| h          | 0.026322     | 0.039254     | 0.033490     |
| conf       | 0.347487     | 0.315077     | 0.278202     |
| cls        | 0.011897     | 0.052988     | 0.007061     |
| cls_acc    | 100.00%      | 96.55%       | 100.00%      |
| recall50   | 0.862069     | 0.931035     | 0.931035     |
| recall75   | 0.862069     | 0.862069     | 0.827586     |
| precision  | 0.757576     | 0.482143     | 0.247706     |
| conf_obj   | 0.884583     | 0.940793     | 0.948772     |
| conf_noobj | 0.000483     | 0.000443     | 0.000325     |
+------------+--------------+--------------+--------------+
2020-12-20 11:26:32.398 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.405000
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.116390     | 0.117825     | 0.170784     |
| x          | 0.003768     | 0.010089     | 0.019670     |
| y          | 0.003485     | 0.009515     | 0.020151     |
| w          | 0.016722     | 0.019719     | 0.013486     |
| h          | 0.014761     | 0.010334     | 0.011072     |
| conf       | 0.077438     | 0.067938     | 0.106042     |
| cls        | 0.000217     | 0.000231     | 0.000363     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 0.880000     | 0.920000     |
| precision  | 0.892857     | 0.500000     | 0.208333     |
| conf_obj   | 0.976287     | 0.991187     | 0.973090     |
| conf_noobj | 0.000307     | 0.000317     | 0.000312     |
+------------+--------------+--------------+--------------+
2020-12-20 11:27:40.636 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.569292
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.220040     | 0.166554     | 0.182698     |
| x          | 0.005966     | 0.016100     | 0.014479     |
| y          | 0.003911     | 0.005932     | 0.010058     |
| w          | 0.018176     | 0.012792     | 0.015912     |
| h          | 0.014366     | 0.008722     | 0.013147     |
| conf       | 0.161299     | 0.114626     | 0.109733     |
| cls        | 0.016322     | 0.008381     | 0.019369     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 1.000000     | 0.842105     |
| precision  | 0.720000     | 0.487179     | 0.223529     |
| conf_obj   | 0.953231     | 0.968864     | 0.965353     |
| conf_noobj | 0.000582     | 0.000415     | 0.000323     |
+------------+--------------+--------------+--------------+
2020-12-20 11:28:46.531 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.453401
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.140574     | 0.156815     | 0.156012     |
| x          | 0.008053     | 0.004124     | 0.008989     |
| y          | 0.004366     | 0.022431     | 0.024354     |
| w          | 0.020166     | 0.026275     | 0.005983     |
| h          | 0.018660     | 0.029144     | 0.008085     |
| conf       | 0.085442     | 0.072478     | 0.107170     |
| cls        | 0.003886     | 0.002362     | 0.001430     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 0.800000     | 0.952381     |
| precision  | 0.760000     | 0.465116     | 0.201923     |
| conf_obj   | 0.986444     | 0.983479     | 0.966830     |
| conf_noobj | 0.000361     | 0.000298     | 0.000304     |
+------------+--------------+--------------+--------------+
2020-12-20 11:29:52.419 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.916066
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.347464     | 0.309119     | 0.259483     |
| x          | 0.027950     | 0.007886     | 0.021099     |
| y          | 0.005071     | 0.008196     | 0.020314     |
| w          | 0.033047     | 0.028701     | 0.014619     |
| h          | 0.020308     | 0.018502     | 0.010445     |
| conf       | 0.220128     | 0.234614     | 0.185404     |
| cls        | 0.040961     | 0.011219     | 0.007601     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.892857     | 0.966667     | 0.966667     |
| recall75   | 0.821429     | 0.866667     | 0.933333     |
| precision  | 0.757576     | 0.547170     | 0.252174     |
| conf_obj   | 0.917491     | 0.925551     | 0.938338     |
| conf_noobj | 0.000519     | 0.000456     | 0.000452     |
+------------+--------------+--------------+--------------+
2020-12-20 11:30:58.619 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.615686
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.233271     | 0.184976     | 0.197440     |
| x          | 0.009744     | 0.009692     | 0.045606     |
| y          | 0.004394     | 0.012139     | 0.022087     |
| w          | 0.030358     | 0.008470     | 0.011097     |
| h          | 0.028313     | 0.010794     | 0.005305     |
| conf       | 0.159482     | 0.139787     | 0.112146     |
| cls        | 0.000981     | 0.004094     | 0.001198     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.913043     | 0.956522     | 1.000000     |
| precision  | 0.766667     | 0.379310     | 0.190083     |
| conf_obj   | 0.944975     | 0.955943     | 0.980929     |
| conf_noobj | 0.000534     | 0.000405     | 0.000377     |
+------------+--------------+--------------+--------------+
2020-12-20 11:32:02.372 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.872606
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.334789     | 0.270428     | 0.267389     |
| x          | 0.008216     | 0.009327     | 0.018108     |
| y          | 0.005989     | 0.008363     | 0.021232     |
| w          | 0.014225     | 0.024326     | 0.011725     |
| h          | 0.036242     | 0.046618     | 0.019342     |
| conf       | 0.264759     | 0.179068     | 0.192639     |
| cls        | 0.005359     | 0.002726     | 0.004343     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.970588     | 0.971429     |
| recall75   | 0.843750     | 0.764706     | 0.857143     |
| precision  | 0.731707     | 0.478261     | 0.215190     |
| conf_obj   | 0.919259     | 0.958049     | 0.939254     |
| conf_noobj | 0.000705     | 0.000569     | 0.000499     |
+------------+--------------+--------------+--------------+
2020-12-20 11:33:08.414 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.778569
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.305940     | 0.262232     | 0.210397     |
| x          | 0.004491     | 0.010363     | 0.018537     |
| y          | 0.007848     | 0.010935     | 0.038547     |
| w          | 0.033815     | 0.013327     | 0.012440     |
| h          | 0.051115     | 0.030063     | 0.026340     |
| conf       | 0.208157     | 0.196638     | 0.113806     |
| cls        | 0.000515     | 0.000906     | 0.000727     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 1.000000     |
| recall75   | 0.821429     | 0.785714     | 0.896552     |
| precision  | 0.750000     | 0.519231     | 0.223077     |
| conf_obj   | 0.959114     | 0.944540     | 0.985694     |
| conf_noobj | 0.000522     | 0.000422     | 0.000420     |
+------------+--------------+--------------+--------------+
2020-12-20 11:34:21.273 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.779054
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.270191     | 0.263930     | 0.244933     |
| x          | 0.014145     | 0.014757     | 0.012873     |
| y          | 0.005387     | 0.023019     | 0.028574     |
| w          | 0.026314     | 0.023797     | 0.013523     |
| h          | 0.033817     | 0.026140     | 0.009862     |
| conf       | 0.187725     | 0.175344     | 0.178528     |
| cls        | 0.002802     | 0.000873     | 0.001572     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.960000     | 0.961538     |
| recall75   | 0.800000     | 0.800000     | 0.884615     |
| precision  | 0.821429     | 0.452830     | 0.200000     |
| conf_obj   | 0.919687     | 0.953032     | 0.940666     |
| conf_noobj | 0.000436     | 0.000569     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 11:34:31.944 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.769
2020-12-20 11:34:31.949 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 11:35:32.256 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.23669   | 0.42040 | 0.30287 | 0.29326 |
| 1     | Wear_helmet | 0.55817   | 0.93460 | 0.69892 | 0.88888 |
| 2     | Total       | 0.39743   | 0.67750 | 0.50089 | 0.59107 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:35:32.257 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5910692235018487
2020-12-20 11:35:32.257 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 11:35:32.257 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:00.307699

2020-12-20 11:35:32.681 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 14/20, idx 1/2, epo 5/5
2020-12-20 11:35:32.681 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 14/20, idx 1/2, epo 5/5; time cost: 0:15:47.508729

2020-12-20 11:35:32.682 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.795
2020-12-20 11:35:32.923 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 11:39:13.662 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.26562   | 0.51524 | 0.35053 | 0.42747 |
| 1     | Wear_helmet | 0.57239   | 0.91359 | 0.70382 | 0.87116 |
| 2     | Total       | 0.41901   | 0.71441 | 0.52718 | 0.64931 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:39:13.663 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6493110979023604
2020-12-20 11:39:13.664 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 11:39:13.664 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:40.740644

2020-12-20 11:39:19.724 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 15!
2020-12-20 11:39:19.911 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 1/2, epo 1/5
2020-12-20 11:39:21.868 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.890967
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.227695     | 0.314060     | 0.349212     |
| x          | 0.002696     | 0.010211     | 0.019656     |
| y          | 0.005566     | 0.009126     | 0.016405     |
| w          | 0.020144     | 0.018822     | 0.012061     |
| h          | 0.012437     | 0.011574     | 0.016197     |
| conf       | 0.127551     | 0.144597     | 0.189130     |
| cls        | 0.059301     | 0.119728     | 0.095764     |
| cls_acc    | 100.00%      | 97.22%       | 97.37%       |
| recall50   | 1.000000     | 0.972222     | 0.947368     |
| recall75   | 0.911765     | 0.833333     | 0.868421     |
| precision  | 0.871795     | 0.500000     | 0.187500     |
| conf_obj   | 0.972151     | 0.981762     | 0.959970     |
| conf_noobj | 0.000505     | 0.000570     | 0.000613     |
+------------+--------------+--------------+--------------+
2020-12-20 11:40:25.486 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.638494
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.317850     | 0.158716     | 0.161928     |
| x          | 0.026166     | 0.006233     | 0.013747     |
| y          | 0.013776     | 0.021478     | 0.020952     |
| w          | 0.024010     | 0.014756     | 0.016976     |
| h          | 0.016535     | 0.010034     | 0.014699     |
| conf       | 0.236891     | 0.105376     | 0.094879     |
| cls        | 0.000472     | 0.000840     | 0.000675     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.958333     | 1.000000     |
| recall75   | 0.739130     | 0.875000     | 0.875000     |
| precision  | 0.791667     | 0.560976     | 0.250000     |
| conf_obj   | 0.904392     | 0.960324     | 0.972682     |
| conf_noobj | 0.000271     | 0.000259     | 0.000252     |
+------------+--------------+--------------+--------------+
2020-12-20 11:41:32.709 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.596975
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.258148     | 0.185933     | 0.152894     |
| x          | 0.001657     | 0.003327     | 0.014197     |
| y          | 0.004671     | 0.007522     | 0.024621     |
| w          | 0.029519     | 0.019960     | 0.013919     |
| h          | 0.018725     | 0.011133     | 0.010767     |
| conf       | 0.201705     | 0.142891     | 0.088982     |
| cls        | 0.001872     | 0.001099     | 0.000408     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 1.000000     | 1.000000     |
| precision  | 0.733333     | 0.461538     | 0.228571     |
| conf_obj   | 0.931000     | 0.953841     | 0.985141     |
| conf_noobj | 0.000481     | 0.000434     | 0.000315     |
+------------+--------------+--------------+--------------+
2020-12-20 11:42:44.768 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.519876
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.209523     | 0.167935     | 0.142418     |
| x          | 0.002443     | 0.005546     | 0.019445     |
| y          | 0.004299     | 0.005874     | 0.010945     |
| w          | 0.013175     | 0.007703     | 0.006256     |
| h          | 0.013847     | 0.009587     | 0.008793     |
| conf       | 0.161941     | 0.122486     | 0.073411     |
| cls        | 0.013819     | 0.016738     | 0.023569     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 1.000000     |
| recall75   | 0.892857     | 1.000000     | 0.928571     |
| precision  | 0.870968     | 0.549020     | 0.318182     |
| conf_obj   | 0.928480     | 0.965470     | 0.988256     |
| conf_noobj | 0.000345     | 0.000402     | 0.000273     |
+------------+--------------+--------------+--------------+
2020-12-20 11:43:48.553 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.630204
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.218185     | 0.237306     | 0.174713     |
| x          | 0.004468     | 0.009476     | 0.017309     |
| y          | 0.004873     | 0.018962     | 0.044898     |
| w          | 0.008626     | 0.003998     | 0.003516     |
| h          | 0.007228     | 0.009291     | 0.006772     |
| conf       | 0.192427     | 0.195336     | 0.101921     |
| cls        | 0.000563     | 0.000243     | 0.000297     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.941176     | 1.000000     |
| recall75   | 0.882353     | 0.941176     | 1.000000     |
| precision  | 0.695652     | 0.372093     | 0.207317     |
| conf_obj   | 0.936410     | 0.931062     | 0.970397     |
| conf_noobj | 0.000492     | 0.000493     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 11:44:57.199 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.773787
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.155746     | 0.225065     | 0.392976     |
| x          | 0.007802     | 0.011796     | 0.023645     |
| y          | 0.004694     | 0.014241     | 0.029674     |
| w          | 0.024893     | 0.046095     | 0.026676     |
| h          | 0.016680     | 0.025012     | 0.019144     |
| conf       | 0.100086     | 0.126655     | 0.292805     |
| cls        | 0.001591     | 0.001266     | 0.001032     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 0.925926     |
| recall75   | 0.920000     | 0.846154     | 0.740741     |
| precision  | 0.806452     | 0.520833     | 0.178571     |
| conf_obj   | 0.973947     | 0.964964     | 0.916476     |
| conf_noobj | 0.000460     | 0.000412     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 11:46:03.398 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.126022
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.440824     | 0.375999     | 0.309199     |
| x          | 0.005093     | 0.009065     | 0.021392     |
| y          | 0.003464     | 0.010710     | 0.018419     |
| w          | 0.016052     | 0.012914     | 0.009810     |
| h          | 0.019365     | 0.017760     | 0.008255     |
| conf       | 0.242889     | 0.218965     | 0.167768     |
| cls        | 0.153961     | 0.106586     | 0.083555     |
| cls_acc    | 94.12%       | 94.44%       | 94.59%       |
| recall50   | 0.941176     | 0.944444     | 0.945946     |
| recall75   | 0.911765     | 0.861111     | 0.891892     |
| precision  | 0.711111     | 0.441558     | 0.220126     |
| conf_obj   | 0.951249     | 0.949110     | 0.959026     |
| conf_noobj | 0.000861     | 0.000671     | 0.000565     |
+------------+--------------+--------------+--------------+
2020-12-20 11:47:06.641 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.547100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.187889     | 0.186195     | 0.173016     |
| x          | 0.003458     | 0.016668     | 0.018518     |
| y          | 0.009438     | 0.018618     | 0.019264     |
| w          | 0.014589     | 0.009132     | 0.007290     |
| h          | 0.011147     | 0.009923     | 0.011712     |
| conf       | 0.136385     | 0.118006     | 0.110185     |
| cls        | 0.012871     | 0.013849     | 0.006047     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 0.913043     | 0.913043     | 0.913043     |
| precision  | 0.741935     | 0.415094     | 0.207207     |
| conf_obj   | 0.966311     | 0.976912     | 0.972150     |
| conf_noobj | 0.000513     | 0.000467     | 0.000351     |
+------------+--------------+--------------+--------------+
2020-12-20 11:48:13.279 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.472888
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.149114     | 0.158626     | 0.165147     |
| x          | 0.002927     | 0.005793     | 0.025400     |
| y          | 0.002210     | 0.003675     | 0.025805     |
| w          | 0.021167     | 0.014458     | 0.007289     |
| h          | 0.026453     | 0.017704     | 0.013922     |
| conf       | 0.095412     | 0.114229     | 0.090635     |
| cls        | 0.000945     | 0.002766     | 0.002097     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 0.933333     | 0.866667     |
| precision  | 0.750000     | 0.428571     | 0.147059     |
| conf_obj   | 0.987584     | 0.960434     | 0.983427     |
| conf_noobj | 0.000427     | 0.000329     | 0.000331     |
+------------+--------------+--------------+--------------+
2020-12-20 11:49:15.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.527303
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.169692     | 0.183392     | 0.174219     |
| x          | 0.004748     | 0.012087     | 0.024781     |
| y          | 0.005384     | 0.021037     | 0.017231     |
| w          | 0.018738     | 0.013048     | 0.012482     |
| h          | 0.016642     | 0.020831     | 0.009775     |
| conf       | 0.113440     | 0.109869     | 0.102014     |
| cls        | 0.010741     | 0.006520     | 0.007936     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.826087     | 0.956522     |
| precision  | 0.840000     | 0.522727     | 0.227723     |
| conf_obj   | 0.949560     | 0.972850     | 0.981996     |
| conf_noobj | 0.000361     | 0.000446     | 0.000412     |
+------------+--------------+--------------+--------------+
2020-12-20 11:50:15.814 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.563917
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.195740     | 0.218813     | 0.149364     |
| x          | 0.004182     | 0.006979     | 0.019262     |
| y          | 0.005851     | 0.003765     | 0.014269     |
| w          | 0.013277     | 0.009037     | 0.012917     |
| h          | 0.009363     | 0.005842     | 0.005550     |
| conf       | 0.162584     | 0.191731     | 0.096123     |
| cls        | 0.000483     | 0.001459     | 0.001243     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 1.000000     |
| recall75   | 0.960000     | 0.923077     | 0.925926     |
| precision  | 0.694444     | 0.362319     | 0.234783     |
| conf_obj   | 0.948046     | 0.954039     | 0.980119     |
| conf_noobj | 0.000563     | 0.000604     | 0.000320     |
+------------+--------------+--------------+--------------+
2020-12-20 11:51:27.221 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.553169
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.170035     | 0.164357     | 0.218777     |
| x          | 0.006531     | 0.013213     | 0.025139     |
| y          | 0.003193     | 0.007873     | 0.026370     |
| w          | 0.031055     | 0.023833     | 0.021351     |
| h          | 0.011562     | 0.005836     | 0.008877     |
| conf       | 0.113267     | 0.109392     | 0.132513     |
| cls        | 0.004426     | 0.004209     | 0.004527     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.923077     | 0.964286     |
| precision  | 0.774194     | 0.448276     | 0.179487     |
| conf_obj   | 0.971025     | 0.968005     | 0.963688     |
| conf_noobj | 0.000415     | 0.000379     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 11:52:38.410 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.664892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.248329     | 0.169553     | 0.247010     |
| x          | 0.008035     | 0.007594     | 0.018131     |
| y          | 0.007326     | 0.005501     | 0.017529     |
| w          | 0.025055     | 0.015073     | 0.008449     |
| h          | 0.014621     | 0.008369     | 0.010808     |
| conf       | 0.192139     | 0.130571     | 0.191276     |
| cls        | 0.001152     | 0.002446     | 0.000817     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.968750     | 0.968750     |
| recall75   | 0.806452     | 0.968750     | 0.937500     |
| precision  | 0.857143     | 0.525424     | 0.198718     |
| conf_obj   | 0.948768     | 0.957244     | 0.942880     |
| conf_noobj | 0.000244     | 0.000336     | 0.000412     |
+------------+--------------+--------------+--------------+
2020-12-20 11:53:47.114 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.814249
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.311765     | 0.281934     | 0.220550     |
| x          | 0.009255     | 0.012539     | 0.018655     |
| y          | 0.005885     | 0.012309     | 0.014906     |
| w          | 0.023536     | 0.017229     | 0.015591     |
| h          | 0.017076     | 0.026139     | 0.019476     |
| conf       | 0.234458     | 0.207308     | 0.146708     |
| cls        | 0.021554     | 0.006410     | 0.005214     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.942857     | 0.945946     | 0.973684     |
| recall75   | 0.828571     | 0.837838     | 0.815789     |
| precision  | 0.717391     | 0.500000     | 0.229814     |
| conf_obj   | 0.938444     | 0.950594     | 0.961339     |
| conf_noobj | 0.000745     | 0.000491     | 0.000435     |
+------------+--------------+--------------+--------------+
2020-12-20 11:53:59.141 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.789
2020-12-20 11:53:59.144 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 11:54:58.719 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.09886   | 0.53731 | 0.16699 | 0.23510 |
| 1     | Wear_helmet | 0.52041   | 0.92464 | 0.66598 | 0.87409 |
| 2     | Total       | 0.30963   | 0.73098 | 0.41649 | 0.55460 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 11:54:58.720 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5545976398847968
2020-12-20 11:54:58.720 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 11:54:58.720 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.575591

2020-12-20 11:54:59.205 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 1/2, epo 1/5
2020-12-20 11:54:59.205 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 1/2, epo 1/5; time cost: 0:15:39.293765

2020-12-20 11:54:59.205 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 1/2, epo 2/5
2020-12-20 11:55:00.383 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.510178
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.138354     | 0.168459     | 0.203364     |
| x          | 0.008326     | 0.010095     | 0.024184     |
| y          | 0.003377     | 0.012825     | 0.020157     |
| w          | 0.012939     | 0.012128     | 0.011323     |
| h          | 0.021965     | 0.016888     | 0.021604     |
| conf       | 0.091121     | 0.115925     | 0.125584     |
| cls        | 0.000628     | 0.000598     | 0.000512     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.894737     |
| recall75   | 0.833333     | 0.789474     | 0.789474     |
| precision  | 0.857143     | 0.527778     | 0.215190     |
| conf_obj   | 0.980567     | 0.955226     | 0.956308     |
| conf_noobj | 0.000463     | 0.000334     | 0.000316     |
+------------+--------------+--------------+--------------+
2020-12-20 11:56:00.892 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.530609
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.200781     | 0.164362     | 0.165466     |
| x          | 0.003103     | 0.013983     | 0.029112     |
| y          | 0.003994     | 0.004809     | 0.013743     |
| w          | 0.019350     | 0.012358     | 0.008006     |
| h          | 0.008769     | 0.007842     | 0.010135     |
| conf       | 0.160917     | 0.109769     | 0.091985     |
| cls        | 0.004647     | 0.015599     | 0.012487     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.703704     | 0.466667     | 0.201923     |
| conf_obj   | 0.953555     | 0.983271     | 0.985816     |
| conf_noobj | 0.000608     | 0.000431     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 11:57:00.808 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.655714
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.201513     | 0.196752     | 0.257448     |
| x          | 0.005291     | 0.011608     | 0.030211     |
| y          | 0.005367     | 0.014895     | 0.037177     |
| w          | 0.037820     | 0.021065     | 0.016698     |
| h          | 0.034053     | 0.018487     | 0.015755     |
| conf       | 0.099338     | 0.118372     | 0.152850     |
| cls        | 0.019644     | 0.012326     | 0.004757     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.971429     |
| recall75   | 0.933333     | 0.848485     | 0.800000     |
| precision  | 0.769231     | 0.471429     | 0.203593     |
| conf_obj   | 0.990866     | 0.980887     | 0.963355     |
| conf_noobj | 0.000516     | 0.000483     | 0.000478     |
+------------+--------------+--------------+--------------+
2020-12-20 11:58:08.133 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.355830
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.446758     | 0.408187     | 0.500885     |
| x          | 0.002855     | 0.010248     | 0.018117     |
| y          | 0.006974     | 0.008157     | 0.020303     |
| w          | 0.028268     | 0.014928     | 0.011745     |
| h          | 0.028330     | 0.018729     | 0.015191     |
| conf       | 0.110542     | 0.154641     | 0.182764     |
| cls        | 0.269789     | 0.201484     | 0.252764     |
| cls_acc    | 92.31%       | 89.29%       | 92.86%       |
| recall50   | 0.923077     | 0.892857     | 0.928571     |
| recall75   | 0.846154     | 0.821429     | 0.892857     |
| precision  | 0.727273     | 0.423729     | 0.206349     |
| conf_obj   | 0.960195     | 0.956872     | 0.947310     |
| conf_noobj | 0.000417     | 0.000467     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 11:59:10.807 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.816203
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.307694     | 0.294011     | 0.214498     |
| x          | 0.005122     | 0.010423     | 0.017380     |
| y          | 0.004224     | 0.014482     | 0.016777     |
| w          | 0.013577     | 0.011749     | 0.022732     |
| h          | 0.033134     | 0.043979     | 0.016890     |
| conf       | 0.232449     | 0.206426     | 0.125748     |
| cls        | 0.019186     | 0.006953     | 0.014972     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 1.000000     |
| recall75   | 0.888889     | 0.888889     | 0.833333     |
| precision  | 0.809524     | 0.472222     | 0.227848     |
| conf_obj   | 0.924899     | 0.930850     | 0.957546     |
| conf_noobj | 0.000484     | 0.000361     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 12:00:16.684 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.302007
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.095344     | 0.113386     | 0.093276     |
| x          | 0.002361     | 0.002801     | 0.008689     |
| y          | 0.002295     | 0.009168     | 0.018379     |
| w          | 0.007781     | 0.007876     | 0.003719     |
| h          | 0.029619     | 0.019343     | 0.008555     |
| conf       | 0.053169     | 0.074058     | 0.053405     |
| cls        | 0.000120     | 0.000140     | 0.000529     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 1.000000     | 0.538462     | 0.280000     |
| conf_obj   | 0.959714     | 0.953622     | 0.979802     |
| conf_noobj | 0.000062     | 0.000119     | 0.000129     |
+------------+--------------+--------------+--------------+
2020-12-20 12:01:19.535 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.649574
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.253855     | 0.195099     | 0.200620     |
| x          | 0.002922     | 0.006667     | 0.012766     |
| y          | 0.002710     | 0.007387     | 0.019838     |
| w          | 0.014692     | 0.014480     | 0.011532     |
| h          | 0.024623     | 0.024375     | 0.018736     |
| conf       | 0.180082     | 0.123767     | 0.109959     |
| cls        | 0.028825     | 0.018424     | 0.027789     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.962963     | 0.928571     | 0.896552     |
| precision  | 0.764706     | 0.518519     | 0.223077     |
| conf_obj   | 0.942597     | 0.969376     | 0.977869     |
| conf_noobj | 0.000549     | 0.000406     | 0.000407     |
+------------+--------------+--------------+--------------+
2020-12-20 12:02:20.869 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.618154
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.208739     | 0.228080     | 0.181335     |
| x          | 0.002640     | 0.008988     | 0.023858     |
| y          | 0.004572     | 0.011154     | 0.027248     |
| w          | 0.018726     | 0.020911     | 0.020019     |
| h          | 0.018284     | 0.017806     | 0.016208     |
| conf       | 0.163437     | 0.167018     | 0.093155     |
| cls        | 0.001080     | 0.002203     | 0.000847     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.947368     | 1.000000     |
| recall75   | 0.842105     | 0.842105     | 0.842105     |
| precision  | 0.818182     | 0.461538     | 0.240506     |
| conf_obj   | 0.949814     | 0.943333     | 0.976086     |
| conf_noobj | 0.000406     | 0.000362     | 0.000298     |
+------------+--------------+--------------+--------------+
2020-12-20 12:03:18.859 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.389457
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.118277     | 0.131094     | 0.140085     |
| x          | 0.001849     | 0.005409     | 0.017895     |
| y          | 0.002668     | 0.010607     | 0.030071     |
| w          | 0.007958     | 0.003880     | 0.004641     |
| h          | 0.027473     | 0.025552     | 0.018377     |
| conf       | 0.074811     | 0.083008     | 0.067618     |
| cls        | 0.003518     | 0.002637     | 0.001483     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 0.941176     |
| precision  | 0.809524     | 0.472222     | 0.232877     |
| conf_obj   | 0.997863     | 0.993172     | 0.993415     |
| conf_noobj | 0.000304     | 0.000319     | 0.000250     |
+------------+--------------+--------------+--------------+
2020-12-20 12:04:24.049 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.601956
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.199306     | 0.176794     | 0.225856     |
| x          | 0.003223     | 0.009774     | 0.025504     |
| y          | 0.004447     | 0.011455     | 0.034540     |
| w          | 0.020358     | 0.016261     | 0.008794     |
| h          | 0.029183     | 0.023201     | 0.012468     |
| conf       | 0.138052     | 0.113990     | 0.143151     |
| cls        | 0.004042     | 0.002112     | 0.001399     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.875000     | 0.916667     |
| precision  | 0.750000     | 0.489796     | 0.180451     |
| conf_obj   | 0.985088     | 0.982784     | 0.956367     |
| conf_noobj | 0.000711     | 0.000471     | 0.000431     |
+------------+--------------+--------------+--------------+
2020-12-20 12:05:29.716 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.825317
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.285964     | 0.252648     | 0.286705     |
| x          | 0.007583     | 0.023605     | 0.023611     |
| y          | 0.004795     | 0.005604     | 0.015275     |
| w          | 0.026260     | 0.016679     | 0.024847     |
| h          | 0.015664     | 0.010256     | 0.007437     |
| conf       | 0.211548     | 0.169745     | 0.203859     |
| cls        | 0.020114     | 0.026759     | 0.011677     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.969697     | 0.970588     |
| recall75   | 0.866667     | 0.787879     | 0.882353     |
| precision  | 0.933333     | 0.603774     | 0.204969     |
| conf_obj   | 0.919946     | 0.927555     | 0.920188     |
| conf_noobj | 0.000237     | 0.000366     | 0.000505     |
+------------+--------------+--------------+--------------+
2020-12-20 12:06:35.467 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.979788
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.365310     | 0.362616     | 0.251862     |
| x          | 0.010861     | 0.016703     | 0.019642     |
| y          | 0.011082     | 0.005628     | 0.016004     |
| w          | 0.018426     | 0.015650     | 0.012561     |
| h          | 0.023451     | 0.019897     | 0.016579     |
| conf       | 0.294941     | 0.302832     | 0.185223     |
| cls        | 0.006549     | 0.001905     | 0.001852     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.888889     | 0.928571     |
| recall75   | 0.840000     | 0.851852     | 0.857143     |
| precision  | 0.741935     | 0.521739     | 0.234234     |
| conf_obj   | 0.904795     | 0.906207     | 0.924941     |
| conf_noobj | 0.000416     | 0.000384     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 12:07:42.438 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.742126
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.257182     | 0.248766     | 0.236179     |
| x          | 0.007969     | 0.017557     | 0.057357     |
| y          | 0.012922     | 0.012657     | 0.030152     |
| w          | 0.023946     | 0.039506     | 0.034181     |
| h          | 0.010203     | 0.008654     | 0.007638     |
| conf       | 0.154139     | 0.168289     | 0.104641     |
| cls        | 0.048003     | 0.002103     | 0.002210     |
| cls_acc    | 94.44%       | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.944444     | 1.000000     |
| recall75   | 0.888889     | 0.888889     | 0.888889     |
| precision  | 0.607143     | 0.293103     | 0.152542     |
| conf_obj   | 0.954278     | 0.960875     | 0.980630     |
| conf_noobj | 0.000576     | 0.000601     | 0.000420     |
+------------+--------------+--------------+--------------+
2020-12-20 12:08:54.608 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.658160
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.273599     | 0.182062     | 0.202499     |
| x          | 0.025271     | 0.009625     | 0.021204     |
| y          | 0.007282     | 0.021558     | 0.036455     |
| w          | 0.015030     | 0.009296     | 0.004772     |
| h          | 0.022065     | 0.017637     | 0.010417     |
| conf       | 0.202055     | 0.122638     | 0.127553     |
| cls        | 0.001896     | 0.001308     | 0.002098     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.764706     | 0.944444     |
| precision  | 0.600000     | 0.435897     | 0.171429     |
| conf_obj   | 0.942722     | 0.965176     | 0.961905     |
| conf_noobj | 0.000663     | 0.000397     | 0.000372     |
+------------+--------------+--------------+--------------+
2020-12-20 12:09:06.631 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.762
2020-12-20 12:09:06.634 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 12:10:05.348 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10060   | 0.45771 | 0.16495 | 0.28869 |
| 1     | Wear_helmet | 0.47507   | 0.94360 | 0.63196 | 0.89181 |
| 2     | Total       | 0.28783   | 0.70066 | 0.39846 | 0.59025 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:10:05.349 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.590250015724334
2020-12-20 12:10:05.350 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 12:10:05.350 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:58.715940

2020-12-20 12:10:05.767 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 1/2, epo 2/5
2020-12-20 12:10:05.768 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 1/2, epo 2/5; time cost: 0:15:06.562142

2020-12-20 12:10:05.768 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 1/2, epo 3/5
2020-12-20 12:10:07.159 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.317451
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.107919     | 0.101996     | 0.107536     |
| x          | 0.003221     | 0.005750     | 0.013407     |
| y          | 0.002130     | 0.005006     | 0.026515     |
| w          | 0.012969     | 0.013899     | 0.003292     |
| h          | 0.007285     | 0.005916     | 0.005568     |
| conf       | 0.078999     | 0.069612     | 0.057325     |
| cls        | 0.003316     | 0.001813     | 0.001429     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.857143     | 0.500000     | 0.233766     |
| conf_obj   | 0.974532     | 0.982299     | 0.991015     |
| conf_noobj | 0.000268     | 0.000247     | 0.000220     |
+------------+--------------+--------------+--------------+
2020-12-20 12:11:11.682 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.546777
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.176712     | 0.184071     | 0.185994     |
| x          | 0.008547     | 0.017053     | 0.037107     |
| y          | 0.002893     | 0.009898     | 0.022298     |
| w          | 0.013083     | 0.009325     | 0.012097     |
| h          | 0.013268     | 0.015656     | 0.012095     |
| conf       | 0.135231     | 0.131267     | 0.102094     |
| cls        | 0.003690     | 0.000872     | 0.000303     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.875000     | 0.960000     |
| precision  | 0.750000     | 0.387097     | 0.240385     |
| conf_obj   | 0.972032     | 0.980170     | 0.976483     |
| conf_noobj | 0.000543     | 0.000495     | 0.000329     |
+------------+--------------+--------------+--------------+
2020-12-20 12:12:15.999 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.058156
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.327926     | 0.379019     | 0.351210     |
| x          | 0.007843     | 0.008754     | 0.018599     |
| y          | 0.003559     | 0.012158     | 0.032922     |
| w          | 0.028069     | 0.025741     | 0.013299     |
| h          | 0.035119     | 0.024890     | 0.010113     |
| conf       | 0.211391     | 0.280469     | 0.201254     |
| cls        | 0.041946     | 0.027008     | 0.075023     |
| cls_acc    | 96.77%       | 96.97%       | 96.97%       |
| recall50   | 0.903226     | 0.909091     | 0.939394     |
| recall75   | 0.806452     | 0.818182     | 0.909091     |
| precision  | 0.717949     | 0.476190     | 0.238462     |
| conf_obj   | 0.932199     | 0.920810     | 0.932324     |
| conf_noobj | 0.000620     | 0.000435     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 12:13:22.723 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.707627
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.255737     | 0.237888     | 0.214002     |
| x          | 0.006986     | 0.009790     | 0.011181     |
| y          | 0.003896     | 0.006345     | 0.019405     |
| w          | 0.032870     | 0.020791     | 0.007541     |
| h          | 0.022734     | 0.026628     | 0.013688     |
| conf       | 0.188391     | 0.173804     | 0.160960     |
| cls        | 0.000861     | 0.000529     | 0.001226     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.972973     | 1.000000     |
| recall75   | 0.885714     | 0.945946     | 0.918919     |
| precision  | 0.829268     | 0.507042     | 0.246667     |
| conf_obj   | 0.911841     | 0.958335     | 0.961192     |
| conf_noobj | 0.000523     | 0.000627     | 0.000511     |
+------------+--------------+--------------+--------------+
2020-12-20 12:14:33.035 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.502055
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.151092     | 0.196764     | 0.154198     |
| x          | 0.002011     | 0.008865     | 0.022692     |
| y          | 0.003348     | 0.006356     | 0.017413     |
| w          | 0.010997     | 0.011531     | 0.010560     |
| h          | 0.014551     | 0.014715     | 0.006980     |
| conf       | 0.119908     | 0.154597     | 0.096411     |
| cls        | 0.000277     | 0.000699     | 0.000142     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 1.000000     | 0.888889     | 0.944444     |
| precision  | 0.666667     | 0.346939     | 0.174757     |
| conf_obj   | 0.982994     | 0.960250     | 0.980758     |
| conf_noobj | 0.000616     | 0.000571     | 0.000370     |
+------------+--------------+--------------+--------------+
2020-12-20 12:15:39.518 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.656088
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.303521     | 0.189393     | 0.163174     |
| x          | 0.001995     | 0.008311     | 0.041760     |
| y          | 0.001780     | 0.006222     | 0.017783     |
| w          | 0.010485     | 0.009221     | 0.008820     |
| h          | 0.009250     | 0.005207     | 0.003470     |
| conf       | 0.279902     | 0.160205     | 0.091212     |
| cls        | 0.000108     | 0.000228     | 0.000128     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 1.000000     | 1.000000     |
| precision  | 0.500000     | 0.270833     | 0.166667     |
| conf_obj   | 0.919851     | 0.955906     | 0.981114     |
| conf_noobj | 0.000856     | 0.000531     | 0.000336     |
+------------+--------------+--------------+--------------+
2020-12-20 12:16:44.926 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.534955
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.196016     | 0.160042     | 0.178896     |
| x          | 0.004329     | 0.009221     | 0.021482     |
| y          | 0.005509     | 0.008914     | 0.014010     |
| w          | 0.013256     | 0.007461     | 0.005101     |
| h          | 0.007872     | 0.007453     | 0.010593     |
| conf       | 0.164888     | 0.126627     | 0.127496     |
| cls        | 0.000162     | 0.000366     | 0.000213     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 0.956522     |
| recall75   | 0.904762     | 0.909091     | 0.913043     |
| precision  | 0.800000     | 0.448980     | 0.265060     |
| conf_obj   | 0.952946     | 0.970155     | 0.963550     |
| conf_noobj | 0.000449     | 0.000433     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 12:17:51.274 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.449188
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.150224     | 0.138561     | 0.160402     |
| x          | 0.006474     | 0.006661     | 0.017847     |
| y          | 0.004374     | 0.011525     | 0.020218     |
| w          | 0.017370     | 0.014000     | 0.007527     |
| h          | 0.011981     | 0.011689     | 0.007374     |
| conf       | 0.087832     | 0.094129     | 0.106832     |
| cls        | 0.022192     | 0.000557     | 0.000604     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 1.000000     | 1.000000     |
| precision  | 0.800000     | 0.438596     | 0.201613     |
| conf_obj   | 0.974852     | 0.990171     | 0.975202     |
| conf_noobj | 0.000387     | 0.000443     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 12:18:54.670 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.475392
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.165599     | 0.146838     | 0.162955     |
| x          | 0.005669     | 0.006441     | 0.009637     |
| y          | 0.005116     | 0.006407     | 0.016114     |
| w          | 0.022063     | 0.029448     | 0.018346     |
| h          | 0.025561     | 0.022287     | 0.014352     |
| conf       | 0.105971     | 0.081120     | 0.098963     |
| cls        | 0.001218     | 0.001135     | 0.005542     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 1.000000     | 1.000000     |
| recall75   | 0.896552     | 0.931035     | 0.966667     |
| precision  | 0.823529     | 0.591837     | 0.245902     |
| conf_obj   | 0.961729     | 0.985564     | 0.990479     |
| conf_noobj | 0.000383     | 0.000327     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 12:20:05.202 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.613108
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.694495     | 0.536367     | 0.382246     |
| x          | 0.013140     | 0.013848     | 0.019199     |
| y          | 0.004857     | 0.015650     | 0.021392     |
| w          | 0.044144     | 0.026409     | 0.015087     |
| h          | 0.028627     | 0.013160     | 0.024202     |
| conf       | 0.599852     | 0.465972     | 0.301160     |
| cls        | 0.003875     | 0.001329     | 0.001207     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.880000     | 0.884615     | 0.857143     |
| recall75   | 0.720000     | 0.769231     | 0.785714     |
| precision  | 0.733333     | 0.479167     | 0.216216     |
| conf_obj   | 0.859316     | 0.884835     | 0.874741     |
| conf_noobj | 0.000485     | 0.000409     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 12:21:09.003 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.389610
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.562306     | 0.416971     | 0.410333     |
| x          | 0.009894     | 0.019529     | 0.027861     |
| y          | 0.009060     | 0.014689     | 0.026969     |
| w          | 0.038357     | 0.027293     | 0.018829     |
| h          | 0.024735     | 0.021521     | 0.013592     |
| conf       | 0.402890     | 0.281502     | 0.293682     |
| cls        | 0.077370     | 0.052436     | 0.029400     |
| cls_acc    | 100.00%      | 97.22%       | 97.30%       |
| recall50   | 0.903226     | 0.888889     | 0.945946     |
| recall75   | 0.774194     | 0.777778     | 0.837838     |
| precision  | 0.700000     | 0.415584     | 0.188172     |
| conf_obj   | 0.908206     | 0.910851     | 0.923370     |
| conf_noobj | 0.000664     | 0.000618     | 0.000570     |
+------------+--------------+--------------+--------------+
2020-12-20 12:22:13.695 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.469642
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.163660     | 0.166717     | 0.139265     |
| x          | 0.001985     | 0.004644     | 0.010405     |
| y          | 0.002106     | 0.004864     | 0.012752     |
| w          | 0.016901     | 0.011293     | 0.007239     |
| h          | 0.013177     | 0.012552     | 0.011437     |
| conf       | 0.129256     | 0.132867     | 0.096699     |
| cls        | 0.000236     | 0.000497     | 0.000734     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.625000     | 0.405405     | 0.176471     |
| conf_obj   | 0.971097     | 0.962738     | 0.976130     |
| conf_noobj | 0.000632     | 0.000422     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 12:23:21.817 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.332524
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.122694     | 0.093437     | 0.116393     |
| x          | 0.003292     | 0.011369     | 0.021745     |
| y          | 0.002159     | 0.007847     | 0.009497     |
| w          | 0.015233     | 0.004179     | 0.006511     |
| h          | 0.019835     | 0.003147     | 0.008662     |
| conf       | 0.082068     | 0.066623     | 0.069826     |
| cls        | 0.000107     | 0.000272     | 0.000151     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.750000     | 0.413793     | 0.181818     |
| conf_obj   | 0.985206     | 0.980476     | 0.981754     |
| conf_noobj | 0.000399     | 0.000269     | 0.000261     |
+------------+--------------+--------------+--------------+
2020-12-20 12:24:26.858 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.741876
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.230948     | 0.263158     | 0.247769     |
| x          | 0.006873     | 0.005184     | 0.018715     |
| y          | 0.011890     | 0.015980     | 0.027294     |
| w          | 0.029052     | 0.017001     | 0.014852     |
| h          | 0.016480     | 0.005908     | 0.006034     |
| conf       | 0.143927     | 0.202380     | 0.171730     |
| cls        | 0.022727     | 0.016705     | 0.009144     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.925926     | 0.925926     | 0.928571     |
| precision  | 0.771429     | 0.385714     | 0.176101     |
| conf_obj   | 0.947203     | 0.940534     | 0.951462     |
| conf_noobj | 0.000523     | 0.000652     | 0.000517     |
+------------+--------------+--------------+--------------+
2020-12-20 12:24:38.841 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.762
2020-12-20 12:24:38.846 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 12:25:34.247 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.12979   | 0.45522 | 0.20199 | 0.24203 |
| 1     | Wear_helmet | 0.63166   | 0.92654 | 0.75120 | 0.88283 |
| 2     | Total       | 0.38073   | 0.69088 | 0.47659 | 0.56243 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:25:34.248 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5624318523423991
2020-12-20 12:25:34.249 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 12:25:34.249 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.403220

2020-12-20 12:25:34.763 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 1/2, epo 3/5
2020-12-20 12:25:34.764 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 1/2, epo 3/5; time cost: 0:15:28.995427

2020-12-20 12:25:34.764 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 1/2, epo 4/5
2020-12-20 12:25:35.785 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.898772
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.335816     | 0.313645     | 0.249311     |
| x          | 0.012596     | 0.011336     | 0.013966     |
| y          | 0.007193     | 0.011222     | 0.012717     |
| w          | 0.018058     | 0.018779     | 0.011157     |
| h          | 0.025219     | 0.009099     | 0.007945     |
| conf       | 0.270971     | 0.261830     | 0.202103     |
| cls        | 0.001779     | 0.001379     | 0.001423     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.956522     | 0.956522     |
| recall75   | 0.909091     | 0.913043     | 0.913043     |
| precision  | 0.800000     | 0.478261     | 0.201835     |
| conf_obj   | 0.909978     | 0.918557     | 0.925562     |
| conf_noobj | 0.000592     | 0.000440     | 0.000480     |
+------------+--------------+--------------+--------------+
2020-12-20 12:26:36.444 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.833012
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.290306     | 0.299425     | 0.243281     |
| x          | 0.018296     | 0.017085     | 0.035088     |
| y          | 0.002646     | 0.008171     | 0.032403     |
| w          | 0.054224     | 0.041367     | 0.037495     |
| h          | 0.031750     | 0.019632     | 0.016602     |
| conf       | 0.181808     | 0.212172     | 0.120811     |
| cls        | 0.001582     | 0.000997     | 0.000881     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.925926     | 0.964286     |
| recall75   | 0.800000     | 0.814815     | 0.750000     |
| precision  | 0.741935     | 0.431034     | 0.225000     |
| conf_obj   | 0.951162     | 0.932296     | 0.972298     |
| conf_noobj | 0.000554     | 0.000581     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 12:27:36.996 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.690302
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.236435     | 0.237014     | 0.216853     |
| x          | 0.005264     | 0.016668     | 0.030276     |
| y          | 0.007706     | 0.015216     | 0.039191     |
| w          | 0.028797     | 0.018086     | 0.011251     |
| h          | 0.029246     | 0.015957     | 0.014134     |
| conf       | 0.163660     | 0.169898     | 0.120322     |
| cls        | 0.001761     | 0.001189     | 0.001679     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.954545     | 1.000000     |
| recall75   | 0.761905     | 0.909091     | 0.818182     |
| precision  | 0.740741     | 0.375000     | 0.161765     |
| conf_obj   | 0.952281     | 0.934629     | 0.971476     |
| conf_noobj | 0.000572     | 0.000505     | 0.000432     |
+------------+--------------+--------------+--------------+
2020-12-20 12:28:46.993 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.679379
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.223528     | 0.204708     | 0.251143     |
| x          | 0.035048     | 0.024687     | 0.048752     |
| y          | 0.003316     | 0.006382     | 0.028893     |
| w          | 0.040778     | 0.015095     | 0.016671     |
| h          | 0.029566     | 0.009882     | 0.020207     |
| conf       | 0.110066     | 0.145644     | 0.135616     |
| cls        | 0.004755     | 0.003018     | 0.001003     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.851852     | 1.000000     | 0.911765     |
| recall75   | 0.777778     | 0.793103     | 0.735294     |
| precision  | 0.793103     | 0.537037     | 0.274336     |
| conf_obj   | 0.947230     | 0.962888     | 0.968858     |
| conf_noobj | 0.000359     | 0.000522     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 12:29:46.115 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.891282
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.352444     | 0.292793     | 0.246045     |
| x          | 0.018719     | 0.014478     | 0.025890     |
| y          | 0.004181     | 0.014640     | 0.031901     |
| w          | 0.008015     | 0.011668     | 0.014273     |
| h          | 0.012071     | 0.012964     | 0.012403     |
| conf       | 0.307069     | 0.237024     | 0.159697     |
| cls        | 0.002388     | 0.002018     | 0.001881     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.875000     | 0.920000     | 0.961538     |
| recall75   | 0.750000     | 0.880000     | 0.846154     |
| precision  | 0.700000     | 0.433962     | 0.185185     |
| conf_obj   | 0.886064     | 0.915858     | 0.961608     |
| conf_noobj | 0.000619     | 0.000539     | 0.000460     |
+------------+--------------+--------------+--------------+
2020-12-20 12:30:52.255 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.444149
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.151922     | 0.145727     | 0.146500     |
| x          | 0.002969     | 0.005134     | 0.017193     |
| y          | 0.005176     | 0.011151     | 0.036697     |
| w          | 0.015253     | 0.011597     | 0.005290     |
| h          | 0.033835     | 0.029399     | 0.008202     |
| conf       | 0.094168     | 0.087740     | 0.078858     |
| cls        | 0.000521     | 0.000706     | 0.000259     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.894737     | 0.947368     |
| precision  | 0.826087     | 0.513514     | 0.200000     |
| conf_obj   | 0.975163     | 0.978475     | 0.987993     |
| conf_noobj | 0.000423     | 0.000355     | 0.000317     |
+------------+--------------+--------------+--------------+
2020-12-20 12:31:57.093 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.671439
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.295177     | 0.181759     | 0.194503     |
| x          | 0.022983     | 0.013189     | 0.030288     |
| y          | 0.004963     | 0.008431     | 0.019819     |
| w          | 0.023890     | 0.023403     | 0.018238     |
| h          | 0.025452     | 0.023084     | 0.013792     |
| conf       | 0.213857     | 0.111357     | 0.109455     |
| cls        | 0.004032     | 0.002295     | 0.002911     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 1.000000     | 0.968750     |
| recall75   | 0.689655     | 0.781250     | 0.812500     |
| precision  | 0.750000     | 0.533333     | 0.231343     |
| conf_obj   | 0.945781     | 0.962313     | 0.971324     |
| conf_noobj | 0.000519     | 0.000377     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 12:33:04.272 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.554279
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.154433     | 0.190830     | 0.209016     |
| x          | 0.011038     | 0.011346     | 0.025903     |
| y          | 0.007623     | 0.015805     | 0.020227     |
| w          | 0.023830     | 0.021091     | 0.013568     |
| h          | 0.016143     | 0.019449     | 0.010190     |
| conf       | 0.089192     | 0.109256     | 0.122309     |
| cls        | 0.006607     | 0.013883     | 0.016819     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 0.960000     |
| recall75   | 0.750000     | 0.760000     | 0.840000     |
| precision  | 0.960000     | 0.615385     | 0.220183     |
| conf_obj   | 0.969449     | 0.971502     | 0.972840     |
| conf_noobj | 0.000435     | 0.000425     | 0.000431     |
+------------+--------------+--------------+--------------+
2020-12-20 12:34:09.275 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.484544
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.183187     | 0.145132     | 0.156225     |
| x          | 0.024156     | 0.010707     | 0.014067     |
| y          | 0.005736     | 0.008132     | 0.014469     |
| w          | 0.010491     | 0.015613     | 0.011085     |
| h          | 0.021325     | 0.011484     | 0.004309     |
| conf       | 0.120074     | 0.098318     | 0.111701     |
| cls        | 0.001405     | 0.000880     | 0.000594     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.952381     | 0.952381     |
| precision  | 0.678571     | 0.456522     | 0.161538     |
| conf_obj   | 0.978134     | 0.988233     | 0.987068     |
| conf_noobj | 0.000502     | 0.000378     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 12:35:16.867 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.427347
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.128821     | 0.135663     | 0.162864     |
| x          | 0.003538     | 0.007824     | 0.032596     |
| y          | 0.003952     | 0.010548     | 0.026478     |
| w          | 0.013389     | 0.007041     | 0.006071     |
| h          | 0.015003     | 0.006484     | 0.004688     |
| conf       | 0.092414     | 0.103198     | 0.092931     |
| cls        | 0.000525     | 0.000568     | 0.000100     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 1.000000     | 1.000000     |
| precision  | 0.736842     | 0.341463     | 0.181818     |
| conf_obj   | 0.978774     | 0.960766     | 0.971858     |
| conf_noobj | 0.000352     | 0.000319     | 0.000262     |
+------------+--------------+--------------+--------------+
2020-12-20 12:36:24.423 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.622874
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.218930     | 0.266520     | 0.137424     |
| x          | 0.009139     | 0.009273     | 0.017798     |
| y          | 0.002525     | 0.007377     | 0.012826     |
| w          | 0.005924     | 0.006344     | 0.009466     |
| h          | 0.012985     | 0.010249     | 0.007537     |
| conf       | 0.182128     | 0.231886     | 0.089073     |
| cls        | 0.006230     | 0.001392     | 0.000725     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.933333     | 1.000000     |
| recall75   | 0.866667     | 0.866667     | 0.933333     |
| precision  | 0.875000     | 0.437500     | 0.230769     |
| conf_obj   | 0.925420     | 0.900738     | 0.973825     |
| conf_noobj | 0.000284     | 0.000333     | 0.000253     |
+------------+--------------+--------------+--------------+
2020-12-20 12:37:25.891 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.624368
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.198489     | 0.194011     | 0.231868     |
| x          | 0.008985     | 0.006308     | 0.024934     |
| y          | 0.004962     | 0.010355     | 0.038542     |
| w          | 0.020885     | 0.019312     | 0.016337     |
| h          | 0.029635     | 0.017241     | 0.014700     |
| conf       | 0.119727     | 0.112929     | 0.094375     |
| cls        | 0.014294     | 0.027865     | 0.042980     |
| cls_acc    | 100.00%      | 100.00%      | 94.12%       |
| recall50   | 1.000000     | 1.000000     | 0.941176     |
| recall75   | 0.812500     | 0.882353     | 0.823529     |
| precision  | 0.800000     | 0.531250     | 0.188235     |
| conf_obj   | 0.971161     | 0.962626     | 0.977204     |
| conf_noobj | 0.000384     | 0.000279     | 0.000304     |
+------------+--------------+--------------+--------------+
2020-12-20 12:38:31.856 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.721381
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.251639     | 0.250001     | 0.219741     |
| x          | 0.003177     | 0.012100     | 0.020320     |
| y          | 0.008636     | 0.013016     | 0.016809     |
| w          | 0.034753     | 0.035937     | 0.030115     |
| h          | 0.014409     | 0.017687     | 0.013664     |
| conf       | 0.172913     | 0.163527     | 0.135076     |
| cls        | 0.017751     | 0.007734     | 0.003757     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.968750     | 0.968750     |
| recall75   | 0.937500     | 0.812500     | 0.843750     |
| precision  | 0.780488     | 0.462687     | 0.198718     |
| conf_obj   | 0.945772     | 0.953692     | 0.966736     |
| conf_noobj | 0.000591     | 0.000477     | 0.000420     |
+------------+--------------+--------------+--------------+
2020-12-20 12:39:40.160 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.336902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.123031     | 0.101661     | 0.112209     |
| x          | 0.001765     | 0.008440     | 0.020986     |
| y          | 0.003224     | 0.009105     | 0.014562     |
| w          | 0.006375     | 0.007985     | 0.005090     |
| h          | 0.011256     | 0.008520     | 0.007294     |
| conf       | 0.099704     | 0.067393     | 0.063809     |
| cls        | 0.000707     | 0.000219     | 0.000468     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.952381     |
| precision  | 0.807692     | 0.538462     | 0.233333     |
| conf_obj   | 0.966876     | 0.981019     | 0.988466     |
| conf_noobj | 0.000393     | 0.000259     | 0.000233     |
+------------+--------------+--------------+--------------+
2020-12-20 12:39:53.110 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.742
2020-12-20 12:39:53.114 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 12:40:45.519 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.18211   | 0.42537 | 0.25503 | 0.27192 |
| 1     | Wear_helmet | 0.52773   | 0.95166 | 0.67895 | 0.91326 |
| 2     | Total       | 0.35492   | 0.68852 | 0.46699 | 0.59259 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:40:45.519 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5925887306066172
2020-12-20 12:40:45.520 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 12:40:45.520 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:52.405881

2020-12-20 12:40:46.003 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 1/2, epo 4/5
2020-12-20 12:40:46.003 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 1/2, epo 4/5; time cost: 0:15:11.238606

2020-12-20 12:40:46.003 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 15/20, idx 1/2, epo 5/5
2020-12-20 12:40:47.733 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.673334
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.207767     | 0.217292     | 0.248274     |
| x          | 0.009808     | 0.016796     | 0.030576     |
| y          | 0.014338     | 0.011467     | 0.029890     |
| w          | 0.022898     | 0.022721     | 0.015404     |
| h          | 0.013340     | 0.028161     | 0.019002     |
| conf       | 0.138466     | 0.130376     | 0.140863     |
| cls        | 0.008916     | 0.007771     | 0.012539     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.935484     | 0.969697     | 0.970588     |
| recall75   | 0.806452     | 0.757576     | 0.852941     |
| precision  | 0.935484     | 0.524590     | 0.217105     |
| conf_obj   | 0.925425     | 0.945558     | 0.957156     |
| conf_noobj | 0.000175     | 0.000362     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 12:41:55.906 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.605565
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.200490     | 0.193027     | 0.212048     |
| x          | 0.003954     | 0.011893     | 0.018753     |
| y          | 0.012600     | 0.010391     | 0.030044     |
| w          | 0.024756     | 0.012958     | 0.008130     |
| h          | 0.022447     | 0.012926     | 0.009269     |
| conf       | 0.112519     | 0.133728     | 0.142801     |
| cls        | 0.024215     | 0.011130     | 0.003053     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.956522     | 0.956522     |
| precision  | 0.793103     | 0.450980     | 0.194915     |
| conf_obj   | 0.974870     | 0.975106     | 0.960964     |
| conf_noobj | 0.000522     | 0.000452     | 0.000455     |
+------------+--------------+--------------+--------------+
2020-12-20 12:42:59.535 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.114913
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.308155     | 0.444270     | 0.362488     |
| x          | 0.009114     | 0.030075     | 0.022248     |
| y          | 0.004329     | 0.012381     | 0.026092     |
| w          | 0.013979     | 0.008302     | 0.008086     |
| h          | 0.032829     | 0.021861     | 0.020414     |
| conf       | 0.247270     | 0.370042     | 0.284396     |
| cls        | 0.000634     | 0.001609     | 0.001252     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.850000     | 0.904762     |
| recall75   | 0.850000     | 0.800000     | 0.761905     |
| precision  | 0.791667     | 0.377778     | 0.197917     |
| conf_obj   | 0.942464     | 0.913025     | 0.936242     |
| conf_noobj | 0.000407     | 0.000367     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 12:44:07.391 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.540604
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.250765     | 0.159008     | 0.130831     |
| x          | 0.003689     | 0.003578     | 0.008866     |
| y          | 0.002546     | 0.004869     | 0.023863     |
| w          | 0.019082     | 0.013903     | 0.007407     |
| h          | 0.018600     | 0.015067     | 0.005641     |
| conf       | 0.204471     | 0.120148     | 0.084720     |
| cls        | 0.002376     | 0.001443     | 0.000334     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.521739     | 0.333333     | 0.146341     |
| conf_obj   | 0.947392     | 0.966632     | 0.974448     |
| conf_noobj | 0.000617     | 0.000383     | 0.000269     |
+------------+--------------+--------------+--------------+
2020-12-20 12:45:14.883 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.503043
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.103176     | 0.208849     | 0.191018     |
| x          | 0.001259     | 0.004140     | 0.012822     |
| y          | 0.002530     | 0.008369     | 0.021257     |
| w          | 0.018626     | 0.018653     | 0.015861     |
| h          | 0.008642     | 0.012658     | 0.005131     |
| conf       | 0.070594     | 0.164318     | 0.135758     |
| cls        | 0.001526     | 0.000711     | 0.000189     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 0.961538     |
| recall75   | 1.000000     | 0.923077     | 0.923077     |
| precision  | 0.862069     | 0.581395     | 0.263158     |
| conf_obj   | 0.982294     | 0.952194     | 0.953644     |
| conf_noobj | 0.000265     | 0.000244     | 0.000257     |
+------------+--------------+--------------+--------------+
2020-12-20 12:46:22.597 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.617649
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.166525     | 0.194953     | 0.256170     |
| x          | 0.029476     | 0.026936     | 0.040881     |
| y          | 0.002998     | 0.008261     | 0.028710     |
| w          | 0.023083     | 0.024593     | 0.014903     |
| h          | 0.026096     | 0.027089     | 0.013845     |
| conf       | 0.083377     | 0.104374     | 0.155872     |
| cls        | 0.001495     | 0.003700     | 0.001960     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.942857     | 0.888889     |
| recall75   | 0.896552     | 0.857143     | 0.861111     |
| precision  | 0.848485     | 0.507692     | 0.258065     |
| conf_obj   | 0.984121     | 0.979239     | 0.951400     |
| conf_noobj | 0.000368     | 0.000388     | 0.000374     |
+------------+--------------+--------------+--------------+
2020-12-20 12:47:30.023 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.449789
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.172094     | 0.135704     | 0.141991     |
| x          | 0.002682     | 0.005264     | 0.024046     |
| y          | 0.005551     | 0.006015     | 0.013480     |
| w          | 0.019662     | 0.016628     | 0.006361     |
| h          | 0.009744     | 0.004481     | 0.008088     |
| conf       | 0.134356     | 0.103094     | 0.089598     |
| cls        | 0.000098     | 0.000222     | 0.000418     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 1.000000     | 1.000000     |
| precision  | 0.695652     | 0.363636     | 0.161616     |
| conf_obj   | 0.966330     | 0.973914     | 0.985607     |
| conf_noobj | 0.000521     | 0.000384     | 0.000321     |
+------------+--------------+--------------+--------------+
2020-12-20 12:48:31.217 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.480712
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.155266     | 0.147100     | 0.178346     |
| x          | 0.003209     | 0.011305     | 0.026969     |
| y          | 0.009418     | 0.014608     | 0.024246     |
| w          | 0.028728     | 0.022381     | 0.023741     |
| h          | 0.022472     | 0.017182     | 0.016573     |
| conf       | 0.089010     | 0.078162     | 0.084705     |
| cls        | 0.002429     | 0.003461     | 0.002111     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.900000     | 0.900000     | 0.800000     |
| precision  | 0.833333     | 0.487805     | 0.212766     |
| conf_obj   | 0.984247     | 0.993386     | 0.990275     |
| conf_noobj | 0.000399     | 0.000353     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 12:49:34.784 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.825769
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.241455     | 0.257172     | 0.327142     |
| x          | 0.005970     | 0.010147     | 0.030321     |
| y          | 0.003978     | 0.013817     | 0.039833     |
| w          | 0.019356     | 0.017904     | 0.025985     |
| h          | 0.028308     | 0.033828     | 0.034826     |
| conf       | 0.159773     | 0.133648     | 0.103287     |
| cls        | 0.024071     | 0.047827     | 0.092890     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 1.000000     | 1.000000     | 0.931035     |
| recall75   | 0.928571     | 0.827586     | 0.862069     |
| precision  | 0.717949     | 0.491525     | 0.183673     |
| conf_obj   | 0.963383     | 0.976859     | 0.987496     |
| conf_noobj | 0.000596     | 0.000522     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 12:50:41.837 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.677246
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.250424     | 0.209189     | 0.217633     |
| x          | 0.004702     | 0.009208     | 0.021131     |
| y          | 0.002427     | 0.012094     | 0.023037     |
| w          | 0.022072     | 0.012677     | 0.008564     |
| h          | 0.014033     | 0.016262     | 0.016840     |
| conf       | 0.195162     | 0.152799     | 0.145780     |
| cls        | 0.012028     | 0.006149     | 0.002281     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.972222     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.925000     | 0.878049     |
| precision  | 0.795455     | 0.563380     | 0.248485     |
| conf_obj   | 0.948554     | 0.961712     | 0.968078     |
| conf_noobj | 0.000651     | 0.000538     | 0.000532     |
+------------+--------------+--------------+--------------+
2020-12-20 12:51:44.478 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.789113
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.258174     | 0.254815     | 0.276124     |
| x          | 0.020657     | 0.012917     | 0.021864     |
| y          | 0.004822     | 0.006255     | 0.019379     |
| w          | 0.023566     | 0.023899     | 0.013970     |
| h          | 0.035974     | 0.037583     | 0.026091     |
| conf       | 0.150213     | 0.158339     | 0.189655     |
| cls        | 0.022942     | 0.015822     | 0.005164     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.925926     | 0.964286     | 0.964286     |
| recall75   | 0.888889     | 0.892857     | 0.821429     |
| precision  | 0.833333     | 0.562500     | 0.200000     |
| conf_obj   | 0.947656     | 0.949903     | 0.942555     |
| conf_noobj | 0.000279     | 0.000338     | 0.000416     |
+------------+--------------+--------------+--------------+
2020-12-20 12:52:50.534 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.598685
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.218433     | 0.194029     | 0.186222     |
| x          | 0.007119     | 0.015076     | 0.021595     |
| y          | 0.012674     | 0.013465     | 0.019704     |
| w          | 0.015952     | 0.012244     | 0.014139     |
| h          | 0.020358     | 0.008975     | 0.012931     |
| conf       | 0.149746     | 0.139179     | 0.114530     |
| cls        | 0.012584     | 0.005090     | 0.003322     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.969697     | 1.000000     | 1.000000     |
| recall75   | 0.848485     | 0.909091     | 0.941176     |
| precision  | 0.864865     | 0.523810     | 0.255639     |
| conf_obj   | 0.948709     | 0.964555     | 0.973835     |
| conf_noobj | 0.000419     | 0.000464     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 12:53:54.479 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.745972
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.164672     | 0.174899     | 0.406401     |
| x          | 0.007662     | 0.025229     | 0.052412     |
| y          | 0.002979     | 0.014344     | 0.038164     |
| w          | 0.014653     | 0.017009     | 0.008532     |
| h          | 0.016996     | 0.015132     | 0.011201     |
| conf       | 0.114040     | 0.098395     | 0.276641     |
| cls        | 0.008340     | 0.004790     | 0.019452     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 0.880000     |
| recall75   | 0.869565     | 0.791667     | 0.720000     |
| precision  | 0.821429     | 0.560976     | 0.200000     |
| conf_obj   | 0.980127     | 0.986096     | 0.917939     |
| conf_noobj | 0.000474     | 0.000412     | 0.000472     |
+------------+--------------+--------------+--------------+
2020-12-20 12:54:55.130 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 1.190722
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.477843     | 0.396416     | 0.316464     |
| x          | 0.027540     | 0.011307     | 0.012464     |
| y          | 0.008846     | 0.012414     | 0.016913     |
| w          | 0.029320     | 0.024993     | 0.007790     |
| h          | 0.030961     | 0.023880     | 0.012772     |
| conf       | 0.340097     | 0.263385     | 0.163331     |
| cls        | 0.041079     | 0.060437     | 0.103195     |
| cls_acc    | 96.30%       | 96.30%       | 96.43%       |
| recall50   | 0.962963     | 0.962963     | 0.964286     |
| recall75   | 0.888889     | 0.888889     | 0.892857     |
| precision  | 0.702703     | 0.490566     | 0.226891     |
| conf_obj   | 0.925382     | 0.938762     | 0.954801     |
| conf_noobj | 0.000848     | 0.000528     | 0.000469     |
+------------+--------------+--------------+--------------+
2020-12-20 12:55:05.613 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.708
2020-12-20 12:55:05.618 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 12:56:07.088 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.08278   | 0.50000 | 0.14205 | 0.24210 |
| 1     | Wear_helmet | 0.50177   | 0.93839 | 0.65390 | 0.88963 |
| 2     | Total       | 0.29228   | 0.71919 | 0.39797 | 0.56586 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 12:56:07.090 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5658639317837215
2020-12-20 12:56:07.090 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 12:56:07.091 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.472792

2020-12-20 12:56:07.545 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 15/20, idx 1/2, epo 5/5
2020-12-20 12:56:07.545 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 15/20, idx 1/2, epo 5/5; time cost: 0:15:21.541730

2020-12-20 12:56:07.546 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.753
2020-12-20 12:56:07.808 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 13:00:01.787 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10615   | 0.61115 | 0.18088 | 0.40811 |
| 1     | Wear_helmet | 0.49880   | 0.92611 | 0.64838 | 0.87785 |
| 2     | Total       | 0.30247   | 0.76863 | 0.41463 | 0.64298 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:00:01.788 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6429833884098344
2020-12-20 13:00:01.788 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 13:00:01.788 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:53.980391

2020-12-20 13:00:06.779 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 16!
2020-12-20 13:00:07.109 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 1/2, epo 1/5
2020-12-20 13:00:08.585 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.343664
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.136431     | 0.093273     | 0.113959     |
| x          | 0.002010     | 0.002357     | 0.010625     |
| y          | 0.002451     | 0.003481     | 0.012032     |
| w          | 0.016677     | 0.012878     | 0.008980     |
| h          | 0.012164     | 0.008671     | 0.006357     |
| conf       | 0.094729     | 0.065272     | 0.075353     |
| cls        | 0.008401     | 0.000615     | 0.000612     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.941176     |
| precision  | 0.708333     | 0.485714     | 0.177083     |
| conf_obj   | 0.996398     | 0.997866     | 0.990209     |
| conf_noobj | 0.000454     | 0.000329     | 0.000312     |
+------------+--------------+--------------+--------------+
2020-12-20 13:01:15.956 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.589918
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.282208     | 0.123000     | 0.184710     |
| x          | 0.023033     | 0.013834     | 0.031394     |
| y          | 0.030395     | 0.007770     | 0.016981     |
| w          | 0.068791     | 0.019194     | 0.014493     |
| h          | 0.058169     | 0.014561     | 0.008475     |
| conf       | 0.067722     | 0.063073     | 0.110261     |
| cls        | 0.034098     | 0.004568     | 0.003106     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 0.925926     |
| recall75   | 0.875000     | 0.807692     | 0.777778     |
| precision  | 0.884615     | 0.634146     | 0.263158     |
| conf_obj   | 0.962116     | 0.983289     | 0.963109     |
| conf_noobj | 0.000154     | 0.000198     | 0.000248     |
+------------+--------------+--------------+--------------+
2020-12-20 13:02:26.071 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.476792
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.069149     | 0.195609     | 0.212034     |
| x          | 0.002993     | 0.005462     | 0.017742     |
| y          | 0.003296     | 0.012909     | 0.017796     |
| w          | 0.009351     | 0.012546     | 0.006207     |
| h          | 0.006476     | 0.013422     | 0.004743     |
| conf       | 0.044531     | 0.149218     | 0.163781     |
| cls        | 0.002501     | 0.002052     | 0.001764     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 0.956522     |
| recall75   | 1.000000     | 0.869565     | 0.956522     |
| precision  | 0.913043     | 0.611111     | 0.205607     |
| conf_obj   | 0.994458     | 0.955337     | 0.955436     |
| conf_noobj | 0.000251     | 0.000224     | 0.000361     |
+------------+--------------+--------------+--------------+
2020-12-20 13:03:34.270 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.578241
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.150283     | 0.244984     | 0.182975     |
| x          | 0.002609     | 0.011109     | 0.023426     |
| y          | 0.004581     | 0.006842     | 0.034060     |
| w          | 0.017126     | 0.009358     | 0.008206     |
| h          | 0.019328     | 0.013719     | 0.012218     |
| conf       | 0.105834     | 0.202691     | 0.104193     |
| cls        | 0.000805     | 0.001264     | 0.000872     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.937500     | 1.000000     |
| recall75   | 1.000000     | 0.875000     | 0.875000     |
| precision  | 0.761905     | 0.468750     | 0.177778     |
| conf_obj   | 0.965378     | 0.924372     | 0.966252     |
| conf_noobj | 0.000323     | 0.000252     | 0.000273     |
+------------+--------------+--------------+--------------+
2020-12-20 13:04:38.125 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.262168
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.449064     | 0.362690     | 0.450414     |
| x          | 0.006772     | 0.017591     | 0.038873     |
| y          | 0.018907     | 0.014681     | 0.028906     |
| w          | 0.078310     | 0.026540     | 0.039858     |
| h          | 0.062099     | 0.021465     | 0.021035     |
| conf       | 0.153565     | 0.151390     | 0.176287     |
| cls        | 0.129411     | 0.131023     | 0.145454     |
| cls_acc    | 92.86%       | 92.86%       | 93.10%       |
| recall50   | 0.892857     | 0.928571     | 0.862069     |
| recall75   | 0.785714     | 0.785714     | 0.689655     |
| precision  | 0.675676     | 0.393939     | 0.177305     |
| conf_obj   | 0.958780     | 0.960518     | 0.929445     |
| conf_noobj | 0.000592     | 0.000566     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 13:05:48.450 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.835269
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.325063     | 0.234109     | 0.276098     |
| x          | 0.002308     | 0.011979     | 0.021891     |
| y          | 0.003039     | 0.007167     | 0.017849     |
| w          | 0.010613     | 0.018608     | 0.012514     |
| h          | 0.011167     | 0.028321     | 0.011390     |
| conf       | 0.290826     | 0.165643     | 0.209746     |
| cls        | 0.007109     | 0.002390     | 0.002708     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 1.000000     | 0.967742     |
| recall75   | 0.931035     | 0.933333     | 0.903226     |
| precision  | 0.666667     | 0.461538     | 0.212766     |
| conf_obj   | 0.915413     | 0.961348     | 0.947715     |
| conf_noobj | 0.000794     | 0.000516     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 13:06:55.131 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.687192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.230111     | 0.230947     | 0.226134     |
| x          | 0.009568     | 0.012312     | 0.018028     |
| y          | 0.020788     | 0.011720     | 0.040473     |
| w          | 0.024118     | 0.016204     | 0.011668     |
| h          | 0.014753     | 0.011568     | 0.010573     |
| conf       | 0.159136     | 0.176051     | 0.141775     |
| cls        | 0.001749     | 0.003091     | 0.003616     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.972973     | 1.000000     | 0.976190     |
| recall75   | 0.810811     | 0.829268     | 0.857143     |
| precision  | 0.782609     | 0.493976     | 0.241176     |
| conf_obj   | 0.951643     | 0.954290     | 0.961812     |
| conf_noobj | 0.000561     | 0.000580     | 0.000458     |
+------------+--------------+--------------+--------------+
2020-12-20 13:07:59.038 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.420199
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.115793     | 0.178439     | 0.125967     |
| x          | 0.002668     | 0.008358     | 0.020799     |
| y          | 0.005560     | 0.003374     | 0.008468     |
| w          | 0.023271     | 0.009231     | 0.005220     |
| h          | 0.024838     | 0.020671     | 0.012013     |
| conf       | 0.059176     | 0.136488     | 0.079330     |
| cls        | 0.000281     | 0.000315     | 0.000138     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 1.000000     | 0.944444     |
| precision  | 0.818182     | 0.391304     | 0.169811     |
| conf_obj   | 0.995637     | 0.960830     | 0.992776     |
| conf_noobj | 0.000366     | 0.000455     | 0.000352     |
+------------+--------------+--------------+--------------+
2020-12-20 13:09:06.496 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.809774
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.299026     | 0.245389     | 0.265360     |
| x          | 0.008557     | 0.007548     | 0.015119     |
| y          | 0.006878     | 0.012570     | 0.026869     |
| w          | 0.033667     | 0.015857     | 0.015137     |
| h          | 0.032527     | 0.013745     | 0.010393     |
| conf       | 0.205226     | 0.181140     | 0.191290     |
| cls        | 0.012171     | 0.014528     | 0.006551     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.951219     | 0.954545     | 1.000000     |
| recall75   | 0.829268     | 0.840909     | 0.893617     |
| precision  | 0.829787     | 0.545455     | 0.237374     |
| conf_obj   | 0.930633     | 0.940969     | 0.951326     |
| conf_noobj | 0.000568     | 0.000526     | 0.000585     |
+------------+--------------+--------------+--------------+
2020-12-20 13:10:10.923 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.760226
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.242720     | 0.323039     | 0.194466     |
| x          | 0.002187     | 0.007005     | 0.014750     |
| y          | 0.003015     | 0.013511     | 0.014875     |
| w          | 0.027035     | 0.020681     | 0.013115     |
| h          | 0.017085     | 0.022580     | 0.012396     |
| conf       | 0.192145     | 0.257966     | 0.138408     |
| cls        | 0.001253     | 0.001296     | 0.000921     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.950000     | 0.950000     |
| recall75   | 0.900000     | 0.900000     | 0.900000     |
| precision  | 0.782609     | 0.513514     | 0.200000     |
| conf_obj   | 0.904925     | 0.903044     | 0.946986     |
| conf_noobj | 0.000316     | 0.000256     | 0.000298     |
+------------+--------------+--------------+--------------+
2020-12-20 13:11:18.673 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.775710
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.274823     | 0.227779     | 0.273108     |
| x          | 0.005868     | 0.010087     | 0.026272     |
| y          | 0.005814     | 0.012242     | 0.018519     |
| w          | 0.040379     | 0.027267     | 0.018519     |
| h          | 0.042325     | 0.035009     | 0.026336     |
| conf       | 0.172993     | 0.128800     | 0.140918     |
| cls        | 0.007444     | 0.014374     | 0.042544     |
| cls_acc    | 100.00%      | 100.00%      | 96.77%       |
| recall50   | 0.966667     | 0.966667     | 0.935484     |
| recall75   | 0.900000     | 0.833333     | 0.709677     |
| precision  | 0.783784     | 0.557692     | 0.230159     |
| conf_obj   | 0.942047     | 0.955832     | 0.952254     |
| conf_noobj | 0.000557     | 0.000380     | 0.000361     |
+------------+--------------+--------------+--------------+
2020-12-20 13:12:25.199 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.429142
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.129068     | 0.153503     | 0.146572     |
| x          | 0.005904     | 0.011908     | 0.036184     |
| y          | 0.010441     | 0.007464     | 0.021660     |
| w          | 0.011808     | 0.006987     | 0.002929     |
| h          | 0.010593     | 0.007616     | 0.004553     |
| conf       | 0.077983     | 0.111759     | 0.074162     |
| cls        | 0.012338     | 0.007768     | 0.007082     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.941176     | 0.941176     | 0.941176     |
| precision  | 0.708333     | 0.377778     | 0.182796     |
| conf_obj   | 0.980112     | 0.966087     | 0.983890     |
| conf_noobj | 0.000389     | 0.000329     | 0.000252     |
+------------+--------------+--------------+--------------+
2020-12-20 13:13:35.503 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.893621
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.342331     | 0.278568     | 0.272722     |
| x          | 0.022182     | 0.006654     | 0.023155     |
| y          | 0.014995     | 0.010716     | 0.028058     |
| w          | 0.061958     | 0.031345     | 0.010370     |
| h          | 0.046020     | 0.017020     | 0.010822     |
| conf       | 0.193348     | 0.210187     | 0.196603     |
| cls        | 0.003827     | 0.002647     | 0.003714     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 0.958333     | 0.958333     |
| recall75   | 0.826087     | 0.875000     | 0.833333     |
| precision  | 0.540541     | 0.377049     | 0.150327     |
| conf_obj   | 0.967121     | 0.939909     | 0.944678     |
| conf_noobj | 0.000856     | 0.000556     | 0.000492     |
+------------+--------------+--------------+--------------+
2020-12-20 13:14:44.270 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.723471
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.185412     | 0.282335     | 0.255724     |
| x          | 0.004190     | 0.008879     | 0.017281     |
| y          | 0.001586     | 0.004990     | 0.012125     |
| w          | 0.013295     | 0.016292     | 0.013079     |
| h          | 0.015039     | 0.012635     | 0.012119     |
| conf       | 0.147753     | 0.238290     | 0.200532     |
| cls        | 0.003550     | 0.001251     | 0.000589     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.931035     | 0.965517     |
| recall75   | 0.931035     | 0.931035     | 0.862069     |
| precision  | 0.783784     | 0.397059     | 0.208955     |
| conf_obj   | 0.947068     | 0.933528     | 0.952069     |
| conf_noobj | 0.000498     | 0.000508     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 13:14:57.882 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.737
2020-12-20 13:14:57.885 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 13:15:50.904 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07398   | 0.51493 | 0.12937 | 0.24734 |
| 1     | Wear_helmet | 0.58250   | 0.93365 | 0.71741 | 0.89621 |
| 2     | Total       | 0.32824   | 0.72429 | 0.42339 | 0.57178 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:15:50.904 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5717759918297928
2020-12-20 13:15:50.904 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 13:15:50.905 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:53.018980

2020-12-20 13:15:51.385 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 1/2, epo 1/5
2020-12-20 13:15:51.386 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 1/2, epo 1/5; time cost: 0:15:44.276055

2020-12-20 13:15:51.386 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 1/2, epo 2/5
2020-12-20 13:15:52.466 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.207837
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.525392     | 0.368594     | 0.313850     |
| x          | 0.007061     | 0.007945     | 0.015271     |
| y          | 0.005295     | 0.010235     | 0.012559     |
| w          | 0.014854     | 0.009668     | 0.011121     |
| h          | 0.020904     | 0.009711     | 0.008951     |
| conf       | 0.469490     | 0.328602     | 0.257786     |
| cls        | 0.007789     | 0.002433     | 0.008162     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.950000     | 0.952381     |
| recall75   | 0.789474     | 0.900000     | 0.952381     |
| precision  | 0.620690     | 0.345455     | 0.196078     |
| conf_obj   | 0.891555     | 0.910926     | 0.931236     |
| conf_noobj | 0.000882     | 0.000700     | 0.000428     |
+------------+--------------+--------------+--------------+
2020-12-20 13:16:56.034 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.728255
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.250904     | 0.282453     | 0.194899     |
| x          | 0.031044     | 0.013541     | 0.022500     |
| y          | 0.019344     | 0.021540     | 0.016133     |
| w          | 0.022722     | 0.023118     | 0.021550     |
| h          | 0.020610     | 0.019080     | 0.012764     |
| conf       | 0.156358     | 0.195969     | 0.119712     |
| cls        | 0.000826     | 0.009205     | 0.002239     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 0.960000     | 1.000000     |
| recall75   | 0.818182     | 0.760000     | 0.807692     |
| precision  | 0.689655     | 0.347826     | 0.175676     |
| conf_obj   | 0.942067     | 0.935716     | 0.978935     |
| conf_noobj | 0.000528     | 0.000583     | 0.000423     |
+------------+--------------+--------------+--------------+
2020-12-20 13:18:05.648 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.583761
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.153084     | 0.220499     | 0.210178     |
| x          | 0.003282     | 0.004432     | 0.025862     |
| y          | 0.003971     | 0.009301     | 0.032123     |
| w          | 0.016862     | 0.031547     | 0.031777     |
| h          | 0.015925     | 0.023529     | 0.018426     |
| conf       | 0.111258     | 0.150579     | 0.100525     |
| cls        | 0.001786     | 0.001111     | 0.001465     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.968750     | 0.909091     | 0.848485     |
| precision  | 0.842105     | 0.485294     | 0.266129     |
| conf_obj   | 0.975053     | 0.975397     | 0.989220     |
| conf_noobj | 0.000537     | 0.000584     | 0.000410     |
+------------+--------------+--------------+--------------+
2020-12-20 13:19:09.361 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.712644
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.297265     | 0.176245     | 0.239134     |
| x          | 0.002409     | 0.005487     | 0.009475     |
| y          | 0.004056     | 0.009736     | 0.032830     |
| w          | 0.019734     | 0.010626     | 0.007676     |
| h          | 0.025041     | 0.015290     | 0.017337     |
| conf       | 0.244006     | 0.133422     | 0.140937     |
| cls        | 0.002020     | 0.001684     | 0.030879     |
| cls_acc    | 100.00%      | 100.00%      | 95.65%       |
| recall50   | 0.956522     | 1.000000     | 0.956522     |
| recall75   | 0.956522     | 1.000000     | 0.869565     |
| precision  | 0.758621     | 0.547619     | 0.209524     |
| conf_obj   | 0.926893     | 0.962507     | 0.959701     |
| conf_noobj | 0.000496     | 0.000368     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 13:20:15.638 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.696724
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.202029     | 0.217168     | 0.277526     |
| x          | 0.011133     | 0.013737     | 0.036824     |
| y          | 0.002680     | 0.010553     | 0.025630     |
| w          | 0.029664     | 0.033122     | 0.016682     |
| h          | 0.032209     | 0.033118     | 0.017694     |
| conf       | 0.124537     | 0.126297     | 0.180121     |
| cls        | 0.001806     | 0.000341     | 0.000575     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.958333     |
| recall75   | 0.833333     | 0.833333     | 0.833333     |
| precision  | 0.774194     | 0.452830     | 0.166667     |
| conf_obj   | 0.980989     | 0.982123     | 0.938646     |
| conf_noobj | 0.000526     | 0.000455     | 0.000449     |
+------------+--------------+--------------+--------------+
2020-12-20 13:21:23.957 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.606079
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.216579     | 0.201625     | 0.187874     |
| x          | 0.005010     | 0.009964     | 0.018725     |
| y          | 0.002562     | 0.006212     | 0.031953     |
| w          | 0.009616     | 0.010258     | 0.005858     |
| h          | 0.010691     | 0.006761     | 0.004945     |
| conf       | 0.188240     | 0.167847     | 0.125494     |
| cls        | 0.000461     | 0.000583     | 0.000899     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 1.000000     |
| recall75   | 0.960000     | 0.960000     | 1.000000     |
| precision  | 0.750000     | 0.421053     | 0.203252     |
| conf_obj   | 0.932315     | 0.947717     | 0.960544     |
| conf_noobj | 0.000534     | 0.000425     | 0.000313     |
+------------+--------------+--------------+--------------+
2020-12-20 13:22:34.477 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.693610
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.188686     | 0.253655     | 0.251269     |
| x          | 0.012211     | 0.022605     | 0.032231     |
| y          | 0.005343     | 0.017885     | 0.021060     |
| w          | 0.011702     | 0.028872     | 0.012655     |
| h          | 0.015189     | 0.040088     | 0.026508     |
| conf       | 0.141611     | 0.142882     | 0.157266     |
| cls        | 0.002630     | 0.001322     | 0.001548     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.923077     | 1.000000     |
| recall75   | 0.880000     | 0.846154     | 0.821429     |
| precision  | 0.827586     | 0.428571     | 0.212121     |
| conf_obj   | 0.953259     | 0.954868     | 0.943708     |
| conf_noobj | 0.000382     | 0.000360     | 0.000378     |
+------------+--------------+--------------+--------------+
2020-12-20 13:23:43.503 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.919068
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.332132     | 0.325689     | 0.261248     |
| x          | 0.003493     | 0.006915     | 0.014563     |
| y          | 0.004382     | 0.007290     | 0.020078     |
| w          | 0.017623     | 0.010799     | 0.004954     |
| h          | 0.012102     | 0.012329     | 0.005476     |
| conf       | 0.102513     | 0.073350     | 0.074997     |
| cls        | 0.192019     | 0.215006     | 0.141180     |
| cls_acc    | 95.00%       | 95.00%       | 95.00%       |
| recall50   | 0.950000     | 0.950000     | 0.950000     |
| recall75   | 0.850000     | 0.950000     | 0.950000     |
| precision  | 0.730769     | 0.487179     | 0.240506     |
| conf_obj   | 0.966159     | 0.985955     | 0.979141     |
| conf_noobj | 0.000343     | 0.000280     | 0.000222     |
+------------+--------------+--------------+--------------+
2020-12-20 13:24:52.843 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.595689
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.219473     | 0.159268     | 0.216949     |
| x          | 0.006107     | 0.005926     | 0.012179     |
| y          | 0.005086     | 0.008305     | 0.023556     |
| w          | 0.015459     | 0.011151     | 0.009684     |
| h          | 0.019713     | 0.009549     | 0.007500     |
| conf       | 0.165979     | 0.120692     | 0.158720     |
| cls        | 0.007129     | 0.003644     | 0.005310     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.974359     | 1.000000     | 1.000000     |
| recall75   | 0.897436     | 0.975610     | 0.976190     |
| precision  | 0.775510     | 0.532468     | 0.262500     |
| conf_obj   | 0.971150     | 0.984776     | 0.961347     |
| conf_noobj | 0.000630     | 0.000471     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 13:25:58.032 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.684311
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.341536     | 0.180129     | 0.162646     |
| x          | 0.013124     | 0.009812     | 0.018232     |
| y          | 0.004358     | 0.014242     | 0.025364     |
| w          | 0.008182     | 0.010831     | 0.006948     |
| h          | 0.007178     | 0.005847     | 0.007154     |
| conf       | 0.307712     | 0.138656     | 0.104363     |
| cls        | 0.000981     | 0.000740     | 0.000586     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.950000     | 1.000000     |
| recall75   | 0.894737     | 0.900000     | 1.000000     |
| precision  | 0.772727     | 0.593750     | 0.222222     |
| conf_obj   | 0.887319     | 0.934556     | 0.966252     |
| conf_noobj | 0.000420     | 0.000270     | 0.000285     |
+------------+--------------+--------------+--------------+
2020-12-20 13:27:09.565 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.746217
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.245822     | 0.260407     | 0.239988     |
| x          | 0.003833     | 0.015106     | 0.023852     |
| y          | 0.003737     | 0.012262     | 0.023417     |
| w          | 0.027976     | 0.022361     | 0.022317     |
| h          | 0.021191     | 0.018135     | 0.016275     |
| conf       | 0.156436     | 0.185752     | 0.145789     |
| cls        | 0.032650     | 0.006793     | 0.008338     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.962963     | 0.964286     |
| recall75   | 0.925926     | 0.851852     | 0.785714     |
| precision  | 0.812500     | 0.433333     | 0.209302     |
| conf_obj   | 0.941625     | 0.960111     | 0.962669     |
| conf_noobj | 0.000504     | 0.000665     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 13:28:14.014 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.540106
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.191359     | 0.146048     | 0.202699     |
| x          | 0.002199     | 0.005814     | 0.013163     |
| y          | 0.005415     | 0.009485     | 0.027529     |
| w          | 0.018368     | 0.014064     | 0.012282     |
| h          | 0.024663     | 0.018500     | 0.017616     |
| conf       | 0.135115     | 0.097506     | 0.130766     |
| cls        | 0.005600     | 0.000678     | 0.001342     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 0.961538     | 0.961538     |
| precision  | 0.787879     | 0.481481     | 0.192593     |
| conf_obj   | 0.955504     | 0.980118     | 0.962705     |
| conf_noobj | 0.000430     | 0.000378     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 13:29:18.052 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.569811
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.182040     | 0.190782     | 0.196989     |
| x          | 0.006630     | 0.016869     | 0.017924     |
| y          | 0.001825     | 0.008567     | 0.035756     |
| w          | 0.021065     | 0.012440     | 0.009033     |
| h          | 0.012496     | 0.011586     | 0.006499     |
| conf       | 0.135893     | 0.138975     | 0.126127     |
| cls        | 0.004130     | 0.002345     | 0.001648     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.947368     | 0.947368     |
| precision  | 0.642857     | 0.345455     | 0.155738     |
| conf_obj   | 0.982440     | 0.978339     | 0.975335     |
| conf_noobj | 0.000666     | 0.000566     | 0.000485     |
+------------+--------------+--------------+--------------+
2020-12-20 13:30:28.674 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.585657
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.203260     | 0.175422     | 0.206975     |
| x          | 0.002536     | 0.005418     | 0.018352     |
| y          | 0.009466     | 0.014377     | 0.016745     |
| w          | 0.016326     | 0.019859     | 0.012086     |
| h          | 0.015317     | 0.015622     | 0.008179     |
| conf       | 0.157728     | 0.119074     | 0.150535     |
| cls        | 0.001887     | 0.001073     | 0.001079     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.960000     |
| recall75   | 0.920000     | 0.880000     | 0.960000     |
| precision  | 0.714286     | 0.480769     | 0.179104     |
| conf_obj   | 0.954441     | 0.969222     | 0.950601     |
| conf_noobj | 0.000639     | 0.000412     | 0.000381     |
+------------+--------------+--------------+--------------+
2020-12-20 13:30:40.532 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.729
2020-12-20 13:30:40.537 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 13:31:34.954 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07339   | 0.41791 | 0.12486 | 0.21608 |
| 1     | Wear_helmet | 0.53253   | 0.93886 | 0.67959 | 0.89297 |
| 2     | Total       | 0.30296   | 0.67839 | 0.40222 | 0.55453 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:31:34.955 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5545265033434462
2020-12-20 13:31:34.955 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 13:31:34.956 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.418238

2020-12-20 13:31:35.430 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 1/2, epo 2/5
2020-12-20 13:31:35.430 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 1/2, epo 2/5; time cost: 0:15:44.043815

2020-12-20 13:31:35.431 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 1/2, epo 3/5
2020-12-20 13:31:36.755 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.579391
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.233437     | 0.179224     | 0.166730     |
| x          | 0.002894     | 0.007464     | 0.020313     |
| y          | 0.002667     | 0.009354     | 0.034396     |
| w          | 0.015669     | 0.010777     | 0.010238     |
| h          | 0.020035     | 0.015300     | 0.006681     |
| conf       | 0.191867     | 0.136066     | 0.094518     |
| cls        | 0.000305     | 0.000263     | 0.000584     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.954545     | 0.913043     |
| precision  | 0.807692     | 0.468085     | 0.234694     |
| conf_obj   | 0.939389     | 0.970309     | 0.978105     |
| conf_noobj | 0.000529     | 0.000492     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 13:32:41.684 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.443817
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.105088     | 0.106992     | 0.231738     |
| x          | 0.003241     | 0.007633     | 0.012624     |
| y          | 0.008394     | 0.017224     | 0.060306     |
| w          | 0.006527     | 0.006373     | 0.011714     |
| h          | 0.008309     | 0.006965     | 0.009350     |
| conf       | 0.078150     | 0.068449     | 0.137129     |
| cls        | 0.000467     | 0.000349     | 0.000614     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.954545     |
| recall75   | 1.000000     | 1.000000     | 0.863636     |
| precision  | 0.833333     | 0.511628     | 0.262500     |
| conf_obj   | 0.979734     | 0.991566     | 0.951466     |
| conf_noobj | 0.000382     | 0.000334     | 0.000236     |
+------------+--------------+--------------+--------------+
2020-12-20 13:33:41.584 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.004920
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.322777     | 0.281684     | 0.400459     |
| x          | 0.005622     | 0.008483     | 0.019224     |
| y          | 0.008302     | 0.007862     | 0.014521     |
| w          | 0.025756     | 0.018296     | 0.010115     |
| h          | 0.025043     | 0.020990     | 0.012958     |
| conf       | 0.132273     | 0.082446     | 0.106092     |
| cls        | 0.125781     | 0.143608     | 0.237549     |
| cls_acc    | 96.00%       | 96.43%       | 96.55%       |
| recall50   | 0.920000     | 0.964286     | 0.965517     |
| recall75   | 0.760000     | 0.892857     | 0.931035     |
| precision  | 0.821429     | 0.627907     | 0.256881     |
| conf_obj   | 0.958131     | 0.985454     | 0.984583     |
| conf_noobj | 0.000525     | 0.000380     | 0.000438     |
+------------+--------------+--------------+--------------+
2020-12-20 13:34:52.215 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.411634
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.115676     | 0.108553     | 0.187405     |
| x          | 0.004554     | 0.009756     | 0.022189     |
| y          | 0.002205     | 0.009362     | 0.016422     |
| w          | 0.013538     | 0.007666     | 0.009083     |
| h          | 0.008806     | 0.008658     | 0.007995     |
| conf       | 0.084138     | 0.072911     | 0.131322     |
| cls        | 0.002436     | 0.000198     | 0.000394     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.952381     |
| recall75   | 1.000000     | 0.952381     | 0.904762     |
| precision  | 0.840000     | 0.512195     | 0.222222     |
| conf_obj   | 0.992429     | 0.995098     | 0.960555     |
| conf_noobj | 0.000515     | 0.000396     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 13:35:52.603 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.420902
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.132549     | 0.146531     | 0.141821     |
| x          | 0.004761     | 0.012379     | 0.026798     |
| y          | 0.004998     | 0.009494     | 0.024427     |
| w          | 0.023660     | 0.015275     | 0.007378     |
| h          | 0.013883     | 0.016580     | 0.008915     |
| conf       | 0.076170     | 0.087391     | 0.073158     |
| cls        | 0.009078     | 0.005413     | 0.001144     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.904762     | 0.952381     |
| precision  | 0.807692     | 0.538462     | 0.230769     |
| conf_obj   | 0.982427     | 0.972207     | 0.979691     |
| conf_noobj | 0.000342     | 0.000296     | 0.000232     |
+------------+--------------+--------------+--------------+
2020-12-20 13:36:54.166 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.685064
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.311650     | 0.189505     | 0.183909     |
| x          | 0.002994     | 0.004874     | 0.011481     |
| y          | 0.005728     | 0.007560     | 0.024198     |
| w          | 0.017899     | 0.008983     | 0.007104     |
| h          | 0.014838     | 0.010419     | 0.005581     |
| conf       | 0.262062     | 0.156204     | 0.131509     |
| cls        | 0.008130     | 0.001465     | 0.004037     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 1.000000     |
| recall75   | 0.935484     | 0.968750     | 0.937500     |
| precision  | 0.789474     | 0.592593     | 0.253968     |
| conf_obj   | 0.914019     | 0.956787     | 0.976659     |
| conf_noobj | 0.000610     | 0.000512     | 0.000504     |
+------------+--------------+--------------+--------------+
2020-12-20 13:37:56.807 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.864638
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.375267     | 0.276965     | 0.212405     |
| x          | 0.007746     | 0.016581     | 0.016496     |
| y          | 0.004621     | 0.010149     | 0.021157     |
| w          | 0.033193     | 0.031875     | 0.017314     |
| h          | 0.084443     | 0.057778     | 0.022879     |
| conf       | 0.241382     | 0.151844     | 0.132279     |
| cls        | 0.003882     | 0.008738     | 0.002280     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.950000     | 1.000000     |
| recall75   | 0.947368     | 0.750000     | 0.950000     |
| precision  | 0.720000     | 0.431818     | 0.192308     |
| conf_obj   | 0.884239     | 0.948768     | 0.954790     |
| conf_noobj | 0.000384     | 0.000377     | 0.000367     |
+------------+--------------+--------------+--------------+
2020-12-20 13:38:58.236 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.654499
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.284312     | 0.195036     | 0.175151     |
| x          | 0.010494     | 0.011966     | 0.012289     |
| y          | 0.004612     | 0.006964     | 0.012021     |
| w          | 0.021944     | 0.016758     | 0.007415     |
| h          | 0.022326     | 0.011643     | 0.006817     |
| conf       | 0.218734     | 0.144794     | 0.127786     |
| cls        | 0.006203     | 0.002911     | 0.008823     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 0.968750     |
| recall75   | 0.967742     | 0.903226     | 0.906250     |
| precision  | 0.750000     | 0.492063     | 0.234848     |
| conf_obj   | 0.960880     | 0.980536     | 0.968006     |
| conf_noobj | 0.000791     | 0.000553     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 13:40:01.199 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.708812
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.225786     | 0.186980     | 0.296047     |
| x          | 0.005085     | 0.007883     | 0.028349     |
| y          | 0.003430     | 0.009082     | 0.017594     |
| w          | 0.019838     | 0.018555     | 0.009283     |
| h          | 0.018288     | 0.017689     | 0.008616     |
| conf       | 0.141939     | 0.121239     | 0.227248     |
| cls        | 0.037206     | 0.012532     | 0.004957     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.935484     |
| recall75   | 0.866667     | 0.870968     | 0.903226     |
| precision  | 0.833333     | 0.534483     | 0.230159     |
| conf_obj   | 0.975675     | 0.975314     | 0.918861     |
| conf_noobj | 0.000558     | 0.000518     | 0.000515     |
+------------+--------------+--------------+--------------+
2020-12-20 13:41:10.984 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.715024
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.215137     | 0.202843     | 0.297043     |
| x          | 0.004824     | 0.011618     | 0.031105     |
| y          | 0.008800     | 0.014380     | 0.032659     |
| w          | 0.024299     | 0.028566     | 0.022956     |
| h          | 0.024591     | 0.021641     | 0.016863     |
| conf       | 0.151580     | 0.124989     | 0.191779     |
| cls        | 0.001042     | 0.001649     | 0.001680     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.928571     |
| recall75   | 0.842105     | 0.794872     | 0.833333     |
| precision  | 0.791667     | 0.557143     | 0.232143     |
| conf_obj   | 0.980075     | 0.972704     | 0.944816     |
| conf_noobj | 0.000782     | 0.000510     | 0.000533     |
+------------+--------------+--------------+--------------+
2020-12-20 13:42:16.508 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.042797
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.204844     | 0.432416     | 0.405537     |
| x          | 0.001955     | 0.014293     | 0.023006     |
| y          | 0.007998     | 0.011572     | 0.028109     |
| w          | 0.028115     | 0.026107     | 0.020788     |
| h          | 0.011728     | 0.014632     | 0.012184     |
| conf       | 0.107708     | 0.302681     | 0.268410     |
| cls        | 0.047341     | 0.063132     | 0.053039     |
| cls_acc    | 94.74%       | 94.74%       | 94.74%       |
| recall50   | 0.947368     | 0.894737     | 0.894737     |
| recall75   | 0.894737     | 0.842105     | 0.842105     |
| precision  | 0.782609     | 0.320755     | 0.134921     |
| conf_obj   | 0.963825     | 0.903249     | 0.930651     |
| conf_noobj | 0.000366     | 0.000535     | 0.000450     |
+------------+--------------+--------------+--------------+
2020-12-20 13:43:23.116 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.986407
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.330261     | 0.271893     | 0.384253     |
| x          | 0.003025     | 0.010745     | 0.023256     |
| y          | 0.006832     | 0.028405     | 0.042835     |
| w          | 0.021558     | 0.022020     | 0.007484     |
| h          | 0.018082     | 0.020236     | 0.007361     |
| conf       | 0.150879     | 0.150095     | 0.223299     |
| cls        | 0.129884     | 0.040392     | 0.080018     |
| cls_acc    | 94.12%       | 100.00%      | 94.12%       |
| recall50   | 0.941176     | 1.000000     | 0.882353     |
| recall75   | 0.882353     | 0.882353     | 0.882353     |
| precision  | 0.592593     | 0.320755     | 0.120000     |
| conf_obj   | 0.980192     | 0.980380     | 0.924559     |
| conf_noobj | 0.000837     | 0.000661     | 0.000561     |
+------------+--------------+--------------+--------------+
2020-12-20 13:44:32.456 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.449928
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.172042     | 0.125738     | 0.152148     |
| x          | 0.004541     | 0.004231     | 0.014028     |
| y          | 0.004173     | 0.011603     | 0.016462     |
| w          | 0.019975     | 0.018824     | 0.014640     |
| h          | 0.011530     | 0.012209     | 0.011857     |
| conf       | 0.130771     | 0.077517     | 0.094877     |
| cls        | 0.001052     | 0.001353     | 0.000284     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.954545     | 0.863636     |
| precision  | 0.733333     | 0.523810     | 0.200000     |
| conf_obj   | 0.977272     | 0.985180     | 0.986819     |
| conf_noobj | 0.000518     | 0.000321     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 13:45:48.716 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.592828
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.179315     | 0.195994     | 0.217519     |
| x          | 0.009639     | 0.009001     | 0.015312     |
| y          | 0.002261     | 0.005875     | 0.019129     |
| w          | 0.025339     | 0.023778     | 0.012415     |
| h          | 0.015730     | 0.020486     | 0.015919     |
| conf       | 0.123941     | 0.135249     | 0.153896     |
| cls        | 0.002406     | 0.001605     | 0.000847     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.969697     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 0.857143     | 0.916667     |
| precision  | 0.888889     | 0.583333     | 0.283465     |
| conf_obj   | 0.970319     | 0.966449     | 0.955021     |
| conf_noobj | 0.000357     | 0.000441     | 0.000446     |
+------------+--------------+--------------+--------------+
2020-12-20 13:45:58.149 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.746
2020-12-20 13:45:58.152 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 13:46:55.858 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.07852   | 0.49751 | 0.13564 | 0.27115 |
| 1     | Wear_helmet | 0.51295   | 0.91991 | 0.65864 | 0.87678 |
| 2     | Total       | 0.29574   | 0.70871 | 0.39714 | 0.57397 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 13:46:55.858 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5739670366927222
2020-12-20 13:46:55.859 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 13:46:55.859 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.706538

2020-12-20 13:46:56.448 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 1/2, epo 3/5
2020-12-20 13:46:56.449 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 1/2, epo 3/5; time cost: 0:15:21.017826

2020-12-20 13:46:56.449 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 1/2, epo 4/5
2020-12-20 13:46:57.760 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 1.013857
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.491337     | 0.275593     | 0.246927     |
| x          | 0.002564     | 0.008359     | 0.010375     |
| y          | 0.002126     | 0.003704     | 0.013165     |
| w          | 0.043382     | 0.033987     | 0.042396     |
| h          | 0.041810     | 0.039753     | 0.032687     |
| conf       | 0.375717     | 0.187875     | 0.147765     |
| cls        | 0.025737     | 0.001914     | 0.000539     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 1.000000     | 0.923077     |
| recall75   | 0.846154     | 0.923077     | 0.923077     |
| precision  | 0.387097     | 0.265306     | 0.104348     |
| conf_obj   | 0.918399     | 0.958455     | 0.967374     |
| conf_noobj | 0.001321     | 0.000622     | 0.000465     |
+------------+--------------+--------------+--------------+
2020-12-20 13:48:08.050 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.463500
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.137818     | 0.175641     | 0.150041     |
| x          | 0.003976     | 0.008889     | 0.022068     |
| y          | 0.003857     | 0.007427     | 0.031641     |
| w          | 0.008907     | 0.005792     | 0.005462     |
| h          | 0.008485     | 0.004780     | 0.006430     |
| conf       | 0.108613     | 0.148395     | 0.084065     |
| cls        | 0.003980     | 0.000359     | 0.000375     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 1.000000     | 0.916667     |
| precision  | 0.785714     | 0.436364     | 0.222222     |
| conf_obj   | 0.963776     | 0.950594     | 0.979457     |
| conf_noobj | 0.000392     | 0.000433     | 0.000280     |
+------------+--------------+--------------+--------------+
2020-12-20 13:49:15.121 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.789330
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.349320     | 0.240376     | 0.199634     |
| x          | 0.004857     | 0.009598     | 0.021812     |
| y          | 0.006041     | 0.014488     | 0.020590     |
| w          | 0.022835     | 0.030440     | 0.012316     |
| h          | 0.023214     | 0.025693     | 0.012502     |
| conf       | 0.251223     | 0.150483     | 0.106592     |
| cls        | 0.041149     | 0.009674     | 0.025821     |
| cls_acc    | 95.24%       | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.909091     | 1.000000     |
| recall75   | 0.809524     | 0.772727     | 0.826087     |
| precision  | 0.760000     | 0.416667     | 0.203540     |
| conf_obj   | 0.910771     | 0.953469     | 0.978877     |
| conf_noobj | 0.000586     | 0.000467     | 0.000383     |
+------------+--------------+--------------+--------------+
2020-12-20 13:50:15.829 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.739737
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.303665     | 0.225562     | 0.210511     |
| x          | 0.005802     | 0.008171     | 0.011654     |
| y          | 0.006974     | 0.013389     | 0.030677     |
| w          | 0.052145     | 0.037692     | 0.037874     |
| h          | 0.036295     | 0.023145     | 0.023496     |
| conf       | 0.195626     | 0.141322     | 0.100761     |
| cls        | 0.006823     | 0.001843     | 0.006048     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.777778     | 0.722222     |
| precision  | 0.666667     | 0.418605     | 0.202247     |
| conf_obj   | 0.952098     | 0.962361     | 0.984891     |
| conf_noobj | 0.000768     | 0.000506     | 0.000405     |
+------------+--------------+--------------+--------------+
2020-12-20 13:51:23.755 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.420710
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.157608     | 0.136268     | 0.126833     |
| x          | 0.002494     | 0.003970     | 0.012488     |
| y          | 0.001838     | 0.007745     | 0.028529     |
| w          | 0.007588     | 0.009429     | 0.002725     |
| h          | 0.006169     | 0.002806     | 0.003517     |
| conf       | 0.139195     | 0.111620     | 0.079273     |
| cls        | 0.000325     | 0.000697     | 0.000301     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.750000     | 0.375000     | 0.208333     |
| conf_obj   | 0.951752     | 0.974909     | 0.980730     |
| conf_noobj | 0.000381     | 0.000354     | 0.000265     |
+------------+--------------+--------------+--------------+
2020-12-20 13:52:30.192 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.456628
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.127930     | 0.188866     | 0.139832     |
| x          | 0.017599     | 0.014154     | 0.020849     |
| y          | 0.010736     | 0.028918     | 0.018483     |
| w          | 0.038000     | 0.042825     | 0.015150     |
| h          | 0.021690     | 0.032250     | 0.013275     |
| conf       | 0.039014     | 0.069690     | 0.069356     |
| cls        | 0.000892     | 0.001029     | 0.002718     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.956522     | 1.000000     |
| recall75   | 0.863636     | 0.869565     | 0.916667     |
| precision  | 0.840000     | 0.488889     | 0.255319     |
| conf_obj   | 0.988977     | 0.984330     | 0.988423     |
| conf_noobj | 0.000192     | 0.000253     | 0.000221     |
+------------+--------------+--------------+--------------+
2020-12-20 13:53:37.844 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.550834
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.170777     | 0.203148     | 0.176909     |
| x          | 0.007910     | 0.010070     | 0.019021     |
| y          | 0.007997     | 0.015477     | 0.026237     |
| w          | 0.025634     | 0.019794     | 0.007946     |
| h          | 0.009557     | 0.008071     | 0.007546     |
| conf       | 0.118420     | 0.148335     | 0.112456     |
| cls        | 0.001259     | 0.001401     | 0.003702     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.944444     | 1.000000     |
| precision  | 0.782609     | 0.428571     | 0.173077     |
| conf_obj   | 0.972319     | 0.960860     | 0.985220     |
| conf_noobj | 0.000460     | 0.000492     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 13:54:41.416 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.607734
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.247047     | 0.169314     | 0.191373     |
| x          | 0.005281     | 0.011229     | 0.017336     |
| y          | 0.008235     | 0.018827     | 0.031403     |
| w          | 0.023776     | 0.023580     | 0.017902     |
| h          | 0.014516     | 0.011082     | 0.005708     |
| conf       | 0.194573     | 0.103638     | 0.117495     |
| cls        | 0.000665     | 0.000957     | 0.001528     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.904762     | 0.952381     |
| precision  | 0.840000     | 0.538462     | 0.205882     |
| conf_obj   | 0.909975     | 0.957477     | 0.957797     |
| conf_noobj | 0.000406     | 0.000299     | 0.000328     |
+------------+--------------+--------------+--------------+
2020-12-20 13:55:49.584 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.119914
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.341586     | 0.326048     | 0.452280     |
| x          | 0.005937     | 0.015478     | 0.042260     |
| y          | 0.002410     | 0.006969     | 0.015831     |
| w          | 0.032579     | 0.033056     | 0.029128     |
| h          | 0.041813     | 0.035780     | 0.018248     |
| conf       | 0.201209     | 0.170547     | 0.313191     |
| cls        | 0.057638     | 0.064218     | 0.033621     |
| cls_acc    | 96.77%       | 93.94%       | 100.00%      |
| recall50   | 0.903226     | 0.939394     | 0.941176     |
| recall75   | 0.903226     | 0.818182     | 0.794118     |
| precision  | 0.756757     | 0.430556     | 0.213333     |
| conf_obj   | 0.950636     | 0.975726     | 0.924174     |
| conf_noobj | 0.000684     | 0.000650     | 0.000449     |
+------------+--------------+--------------+--------------+
2020-12-20 13:56:55.918 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.814394
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.245662     | 0.302982     | 0.265751     |
| x          | 0.007579     | 0.030111     | 0.019003     |
| y          | 0.004199     | 0.009015     | 0.034408     |
| w          | 0.030335     | 0.039291     | 0.018303     |
| h          | 0.035159     | 0.024016     | 0.014335     |
| conf       | 0.137594     | 0.179675     | 0.140425     |
| cls        | 0.030795     | 0.020875     | 0.039277     |
| cls_acc    | 95.83%       | 100.00%      | 96.00%       |
| recall50   | 0.958333     | 0.920000     | 0.960000     |
| recall75   | 0.791667     | 0.840000     | 0.840000     |
| precision  | 0.766667     | 0.389830     | 0.156863     |
| conf_obj   | 0.967414     | 0.943281     | 0.965501     |
| conf_noobj | 0.000502     | 0.000528     | 0.000479     |
+------------+--------------+--------------+--------------+
2020-12-20 13:58:03.865 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.793036
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.278142     | 0.261436     | 0.253459     |
| x          | 0.014772     | 0.007972     | 0.018052     |
| y          | 0.003700     | 0.004530     | 0.009827     |
| w          | 0.026165     | 0.018267     | 0.014529     |
| h          | 0.022077     | 0.018252     | 0.013112     |
| conf       | 0.184260     | 0.185623     | 0.191349     |
| cls        | 0.027167     | 0.026790     | 0.006590     |
| cls_acc    | 97.56%       | 100.00%      | 100.00%      |
| recall50   | 0.926829     | 1.000000     | 1.000000     |
| recall75   | 0.756098     | 0.952381     | 0.909091     |
| precision  | 0.791667     | 0.446809     | 0.209524     |
| conf_obj   | 0.940427     | 0.962236     | 0.949027     |
| conf_noobj | 0.000479     | 0.000698     | 0.000574     |
+------------+--------------+--------------+--------------+
2020-12-20 13:59:05.168 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.709035
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.283861     | 0.164239     | 0.260934     |
| x          | 0.018120     | 0.021941     | 0.029960     |
| y          | 0.008911     | 0.011159     | 0.022954     |
| w          | 0.012441     | 0.009379     | 0.015289     |
| h          | 0.011915     | 0.015560     | 0.020509     |
| conf       | 0.231685     | 0.105230     | 0.170691     |
| cls        | 0.000789     | 0.000971     | 0.001531     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.850000     | 0.954545     | 0.960000     |
| recall75   | 0.650000     | 0.681818     | 0.720000     |
| precision  | 0.708333     | 0.538462     | 0.263736     |
| conf_obj   | 0.945141     | 0.969957     | 0.955144     |
| conf_noobj | 0.000461     | 0.000360     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 14:00:12.254 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.368115
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.140740     | 0.119598     | 0.107777     |
| x          | 0.001268     | 0.003333     | 0.011716     |
| y          | 0.002661     | 0.006472     | 0.014470     |
| w          | 0.018120     | 0.010052     | 0.009312     |
| h          | 0.011945     | 0.007432     | 0.007636     |
| conf       | 0.104588     | 0.091193     | 0.063687     |
| cls        | 0.002159     | 0.001115     | 0.000956     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.846154     | 0.468085     | 0.258824     |
| conf_obj   | 0.961840     | 0.977006     | 0.991079     |
| conf_noobj | 0.000366     | 0.000354     | 0.000257     |
+------------+--------------+--------------+--------------+
2020-12-20 14:01:20.882 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.647629
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.203831     | 0.177404     | 0.266394     |
| x          | 0.009796     | 0.012328     | 0.017280     |
| y          | 0.003910     | 0.007686     | 0.014647     |
| w          | 0.028667     | 0.021537     | 0.022847     |
| h          | 0.022730     | 0.026244     | 0.025283     |
| conf       | 0.124433     | 0.106221     | 0.183102     |
| cls        | 0.014295     | 0.003388     | 0.003236     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 0.928571     |
| recall75   | 0.920000     | 0.892857     | 0.821429     |
| precision  | 0.833333     | 0.551020     | 0.234234     |
| conf_obj   | 0.977858     | 0.974833     | 0.935223     |
| conf_noobj | 0.000549     | 0.000425     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 14:01:30.384 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.741
2020-12-20 14:01:30.389 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 14:02:22.791 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11649   | 0.48507 | 0.18786 | 0.29617 |
| 1     | Wear_helmet | 0.56464   | 0.93981 | 0.70544 | 0.89222 |
| 2     | Total       | 0.34056   | 0.71244 | 0.44665 | 0.59419 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:02:22.792 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5941939399209406
2020-12-20 14:02:22.793 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 14:02:22.794 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:52.404091

2020-12-20 14:02:23.326 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 1/2, epo 4/5
2020-12-20 14:02:23.326 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 1/2, epo 4/5; time cost: 0:15:26.876889

2020-12-20 14:02:23.326 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 16/20, idx 1/2, epo 5/5
2020-12-20 14:02:24.348 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.868160
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.253480     | 0.249207     | 0.365473     |
| x          | 0.005287     | 0.009996     | 0.027746     |
| y          | 0.004587     | 0.006506     | 0.026588     |
| w          | 0.037822     | 0.026625     | 0.017248     |
| h          | 0.024286     | 0.025371     | 0.020404     |
| conf       | 0.173541     | 0.179237     | 0.271616     |
| cls        | 0.007956     | 0.001470     | 0.001871     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.916667     |
| recall75   | 0.914286     | 0.861111     | 0.722222     |
| precision  | 0.875000     | 0.545455     | 0.206250     |
| conf_obj   | 0.928850     | 0.959393     | 0.903802     |
| conf_noobj | 0.000496     | 0.000539     | 0.000563     |
+------------+--------------+--------------+--------------+
2020-12-20 14:03:31.027 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.740042
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.268058     | 0.267930     | 0.204054     |
| x          | 0.011345     | 0.012930     | 0.020730     |
| y          | 0.007633     | 0.014780     | 0.029997     |
| w          | 0.027876     | 0.019500     | 0.021365     |
| h          | 0.025582     | 0.030176     | 0.024007     |
| conf       | 0.094683     | 0.130560     | 0.094688     |
| cls        | 0.100940     | 0.059983     | 0.013267     |
| cls_acc    | 93.55%       | 96.88%       | 100.00%      |
| recall50   | 0.903226     | 0.937500     | 1.000000     |
| recall75   | 0.741935     | 0.812500     | 0.794118     |
| precision  | 0.800000     | 0.461538     | 0.259542     |
| conf_obj   | 0.958849     | 0.959760     | 0.978212     |
| conf_noobj | 0.000303     | 0.000453     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 14:04:36.474 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.299193
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.058544     | 0.079878     | 0.160771     |
| x          | 0.001417     | 0.004908     | 0.013287     |
| y          | 0.002435     | 0.006859     | 0.014290     |
| w          | 0.012436     | 0.010023     | 0.006780     |
| h          | 0.008850     | 0.009323     | 0.006810     |
| conf       | 0.030528     | 0.039236     | 0.116046     |
| cls        | 0.002879     | 0.009529     | 0.003558     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.937500     |
| recall75   | 1.000000     | 1.000000     | 0.875000     |
| precision  | 0.842105     | 0.516129     | 0.250000     |
| conf_obj   | 0.995689     | 0.990713     | 0.957216     |
| conf_noobj | 0.000190     | 0.000182     | 0.000206     |
+------------+--------------+--------------+--------------+
2020-12-20 14:05:43.187 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.557513
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.167588     | 0.225113     | 0.164812     |
| x          | 0.002955     | 0.004077     | 0.015842     |
| y          | 0.003283     | 0.007803     | 0.020990     |
| w          | 0.007212     | 0.005283     | 0.003299     |
| h          | 0.007687     | 0.006642     | 0.006158     |
| conf       | 0.144603     | 0.199836     | 0.117859     |
| cls        | 0.001848     | 0.001471     | 0.000664     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.964286     | 1.000000     |
| recall75   | 1.000000     | 0.928571     | 0.964286     |
| precision  | 0.823529     | 0.415385     | 0.252252     |
| conf_obj   | 0.973787     | 0.948336     | 0.982352     |
| conf_noobj | 0.000785     | 0.000672     | 0.000447     |
+------------+--------------+--------------+--------------+
2020-12-20 14:06:52.747 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.518407
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.162454     | 0.197203     | 0.158750     |
| x          | 0.007999     | 0.038870     | 0.030126     |
| y          | 0.005049     | 0.009662     | 0.028326     |
| w          | 0.010124     | 0.004366     | 0.023038     |
| h          | 0.021981     | 0.014934     | 0.011421     |
| conf       | 0.116873     | 0.128482     | 0.065376     |
| cls        | 0.000428     | 0.000889     | 0.000463     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.923077     | 0.928571     |
| recall75   | 0.846154     | 0.846154     | 0.857143     |
| precision  | 0.684211     | 0.279070     | 0.228070     |
| conf_obj   | 0.974358     | 0.964727     | 0.988990     |
| conf_noobj | 0.000351     | 0.000405     | 0.000217     |
+------------+--------------+--------------+--------------+
2020-12-20 14:07:55.054 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.456299
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.183100     | 0.144244     | 0.128956     |
| x          | 0.001447     | 0.004780     | 0.021567     |
| y          | 0.013711     | 0.007045     | 0.021485     |
| w          | 0.006866     | 0.008352     | 0.005688     |
| h          | 0.009152     | 0.005600     | 0.005212     |
| conf       | 0.151090     | 0.117191     | 0.074376     |
| cls        | 0.000834     | 0.001275     | 0.000629     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 1.000000     |
| precision  | 0.666667     | 0.418605     | 0.183673     |
| conf_obj   | 0.957292     | 0.965782     | 0.988242     |
| conf_noobj | 0.000540     | 0.000382     | 0.000262     |
+------------+--------------+--------------+--------------+
2020-12-20 14:08:58.833 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.491103
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.192902     | 0.154197     | 0.144004     |
| x          | 0.002255     | 0.008186     | 0.026019     |
| y          | 0.011673     | 0.010142     | 0.022705     |
| w          | 0.008611     | 0.006491     | 0.006894     |
| h          | 0.011323     | 0.015668     | 0.010248     |
| conf       | 0.156089     | 0.111395     | 0.076906     |
| cls        | 0.002951     | 0.002316     | 0.001231     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 0.952381     | 0.952381     |
| precision  | 0.714286     | 0.375000     | 0.221053     |
| conf_obj   | 0.959584     | 0.978889     | 0.984377     |
| conf_noobj | 0.000577     | 0.000431     | 0.000280     |
+------------+--------------+--------------+--------------+
2020-12-20 14:10:05.317 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.418746
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.134323     | 0.135553     | 0.148870     |
| x          | 0.006054     | 0.008998     | 0.018793     |
| y          | 0.004002     | 0.009822     | 0.021690     |
| w          | 0.023289     | 0.011219     | 0.009144     |
| h          | 0.012840     | 0.016250     | 0.008562     |
| conf       | 0.087012     | 0.087572     | 0.089916     |
| cls        | 0.001126     | 0.001692     | 0.000765     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.904762     | 1.000000     |
| precision  | 0.769231     | 0.500000     | 0.218750     |
| conf_obj   | 0.980254     | 0.982884     | 0.985263     |
| conf_noobj | 0.000422     | 0.000395     | 0.000377     |
+------------+--------------+--------------+--------------+
2020-12-20 14:11:09.132 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.601789
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.224574     | 0.179799     | 0.197417     |
| x          | 0.002458     | 0.013533     | 0.014177     |
| y          | 0.002698     | 0.004609     | 0.018341     |
| w          | 0.018463     | 0.015360     | 0.004250     |
| h          | 0.006991     | 0.012709     | 0.005927     |
| conf       | 0.193650     | 0.133297     | 0.154505     |
| cls        | 0.000314     | 0.000293     | 0.000217     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 0.875000     | 1.000000     |
| precision  | 0.696970     | 0.436364     | 0.181818     |
| conf_obj   | 0.944427     | 0.969005     | 0.939975     |
| conf_noobj | 0.000588     | 0.000429     | 0.000373     |
+------------+--------------+--------------+--------------+
2020-12-20 14:12:16.121 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.508661
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.190175     | 0.160140     | 0.158345     |
| x          | 0.009244     | 0.014655     | 0.022436     |
| y          | 0.006815     | 0.004677     | 0.020463     |
| w          | 0.007775     | 0.013947     | 0.008684     |
| h          | 0.015018     | 0.029954     | 0.015879     |
| conf       | 0.145390     | 0.088045     | 0.086551     |
| cls        | 0.005933     | 0.008862     | 0.004332     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 1.000000     | 0.952381     |
| recall75   | 0.888889     | 0.904762     | 0.904762     |
| precision  | 0.708333     | 0.567568     | 0.266667     |
| conf_obj   | 0.956460     | 0.975563     | 0.978936     |
| conf_noobj | 0.000482     | 0.000328     | 0.000276     |
+------------+--------------+--------------+--------------+
2020-12-20 14:13:16.263 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.317811
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.081950     | 0.119151     | 0.116710     |
| x          | 0.003060     | 0.006418     | 0.018185     |
| y          | 0.002036     | 0.002543     | 0.007622     |
| w          | 0.025436     | 0.018110     | 0.011930     |
| h          | 0.016228     | 0.015281     | 0.007875     |
| conf       | 0.034889     | 0.076617     | 0.070823     |
| cls        | 0.000301     | 0.000182     | 0.000276     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.882353     | 0.941176     |
| precision  | 0.894737     | 0.607143     | 0.274194     |
| conf_obj   | 0.993602     | 0.978075     | 0.992347     |
| conf_noobj | 0.000213     | 0.000240     | 0.000279     |
+------------+--------------+--------------+--------------+
2020-12-20 14:14:25.136 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 2.398133
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.717472     | 0.865214     | 0.815446     |
| x          | 0.004573     | 0.013064     | 0.011228     |
| y          | 0.003186     | 0.006081     | 0.018877     |
| w          | 0.025599     | 0.025622     | 0.012394     |
| h          | 0.036639     | 0.041707     | 0.027889     |
| conf       | 0.165255     | 0.286064     | 0.269570     |
| cls        | 0.482221     | 0.492676     | 0.475489     |
| cls_acc    | 89.19%       | 89.74%       | 90.00%       |
| recall50   | 0.864865     | 0.846154     | 0.875000     |
| recall75   | 0.810811     | 0.743590     | 0.700000     |
| precision  | 0.780488     | 0.485294     | 0.203488     |
| conf_obj   | 0.955600     | 0.930424     | 0.947705     |
| conf_noobj | 0.000486     | 0.000398     | 0.000422     |
+------------+--------------+--------------+--------------+
2020-12-20 14:15:29.348 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.423373
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.100818     | 0.153747     | 0.168807     |
| x          | 0.005547     | 0.008756     | 0.020983     |
| y          | 0.003990     | 0.005974     | 0.027706     |
| w          | 0.022778     | 0.031253     | 0.019706     |
| h          | 0.014698     | 0.017908     | 0.016531     |
| conf       | 0.049987     | 0.086075     | 0.081962     |
| cls        | 0.003819     | 0.003782     | 0.001919     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.882353     | 0.944444     | 0.842105     |
| precision  | 0.850000     | 0.439024     | 0.240506     |
| conf_obj   | 0.994183     | 0.988016     | 0.983944     |
| conf_noobj | 0.000289     | 0.000337     | 0.000293     |
+------------+--------------+--------------+--------------+
2020-12-20 14:16:41.143 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.809087
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.323780     | 0.259379     | 0.225928     |
| x          | 0.030043     | 0.024994     | 0.030967     |
| y          | 0.002426     | 0.006271     | 0.014241     |
| w          | 0.040354     | 0.038352     | 0.014256     |
| h          | 0.034439     | 0.031695     | 0.018483     |
| conf       | 0.190538     | 0.152139     | 0.143704     |
| cls        | 0.025980     | 0.005928     | 0.004277     |
| cls_acc    | 96.97%       | 100.00%      | 100.00%      |
| recall50   | 0.878788     | 0.944444     | 1.000000     |
| recall75   | 0.727273     | 0.777778     | 0.710526     |
| precision  | 0.707317     | 0.523077     | 0.242038     |
| conf_obj   | 0.932828     | 0.957389     | 0.974349     |
| conf_noobj | 0.000614     | 0.000445     | 0.000498     |
+------------+--------------+--------------+--------------+
2020-12-20 14:16:52.334 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.675
2020-12-20 14:16:52.338 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 14:17:53.458 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.15437   | 0.45274 | 0.23023 | 0.24434 |
| 1     | Wear_helmet | 0.40849   | 0.95735 | 0.57264 | 0.90583 |
| 2     | Total       | 0.28143   | 0.70504 | 0.40144 | 0.57509 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:17:53.459 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5750867375895103
2020-12-20 14:17:53.460 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 14:17:53.460 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.121111

2020-12-20 14:17:54.003 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 16/20, idx 1/2, epo 5/5
2020-12-20 14:17:54.003 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 16/20, idx 1/2, epo 5/5; time cost: 0:15:30.676114

2020-12-20 14:17:54.003 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.726
2020-12-20 14:17:54.288 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 14:21:35.125 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.18792   | 0.55762 | 0.28111 | 0.41572 |
| 1     | Wear_helmet | 0.43910   | 0.94086 | 0.59876 | 0.88506 |
| 2     | Total       | 0.31351   | 0.74924 | 0.43994 | 0.65039 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:21:35.125 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6503921619694399
2020-12-20 14:21:35.126 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 14:21:35.126 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:40.837311

2020-12-20 14:21:40.709 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 17!
2020-12-20 14:21:40.836 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 1/2, epo 1/5
2020-12-20 14:21:42.406 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.685423
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.265201     | 0.216018     | 0.204204     |
| x          | 0.002735     | 0.003172     | 0.010697     |
| y          | 0.003658     | 0.011842     | 0.024727     |
| w          | 0.017897     | 0.017874     | 0.013962     |
| h          | 0.022682     | 0.020198     | 0.016986     |
| conf       | 0.207455     | 0.154553     | 0.128731     |
| cls        | 0.010775     | 0.008380     | 0.009100     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.970588     | 1.000000     |
| recall75   | 0.941176     | 0.882353     | 0.911765     |
| precision  | 0.785714     | 0.464789     | 0.226667     |
| conf_obj   | 0.946499     | 0.966888     | 0.972933     |
| conf_noobj | 0.000584     | 0.000498     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 14:22:47.643 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.645847
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.295618     | 0.183440     | 0.166790     |
| x          | 0.009167     | 0.005295     | 0.020295     |
| y          | 0.001594     | 0.008179     | 0.027420     |
| w          | 0.013843     | 0.013719     | 0.008439     |
| h          | 0.008734     | 0.013328     | 0.008282     |
| conf       | 0.262124     | 0.142795     | 0.102225     |
| cls        | 0.000156     | 0.000123     | 0.000130     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.954545     | 1.000000     |
| recall75   | 0.850000     | 0.954545     | 0.954545     |
| precision  | 0.760000     | 0.446809     | 0.289474     |
| conf_obj   | 0.929455     | 0.962755     | 0.978837     |
| conf_noobj | 0.000527     | 0.000426     | 0.000306     |
+------------+--------------+--------------+--------------+
2020-12-20 14:23:52.900 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.574977
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.213678     | 0.214743     | 0.146556     |
| x          | 0.013064     | 0.004189     | 0.021079     |
| y          | 0.011849     | 0.004844     | 0.008802     |
| w          | 0.017691     | 0.009330     | 0.012794     |
| h          | 0.011936     | 0.009374     | 0.009294     |
| conf       | 0.153173     | 0.168335     | 0.088517     |
| cls        | 0.005965     | 0.018672     | 0.006069     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.904762     | 0.954545     | 1.000000     |
| recall75   | 0.904762     | 0.954545     | 0.909091     |
| precision  | 0.730769     | 0.512195     | 0.231579     |
| conf_obj   | 0.942022     | 0.930594     | 0.976658     |
| conf_noobj | 0.000356     | 0.000302     | 0.000279     |
+------------+--------------+--------------+--------------+
2020-12-20 14:24:55.790 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.879141
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.308169     | 0.353906     | 0.217066     |
| x          | 0.004376     | 0.007086     | 0.022945     |
| y          | 0.005352     | 0.014171     | 0.036237     |
| w          | 0.026322     | 0.023510     | 0.015439     |
| h          | 0.020398     | 0.011768     | 0.012282     |
| conf       | 0.251258     | 0.296201     | 0.129482     |
| cls        | 0.000464     | 0.001171     | 0.000680     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.968750     | 0.968750     |
| recall75   | 0.935484     | 0.875000     | 0.843750     |
| precision  | 0.769231     | 0.413333     | 0.240310     |
| conf_obj   | 0.909173     | 0.922874     | 0.962101     |
| conf_noobj | 0.000554     | 0.000463     | 0.000350     |
+------------+--------------+--------------+--------------+
2020-12-20 14:26:06.091 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.793972
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.323137     | 0.232856     | 0.237979     |
| x          | 0.008754     | 0.005930     | 0.010731     |
| y          | 0.007545     | 0.009364     | 0.022783     |
| w          | 0.021982     | 0.014445     | 0.011326     |
| h          | 0.029493     | 0.023197     | 0.021473     |
| conf       | 0.248429     | 0.175904     | 0.166992     |
| cls        | 0.006933     | 0.004016     | 0.004673     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 0.971429     |
| recall75   | 0.781250     | 0.882353     | 0.885714     |
| precision  | 0.789474     | 0.472222     | 0.265625     |
| conf_obj   | 0.908892     | 0.956591     | 0.952403     |
| conf_noobj | 0.000587     | 0.000571     | 0.000405     |
+------------+--------------+--------------+--------------+
2020-12-20 14:27:09.360 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.656126
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.139603     | 0.263029     | 0.253494     |
| x          | 0.001435     | 0.007179     | 0.020957     |
| y          | 0.004488     | 0.012815     | 0.038577     |
| w          | 0.025786     | 0.028885     | 0.016176     |
| h          | 0.014107     | 0.006514     | 0.007338     |
| conf       | 0.072892     | 0.155064     | 0.112975     |
| cls        | 0.020896     | 0.052572     | 0.057471     |
| cls_acc    | 100.00%      | 93.33%       | 93.33%       |
| recall50   | 1.000000     | 0.866667     | 0.866667     |
| recall75   | 1.000000     | 0.800000     | 0.866667     |
| precision  | 0.789474     | 0.419355     | 0.183099     |
| conf_obj   | 0.993966     | 0.937716     | 0.958437     |
| conf_noobj | 0.000295     | 0.000238     | 0.000226     |
+------------+--------------+--------------+--------------+
2020-12-20 14:28:17.873 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.603999
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.269057     | 0.194830     | 0.140112     |
| x          | 0.007897     | 0.004653     | 0.017772     |
| y          | 0.003157     | 0.008935     | 0.016123     |
| w          | 0.010769     | 0.002790     | 0.006835     |
| h          | 0.008893     | 0.005865     | 0.007998     |
| conf       | 0.235790     | 0.169570     | 0.090903     |
| cls        | 0.002550     | 0.003019     | 0.000480     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.956522     | 1.000000     |
| recall75   | 0.826087     | 0.956522     | 1.000000     |
| precision  | 0.724138     | 0.458333     | 0.291139     |
| conf_obj   | 0.896646     | 0.919905     | 0.959974     |
| conf_noobj | 0.000387     | 0.000285     | 0.000188     |
+------------+--------------+--------------+--------------+
2020-12-20 14:29:22.783 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.572523
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.246525     | 0.158171     | 0.167828     |
| x          | 0.002855     | 0.006003     | 0.016644     |
| y          | 0.002044     | 0.010028     | 0.025505     |
| w          | 0.054546     | 0.039198     | 0.024617     |
| h          | 0.020449     | 0.014173     | 0.012592     |
| conf       | 0.165107     | 0.088411     | 0.088151     |
| cls        | 0.001522     | 0.000357     | 0.000320     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.909091     | 0.909091     |
| precision  | 0.758621     | 0.536585     | 0.252874     |
| conf_obj   | 0.950541     | 0.985690     | 0.981067     |
| conf_noobj | 0.000505     | 0.000322     | 0.000295     |
+------------+--------------+--------------+--------------+
2020-12-20 14:30:28.054 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.448868
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.142055     | 0.152786     | 0.154027     |
| x          | 0.012576     | 0.031940     | 0.020577     |
| y          | 0.002988     | 0.010276     | 0.016698     |
| w          | 0.009857     | 0.014859     | 0.014719     |
| h          | 0.021085     | 0.032280     | 0.023764     |
| conf       | 0.094796     | 0.062807     | 0.078115     |
| cls        | 0.000754     | 0.000624     | 0.000153     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.933333     | 1.000000     |
| recall75   | 0.928571     | 0.800000     | 0.875000     |
| precision  | 0.666667     | 0.424242     | 0.166667     |
| conf_obj   | 0.983173     | 0.985447     | 0.991290     |
| conf_noobj | 0.000389     | 0.000217     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 14:31:36.812 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.729288
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.184751     | 0.284872     | 0.259665     |
| x          | 0.007864     | 0.008473     | 0.031819     |
| y          | 0.009339     | 0.009773     | 0.028999     |
| w          | 0.019788     | 0.013273     | 0.008534     |
| h          | 0.023055     | 0.016957     | 0.011526     |
| conf       | 0.065420     | 0.140827     | 0.127477     |
| cls        | 0.059286     | 0.095567     | 0.051311     |
| cls_acc    | 97.37%       | 97.50%       | 97.50%       |
| recall50   | 0.921053     | 0.975000     | 0.975000     |
| recall75   | 0.894737     | 0.925000     | 0.925000     |
| precision  | 0.813953     | 0.453488     | 0.211957     |
| conf_obj   | 0.991179     | 0.979221     | 0.980838     |
| conf_noobj | 0.000384     | 0.000560     | 0.000501     |
+------------+--------------+--------------+--------------+
2020-12-20 14:32:45.213 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.651411
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.285116     | 0.178534     | 0.187761     |
| x          | 0.028198     | 0.009581     | 0.025611     |
| y          | 0.004853     | 0.004384     | 0.016222     |
| w          | 0.013047     | 0.010176     | 0.005620     |
| h          | 0.010902     | 0.012599     | 0.010580     |
| conf       | 0.210986     | 0.136305     | 0.125465     |
| cls        | 0.017130     | 0.005490     | 0.004263     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.960000     | 0.960000     |
| precision  | 0.687500     | 0.431034     | 0.204918     |
| conf_obj   | 0.949621     | 0.972731     | 0.987581     |
| conf_noobj | 0.000662     | 0.000508     | 0.000440     |
+------------+--------------+--------------+--------------+
2020-12-20 14:33:51.650 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.560022
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.169185     | 0.160634     | 0.230203     |
| x          | 0.002491     | 0.007832     | 0.013420     |
| y          | 0.008632     | 0.015183     | 0.013386     |
| w          | 0.021566     | 0.013629     | 0.006528     |
| h          | 0.013869     | 0.011584     | 0.007285     |
| conf       | 0.116714     | 0.111077     | 0.189197     |
| cls        | 0.005913     | 0.001328     | 0.000388     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 0.950000     |
| recall75   | 0.900000     | 0.900000     | 0.950000     |
| precision  | 0.833333     | 0.475000     | 0.195876     |
| conf_obj   | 0.956414     | 0.960027     | 0.915638     |
| conf_noobj | 0.000345     | 0.000262     | 0.000268     |
+------------+--------------+--------------+--------------+
2020-12-20 14:34:59.060 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.948343
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.339872     | 0.339976     | 0.268494     |
| x          | 0.002194     | 0.006908     | 0.015239     |
| y          | 0.002355     | 0.006282     | 0.010085     |
| w          | 0.019630     | 0.028019     | 0.011407     |
| h          | 0.013996     | 0.021502     | 0.014626     |
| conf       | 0.300094     | 0.270797     | 0.213460     |
| cls        | 0.001602     | 0.006467     | 0.003676     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.960000     |
| recall75   | 0.960000     | 0.920000     | 0.920000     |
| precision  | 0.774194     | 0.444444     | 0.242424     |
| conf_obj   | 0.926169     | 0.944605     | 0.947785     |
| conf_noobj | 0.000388     | 0.000462     | 0.000318     |
+------------+--------------+--------------+--------------+
2020-12-20 14:36:06.144 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.993394
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.504088     | 0.284677     | 0.204630     |
| x          | 0.001366     | 0.006091     | 0.013714     |
| y          | 0.004112     | 0.007839     | 0.014077     |
| w          | 0.010494     | 0.005237     | 0.003661     |
| h          | 0.006448     | 0.007419     | 0.005700     |
| conf       | 0.481303     | 0.257397     | 0.167334     |
| cls        | 0.000365     | 0.000694     | 0.000144     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.928571     | 0.928571     |
| recall75   | 0.928571     | 0.928571     | 0.928571     |
| precision  | 0.650000     | 0.393939     | 0.216667     |
| conf_obj   | 0.888154     | 0.907742     | 0.938975     |
| conf_noobj | 0.000551     | 0.000369     | 0.000256     |
+------------+--------------+--------------+--------------+
2020-12-20 14:36:16.698 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.721
2020-12-20 14:36:16.700 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 14:37:13.468 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.14608   | 0.50000 | 0.22610 | 0.28717 |
| 1     | Wear_helmet | 0.63575   | 0.93223 | 0.75596 | 0.88806 |
| 2     | Total       | 0.39091   | 0.71611 | 0.49103 | 0.58761 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:37:13.476 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5876147581021647
2020-12-20 14:37:13.477 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 14:37:13.477 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.776445

2020-12-20 14:37:14.140 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 1/2, epo 1/5
2020-12-20 14:37:14.141 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 1/2, epo 1/5; time cost: 0:15:33.303999

2020-12-20 14:37:14.141 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 1/2, epo 2/5
2020-12-20 14:37:15.158 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.890570
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.298309     | 0.275864     | 0.316397     |
| x          | 0.006629     | 0.005774     | 0.020130     |
| y          | 0.008293     | 0.010349     | 0.025791     |
| w          | 0.018114     | 0.009937     | 0.010157     |
| h          | 0.018907     | 0.010719     | 0.008719     |
| conf       | 0.243707     | 0.235725     | 0.249724     |
| cls        | 0.002658     | 0.003359     | 0.001875     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.970588     | 0.971429     |
| recall75   | 0.794118     | 0.970588     | 0.885714     |
| precision  | 0.846154     | 0.515625     | 0.241135     |
| conf_obj   | 0.945057     | 0.942761     | 0.948147     |
| conf_noobj | 0.000592     | 0.000594     | 0.000515     |
+------------+--------------+--------------+--------------+
2020-12-20 14:38:16.036 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.616888
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.303925     | 0.173082     | 0.139880     |
| x          | 0.002997     | 0.006917     | 0.011547     |
| y          | 0.002079     | 0.005936     | 0.015083     |
| w          | 0.012634     | 0.013211     | 0.005338     |
| h          | 0.015341     | 0.010712     | 0.010018     |
| conf       | 0.269232     | 0.135028     | 0.097124     |
| cls        | 0.001642     | 0.001278     | 0.000771     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 1.000000     | 1.000000     |
| recall75   | 0.964286     | 0.964286     | 1.000000     |
| precision  | 0.843750     | 0.509091     | 0.241379     |
| conf_obj   | 0.941565     | 0.963252     | 0.979965     |
| conf_noobj | 0.000436     | 0.000416     | 0.000328     |
+------------+--------------+--------------+--------------+
2020-12-20 14:39:25.227 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.511558
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.167931     | 0.175205     | 0.168422     |
| x          | 0.004967     | 0.005027     | 0.020527     |
| y          | 0.001859     | 0.005026     | 0.013201     |
| w          | 0.021105     | 0.022238     | 0.012180     |
| h          | 0.022593     | 0.028279     | 0.014153     |
| conf       | 0.116186     | 0.113808     | 0.106613     |
| cls        | 0.001221     | 0.000827     | 0.001748     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.954545     | 0.818182     |
| precision  | 0.724138     | 0.478261     | 0.186441     |
| conf_obj   | 0.987113     | 0.974928     | 0.982247     |
| conf_noobj | 0.000623     | 0.000400     | 0.000393     |
+------------+--------------+--------------+--------------+
2020-12-20 14:40:32.039 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.581443
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.202223     | 0.233072     | 0.146149     |
| x          | 0.002814     | 0.011512     | 0.013548     |
| y          | 0.003649     | 0.007445     | 0.020967     |
| w          | 0.020898     | 0.017713     | 0.010293     |
| h          | 0.016024     | 0.015936     | 0.009239     |
| conf       | 0.158393     | 0.180056     | 0.091502     |
| cls        | 0.000445     | 0.000410     | 0.000599     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.962963     | 0.928571     | 1.000000     |
| precision  | 0.818182     | 0.466667     | 0.294737     |
| conf_obj   | 0.955723     | 0.928775     | 0.974360     |
| conf_noobj | 0.000395     | 0.000435     | 0.000268     |
+------------+--------------+--------------+--------------+
2020-12-20 14:41:33.176 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.517646
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.156516     | 0.184951     | 0.176179     |
| x          | 0.005345     | 0.009429     | 0.011433     |
| y          | 0.009294     | 0.018685     | 0.019196     |
| w          | 0.023897     | 0.025516     | 0.012408     |
| h          | 0.015741     | 0.022178     | 0.013504     |
| conf       | 0.097772     | 0.108506     | 0.118119     |
| cls        | 0.004468     | 0.000637     | 0.001519     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.777778     | 0.733333     | 0.838710     |
| precision  | 0.843750     | 0.625000     | 0.256198     |
| conf_obj   | 0.965651     | 0.955854     | 0.958216     |
| conf_noobj | 0.000358     | 0.000258     | 0.000319     |
+------------+--------------+--------------+--------------+
2020-12-20 14:42:41.872 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.401569
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.097975     | 0.113983     | 0.189612     |
| x          | 0.004689     | 0.009450     | 0.022814     |
| y          | 0.005235     | 0.008676     | 0.027660     |
| w          | 0.014502     | 0.006416     | 0.007548     |
| h          | 0.014644     | 0.007093     | 0.005530     |
| conf       | 0.057234     | 0.081177     | 0.125472     |
| cls        | 0.001670     | 0.001171     | 0.000588     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 1.000000     | 1.000000     |
| precision  | 0.846154     | 0.478261     | 0.177419     |
| conf_obj   | 0.985651     | 0.986898     | 0.966622     |
| conf_noobj | 0.000259     | 0.000351     | 0.000379     |
+------------+--------------+--------------+--------------+
2020-12-20 14:43:45.915 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.547425
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.221291     | 0.182331     | 0.143803     |
| x          | 0.003546     | 0.011441     | 0.037900     |
| y          | 0.002658     | 0.009494     | 0.026404     |
| w          | 0.009173     | 0.005312     | 0.009776     |
| h          | 0.019140     | 0.009084     | 0.007385     |
| conf       | 0.186679     | 0.146915     | 0.062295     |
| cls        | 0.000094     | 0.000085     | 0.000043     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 1.000000     | 1.000000     |
| precision  | 0.700000     | 0.312500     | 0.187500     |
| conf_obj   | 0.942566     | 0.938049     | 0.991866     |
| conf_noobj | 0.000397     | 0.000322     | 0.000214     |
+------------+--------------+--------------+--------------+
2020-12-20 14:44:56.072 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.825893
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.335862     | 0.262074     | 0.227957     |
| x          | 0.012039     | 0.009822     | 0.023089     |
| y          | 0.018995     | 0.007815     | 0.016528     |
| w          | 0.027601     | 0.012482     | 0.007599     |
| h          | 0.038845     | 0.015860     | 0.006899     |
| conf       | 0.232180     | 0.163342     | 0.169396     |
| cls        | 0.006203     | 0.052752     | 0.004446     |
| cls_acc    | 100.00%      | 97.06%       | 100.00%      |
| recall50   | 0.906250     | 0.970588     | 0.970588     |
| recall75   | 0.875000     | 0.941176     | 0.941176     |
| precision  | 0.828571     | 0.550000     | 0.237410     |
| conf_obj   | 0.921104     | 0.941399     | 0.948394     |
| conf_noobj | 0.000515     | 0.000447     | 0.000431     |
+------------+--------------+--------------+--------------+
2020-12-20 14:46:01.721 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.298212
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.061248     | 0.110276     | 0.126688     |
| x          | 0.002523     | 0.011658     | 0.033744     |
| y          | 0.002395     | 0.005226     | 0.010286     |
| w          | 0.007859     | 0.007535     | 0.002849     |
| h          | 0.009310     | 0.006651     | 0.004878     |
| conf       | 0.038918     | 0.079109     | 0.074849     |
| cls        | 0.000243     | 0.000098     | 0.000081     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.800000     | 0.400000     | 0.216216     |
| conf_obj   | 0.996421     | 0.987220     | 0.977133     |
| conf_noobj | 0.000243     | 0.000298     | 0.000196     |
+------------+--------------+--------------+--------------+
2020-12-20 14:47:07.469 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.720468
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.194600     | 0.298194     | 0.227674     |
| x          | 0.004248     | 0.016823     | 0.035820     |
| y          | 0.003807     | 0.009067     | 0.015060     |
| w          | 0.016966     | 0.014513     | 0.020890     |
| h          | 0.013126     | 0.012644     | 0.015531     |
| conf       | 0.156196     | 0.244946     | 0.140229     |
| cls        | 0.000256     | 0.000201     | 0.000145     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 0.964286     |
| recall75   | 0.928571     | 0.928571     | 0.928571     |
| precision  | 0.710526     | 0.350649     | 0.194245     |
| conf_obj   | 0.955100     | 0.927128     | 0.962229     |
| conf_noobj | 0.000521     | 0.000562     | 0.000387     |
+------------+--------------+--------------+--------------+
2020-12-20 14:48:15.375 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.777195
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.214342     | 0.310601     | 0.252252     |
| x          | 0.004162     | 0.023062     | 0.041594     |
| y          | 0.008506     | 0.006775     | 0.012667     |
| w          | 0.021307     | 0.028505     | 0.017254     |
| h          | 0.013437     | 0.014812     | 0.009671     |
| conf       | 0.161732     | 0.220381     | 0.161951     |
| cls        | 0.005198     | 0.017066     | 0.009117     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 0.962963     |
| recall75   | 0.875000     | 0.807692     | 0.851852     |
| precision  | 0.666667     | 0.396825     | 0.166667     |
| conf_obj   | 0.980836     | 0.944244     | 0.964653     |
| conf_noobj | 0.000661     | 0.000580     | 0.000505     |
+------------+--------------+--------------+--------------+
2020-12-20 14:49:18.451 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.703000
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.275207     | 0.214431     | 0.213362     |
| x          | 0.008151     | 0.007556     | 0.021811     |
| y          | 0.006328     | 0.005095     | 0.019885     |
| w          | 0.006760     | 0.007694     | 0.006874     |
| h          | 0.005335     | 0.004126     | 0.008165     |
| conf       | 0.145233     | 0.108067     | 0.097901     |
| cls        | 0.103400     | 0.081894     | 0.058726     |
| cls_acc    | 93.75%       | 94.12%       | 94.12%       |
| recall50   | 0.937500     | 0.941176     | 0.941176     |
| recall75   | 0.875000     | 0.941176     | 0.882353     |
| precision  | 0.625000     | 0.380952     | 0.149533     |
| conf_obj   | 0.981093     | 0.984080     | 0.989204     |
| conf_noobj | 0.000635     | 0.000483     | 0.000407     |
+------------+--------------+--------------+--------------+
2020-12-20 14:50:19.614 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.856321
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.363529     | 0.258016     | 0.234776     |
| x          | 0.017032     | 0.007119     | 0.019927     |
| y          | 0.005343     | 0.017880     | 0.015271     |
| w          | 0.009718     | 0.011322     | 0.016463     |
| h          | 0.016761     | 0.015085     | 0.017488     |
| conf       | 0.312407     | 0.204129     | 0.164931     |
| cls        | 0.002268     | 0.002480     | 0.000696     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 0.947368     | 0.947368     |
| recall75   | 0.833333     | 0.894737     | 0.894737     |
| precision  | 0.666667     | 0.409091     | 0.295082     |
| conf_obj   | 0.890703     | 0.915727     | 0.933950     |
| conf_noobj | 0.000691     | 0.000482     | 0.000264     |
+------------+--------------+--------------+--------------+
2020-12-20 14:51:27.307 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.838368
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.331703     | 0.225229     | 0.281436     |
| x          | 0.010162     | 0.015713     | 0.035807     |
| y          | 0.006651     | 0.008784     | 0.037299     |
| w          | 0.010514     | 0.009388     | 0.011052     |
| h          | 0.017151     | 0.008561     | 0.009275     |
| conf       | 0.277642     | 0.178233     | 0.184232     |
| cls        | 0.009584     | 0.004550     | 0.003771     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 0.966667     | 0.967742     |
| recall75   | 0.900000     | 0.933333     | 0.935484     |
| precision  | 0.933333     | 0.537037     | 0.247934     |
| conf_obj   | 0.933511     | 0.955620     | 0.960715     |
| conf_noobj | 0.000203     | 0.000404     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 14:51:39.183 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.692
2020-12-20 14:51:39.188 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 14:52:36.693 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.10149   | 0.37313 | 0.15957 | 0.21653 |
| 1     | Wear_helmet | 0.42650   | 0.96114 | 0.59082 | 0.90796 |
| 2     | Total       | 0.26399   | 0.66714 | 0.37520 | 0.56225 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 14:52:36.694 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5622485165732422
2020-12-20 14:52:36.694 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 14:52:36.695 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.506047

2020-12-20 14:52:37.185 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 1/2, epo 2/5
2020-12-20 14:52:37.185 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 1/2, epo 2/5; time cost: 0:15:23.044051

2020-12-20 14:52:37.186 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 1/2, epo 3/5
2020-12-20 14:52:38.397 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.992042
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.424451     | 0.366962     | 0.200629     |
| x          | 0.011851     | 0.004578     | 0.015914     |
| y          | 0.004325     | 0.007832     | 0.020276     |
| w          | 0.060307     | 0.038621     | 0.037451     |
| h          | 0.054395     | 0.042357     | 0.028348     |
| conf       | 0.288664     | 0.270485     | 0.096569     |
| cls        | 0.004911     | 0.003089     | 0.002071     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.944444     | 1.000000     |
| recall75   | 0.764706     | 0.833333     | 0.789474     |
| precision  | 0.555556     | 0.377778     | 0.180952     |
| conf_obj   | 0.907077     | 0.915936     | 0.987166     |
| conf_noobj | 0.000786     | 0.000470     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 14:53:39.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.601134
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.242879     | 0.192745     | 0.165510     |
| x          | 0.006446     | 0.007549     | 0.020649     |
| y          | 0.003173     | 0.006344     | 0.016822     |
| w          | 0.018865     | 0.012940     | 0.004407     |
| h          | 0.016501     | 0.007758     | 0.008476     |
| conf       | 0.171564     | 0.150121     | 0.111750     |
| cls        | 0.026329     | 0.008034     | 0.003406     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.960000     | 1.000000     | 1.000000     |
| precision  | 0.714286     | 0.409836     | 0.228070     |
| conf_obj   | 0.966148     | 0.971956     | 0.973678     |
| conf_noobj | 0.000718     | 0.000547     | 0.000375     |
+------------+--------------+--------------+--------------+
2020-12-20 14:54:42.425 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.603870
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.206636     | 0.170991     | 0.226243     |
| x          | 0.005772     | 0.018619     | 0.037723     |
| y          | 0.005279     | 0.013120     | 0.023229     |
| w          | 0.020282     | 0.018654     | 0.015326     |
| h          | 0.030720     | 0.027152     | 0.026618     |
| conf       | 0.098099     | 0.071940     | 0.116681     |
| cls        | 0.046483     | 0.021507     | 0.006665     |
| cls_acc    | 97.14%       | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.973684     | 1.000000     |
| recall75   | 0.857143     | 0.842105     | 0.800000     |
| precision  | 0.850000     | 0.606557     | 0.272109     |
| conf_obj   | 0.970971     | 0.985593     | 0.979190     |
| conf_noobj | 0.000344     | 0.000298     | 0.000420     |
+------------+--------------+--------------+--------------+
2020-12-20 14:55:52.078 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.491372
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.111311     | 0.171388     | 0.208674     |
| x          | 0.002414     | 0.004400     | 0.020214     |
| y          | 0.001574     | 0.004788     | 0.015764     |
| w          | 0.012750     | 0.017497     | 0.012346     |
| h          | 0.007550     | 0.011474     | 0.009063     |
| conf       | 0.086508     | 0.132424     | 0.150801     |
| cls        | 0.000515     | 0.000806     | 0.000485     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.964286     |
| recall75   | 1.000000     | 1.000000     | 0.964286     |
| precision  | 0.875000     | 0.491228     | 0.259615     |
| conf_obj   | 0.986819     | 0.968425     | 0.957054     |
| conf_noobj | 0.000408     | 0.000441     | 0.000339     |
+------------+--------------+--------------+--------------+
2020-12-20 14:56:52.963 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.464927
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.181708     | 0.142318     | 0.140901     |
| x          | 0.001816     | 0.004001     | 0.016093     |
| y          | 0.004323     | 0.006339     | 0.016196     |
| w          | 0.011034     | 0.013029     | 0.005715     |
| h          | 0.005155     | 0.007690     | 0.004586     |
| conf       | 0.158251     | 0.110039     | 0.097540     |
| cls        | 0.001130     | 0.001220     | 0.000771     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.950000     | 1.000000     |
| precision  | 0.769231     | 0.476190     | 0.246914     |
| conf_obj   | 0.959535     | 0.981051     | 0.975034     |
| conf_noobj | 0.000658     | 0.000477     | 0.000336     |
+------------+--------------+--------------+--------------+
2020-12-20 14:57:54.857 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.760280
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.272723     | 0.260810     | 0.226747     |
| x          | 0.011051     | 0.007948     | 0.029806     |
| y          | 0.005120     | 0.013577     | 0.041358     |
| w          | 0.015875     | 0.016457     | 0.015889     |
| h          | 0.027386     | 0.020461     | 0.014689     |
| conf       | 0.211685     | 0.202008     | 0.123863     |
| cls        | 0.001605     | 0.000357     | 0.001142     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.972973     | 1.000000     |
| recall75   | 0.882353     | 0.918919     | 0.837838     |
| precision  | 0.780488     | 0.418605     | 0.298387     |
| conf_obj   | 0.910774     | 0.937703     | 0.963526     |
| conf_noobj | 0.000450     | 0.000598     | 0.000344     |
+------------+--------------+--------------+--------------+
2020-12-20 14:58:59.486 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.766606
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.183814     | 0.311859     | 0.270934     |
| x          | 0.021840     | 0.021573     | 0.034719     |
| y          | 0.004653     | 0.014547     | 0.036666     |
| w          | 0.038767     | 0.035584     | 0.040184     |
| h          | 0.027372     | 0.035573     | 0.029264     |
| conf       | 0.089253     | 0.202435     | 0.124126     |
| cls        | 0.001928     | 0.002146     | 0.005976     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.939394     | 1.000000     |
| recall75   | 0.862069     | 0.818182     | 0.787879     |
| precision  | 0.756757     | 0.424658     | 0.246269     |
| conf_obj   | 0.981687     | 0.926505     | 0.966363     |
| conf_noobj | 0.000438     | 0.000442     | 0.000353     |
+------------+--------------+--------------+--------------+
2020-12-20 15:00:08.561 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.582145
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.182867     | 0.205901     | 0.193377     |
| x          | 0.002851     | 0.008139     | 0.025206     |
| y          | 0.007194     | 0.015556     | 0.026407     |
| w          | 0.013868     | 0.009177     | 0.010264     |
| h          | 0.007531     | 0.008596     | 0.006892     |
| conf       | 0.150248     | 0.164012     | 0.123640     |
| cls        | 0.001176     | 0.000420     | 0.000969     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 0.962963     | 0.962963     |
| precision  | 0.781250     | 0.465517     | 0.221311     |
| conf_obj   | 0.951771     | 0.955510     | 0.978997     |
| conf_noobj | 0.000584     | 0.000563     | 0.000435     |
+------------+--------------+--------------+--------------+
2020-12-20 15:01:09.853 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.568636
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.203497     | 0.173388     | 0.191752     |
| x          | 0.004559     | 0.010545     | 0.016305     |
| y          | 0.002534     | 0.012832     | 0.039834     |
| w          | 0.015136     | 0.014517     | 0.009441     |
| h          | 0.010225     | 0.005105     | 0.005766     |
| conf       | 0.164065     | 0.104688     | 0.080416     |
| cls        | 0.006978     | 0.025701     | 0.039990     |
| cls_acc    | 100.00%      | 100.00%      | 96.00%       |
| recall50   | 0.954545     | 1.000000     | 0.960000     |
| recall75   | 0.909091     | 0.833333     | 0.800000     |
| precision  | 0.840000     | 0.533333     | 0.324324     |
| conf_obj   | 0.922202     | 0.955055     | 0.970168     |
| conf_noobj | 0.000275     | 0.000256     | 0.000188     |
+------------+--------------+--------------+--------------+
2020-12-20 15:02:19.565 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.715213
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.218774     | 0.261256     | 0.235182     |
| x          | 0.003421     | 0.009123     | 0.019694     |
| y          | 0.005216     | 0.006668     | 0.028920     |
| w          | 0.022510     | 0.023193     | 0.014376     |
| h          | 0.017449     | 0.009802     | 0.009769     |
| conf       | 0.166197     | 0.205370     | 0.157623     |
| cls        | 0.003982     | 0.007101     | 0.004800     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 0.970588     | 1.000000     |
| recall75   | 0.906250     | 0.882353     | 0.852941     |
| precision  | 0.885714     | 0.550000     | 0.223684     |
| conf_obj   | 0.946347     | 0.930631     | 0.963406     |
| conf_noobj | 0.000374     | 0.000539     | 0.000520     |
+------------+--------------+--------------+--------------+
2020-12-20 15:03:23.957 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.494752
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.169222     | 0.147355     | 0.178175     |
| x          | 0.003645     | 0.006253     | 0.016731     |
| y          | 0.002815     | 0.005295     | 0.013788     |
| w          | 0.011287     | 0.014217     | 0.014084     |
| h          | 0.010868     | 0.012542     | 0.009697     |
| conf       | 0.118166     | 0.098876     | 0.118277     |
| cls        | 0.022441     | 0.010172     | 0.005598     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.965517     | 1.000000     | 1.000000     |
| precision  | 0.852941     | 0.600000     | 0.277778     |
| conf_obj   | 0.967502     | 0.984176     | 0.971515     |
| conf_noobj | 0.000462     | 0.000434     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 15:04:28.676 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.369753
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.175083     | 0.111473     | 0.083197     |
| x          | 0.001705     | 0.013821     | 0.014310     |
| y          | 0.004044     | 0.024543     | 0.011639     |
| w          | 0.018080     | 0.007544     | 0.004986     |
| h          | 0.018022     | 0.007320     | 0.002908     |
| conf       | 0.133107     | 0.057892     | 0.049054     |
| cls        | 0.000125     | 0.000353     | 0.000300     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 1.000000     |
| precision  | 0.666667     | 0.470588     | 0.225352     |
| conf_obj   | 0.962210     | 0.993421     | 0.995775     |
| conf_noobj | 0.000362     | 0.000203     | 0.000186     |
+------------+--------------+--------------+--------------+
2020-12-20 15:05:44.335 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.620024
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.197469     | 0.195663     | 0.226892     |
| x          | 0.007285     | 0.016535     | 0.012489     |
| y          | 0.005223     | 0.007091     | 0.019076     |
| w          | 0.027450     | 0.022272     | 0.009699     |
| h          | 0.026355     | 0.020692     | 0.015882     |
| conf       | 0.125607     | 0.122460     | 0.156612     |
| cls        | 0.005550     | 0.006613     | 0.013133     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.843750     | 0.882353     | 0.914286     |
| precision  | 0.820513     | 0.566667     | 0.227273     |
| conf_obj   | 0.966089     | 0.969572     | 0.948955     |
| conf_noobj | 0.000436     | 0.000387     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 15:06:57.792 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.465878
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.160887     | 0.146326     | 0.158665     |
| x          | 0.002021     | 0.005244     | 0.013885     |
| y          | 0.003108     | 0.015347     | 0.035436     |
| w          | 0.019261     | 0.020306     | 0.008468     |
| h          | 0.018674     | 0.024749     | 0.011083     |
| conf       | 0.114584     | 0.079117     | 0.088689     |
| cls        | 0.003239     | 0.001564     | 0.001104     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.875000     | 0.875000     |
| precision  | 0.741935     | 0.545455     | 0.226415     |
| conf_obj   | 0.969936     | 0.990119     | 0.987076     |
| conf_noobj | 0.000443     | 0.000363     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 15:07:09.165 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.714
2020-12-20 15:07:09.169 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 15:08:04.115 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11309   | 0.52239 | 0.18592 | 0.29549 |
| 1     | Wear_helmet | 0.58774   | 0.93175 | 0.72081 | 0.89783 |
| 2     | Total       | 0.35041   | 0.72707 | 0.45336 | 0.59666 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:08:04.116 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.596660458566769
2020-12-20 15:08:04.116 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 15:08:04.116 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.946850

2020-12-20 15:08:04.590 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 1/2, epo 3/5
2020-12-20 15:08:04.590 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 1/2, epo 3/5; time cost: 0:15:27.404013

2020-12-20 15:08:04.590 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 1/2, epo 4/5
2020-12-20 15:08:05.813 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.771181
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.291058     | 0.225535     | 0.254588     |
| x          | 0.006527     | 0.017724     | 0.029699     |
| y          | 0.002031     | 0.004923     | 0.021730     |
| w          | 0.032600     | 0.021140     | 0.039829     |
| h          | 0.022030     | 0.026452     | 0.045864     |
| conf       | 0.222252     | 0.146376     | 0.112889     |
| cls        | 0.005618     | 0.008920     | 0.004577     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.958333     | 1.000000     |
| recall75   | 0.818182     | 0.875000     | 0.680000     |
| precision  | 0.750000     | 0.489362     | 0.215517     |
| conf_obj   | 0.918929     | 0.948952     | 0.987317     |
| conf_noobj | 0.000539     | 0.000427     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 15:09:04.414 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.558532
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.230182     | 0.156002     | 0.172348     |
| x          | 0.001347     | 0.004610     | 0.020571     |
| y          | 0.003762     | 0.006896     | 0.015573     |
| w          | 0.010758     | 0.006693     | 0.012340     |
| h          | 0.034240     | 0.033476     | 0.038076     |
| conf       | 0.179536     | 0.104192     | 0.085317     |
| cls        | 0.000539     | 0.000136     | 0.000472     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 0.666667     |
| precision  | 0.636364     | 0.411765     | 0.210000     |
| conf_obj   | 0.968242     | 0.987167     | 0.988935     |
| conf_noobj | 0.000828     | 0.000482     | 0.000337     |
+------------+--------------+--------------+--------------+
2020-12-20 15:10:12.359 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.758398
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.323996     | 0.183340     | 0.251061     |
| x          | 0.003099     | 0.006344     | 0.013898     |
| y          | 0.004356     | 0.012486     | 0.021654     |
| w          | 0.026802     | 0.017318     | 0.012571     |
| h          | 0.025509     | 0.014746     | 0.015789     |
| conf       | 0.196918     | 0.120103     | 0.186290     |
| cls        | 0.067313     | 0.012343     | 0.000858     |
| cls_acc    | 96.67%       | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 0.933333     | 0.966667     |
| recall75   | 0.900000     | 0.900000     | 0.866667     |
| precision  | 0.900000     | 0.595745     | 0.261261     |
| conf_obj   | 0.923307     | 0.947575     | 0.941886     |
| conf_noobj | 0.000251     | 0.000267     | 0.000283     |
+------------+--------------+--------------+--------------+
2020-12-20 15:11:16.039 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.641418
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.218918     | 0.202168     | 0.220333     |
| x          | 0.011194     | 0.013596     | 0.030329     |
| y          | 0.006172     | 0.009365     | 0.018140     |
| w          | 0.009980     | 0.010870     | 0.014032     |
| h          | 0.017240     | 0.019764     | 0.010959     |
| conf       | 0.173965     | 0.148107     | 0.146577     |
| cls        | 0.000366     | 0.000467     | 0.000295     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.818182     | 0.875000     | 0.769231     |
| precision  | 0.785714     | 0.470588     | 0.213115     |
| conf_obj   | 0.954393     | 0.973932     | 0.971059     |
| conf_noobj | 0.000641     | 0.000548     | 0.000493     |
+------------+--------------+--------------+--------------+
2020-12-20 15:12:18.455 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.484043
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.216135     | 0.119820     | 0.148088     |
| x          | 0.002667     | 0.003390     | 0.014432     |
| y          | 0.003333     | 0.006797     | 0.017518     |
| w          | 0.017646     | 0.012652     | 0.008115     |
| h          | 0.010181     | 0.010748     | 0.009793     |
| conf       | 0.182121     | 0.085972     | 0.097931     |
| cls        | 0.000187     | 0.000261     | 0.000299     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 1.000000     | 1.000000     |
| precision  | 0.785714     | 0.560976     | 0.252747     |
| conf_obj   | 0.928895     | 0.976168     | 0.972654     |
| conf_noobj | 0.000517     | 0.000278     | 0.000290     |
+------------+--------------+--------------+--------------+
2020-12-20 15:13:23.117 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.544315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.194250     | 0.201151     | 0.148915     |
| x          | 0.009340     | 0.006289     | 0.024987     |
| y          | 0.003094     | 0.005870     | 0.012209     |
| w          | 0.010621     | 0.004939     | 0.004949     |
| h          | 0.013569     | 0.008045     | 0.004936     |
| conf       | 0.131604     | 0.174294     | 0.099054     |
| cls        | 0.026022     | 0.001714     | 0.002780     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.947368     | 0.947368     | 1.000000     |
| precision  | 0.760000     | 0.439024     | 0.202128     |
| conf_obj   | 0.957862     | 0.926409     | 0.968390     |
| conf_noobj | 0.000442     | 0.000348     | 0.000267     |
+------------+--------------+--------------+--------------+
2020-12-20 15:14:30.077 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.715895
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.253051     | 0.252048     | 0.210796     |
| x          | 0.005057     | 0.009377     | 0.029512     |
| y          | 0.009808     | 0.013239     | 0.016470     |
| w          | 0.012662     | 0.010638     | 0.005745     |
| h          | 0.009297     | 0.009973     | 0.006473     |
| conf       | 0.215669     | 0.208414     | 0.151559     |
| cls        | 0.000556     | 0.000407     | 0.001037     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.916667     | 0.958333     |
| recall75   | 0.869565     | 0.916667     | 0.958333     |
| precision  | 0.777778     | 0.431373     | 0.244681     |
| conf_obj   | 0.923203     | 0.920744     | 0.947866     |
| conf_noobj | 0.000370     | 0.000337     | 0.000255     |
+------------+--------------+--------------+--------------+
2020-12-20 15:15:38.256 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.514002
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.130491     | 0.191260     | 0.192252     |
| x          | 0.013259     | 0.024911     | 0.019909     |
| y          | 0.006131     | 0.012787     | 0.058350     |
| w          | 0.020586     | 0.024821     | 0.019877     |
| h          | 0.011424     | 0.013122     | 0.008895     |
| conf       | 0.078096     | 0.115370     | 0.084646     |
| cls        | 0.000995     | 0.000248     | 0.000575     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.888889     | 0.894737     | 0.904762     |
| precision  | 0.857143     | 0.400000     | 0.225806     |
| conf_obj   | 0.972125     | 0.957551     | 0.979900     |
| conf_noobj | 0.000292     | 0.000302     | 0.000265     |
+------------+--------------+--------------+--------------+
2020-12-20 15:16:45.496 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.571019
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.184037     | 0.176765     | 0.210217     |
| x          | 0.005405     | 0.006261     | 0.035903     |
| y          | 0.003477     | 0.009635     | 0.024520     |
| w          | 0.016563     | 0.016456     | 0.006411     |
| h          | 0.018797     | 0.022200     | 0.008939     |
| conf       | 0.110944     | 0.074006     | 0.090725     |
| cls        | 0.028850     | 0.048206     | 0.043719     |
| cls_acc    | 100.00%      | 94.74%       | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.888889     | 0.947368     | 0.842105     |
| precision  | 0.692308     | 0.500000     | 0.182692     |
| conf_obj   | 0.982563     | 0.984233     | 0.982203     |
| conf_noobj | 0.000472     | 0.000265     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 15:17:53.144 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.539031
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.170814     | 0.194994     | 0.173223     |
| x          | 0.006946     | 0.004011     | 0.009207     |
| y          | 0.002253     | 0.006135     | 0.018269     |
| w          | 0.010670     | 0.009009     | 0.014571     |
| h          | 0.011677     | 0.020676     | 0.016635     |
| conf       | 0.104203     | 0.112421     | 0.091195     |
| cls        | 0.035064     | 0.042741     | 0.023345     |
| cls_acc    | 100.00%      | 96.00%       | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 1.000000     |
| recall75   | 0.913043     | 0.920000     | 0.920000     |
| precision  | 0.851852     | 0.489796     | 0.242718     |
| conf_obj   | 0.975199     | 0.960295     | 0.975892     |
| conf_noobj | 0.000419     | 0.000305     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 15:18:59.169 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.206660
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.373085     | 0.351684     | 0.481891     |
| x          | 0.005496     | 0.008763     | 0.030444     |
| y          | 0.005647     | 0.014811     | 0.016867     |
| w          | 0.036795     | 0.032215     | 0.024833     |
| h          | 0.041461     | 0.035553     | 0.020492     |
| conf       | 0.175585     | 0.166250     | 0.182546     |
| cls        | 0.108102     | 0.094092     | 0.206709     |
| cls_acc    | 96.77%       | 96.77%       | 93.55%       |
| recall50   | 0.935484     | 0.967742     | 0.870968     |
| recall75   | 0.838710     | 0.838710     | 0.806452     |
| precision  | 0.906250     | 0.483871     | 0.200000     |
| conf_obj   | 0.912802     | 0.952347     | 0.934193     |
| conf_noobj | 0.000487     | 0.000597     | 0.000550     |
+------------+--------------+--------------+--------------+
2020-12-20 15:20:01.976 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.571025
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.157655     | 0.166651     | 0.246719     |
| x          | 0.007097     | 0.007872     | 0.018645     |
| y          | 0.006085     | 0.012834     | 0.017515     |
| w          | 0.014892     | 0.016510     | 0.011090     |
| h          | 0.016581     | 0.016600     | 0.008308     |
| conf       | 0.076614     | 0.086680     | 0.166219     |
| cls        | 0.036386     | 0.026155     | 0.024942     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.971429     |
| recall75   | 0.870968     | 0.885714     | 0.885714     |
| precision  | 0.968750     | 0.648148     | 0.251852     |
| conf_obj   | 0.967684     | 0.976646     | 0.956715     |
| conf_noobj | 0.000272     | 0.000338     | 0.000500     |
+------------+--------------+--------------+--------------+
2020-12-20 15:21:06.934 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.550110
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.227252     | 0.178509     | 0.144348     |
| x          | 0.010976     | 0.004133     | 0.007049     |
| y          | 0.007228     | 0.027455     | 0.018815     |
| w          | 0.014605     | 0.006227     | 0.015612     |
| h          | 0.015216     | 0.007829     | 0.026465     |
| conf       | 0.090403     | 0.070072     | 0.057520     |
| cls        | 0.088824     | 0.062792     | 0.018888     |
| cls_acc    | 92.86%       | 92.86%       | 100.00%      |
| recall50   | 0.857143     | 0.928571     | 1.000000     |
| recall75   | 0.857143     | 0.857143     | 0.733333     |
| precision  | 0.800000     | 0.481481     | 0.326087     |
| conf_obj   | 0.946202     | 0.968939     | 0.978468     |
| conf_noobj | 0.000163     | 0.000185     | 0.000149     |
+------------+--------------+--------------+--------------+
2020-12-20 15:22:14.596 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.532891
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.198959     | 0.166556     | 0.167376     |
| x          | 0.005654     | 0.007657     | 0.017404     |
| y          | 0.005619     | 0.011087     | 0.015844     |
| w          | 0.022875     | 0.011690     | 0.013656     |
| h          | 0.026212     | 0.023099     | 0.031004     |
| conf       | 0.136259     | 0.112747     | 0.089310     |
| cls        | 0.002340     | 0.000277     | 0.000158     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.956522     | 0.913043     |
| precision  | 0.875000     | 0.500000     | 0.261364     |
| conf_obj   | 0.940764     | 0.966315     | 0.988672     |
| conf_noobj | 0.000316     | 0.000366     | 0.000300     |
+------------+--------------+--------------+--------------+
2020-12-20 15:22:25.035 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.712
2020-12-20 15:22:25.039 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 15:23:18.900 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.23115   | 0.46517 | 0.30884 | 0.30574 |
| 1     | Wear_helmet | 0.56682   | 0.93270 | 0.70512 | 0.89394 |
| 2     | Total       | 0.39898   | 0.69894 | 0.50698 | 0.59984 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:23:18.901 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5998398623618428
2020-12-20 15:23:18.901 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 15:23:18.901 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:53.862012

2020-12-20 15:23:19.422 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 1/2, epo 4/5
2020-12-20 15:23:19.423 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 1/2, epo 4/5; time cost: 0:15:14.832383

2020-12-20 15:23:19.423 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 17/20, idx 1/2, epo 5/5
2020-12-20 15:23:20.822 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.405330
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.142548     | 0.126510     | 0.136272     |
| x          | 0.003206     | 0.007050     | 0.022417     |
| y          | 0.011324     | 0.004239     | 0.018522     |
| w          | 0.015958     | 0.017606     | 0.004494     |
| h          | 0.009364     | 0.012981     | 0.008267     |
| conf       | 0.102016     | 0.084176     | 0.082306     |
| cls        | 0.000680     | 0.000459     | 0.000266     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 1.000000     |
| precision  | 0.851852     | 0.479167     | 0.234694     |
| conf_obj   | 0.955722     | 0.973036     | 0.976916     |
| conf_noobj | 0.000281     | 0.000267     | 0.000241     |
+------------+--------------+--------------+--------------+
2020-12-20 15:24:27.245 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.508448
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.191879     | 0.150539     | 0.166029     |
| x          | 0.002833     | 0.009758     | 0.024539     |
| y          | 0.001385     | 0.004205     | 0.020649     |
| w          | 0.007483     | 0.013522     | 0.021231     |
| h          | 0.010509     | 0.008364     | 0.006998     |
| conf       | 0.165865     | 0.114020     | 0.092457     |
| cls        | 0.003805     | 0.000670     | 0.000155     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.937500     | 0.812500     |
| precision  | 0.571429     | 0.320000     | 0.188235     |
| conf_obj   | 0.981405     | 0.987851     | 0.979885     |
| conf_noobj | 0.000814     | 0.000489     | 0.000320     |
+------------+--------------+--------------+--------------+
2020-12-20 15:25:29.369 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.413789
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.131227     | 0.131364     | 0.151197     |
| x          | 0.005871     | 0.008272     | 0.022785     |
| y          | 0.002112     | 0.004833     | 0.018398     |
| w          | 0.012912     | 0.011985     | 0.014954     |
| h          | 0.005283     | 0.010771     | 0.012583     |
| conf       | 0.104806     | 0.095407     | 0.082384     |
| cls        | 0.000244     | 0.000096     | 0.000093     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.846154     |
| precision  | 0.571429     | 0.325000     | 0.139785     |
| conf_obj   | 0.997237     | 0.978780     | 0.983719     |
| conf_noobj | 0.000500     | 0.000387     | 0.000298     |
+------------+--------------+--------------+--------------+
2020-12-20 15:26:35.640 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.612877
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.268221     | 0.190185     | 0.154470     |
| x          | 0.005047     | 0.006836     | 0.014370     |
| y          | 0.003109     | 0.006710     | 0.014604     |
| w          | 0.030188     | 0.025318     | 0.008834     |
| h          | 0.034453     | 0.027788     | 0.017359     |
| conf       | 0.194691     | 0.123051     | 0.098834     |
| cls        | 0.000734     | 0.000483     | 0.000469     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.900000     | 1.000000     | 1.000000     |
| recall75   | 0.800000     | 0.904762     | 0.904762     |
| precision  | 0.720000     | 0.500000     | 0.194444     |
| conf_obj   | 0.924689     | 0.962631     | 0.974408     |
| conf_noobj | 0.000495     | 0.000372     | 0.000322     |
+------------+--------------+--------------+--------------+
2020-12-20 15:27:40.725 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.560863
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.235027     | 0.191652     | 0.134185     |
| x          | 0.001558     | 0.002338     | 0.008055     |
| y          | 0.002226     | 0.003857     | 0.008451     |
| w          | 0.014218     | 0.019714     | 0.011637     |
| h          | 0.007183     | 0.007796     | 0.007544     |
| conf       | 0.209446     | 0.157828     | 0.098434     |
| cls        | 0.000396     | 0.000119     | 0.000063     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 1.000000     | 0.952381     |
| precision  | 0.689655     | 0.477273     | 0.280000     |
| conf_obj   | 0.954605     | 0.950600     | 0.968996     |
| conf_noobj | 0.000606     | 0.000386     | 0.000235     |
+------------+--------------+--------------+--------------+
2020-12-20 15:28:43.827 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.773251
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.312148     | 0.296542     | 0.164560     |
| x          | 0.030069     | 0.005195     | 0.021435     |
| y          | 0.003506     | 0.015824     | 0.029413     |
| w          | 0.091395     | 0.017590     | 0.013130     |
| h          | 0.071464     | 0.015280     | 0.011619     |
| conf       | 0.073278     | 0.232320     | 0.084398     |
| cls        | 0.042436     | 0.010333     | 0.004565     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.900000     | 0.950000     |
| recall75   | 0.823529     | 0.800000     | 0.850000     |
| precision  | 0.750000     | 0.391304     | 0.182692     |
| conf_obj   | 0.978113     | 0.891498     | 0.986226     |
| conf_noobj | 0.000298     | 0.000345     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 15:29:48.133 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.450920
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.179484     | 0.136184     | 0.135252     |
| x          | 0.009667     | 0.008246     | 0.015835     |
| y          | 0.002203     | 0.006205     | 0.013144     |
| w          | 0.012914     | 0.013208     | 0.013812     |
| h          | 0.010743     | 0.012353     | 0.009352     |
| conf       | 0.143604     | 0.095774     | 0.082894     |
| cls        | 0.000352     | 0.000397     | 0.000215     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.913043     | 0.913043     |
| precision  | 0.741935     | 0.418182     | 0.244681     |
| conf_obj   | 0.964791     | 0.987199     | 0.980134     |
| conf_noobj | 0.000435     | 0.000386     | 0.000235     |
+------------+--------------+--------------+--------------+
2020-12-20 15:30:59.081 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.427488
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.111691     | 0.132311     | 0.183485     |
| x          | 0.010840     | 0.014558     | 0.018481     |
| y          | 0.009848     | 0.027350     | 0.035043     |
| w          | 0.011934     | 0.012512     | 0.009805     |
| h          | 0.013831     | 0.016200     | 0.009436     |
| conf       | 0.062680     | 0.060582     | 0.106318     |
| cls        | 0.002557     | 0.001109     | 0.004402     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 0.869565     | 0.916667     |
| precision  | 0.840000     | 0.589744     | 0.193548     |
| conf_obj   | 0.979334     | 0.984699     | 0.975114     |
| conf_noobj | 0.000283     | 0.000258     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 15:32:04.846 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.655292
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.226596     | 0.215781     | 0.212915     |
| x          | 0.009904     | 0.013746     | 0.015569     |
| y          | 0.005139     | 0.014697     | 0.023853     |
| w          | 0.031635     | 0.026287     | 0.015664     |
| h          | 0.022022     | 0.019637     | 0.012956     |
| conf       | 0.151022     | 0.138866     | 0.137507     |
| cls        | 0.006875     | 0.002549     | 0.007366     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.838710     | 0.750000     | 0.843750     |
| precision  | 0.815789     | 0.444444     | 0.189349     |
| conf_obj   | 0.963927     | 0.974441     | 0.977752     |
| conf_noobj | 0.000718     | 0.000592     | 0.000562     |
+------------+--------------+--------------+--------------+
2020-12-20 15:33:08.051 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.543030
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.179528     | 0.179451     | 0.184052     |
| x          | 0.002885     | 0.008636     | 0.019164     |
| y          | 0.003820     | 0.012903     | 0.031764     |
| w          | 0.018814     | 0.017542     | 0.003883     |
| h          | 0.020415     | 0.017531     | 0.007173     |
| conf       | 0.131079     | 0.117473     | 0.119929     |
| cls        | 0.002513     | 0.005366     | 0.002139     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.960000     | 1.000000     |
| recall75   | 0.916667     | 0.840000     | 0.920000     |
| precision  | 0.851852     | 0.489796     | 0.201613     |
| conf_obj   | 0.955924     | 0.961861     | 0.961774     |
| conf_noobj | 0.000265     | 0.000357     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 15:34:19.171 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.721267
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.313776     | 0.225482     | 0.182008     |
| x          | 0.014270     | 0.007629     | 0.017822     |
| y          | 0.004018     | 0.012628     | 0.030541     |
| w          | 0.028174     | 0.017070     | 0.008432     |
| h          | 0.020460     | 0.011641     | 0.008624     |
| conf       | 0.204408     | 0.133089     | 0.101509     |
| cls        | 0.042446     | 0.043425     | 0.015081     |
| cls_acc    | 96.15%       | 96.43%       | 100.00%      |
| recall50   | 0.884615     | 0.928571     | 1.000000     |
| recall75   | 0.807692     | 0.857143     | 0.964286     |
| precision  | 0.741935     | 0.500000     | 0.224000     |
| conf_obj   | 0.923092     | 0.950381     | 0.980269     |
| conf_noobj | 0.000373     | 0.000293     | 0.000321     |
+------------+--------------+--------------+--------------+
2020-12-20 15:35:27.044 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.650375
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.185135     | 0.206112     | 0.259128     |
| x          | 0.007280     | 0.011904     | 0.030608     |
| y          | 0.006831     | 0.012492     | 0.017473     |
| w          | 0.037117     | 0.031003     | 0.021809     |
| h          | 0.018267     | 0.017911     | 0.016110     |
| conf       | 0.101171     | 0.124583     | 0.165146     |
| cls        | 0.014469     | 0.008219     | 0.007983     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.967742     |
| recall75   | 0.862069     | 0.838710     | 0.838710     |
| precision  | 0.805556     | 0.469697     | 0.209790     |
| conf_obj   | 0.973327     | 0.966404     | 0.940886     |
| conf_noobj | 0.000425     | 0.000446     | 0.000365     |
+------------+--------------+--------------+--------------+
2020-12-20 15:36:34.614 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.346502
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.124400     | 0.094968     | 0.127134     |
| x          | 0.002639     | 0.005689     | 0.015980     |
| y          | 0.002906     | 0.006851     | 0.017780     |
| w          | 0.012146     | 0.021482     | 0.005686     |
| h          | 0.004273     | 0.005585     | 0.006035     |
| conf       | 0.102345     | 0.055262     | 0.081568     |
| cls        | 0.000091     | 0.000100     | 0.000085     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.923077     | 1.000000     |
| precision  | 0.722222     | 0.433333     | 0.200000     |
| conf_obj   | 0.984501     | 0.996510     | 0.977450     |
| conf_noobj | 0.000428     | 0.000265     | 0.000236     |
+------------+--------------+--------------+--------------+
2020-12-20 15:37:40.983 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.751921
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.259294     | 0.210413     | 0.282213     |
| x          | 0.013811     | 0.017665     | 0.023358     |
| y          | 0.005934     | 0.006351     | 0.010457     |
| w          | 0.039482     | 0.039715     | 0.040498     |
| h          | 0.023426     | 0.014485     | 0.024772     |
| conf       | 0.175026     | 0.128972     | 0.181560     |
| cls        | 0.001615     | 0.003224     | 0.001568     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 1.000000     | 0.966667     |
| recall75   | 0.866667     | 0.833333     | 0.800000     |
| precision  | 0.783784     | 0.508475     | 0.210145     |
| conf_obj   | 0.937756     | 0.963378     | 0.939563     |
| conf_noobj | 0.000445     | 0.000431     | 0.000390     |
+------------+--------------+--------------+--------------+
2020-12-20 15:37:53.584 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.652
2020-12-20 15:37:53.588 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 15:38:54.976 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.29745   | 0.40547 | 0.34316 | 0.28505 |
| 1     | Wear_helmet | 0.68105   | 0.93507 | 0.78810 | 0.90407 |
| 2     | Total       | 0.48925   | 0.67027 | 0.56563 | 0.59456 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:38:54.977 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.59455923100651
2020-12-20 15:38:54.977 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 15:38:54.977 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.388866

2020-12-20 15:38:55.484 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 17/20, idx 1/2, epo 5/5
2020-12-20 15:38:55.485 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 17/20, idx 1/2, epo 5/5; time cost: 0:15:36.061297

2020-12-20 15:38:55.485 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.698
2020-12-20 15:38:55.750 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 15:42:35.765 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.31547   | 0.53383 | 0.39658 | 0.44153 |
| 1     | Wear_helmet | 0.71560   | 0.90900 | 0.80079 | 0.87750 |
| 2     | Total       | 0.51553   | 0.72141 | 0.59868 | 0.65952 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:42:35.766 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6595153707651531
2020-12-20 15:42:35.767 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 15:42:35.767 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:40.016855

2020-12-20 15:42:41.403 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 18!
2020-12-20 15:42:41.542 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 1/2, epo 1/5
2020-12-20 15:42:43.461 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.450291
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.167403     | 0.130630     | 0.152257     |
| x          | 0.002314     | 0.005199     | 0.020803     |
| y          | 0.003657     | 0.007376     | 0.036381     |
| w          | 0.021607     | 0.008020     | 0.007873     |
| h          | 0.013683     | 0.010810     | 0.007462     |
| conf       | 0.126082     | 0.099184     | 0.079589     |
| cls        | 0.000060     | 0.000041     | 0.000149     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 0.944444     |
| precision  | 0.666667     | 0.391304     | 0.206897     |
| conf_obj   | 0.982111     | 0.987567     | 0.984447     |
| conf_noobj | 0.000498     | 0.000385     | 0.000269     |
+------------+--------------+--------------+--------------+
2020-12-20 15:43:51.815 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.640951
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.324254     | 0.181142     | 0.135555     |
| x          | 0.002476     | 0.013315     | 0.005217     |
| y          | 0.003534     | 0.007107     | 0.013498     |
| w          | 0.010895     | 0.012920     | 0.007950     |
| h          | 0.010836     | 0.006703     | 0.006788     |
| conf       | 0.296083     | 0.140224     | 0.101646     |
| cls        | 0.000430     | 0.000873     | 0.000456     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 0.954545     | 1.000000     |
| recall75   | 0.857143     | 0.909091     | 1.000000     |
| precision  | 0.750000     | 0.525000     | 0.239130     |
| conf_obj   | 0.879172     | 0.943929     | 0.978350     |
| conf_noobj | 0.000374     | 0.000258     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 15:44:57.053 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.318969
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.114413     | 0.090014     | 0.114542     |
| x          | 0.004450     | 0.006558     | 0.017735     |
| y          | 0.002572     | 0.007927     | 0.011393     |
| w          | 0.009611     | 0.007543     | 0.010131     |
| h          | 0.011714     | 0.010255     | 0.008592     |
| conf       | 0.085750     | 0.057618     | 0.066407     |
| cls        | 0.000315     | 0.000112     | 0.000286     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.882353     | 0.944444     |
| precision  | 0.800000     | 0.500000     | 0.250000     |
| conf_obj   | 0.977672     | 0.991151     | 0.985261     |
| conf_noobj | 0.000300     | 0.000212     | 0.000193     |
+------------+--------------+--------------+--------------+
2020-12-20 15:46:05.009 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.677935
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.180577     | 0.268580     | 0.228777     |
| x          | 0.003983     | 0.011431     | 0.032269     |
| y          | 0.003350     | 0.009599     | 0.021078     |
| w          | 0.013872     | 0.015223     | 0.008571     |
| h          | 0.021665     | 0.017739     | 0.013390     |
| conf       | 0.137422     | 0.214157     | 0.152934     |
| cls        | 0.000285     | 0.000431     | 0.000533     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.964286     | 0.965517     |
| recall75   | 0.962963     | 0.857143     | 0.827586     |
| precision  | 0.866667     | 0.613636     | 0.280000     |
| conf_obj   | 0.951533     | 0.925056     | 0.933529     |
| conf_noobj | 0.000302     | 0.000257     | 0.000263     |
+------------+--------------+--------------+--------------+
2020-12-20 15:47:11.073 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.969763
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.352823     | 0.312670     | 0.304270     |
| x          | 0.009864     | 0.013124     | 0.023501     |
| y          | 0.024045     | 0.017934     | 0.037382     |
| w          | 0.033022     | 0.016281     | 0.006829     |
| h          | 0.057361     | 0.025528     | 0.014835     |
| conf       | 0.217717     | 0.210882     | 0.173837     |
| cls        | 0.010813     | 0.028921     | 0.047886     |
| cls_acc    | 100.00%      | 100.00%      | 97.06%       |
| recall50   | 0.909091     | 0.970588     | 0.970588     |
| recall75   | 0.787879     | 0.823529     | 0.882353     |
| precision  | 0.731707     | 0.452055     | 0.180328     |
| conf_obj   | 0.923436     | 0.925821     | 0.945033     |
| conf_noobj | 0.000600     | 0.000558     | 0.000512     |
+------------+--------------+--------------+--------------+
2020-12-20 15:48:17.784 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.798012
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.685180     | 0.605903     | 0.506929     |
| x          | 0.011051     | 0.007937     | 0.015353     |
| y          | 0.006216     | 0.012922     | 0.044810     |
| w          | 0.032717     | 0.019765     | 0.008353     |
| h          | 0.034431     | 0.021114     | 0.015662     |
| conf       | 0.512402     | 0.459313     | 0.341485     |
| cls        | 0.088363     | 0.084851     | 0.081266     |
| cls_acc    | 96.30%       | 96.55%       | 96.67%       |
| recall50   | 0.925926     | 0.931035     | 0.900000     |
| recall75   | 0.814815     | 0.793103     | 0.766667     |
| precision  | 0.694444     | 0.415385     | 0.236842     |
| conf_obj   | 0.910345     | 0.906370     | 0.896336     |
| conf_noobj | 0.000784     | 0.000611     | 0.000367     |
+------------+--------------+--------------+--------------+
2020-12-20 15:49:24.319 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.251040
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.098014     | 0.064044     | 0.088982     |
| x          | 0.003070     | 0.005793     | 0.025062     |
| y          | 0.002793     | 0.009898     | 0.017869     |
| w          | 0.010717     | 0.012759     | 0.002839     |
| h          | 0.022871     | 0.013508     | 0.003533     |
| conf       | 0.056518     | 0.021245     | 0.039400     |
| cls        | 0.002045     | 0.000840     | 0.000279     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.928571     | 1.000000     |
| precision  | 0.933333     | 0.636364     | 0.259259     |
| conf_obj   | 0.964445     | 0.996693     | 0.991215     |
| conf_noobj | 0.000073     | 0.000125     | 0.000156     |
+------------+--------------+--------------+--------------+
2020-12-20 15:50:30.308 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.152726
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.435412     | 0.321156     | 0.396158     |
| x          | 0.009095     | 0.015202     | 0.017420     |
| y          | 0.004487     | 0.007828     | 0.018204     |
| w          | 0.024424     | 0.024392     | 0.025460     |
| h          | 0.024003     | 0.022683     | 0.023725     |
| conf       | 0.337072     | 0.238555     | 0.295204     |
| cls        | 0.036330     | 0.012496     | 0.016146     |
| cls_acc    | 97.06%       | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.916667     | 0.923077     |
| recall75   | 0.823529     | 0.805556     | 0.641026     |
| precision  | 0.909091     | 0.647059     | 0.281250     |
| conf_obj   | 0.906966     | 0.935022     | 0.916892     |
| conf_noobj | 0.000378     | 0.000368     | 0.000468     |
+------------+--------------+--------------+--------------+
2020-12-20 15:51:31.524 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.090738
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.443860     | 0.369617     | 0.277261     |
| x          | 0.017719     | 0.029680     | 0.025787     |
| y          | 0.007470     | 0.008553     | 0.015329     |
| w          | 0.020526     | 0.025346     | 0.028726     |
| h          | 0.017276     | 0.019885     | 0.019586     |
| conf       | 0.334800     | 0.282389     | 0.184665     |
| cls        | 0.046070     | 0.003763     | 0.003168     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.851852     | 0.931035     | 1.000000     |
| recall75   | 0.740741     | 0.655172     | 0.757576     |
| precision  | 0.621622     | 0.375000     | 0.183333     |
| conf_obj   | 0.913610     | 0.926480     | 0.971572     |
| conf_noobj | 0.000885     | 0.000716     | 0.000663     |
+------------+--------------+--------------+--------------+
2020-12-20 15:52:35.348 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 1.080339
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.404420     | 0.365982     | 0.309937     |
| x          | 0.003720     | 0.007557     | 0.017539     |
| y          | 0.004851     | 0.016404     | 0.040378     |
| w          | 0.013807     | 0.010906     | 0.004512     |
| h          | 0.017522     | 0.016798     | 0.010071     |
| conf       | 0.363767     | 0.314065     | 0.237066     |
| cls        | 0.000752     | 0.000252     | 0.000372     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.894737     | 0.894737     |
| recall75   | 0.894737     | 0.842105     | 0.894737     |
| precision  | 0.692308     | 0.515152     | 0.220779     |
| conf_obj   | 0.905266     | 0.881989     | 0.894183     |
| conf_noobj | 0.000624     | 0.000382     | 0.000320     |
+------------+--------------+--------------+--------------+
2020-12-20 15:53:37.148 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.721295
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.238597     | 0.205281     | 0.277417     |
| x          | 0.005997     | 0.009745     | 0.036447     |
| y          | 0.003848     | 0.014435     | 0.033268     |
| w          | 0.021250     | 0.029150     | 0.027938     |
| h          | 0.011936     | 0.013172     | 0.015319     |
| conf       | 0.128318     | 0.103589     | 0.134802     |
| cls        | 0.067249     | 0.035190     | 0.029643     |
| cls_acc    | 96.55%       | 100.00%      | 96.88%       |
| recall50   | 0.965517     | 1.000000     | 0.937500     |
| recall75   | 0.896552     | 0.866667     | 0.875000     |
| precision  | 0.800000     | 0.545455     | 0.265487     |
| conf_obj   | 0.964741     | 0.978296     | 0.955384     |
| conf_noobj | 0.000471     | 0.000409     | 0.000379     |
+------------+--------------+--------------+--------------+
2020-12-20 15:54:41.733 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.258935
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.378526     | 0.358828     | 0.521580     |
| x          | 0.007496     | 0.012567     | 0.038927     |
| y          | 0.004895     | 0.016225     | 0.027337     |
| w          | 0.034937     | 0.031126     | 0.011959     |
| h          | 0.017960     | 0.017150     | 0.017027     |
| conf       | 0.305677     | 0.245800     | 0.418119     |
| cls        | 0.007561     | 0.035961     | 0.008211     |
| cls_acc    | 100.00%      | 96.97%       | 100.00%      |
| recall50   | 0.968750     | 0.939394     | 0.885714     |
| recall75   | 0.875000     | 0.848485     | 0.857143     |
| precision  | 0.775000     | 0.607843     | 0.287037     |
| conf_obj   | 0.914895     | 0.927996     | 0.890859     |
| conf_noobj | 0.000665     | 0.000448     | 0.000427     |
+------------+--------------+--------------+--------------+
2020-12-20 15:55:47.184 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.531370
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.183374     | 0.161030     | 0.186965     |
| x          | 0.002410     | 0.002459     | 0.010010     |
| y          | 0.001606     | 0.005506     | 0.017686     |
| w          | 0.008372     | 0.009624     | 0.009157     |
| h          | 0.011113     | 0.012049     | 0.011384     |
| conf       | 0.110604     | 0.104847     | 0.103875     |
| cls        | 0.049270     | 0.026545     | 0.034853     |
| cls_acc    | 96.00%       | 100.00%      | 96.00%       |
| recall50   | 0.960000     | 1.000000     | 0.960000     |
| recall75   | 0.960000     | 0.960000     | 0.920000     |
| precision  | 0.727273     | 0.409836     | 0.176471     |
| conf_obj   | 0.976759     | 0.985711     | 0.988819     |
| conf_noobj | 0.000510     | 0.000437     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 15:56:53.935 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.503944
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.180335     | 0.162045     | 0.161563     |
| x          | 0.006831     | 0.010299     | 0.013047     |
| y          | 0.003469     | 0.005472     | 0.020488     |
| w          | 0.017837     | 0.018511     | 0.008713     |
| h          | 0.008097     | 0.014907     | 0.007888     |
| conf       | 0.134226     | 0.108624     | 0.107375     |
| cls        | 0.009875     | 0.004232     | 0.004054     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.884615     | 0.888889     |
| precision  | 0.821429     | 0.553191     | 0.232759     |
| conf_obj   | 0.974426     | 0.978044     | 0.983680     |
| conf_noobj | 0.000447     | 0.000397     | 0.000384     |
+------------+--------------+--------------+--------------+
2020-12-20 15:57:04.617 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.689
2020-12-20 15:57:04.623 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 15:58:04.218 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11064   | 0.45771 | 0.17821 | 0.28168 |
| 1     | Wear_helmet | 0.47727   | 0.94550 | 0.63434 | 0.89464 |
| 2     | Total       | 0.29396   | 0.70160 | 0.40627 | 0.58816 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 15:58:04.221 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.588160553510943
2020-12-20 15:58:04.222 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 15:58:04.222 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.599048

2020-12-20 15:58:04.774 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 1/2, epo 1/5
2020-12-20 15:58:04.774 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 1/2, epo 1/5; time cost: 0:15:23.231513

2020-12-20 15:58:04.774 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 1/2, epo 2/5
2020-12-20 15:58:06.028 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.910274
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.335188     | 0.312122     | 0.262964     |
| x          | 0.008219     | 0.013693     | 0.019874     |
| y          | 0.012361     | 0.009551     | 0.025465     |
| w          | 0.032812     | 0.025957     | 0.017385     |
| h          | 0.033875     | 0.023675     | 0.021659     |
| conf       | 0.224564     | 0.197851     | 0.145715     |
| cls        | 0.023358     | 0.041395     | 0.032867     |
| cls_acc    | 97.50%       | 97.50%       | 97.56%       |
| recall50   | 0.925000     | 0.975000     | 0.975610     |
| recall75   | 0.850000     | 0.875000     | 0.829268     |
| precision  | 0.755102     | 0.500000     | 0.266667     |
| conf_obj   | 0.937766     | 0.940546     | 0.962180     |
| conf_noobj | 0.000599     | 0.000535     | 0.000454     |
+------------+--------------+--------------+--------------+
2020-12-20 15:59:14.047 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.441965
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.138477     | 0.129955     | 0.173533     |
| x          | 0.005967     | 0.003453     | 0.008180     |
| y          | 0.005797     | 0.010448     | 0.016526     |
| w          | 0.015372     | 0.010161     | 0.011362     |
| h          | 0.010354     | 0.006387     | 0.009899     |
| conf       | 0.095790     | 0.096061     | 0.124214     |
| cls        | 0.005198     | 0.003444     | 0.003352     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.920000     | 0.923077     |
| precision  | 0.857143     | 0.500000     | 0.252427     |
| conf_obj   | 0.971215     | 0.984204     | 0.967979     |
| conf_noobj | 0.000411     | 0.000365     | 0.000360     |
+------------+--------------+--------------+--------------+
2020-12-20 16:00:20.418 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 1.164103
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.470289     | 0.377207     | 0.316607     |
| x          | 0.009331     | 0.012764     | 0.020900     |
| y          | 0.008362     | 0.006497     | 0.022645     |
| w          | 0.015690     | 0.009064     | 0.009185     |
| h          | 0.026976     | 0.016245     | 0.012585     |
| conf       | 0.287630     | 0.275312     | 0.208528     |
| cls        | 0.122300     | 0.057325     | 0.042764     |
| cls_acc    | 95.45%       | 95.65%       | 95.65%       |
| recall50   | 0.909091     | 0.956522     | 0.956522     |
| recall75   | 0.909091     | 0.913043     | 0.869565     |
| precision  | 0.625000     | 0.440000     | 0.222222     |
| conf_obj   | 0.923138     | 0.936756     | 0.953933     |
| conf_noobj | 0.000790     | 0.000494     | 0.000384     |
+------------+--------------+--------------+--------------+
2020-12-20 16:01:28.393 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.723297
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.245179     | 0.250523     | 0.227595     |
| x          | 0.015294     | 0.022701     | 0.027768     |
| y          | 0.001553     | 0.007208     | 0.013610     |
| w          | 0.035093     | 0.045145     | 0.036280     |
| h          | 0.024578     | 0.042429     | 0.031299     |
| conf       | 0.166247     | 0.132756     | 0.118301     |
| cls        | 0.002415     | 0.000284     | 0.000337     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.926829     | 0.954545     |
| recall75   | 0.885714     | 0.707317     | 0.795455     |
| precision  | 0.772727     | 0.481013     | 0.262500     |
| conf_obj   | 0.956555     | 0.975227     | 0.975545     |
| conf_noobj | 0.000597     | 0.000490     | 0.000385     |
+------------+--------------+--------------+--------------+
2020-12-20 16:02:28.397 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.970123
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.319906     | 0.384801     | 0.265417     |
| x          | 0.009685     | 0.017469     | 0.014508     |
| y          | 0.006467     | 0.010475     | 0.017152     |
| w          | 0.025336     | 0.025658     | 0.024040     |
| h          | 0.016616     | 0.017330     | 0.026948     |
| conf       | 0.215029     | 0.277356     | 0.174066     |
| cls        | 0.046772     | 0.036512     | 0.008704     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 0.931035     | 1.000000     |
| recall75   | 0.777778     | 0.862069     | 0.900000     |
| precision  | 0.812500     | 0.627907     | 0.272727     |
| conf_obj   | 0.934762     | 0.912379     | 0.933141     |
| conf_noobj | 0.000515     | 0.000372     | 0.000448     |
+------------+--------------+--------------+--------------+
2020-12-20 16:03:30.340 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.842760
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.362074     | 0.234846     | 0.245840     |
| x          | 0.001972     | 0.004417     | 0.007817     |
| y          | 0.003812     | 0.007104     | 0.024862     |
| w          | 0.029604     | 0.020597     | 0.018873     |
| h          | 0.021931     | 0.030345     | 0.036980     |
| conf       | 0.301517     | 0.171374     | 0.156803     |
| cls        | 0.003238     | 0.001010     | 0.000506     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.956522     | 0.956522     |
| recall75   | 0.956522     | 0.869565     | 0.782609     |
| precision  | 0.814815     | 0.594595     | 0.297297     |
| conf_obj   | 0.916902     | 0.931297     | 0.940897     |
| conf_noobj | 0.000484     | 0.000316     | 0.000255     |
+------------+--------------+--------------+--------------+
2020-12-20 16:04:34.727 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.434400
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.295864     | 0.400268     | 0.738268     |
| x          | 0.006510     | 0.008578     | 0.019939     |
| y          | 0.004608     | 0.015785     | 0.027534     |
| w          | 0.017128     | 0.025129     | 0.021321     |
| h          | 0.023154     | 0.027144     | 0.030402     |
| conf       | 0.042130     | 0.141873     | 0.271809     |
| cls        | 0.202333     | 0.181759     | 0.367263     |
| cls_acc    | 93.33%       | 90.91%       | 91.18%       |
| recall50   | 0.933333     | 0.878788     | 0.823529     |
| recall75   | 0.833333     | 0.757576     | 0.676471     |
| precision  | 0.903226     | 0.630435     | 0.215385     |
| conf_obj   | 0.976581     | 0.958403     | 0.919102     |
| conf_noobj | 0.000121     | 0.000258     | 0.000414     |
+------------+--------------+--------------+--------------+
2020-12-20 16:05:44.466 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.576785
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.154339     | 0.223945     | 0.198501     |
| x          | 0.005195     | 0.019157     | 0.033691     |
| y          | 0.007124     | 0.021695     | 0.022686     |
| w          | 0.014499     | 0.017795     | 0.010311     |
| h          | 0.007950     | 0.016181     | 0.011461     |
| conf       | 0.114272     | 0.140091     | 0.114458     |
| cls        | 0.005299     | 0.009025     | 0.005895     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.960000     | 0.961538     |
| recall75   | 0.869565     | 0.880000     | 0.884615     |
| precision  | 0.785714     | 0.461538     | 0.225225     |
| conf_obj   | 0.964043     | 0.951390     | 0.970475     |
| conf_noobj | 0.000390     | 0.000337     | 0.000293     |
+------------+--------------+--------------+--------------+
2020-12-20 16:06:55.044 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 1.522601
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.582835     | 0.436329     | 0.503436     |
| x          | 0.002202     | 0.004681     | 0.022877     |
| y          | 0.006630     | 0.014549     | 0.037744     |
| w          | 0.013735     | 0.016452     | 0.012446     |
| h          | 0.012715     | 0.012183     | 0.012197     |
| conf       | 0.495025     | 0.378465     | 0.373298     |
| cls        | 0.052528     | 0.009999     | 0.044873     |
| cls_acc    | 95.24%       | 100.00%      | 95.24%       |
| recall50   | 0.904762     | 0.952381     | 0.952381     |
| recall75   | 0.904762     | 0.952381     | 0.952381     |
| precision  | 0.791667     | 0.434783     | 0.227273     |
| conf_obj   | 0.910775     | 0.939484     | 0.939994     |
| conf_noobj | 0.000296     | 0.000358     | 0.000272     |
+------------+--------------+--------------+--------------+
2020-12-20 16:08:03.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.891085
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.304490     | 0.341154     | 0.245441     |
| x          | 0.005190     | 0.009491     | 0.018610     |
| y          | 0.005293     | 0.009383     | 0.025317     |
| w          | 0.024268     | 0.014296     | 0.014549     |
| h          | 0.025306     | 0.015582     | 0.020769     |
| conf       | 0.241736     | 0.288978     | 0.164565     |
| cls        | 0.002697     | 0.003424     | 0.001633     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.896552     | 0.931035     |
| recall75   | 0.857143     | 0.862069     | 0.896552     |
| precision  | 0.812500     | 0.481481     | 0.257143     |
| conf_obj   | 0.911924     | 0.903173     | 0.939150     |
| conf_noobj | 0.000341     | 0.000306     | 0.000240     |
+------------+--------------+--------------+--------------+
2020-12-20 16:09:12.237 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.825398
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.353370     | 0.268152     | 0.203877     |
| x          | 0.027865     | 0.026736     | 0.030527     |
| y          | 0.013245     | 0.020042     | 0.029258     |
| w          | 0.050128     | 0.027834     | 0.010788     |
| h          | 0.057710     | 0.035564     | 0.018590     |
| conf       | 0.157691     | 0.149755     | 0.112760     |
| cls        | 0.046730     | 0.008221     | 0.001954     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.925926     | 0.964286     |
| recall75   | 0.739130     | 0.814815     | 0.821429     |
| precision  | 0.677419     | 0.416667     | 0.206107     |
| conf_obj   | 0.945972     | 0.958810     | 0.966543     |
| conf_noobj | 0.000386     | 0.000414     | 0.000317     |
+------------+--------------+--------------+--------------+
2020-12-20 16:10:21.559 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.674500
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.257474     | 0.219679     | 0.197346     |
| x          | 0.008912     | 0.008355     | 0.018826     |
| y          | 0.003138     | 0.010668     | 0.040084     |
| w          | 0.013019     | 0.012611     | 0.007496     |
| h          | 0.012020     | 0.012253     | 0.010991     |
| conf       | 0.219550     | 0.174595     | 0.117494     |
| cls        | 0.000836     | 0.001198     | 0.002456     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.969697     | 0.971429     | 1.000000     |
| recall75   | 0.939394     | 0.942857     | 0.971429     |
| precision  | 0.800000     | 0.453333     | 0.241379     |
| conf_obj   | 0.939062     | 0.944695     | 0.976660     |
| conf_noobj | 0.000580     | 0.000534     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 16:11:21.662 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 1.091801
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.512966     | 0.272180     | 0.306655     |
| x          | 0.020734     | 0.015742     | 0.019773     |
| y          | 0.004225     | 0.012476     | 0.025599     |
| w          | 0.035417     | 0.015522     | 0.012369     |
| h          | 0.040325     | 0.027294     | 0.022322     |
| conf       | 0.395868     | 0.195281     | 0.196910     |
| cls        | 0.016396     | 0.005865     | 0.029682     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.846154     | 0.884615     | 0.923077     |
| recall75   | 0.807692     | 0.807692     | 0.846154     |
| precision  | 0.785714     | 0.511111     | 0.247423     |
| conf_obj   | 0.876456     | 0.919722     | 0.936633     |
| conf_noobj | 0.000545     | 0.000400     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 16:12:28.178 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.423197
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.161997     | 0.140355     | 0.120846     |
| x          | 0.003805     | 0.007600     | 0.006847     |
| y          | 0.001323     | 0.003115     | 0.013943     |
| w          | 0.015776     | 0.011059     | 0.006073     |
| h          | 0.005581     | 0.007621     | 0.004957     |
| conf       | 0.135439     | 0.110927     | 0.088948     |
| cls        | 0.000074     | 0.000032     | 0.000077     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 1.000000     |
| precision  | 0.640000     | 0.447368     | 0.236111     |
| conf_obj   | 0.972417     | 0.962025     | 0.965581     |
| conf_noobj | 0.000520     | 0.000317     | 0.000211     |
+------------+--------------+--------------+--------------+
2020-12-20 16:12:39.706 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.686
2020-12-20 16:12:39.710 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 16:13:35.152 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.27199   | 0.41542 | 0.32874 | 0.27928 |
| 1     | Wear_helmet | 0.63070   | 0.94455 | 0.75636 | 0.90482 |
| 2     | Total       | 0.45134   | 0.67999 | 0.54255 | 0.59205 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:13:35.153 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5920504112656025
2020-12-20 16:13:35.154 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 16:13:35.154 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.443337

2020-12-20 16:13:35.624 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 1/2, epo 2/5
2020-12-20 16:13:35.624 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 1/2, epo 2/5; time cost: 0:15:30.849173

2020-12-20 16:13:35.624 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 1/2, epo 3/5
2020-12-20 16:13:37.168 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.378764
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.133318     | 0.126327     | 0.119119     |
| x          | 0.001543     | 0.003476     | 0.015175     |
| y          | 0.002206     | 0.005532     | 0.018233     |
| w          | 0.006685     | 0.005734     | 0.006168     |
| h          | 0.012824     | 0.011265     | 0.010209     |
| conf       | 0.110026     | 0.100281     | 0.069187     |
| cls        | 0.000033     | 0.000041     | 0.000147     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.937500     |
| precision  | 0.695652     | 0.457143     | 0.231884     |
| conf_obj   | 0.965800     | 0.963048     | 0.979089     |
| conf_noobj | 0.000345     | 0.000261     | 0.000199     |
+------------+--------------+--------------+--------------+
2020-12-20 16:14:47.129 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.538029
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.161108     | 0.167339     | 0.209582     |
| x          | 0.007948     | 0.009834     | 0.017438     |
| y          | 0.007617     | 0.009175     | 0.016999     |
| w          | 0.023494     | 0.016339     | 0.005177     |
| h          | 0.024645     | 0.022743     | 0.009989     |
| conf       | 0.082042     | 0.105085     | 0.154805     |
| cls        | 0.015362     | 0.004163     | 0.005175     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.942857     | 1.000000     | 1.000000     |
| recall75   | 0.857143     | 0.900000     | 0.950000     |
| precision  | 0.868421     | 0.597015     | 0.242424     |
| conf_obj   | 0.961119     | 0.971396     | 0.959051     |
| conf_noobj | 0.000226     | 0.000361     | 0.000472     |
+------------+--------------+--------------+--------------+
2020-12-20 16:15:50.721 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.419269
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.179048     | 0.119819     | 0.120402     |
| x          | 0.005125     | 0.002191     | 0.009198     |
| y          | 0.004171     | 0.008217     | 0.013243     |
| w          | 0.011398     | 0.007929     | 0.006985     |
| h          | 0.016422     | 0.013376     | 0.010507     |
| conf       | 0.139549     | 0.087781     | 0.080207     |
| cls        | 0.002382     | 0.000325     | 0.000261     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 1.000000     | 1.000000     |
| precision  | 0.692308     | 0.450000     | 0.264706     |
| conf_obj   | 0.987701     | 0.991256     | 0.987818     |
| conf_noobj | 0.000596     | 0.000359     | 0.000259     |
+------------+--------------+--------------+--------------+
2020-12-20 16:16:55.779 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.720836
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.303931     | 0.192919     | 0.223985     |
| x          | 0.020967     | 0.013531     | 0.033262     |
| y          | 0.020284     | 0.009336     | 0.023447     |
| w          | 0.022158     | 0.017701     | 0.012184     |
| h          | 0.025085     | 0.010101     | 0.008419     |
| conf       | 0.202940     | 0.127372     | 0.124259     |
| cls        | 0.012497     | 0.014879     | 0.022414     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 1.000000     | 1.000000     |
| recall75   | 0.740741     | 0.909091     | 0.882353     |
| precision  | 0.750000     | 0.515625     | 0.236111     |
| conf_obj   | 0.924461     | 0.962803     | 0.977076     |
| conf_noobj | 0.000482     | 0.000453     | 0.000448     |
+------------+--------------+--------------+--------------+
2020-12-20 16:17:56.850 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.759608
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.333805     | 0.238606     | 0.187197     |
| x          | 0.011300     | 0.011793     | 0.029414     |
| y          | 0.004102     | 0.009887     | 0.011416     |
| w          | 0.020581     | 0.019660     | 0.007396     |
| h          | 0.022279     | 0.024465     | 0.016085     |
| conf       | 0.272944     | 0.172056     | 0.122464     |
| cls        | 0.002598     | 0.000744     | 0.000424     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.913043     | 0.920000     | 0.962963     |
| recall75   | 0.782609     | 0.840000     | 0.888889     |
| precision  | 0.600000     | 0.359375     | 0.208000     |
| conf_obj   | 0.939784     | 0.956622     | 0.971535     |
| conf_noobj | 0.000818     | 0.000525     | 0.000384     |
+------------+--------------+--------------+--------------+
2020-12-20 16:19:00.013 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.816956
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.284322     | 0.343023     | 0.189611     |
| x          | 0.004859     | 0.017047     | 0.034308     |
| y          | 0.003757     | 0.008797     | 0.012239     |
| w          | 0.019151     | 0.050363     | 0.004981     |
| h          | 0.007691     | 0.062635     | 0.012981     |
| conf       | 0.247990     | 0.203958     | 0.124628     |
| cls        | 0.000875     | 0.000222     | 0.000474     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.900000     | 0.950000     |
| recall75   | 0.894737     | 0.850000     | 0.900000     |
| precision  | 0.818182     | 0.461538     | 0.208791     |
| conf_obj   | 0.919429     | 0.941102     | 0.955714     |
| conf_noobj | 0.000468     | 0.000319     | 0.000274     |
+------------+--------------+--------------+--------------+
2020-12-20 16:20:11.937 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.927491
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.343890     | 0.296236     | 0.287364     |
| x          | 0.010382     | 0.026416     | 0.031870     |
| y          | 0.010918     | 0.024946     | 0.027925     |
| w          | 0.022869     | 0.015920     | 0.015291     |
| h          | 0.023315     | 0.021432     | 0.012005     |
| conf       | 0.271037     | 0.204493     | 0.198073     |
| cls        | 0.005370     | 0.003030     | 0.002199     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.921053     | 0.900000     |
| recall75   | 0.848485     | 0.789474     | 0.800000     |
| precision  | 0.704545     | 0.443038     | 0.257143     |
| conf_obj   | 0.942327     | 0.945450     | 0.938033     |
| conf_noobj | 0.000843     | 0.000685     | 0.000461     |
+------------+--------------+--------------+--------------+
2020-12-20 16:21:16.717 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.902287
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.404560     | 0.292098     | 0.205629     |
| x          | 0.014314     | 0.004097     | 0.009588     |
| y          | 0.008292     | 0.006423     | 0.012833     |
| w          | 0.018887     | 0.014697     | 0.009977     |
| h          | 0.022288     | 0.015523     | 0.009095     |
| conf       | 0.314884     | 0.242225     | 0.154395     |
| cls        | 0.025896     | 0.009132     | 0.009741     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.920000     | 0.960000     |
| recall75   | 0.833333     | 0.880000     | 0.960000     |
| precision  | 0.785714     | 0.522727     | 0.247423     |
| conf_obj   | 0.913067     | 0.918782     | 0.942223     |
| conf_noobj | 0.000351     | 0.000383     | 0.000342     |
+------------+--------------+--------------+--------------+
2020-12-20 16:22:21.944 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.731293
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.365638     | 0.191798     | 0.173856     |
| x          | 0.001889     | 0.004560     | 0.014299     |
| y          | 0.002649     | 0.006596     | 0.015813     |
| w          | 0.027556     | 0.025917     | 0.012514     |
| h          | 0.020005     | 0.016640     | 0.005002     |
| conf       | 0.311025     | 0.135570     | 0.125962     |
| cls        | 0.002515     | 0.002515     | 0.000267     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.923077     | 0.923077     | 1.000000     |
| recall75   | 0.923077     | 0.923077     | 1.000000     |
| precision  | 0.750000     | 0.500000     | 0.188406     |
| conf_obj   | 0.911897     | 0.945030     | 0.945229     |
| conf_noobj | 0.000407     | 0.000240     | 0.000279     |
+------------+--------------+--------------+--------------+
2020-12-20 16:23:25.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.415061
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.140152     | 0.116610     | 0.158299     |
| x          | 0.001361     | 0.004720     | 0.010421     |
| y          | 0.010463     | 0.011917     | 0.026472     |
| w          | 0.014677     | 0.007184     | 0.010060     |
| h          | 0.010776     | 0.014091     | 0.008160     |
| conf       | 0.097556     | 0.072029     | 0.088492     |
| cls        | 0.005318     | 0.006670     | 0.014694     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.956522     | 0.956522     | 0.956522     |
| precision  | 0.851852     | 0.500000     | 0.239583     |
| conf_obj   | 0.974894     | 0.990882     | 0.978618     |
| conf_noobj | 0.000317     | 0.000311     | 0.000278     |
+------------+--------------+--------------+--------------+
2020-12-20 16:24:27.412 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.855243
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.298170     | 0.274759     | 0.282313     |
| x          | 0.009356     | 0.029825     | 0.011278     |
| y          | 0.001734     | 0.008652     | 0.018553     |
| w          | 0.025029     | 0.025351     | 0.022190     |
| h          | 0.017107     | 0.013088     | 0.008795     |
| conf       | 0.232410     | 0.157913     | 0.213189     |
| cls        | 0.012533     | 0.039930     | 0.008309     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.950000     | 0.900000     |
| recall75   | 0.947368     | 0.900000     | 0.800000     |
| precision  | 0.562500     | 0.301587     | 0.152542     |
| conf_obj   | 0.941793     | 0.956018     | 0.903798     |
| conf_noobj | 0.000763     | 0.000497     | 0.000330     |
+------------+--------------+--------------+--------------+
2020-12-20 16:25:33.023 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.772857
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.295526     | 0.234483     | 0.242848     |
| x          | 0.003941     | 0.005982     | 0.013807     |
| y          | 0.004091     | 0.007098     | 0.023022     |
| w          | 0.019060     | 0.015216     | 0.012634     |
| h          | 0.020354     | 0.013104     | 0.012837     |
| conf       | 0.237514     | 0.175854     | 0.153253     |
| cls        | 0.010567     | 0.017228     | 0.027294     |
| cls_acc    | 100.00%      | 100.00%      | 96.55%       |
| recall50   | 0.896552     | 0.931035     | 0.965517     |
| recall75   | 0.862069     | 0.931035     | 0.896552     |
| precision  | 0.838710     | 0.529412     | 0.229508     |
| conf_obj   | 0.907282     | 0.930211     | 0.944155     |
| conf_noobj | 0.000417     | 0.000346     | 0.000334     |
+------------+--------------+--------------+--------------+
2020-12-20 16:26:37.206 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.489870
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.148275     | 0.180643     | 0.160952     |
| x          | 0.003081     | 0.005593     | 0.028930     |
| y          | 0.003501     | 0.013487     | 0.034097     |
| w          | 0.010038     | 0.010417     | 0.007525     |
| h          | 0.004746     | 0.006540     | 0.007633     |
| conf       | 0.126215     | 0.144393     | 0.082176     |
| cls        | 0.000694     | 0.000213     | 0.000591     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.692308     | 0.367347     | 0.176471     |
| conf_obj   | 0.988507     | 0.954430     | 0.981347     |
| conf_noobj | 0.000509     | 0.000401     | 0.000284     |
+------------+--------------+--------------+--------------+
2020-12-20 16:27:44.379 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.665562
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.169502     | 0.281966     | 0.214094     |
| x          | 0.007430     | 0.029143     | 0.033484     |
| y          | 0.011669     | 0.011864     | 0.014608     |
| w          | 0.020553     | 0.021020     | 0.011624     |
| h          | 0.019211     | 0.006913     | 0.007659     |
| conf       | 0.109746     | 0.212453     | 0.146224     |
| cls        | 0.000895     | 0.000573     | 0.000495     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 0.761905     | 0.857143     | 0.904762     |
| precision  | 0.807692     | 0.425532     | 0.203883     |
| conf_obj   | 0.968717     | 0.920200     | 0.936211     |
| conf_noobj | 0.000340     | 0.000334     | 0.000258     |
+------------+--------------+--------------+--------------+
2020-12-20 16:27:58.271 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.672
2020-12-20 16:27:58.275 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 16:28:52.962 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.29559   | 0.38308 | 0.33369 | 0.26865 |
| 1     | Wear_helmet | 0.66868   | 0.94597 | 0.78351 | 0.90484 |
| 2     | Total       | 0.48213   | 0.66453 | 0.55860 | 0.58675 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:28:52.962 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5867467600745163
2020-12-20 16:28:52.963 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 16:28:52.963 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.687716

2020-12-20 16:28:53.451 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 1/2, epo 3/5
2020-12-20 16:28:53.452 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 1/2, epo 3/5; time cost: 0:15:17.827248

2020-12-20 16:28:53.452 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 1/2, epo 4/5
2020-12-20 16:28:54.843 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.665678
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.196801     | 0.251677     | 0.217199     |
| x          | 0.001718     | 0.008511     | 0.012154     |
| y          | 0.001869     | 0.009168     | 0.024271     |
| w          | 0.009307     | 0.006412     | 0.003777     |
| h          | 0.016638     | 0.011301     | 0.018554     |
| conf       | 0.166983     | 0.215813     | 0.157734     |
| cls        | 0.000286     | 0.000472     | 0.000710     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 0.952381     |
| recall75   | 1.000000     | 0.952381     | 0.904762     |
| precision  | 0.645161     | 0.425532     | 0.194175     |
| conf_obj   | 0.967704     | 0.939089     | 0.946080     |
| conf_noobj | 0.000562     | 0.000328     | 0.000252     |
+------------+--------------+--------------+--------------+
2020-12-20 16:29:59.293 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.435219
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.124564     | 0.161341     | 0.149314     |
| x          | 0.002149     | 0.010459     | 0.036327     |
| y          | 0.004300     | 0.007507     | 0.020295     |
| w          | 0.025813     | 0.022432     | 0.009262     |
| h          | 0.014217     | 0.014196     | 0.007624     |
| conf       | 0.074116     | 0.101340     | 0.070959     |
| cls        | 0.003969     | 0.005408     | 0.004846     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.954545     |
| recall75   | 0.952381     | 0.909091     | 0.909091     |
| precision  | 0.875000     | 0.564103     | 0.283784     |
| conf_obj   | 0.985188     | 0.973733     | 0.991057     |
| conf_noobj | 0.000299     | 0.000305     | 0.000245     |
+------------+--------------+--------------+--------------+
2020-12-20 16:31:04.171 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.513915
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.185852     | 0.134100     | 0.193962     |
| x          | 0.005666     | 0.008662     | 0.013832     |
| y          | 0.004108     | 0.006627     | 0.009346     |
| w          | 0.019654     | 0.010560     | 0.012775     |
| h          | 0.019484     | 0.014593     | 0.013420     |
| conf       | 0.136522     | 0.093231     | 0.144429     |
| cls        | 0.000419     | 0.000428     | 0.000161     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 1.000000     | 0.950000     |
| recall75   | 0.950000     | 0.950000     | 0.950000     |
| precision  | 0.904762     | 0.555556     | 0.206522     |
| conf_obj   | 0.954075     | 0.974539     | 0.948317     |
| conf_noobj | 0.000281     | 0.000286     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 16:32:10.942 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.390396
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.117169     | 0.133816     | 0.139412     |
| x          | 0.002296     | 0.009997     | 0.028436     |
| y          | 0.002770     | 0.008835     | 0.024666     |
| w          | 0.016903     | 0.013215     | 0.011100     |
| h          | 0.018351     | 0.016767     | 0.016848     |
| conf       | 0.075248     | 0.084908     | 0.058215     |
| cls        | 0.001601     | 0.000094     | 0.000147     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 0.941176     |
| precision  | 0.809524     | 0.472222     | 0.229730     |
| conf_obj   | 0.990395     | 0.977827     | 0.990835     |
| conf_noobj | 0.000400     | 0.000272     | 0.000204     |
+------------+--------------+--------------+--------------+
2020-12-20 16:33:15.615 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.500872
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.213944     | 0.120309     | 0.166619     |
| x          | 0.005419     | 0.003588     | 0.014397     |
| y          | 0.002056     | 0.002906     | 0.008019     |
| w          | 0.026942     | 0.023528     | 0.005173     |
| h          | 0.023506     | 0.013128     | 0.008266     |
| conf       | 0.155743     | 0.076882     | 0.130708     |
| cls        | 0.000279     | 0.000276     | 0.000057     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.933333     |
| recall75   | 0.933333     | 0.933333     | 0.866667     |
| precision  | 0.789474     | 0.517241     | 0.202899     |
| conf_obj   | 0.936990     | 0.984272     | 0.942585     |
| conf_noobj | 0.000404     | 0.000262     | 0.000210     |
+------------+--------------+--------------+--------------+
2020-12-20 16:34:16.324 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.684809
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.233032     | 0.244304     | 0.207472     |
| x          | 0.015935     | 0.012819     | 0.022285     |
| y          | 0.004415     | 0.006988     | 0.016844     |
| w          | 0.031561     | 0.012337     | 0.016018     |
| h          | 0.033476     | 0.015949     | 0.017506     |
| conf       | 0.129406     | 0.182116     | 0.122738     |
| cls        | 0.018239     | 0.014096     | 0.012081     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 0.956522     | 1.000000     |
| recall75   | 0.863636     | 0.826087     | 0.869565     |
| precision  | 0.777778     | 0.407407     | 0.174242     |
| conf_obj   | 0.973382     | 0.953537     | 0.987826     |
| conf_noobj | 0.000570     | 0.000608     | 0.000490     |
+------------+--------------+--------------+--------------+
2020-12-20 16:35:21.734 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.464033
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.130895     | 0.115705     | 0.217432     |
| x          | 0.003319     | 0.006806     | 0.016785     |
| y          | 0.003807     | 0.005005     | 0.013308     |
| w          | 0.012857     | 0.006188     | 0.004457     |
| h          | 0.010440     | 0.007621     | 0.009682     |
| conf       | 0.094589     | 0.088940     | 0.172301     |
| cls        | 0.005884     | 0.001145     | 0.000899     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.964286     |
| recall75   | 0.928571     | 0.964286     | 0.928571     |
| precision  | 0.848485     | 0.549020     | 0.219512     |
| conf_obj   | 0.980206     | 0.988373     | 0.953081     |
| conf_noobj | 0.000342     | 0.000309     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 16:36:28.748 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.475499
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.146005     | 0.168881     | 0.160613     |
| x          | 0.004304     | 0.011268     | 0.028127     |
| y          | 0.004571     | 0.008168     | 0.014108     |
| w          | 0.018281     | 0.018920     | 0.005343     |
| h          | 0.013959     | 0.015752     | 0.006099     |
| conf       | 0.104634     | 0.114606     | 0.106713     |
| cls        | 0.000255     | 0.000168     | 0.000223     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.900000     | 1.000000     |
| precision  | 0.800000     | 0.416667     | 0.200000     |
| conf_obj   | 0.966134     | 0.971000     | 0.959764     |
| conf_noobj | 0.000281     | 0.000338     | 0.000237     |
+------------+--------------+--------------+--------------+
2020-12-20 16:37:33.134 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.610447
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.230115     | 0.211586     | 0.168747     |
| x          | 0.003441     | 0.007147     | 0.011224     |
| y          | 0.009158     | 0.007285     | 0.008305     |
| w          | 0.018024     | 0.010993     | 0.011586     |
| h          | 0.008663     | 0.011793     | 0.012297     |
| conf       | 0.189952     | 0.172608     | 0.124248     |
| cls        | 0.000876     | 0.001761     | 0.001086     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.969697     | 0.970588     | 0.970588     |
| recall75   | 0.939394     | 0.911765     | 0.941176     |
| precision  | 0.780488     | 0.568965     | 0.235714     |
| conf_obj   | 0.946183     | 0.945582     | 0.965531     |
| conf_noobj | 0.000582     | 0.000402     | 0.000383     |
+------------+--------------+--------------+--------------+
2020-12-20 16:38:37.703 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.815749
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.280259     | 0.258065     | 0.277425     |
| x          | 0.007425     | 0.010601     | 0.025781     |
| y          | 0.008661     | 0.009404     | 0.027003     |
| w          | 0.011280     | 0.007733     | 0.006721     |
| h          | 0.013118     | 0.012868     | 0.011155     |
| conf       | 0.218599     | 0.208508     | 0.200040     |
| cls        | 0.021176     | 0.008951     | 0.006725     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.935484     | 0.937500     | 0.937500     |
| recall75   | 0.870968     | 0.875000     | 0.843750     |
| precision  | 0.783784     | 0.491803     | 0.215827     |
| conf_obj   | 0.936027     | 0.924585     | 0.936803     |
| conf_noobj | 0.000595     | 0.000480     | 0.000438     |
+------------+--------------+--------------+--------------+
2020-12-20 16:39:46.522 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.650679
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.188007     | 0.221480     | 0.241192     |
| x          | 0.015924     | 0.007495     | 0.015346     |
| y          | 0.004335     | 0.009615     | 0.027655     |
| w          | 0.032120     | 0.024533     | 0.022747     |
| h          | 0.026544     | 0.023840     | 0.024131     |
| conf       | 0.107978     | 0.154124     | 0.150122     |
| cls        | 0.001106     | 0.001873     | 0.001191     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.971429     | 1.000000     |
| recall75   | 0.806452     | 0.914286     | 0.885714     |
| precision  | 0.815789     | 0.507463     | 0.198864     |
| conf_obj   | 0.982675     | 0.958731     | 0.963767     |
| conf_noobj | 0.000497     | 0.000488     | 0.000485     |
+------------+--------------+--------------+--------------+
2020-12-20 16:40:53.973 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.776006
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.339522     | 0.202578     | 0.233906     |
| x          | 0.021201     | 0.009058     | 0.010409     |
| y          | 0.009558     | 0.020491     | 0.048363     |
| w          | 0.015369     | 0.010663     | 0.013302     |
| h          | 0.014240     | 0.008913     | 0.009818     |
| conf       | 0.278568     | 0.152628     | 0.151503     |
| cls        | 0.000585     | 0.000826     | 0.000511     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.962963     | 1.000000     |
| recall75   | 0.846154     | 0.925926     | 0.962963     |
| precision  | 0.676471     | 0.565217     | 0.181208     |
| conf_obj   | 0.926839     | 0.936809     | 0.957990     |
| conf_noobj | 0.000691     | 0.000327     | 0.000445     |
+------------+--------------+--------------+--------------+
2020-12-20 16:42:04.148 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.703051
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.283842     | 0.198949     | 0.220260     |
| x          | 0.039213     | 0.007923     | 0.015959     |
| y          | 0.005720     | 0.014419     | 0.018829     |
| w          | 0.031604     | 0.019338     | 0.020537     |
| h          | 0.029844     | 0.021215     | 0.014200     |
| conf       | 0.158164     | 0.128572     | 0.149595     |
| cls        | 0.019296     | 0.007482     | 0.001139     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.840000     | 1.000000     | 0.962963     |
| recall75   | 0.840000     | 0.851852     | 0.851852     |
| precision  | 0.724138     | 0.519231     | 0.222222     |
| conf_obj   | 0.959642     | 0.965569     | 0.958412     |
| conf_noobj | 0.000388     | 0.000384     | 0.000397     |
+------------+--------------+--------------+--------------+
2020-12-20 16:43:16.177 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.689132
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.251622     | 0.200576     | 0.236934     |
| x          | 0.008388     | 0.010307     | 0.016835     |
| y          | 0.014766     | 0.018273     | 0.028404     |
| w          | 0.022755     | 0.018025     | 0.008498     |
| h          | 0.026480     | 0.021279     | 0.010303     |
| conf       | 0.161696     | 0.129629     | 0.165706     |
| cls        | 0.017536     | 0.003063     | 0.007188     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.972973     | 0.972973     |
| recall75   | 0.828571     | 0.837838     | 0.918919     |
| precision  | 0.850000     | 0.580645     | 0.214286     |
| conf_obj   | 0.942293     | 0.966576     | 0.953324     |
| conf_noobj | 0.000468     | 0.000446     | 0.000462     |
+------------+--------------+--------------+--------------+
2020-12-20 16:43:28.471 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.648
2020-12-20 16:43:28.474 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 16:44:25.053 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.20416   | 0.41542 | 0.27377 | 0.29039 |
| 1     | Wear_helmet | 0.62571   | 0.93412 | 0.74943 | 0.90158 |
| 2     | Total       | 0.41494   | 0.67477 | 0.51160 | 0.59598 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:44:25.053 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.595984319179542
2020-12-20 16:44:25.054 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 16:44:25.054 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.579679

2020-12-20 16:44:25.565 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 1/2, epo 4/5
2020-12-20 16:44:25.565 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 1/2, epo 4/5; time cost: 0:15:32.113383

2020-12-20 16:44:25.566 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 18/20, idx 1/2, epo 5/5
2020-12-20 16:44:27.078 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.941655
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.391369     | 0.340411     | 0.209876     |
| x          | 0.014749     | 0.026580     | 0.030374     |
| y          | 0.005608     | 0.011942     | 0.026608     |
| w          | 0.022668     | 0.010717     | 0.009332     |
| h          | 0.013745     | 0.009570     | 0.004638     |
| conf       | 0.333821     | 0.281448     | 0.138358     |
| cls        | 0.000778     | 0.000154     | 0.000565     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.941176     | 0.944444     | 1.000000     |
| recall75   | 0.823529     | 0.777778     | 0.944444     |
| precision  | 0.615385     | 0.340000     | 0.189474     |
| conf_obj   | 0.890766     | 0.886856     | 0.950890     |
| conf_noobj | 0.000732     | 0.000477     | 0.000335     |
+------------+--------------+--------------+--------------+
2020-12-20 16:45:35.815 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 1.358884
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.382175     | 0.518536     | 0.458173     |
| x          | 0.018725     | 0.017840     | 0.015978     |
| y          | 0.014913     | 0.014468     | 0.011152     |
| w          | 0.014191     | 0.011294     | 0.013847     |
| h          | 0.022579     | 0.013863     | 0.018392     |
| conf       | 0.285714     | 0.362353     | 0.367769     |
| cls        | 0.026052     | 0.098718     | 0.031035     |
| cls_acc    | 100.00%      | 95.83%       | 100.00%      |
| recall50   | 0.857143     | 0.916667     | 0.960000     |
| recall75   | 0.714286     | 0.791667     | 0.800000     |
| precision  | 0.720000     | 0.385965     | 0.235294     |
| conf_obj   | 0.942325     | 0.927129     | 0.935151     |
| conf_noobj | 0.000574     | 0.000590     | 0.000443     |
+------------+--------------+--------------+--------------+
2020-12-20 16:46:42.584 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.545672
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.196770     | 0.183857     | 0.165045     |
| x          | 0.015768     | 0.016703     | 0.015648     |
| y          | 0.005313     | 0.014495     | 0.018155     |
| w          | 0.030372     | 0.040718     | 0.013380     |
| h          | 0.008144     | 0.014957     | 0.011820     |
| conf       | 0.136355     | 0.095329     | 0.105155     |
| cls        | 0.000818     | 0.001655     | 0.000888     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.931035     | 1.000000     |
| recall75   | 0.884615     | 0.896552     | 0.935484     |
| precision  | 0.742857     | 0.500000     | 0.258333     |
| conf_obj   | 0.981645     | 0.983120     | 0.984306     |
| conf_noobj | 0.000566     | 0.000373     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 16:47:49.473 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.622223
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.266376     | 0.193377     | 0.162469     |
| x          | 0.013969     | 0.010722     | 0.021463     |
| y          | 0.003574     | 0.010546     | 0.016133     |
| w          | 0.020514     | 0.014821     | 0.007219     |
| h          | 0.021466     | 0.024559     | 0.010697     |
| conf       | 0.203270     | 0.131890     | 0.103570     |
| cls        | 0.003584     | 0.000838     | 0.003387     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.909091     | 1.000000     | 1.000000     |
| recall75   | 0.818182     | 0.869565     | 0.913043     |
| precision  | 0.714286     | 0.396552     | 0.234694     |
| conf_obj   | 0.930185     | 0.970174     | 0.975422     |
| conf_noobj | 0.000630     | 0.000515     | 0.000354     |
+------------+--------------+--------------+--------------+
2020-12-20 16:48:51.974 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.301890
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.080044     | 0.098107     | 0.123739     |
| x          | 0.001858     | 0.006412     | 0.014514     |
| y          | 0.002451     | 0.008990     | 0.018538     |
| w          | 0.006073     | 0.007610     | 0.008430     |
| h          | 0.010542     | 0.013294     | 0.016846     |
| conf       | 0.058050     | 0.059621     | 0.063071     |
| cls        | 0.001070     | 0.002179     | 0.002340     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.954545     | 0.954545     | 0.863636     |
| precision  | 0.880000     | 0.578947     | 0.282051     |
| conf_obj   | 0.987939     | 0.991531     | 0.985048     |
| conf_noobj | 0.000296     | 0.000249     | 0.000204     |
+------------+--------------+--------------+--------------+
2020-12-20 16:49:55.927 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.439084
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.138183     | 0.147044     | 0.153858     |
| x          | 0.002693     | 0.011680     | 0.026359     |
| y          | 0.004059     | 0.003790     | 0.014151     |
| w          | 0.024030     | 0.021015     | 0.007168     |
| h          | 0.016789     | 0.014923     | 0.005476     |
| conf       | 0.090167     | 0.094629     | 0.096169     |
| cls        | 0.000445     | 0.001006     | 0.004535     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.950000     | 0.900000     |
| precision  | 0.740741     | 0.465116     | 0.188679     |
| conf_obj   | 0.992743     | 0.985197     | 0.977435     |
| conf_noobj | 0.000490     | 0.000360     | 0.000348     |
+------------+--------------+--------------+--------------+
2020-12-20 16:50:59.384 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.055501
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.418613     | 0.333480     | 0.303407     |
| x          | 0.010015     | 0.015115     | 0.019278     |
| y          | 0.004262     | 0.006810     | 0.009955     |
| w          | 0.018320     | 0.021915     | 0.017923     |
| h          | 0.031736     | 0.022523     | 0.017086     |
| conf       | 0.225447     | 0.214479     | 0.172124     |
| cls        | 0.128834     | 0.052639     | 0.067040     |
| cls_acc    | 96.97%       | 97.22%       | 97.22%       |
| recall50   | 0.878788     | 0.944444     | 0.944444     |
| recall75   | 0.757576     | 0.861111     | 0.805556     |
| precision  | 0.828571     | 0.507463     | 0.236111     |
| conf_obj   | 0.915151     | 0.941962     | 0.949356     |
| conf_noobj | 0.000458     | 0.000545     | 0.000477     |
+------------+--------------+--------------+--------------+
2020-12-20 16:52:04.167 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.115147
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.490818     | 0.364147     | 0.260182     |
| x          | 0.022082     | 0.016113     | 0.023469     |
| y          | 0.006678     | 0.020699     | 0.029801     |
| w          | 0.022246     | 0.022709     | 0.012360     |
| h          | 0.029621     | 0.028188     | 0.034004     |
| conf       | 0.404779     | 0.271095     | 0.144591     |
| cls        | 0.005412     | 0.005344     | 0.015957     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.826087     | 0.826087     | 0.960000     |
| recall75   | 0.739130     | 0.739130     | 0.840000     |
| precision  | 0.730769     | 0.422222     | 0.218182     |
| conf_obj   | 0.869887     | 0.903540     | 0.965352     |
| conf_noobj | 0.000520     | 0.000543     | 0.000465     |
+------------+--------------+--------------+--------------+
2020-12-20 16:53:09.237 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.861129
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.247679     | 0.307737     | 0.305713     |
| x          | 0.003844     | 0.006142     | 0.019014     |
| y          | 0.007289     | 0.018852     | 0.035996     |
| w          | 0.032438     | 0.029088     | 0.015459     |
| h          | 0.027194     | 0.026088     | 0.007866     |
| conf       | 0.138392     | 0.172710     | 0.144588     |
| cls        | 0.038523     | 0.054856     | 0.082790     |
| cls_acc    | 95.83%       | 95.83%       | 95.83%       |
| recall50   | 0.958333     | 0.958333     | 0.958333     |
| recall75   | 0.875000     | 0.875000     | 0.916667     |
| precision  | 0.718750     | 0.383333     | 0.172932     |
| conf_obj   | 0.971442     | 0.948753     | 0.961088     |
| conf_noobj | 0.000644     | 0.000533     | 0.000406     |
+------------+--------------+--------------+--------------+
2020-12-20 16:54:17.012 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.689877
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.249866     | 0.225731     | 0.214279     |
| x          | 0.004309     | 0.012828     | 0.032106     |
| y          | 0.006711     | 0.010505     | 0.019448     |
| w          | 0.015358     | 0.014541     | 0.011538     |
| h          | 0.024867     | 0.019832     | 0.011764     |
| conf       | 0.145472     | 0.131356     | 0.122808     |
| cls        | 0.053149     | 0.036669     | 0.016616     |
| cls_acc    | 96.67%       | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.966667     | 0.966667     |
| recall75   | 0.866667     | 0.833333     | 0.900000     |
| precision  | 0.783784     | 0.527273     | 0.216418     |
| conf_obj   | 0.964602     | 0.982487     | 0.985039     |
| conf_noobj | 0.000504     | 0.000491     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 16:55:19.730 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.835291
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.279868     | 0.293228     | 0.262195     |
| x          | 0.019581     | 0.016968     | 0.044953     |
| y          | 0.007231     | 0.008949     | 0.030153     |
| w          | 0.028016     | 0.017521     | 0.021649     |
| h          | 0.017684     | 0.021437     | 0.022287     |
| conf       | 0.206008     | 0.227542     | 0.141032     |
| cls        | 0.001347     | 0.000811     | 0.002121     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.961538     | 0.961538     |
| recall75   | 0.869565     | 0.884615     | 0.807692     |
| precision  | 0.687500     | 0.438596     | 0.160256     |
| conf_obj   | 0.922992     | 0.916220     | 0.956334     |
| conf_noobj | 0.000514     | 0.000457     | 0.000432     |
+------------+--------------+--------------+--------------+
2020-12-20 16:56:27.097 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.917907
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.379338     | 0.296503     | 0.242066     |
| x          | 0.009285     | 0.045076     | 0.031371     |
| y          | 0.008348     | 0.014332     | 0.031604     |
| w          | 0.144513     | 0.062155     | 0.053912     |
| h          | 0.095017     | 0.044833     | 0.016234     |
| conf       | 0.058285     | 0.100591     | 0.098278     |
| cls        | 0.063891     | 0.029517     | 0.010668     |
| cls_acc    | 94.44%       | 100.00%      | 100.00%      |
| recall50   | 0.944444     | 0.904762     | 0.952381     |
| recall75   | 0.777778     | 0.666667     | 0.619048     |
| precision  | 0.850000     | 0.487179     | 0.202020     |
| conf_obj   | 0.975639     | 0.968445     | 0.979504     |
| conf_noobj | 0.000224     | 0.000331     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 16:57:30.299 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.555912
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.186798     | 0.214844     | 0.154270     |
| x          | 0.011521     | 0.016656     | 0.023370     |
| y          | 0.002760     | 0.009884     | 0.020502     |
| w          | 0.019790     | 0.021338     | 0.021666     |
| h          | 0.008207     | 0.013017     | 0.011572     |
| conf       | 0.143730     | 0.153182     | 0.076809     |
| cls        | 0.000790     | 0.000767     | 0.000351     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.888889     | 1.000000     | 1.000000     |
| recall75   | 0.833333     | 0.800000     | 0.800000     |
| precision  | 0.666667     | 0.444444     | 0.222222     |
| conf_obj   | 0.956900     | 0.932136     | 0.984012     |
| conf_noobj | 0.000417     | 0.000322     | 0.000254     |
+------------+--------------+--------------+--------------+
2020-12-20 16:58:40.400 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.451716
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.100638     | 0.188095     | 0.162983     |
| x          | 0.002059     | 0.009394     | 0.019205     |
| y          | 0.002312     | 0.005307     | 0.015181     |
| w          | 0.020447     | 0.024072     | 0.026476     |
| h          | 0.012142     | 0.022429     | 0.017850     |
| conf       | 0.061806     | 0.126152     | 0.083850     |
| cls        | 0.001873     | 0.000740     | 0.000422     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.969697     | 0.970588     |
| recall75   | 1.000000     | 0.909091     | 0.852941     |
| precision  | 0.909091     | 0.561404     | 0.314286     |
| conf_obj   | 0.986544     | 0.959228     | 0.978313     |
| conf_noobj | 0.000239     | 0.000289     | 0.000232     |
+------------+--------------+--------------+--------------+
2020-12-20 16:58:53.627 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.668
2020-12-20 16:58:53.634 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 16:59:49.808 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.25110   | 0.42537 | 0.31579 | 0.30843 |
| 1     | Wear_helmet | 0.67761   | 0.91943 | 0.78021 | 0.89049 |
| 2     | Total       | 0.46436   | 0.67240 | 0.54800 | 0.59946 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 16:59:49.808 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5994631443895657
2020-12-20 16:59:49.809 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 16:59:49.809 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:56.175224

2020-12-20 16:59:50.282 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 18/20, idx 1/2, epo 5/5
2020-12-20 16:59:50.282 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 18/20, idx 1/2, epo 5/5; time cost: 0:15:24.716350

2020-12-20 16:59:50.283 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.673
2020-12-20 16:59:50.530 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 17:03:36.604 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.29530   | 0.54647 | 0.38341 | 0.44510 |
| 1     | Wear_helmet | 0.69030   | 0.91495 | 0.78691 | 0.88749 |
| 2     | Total       | 0.49280   | 0.73071 | 0.58516 | 0.66629 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:03:36.605 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6662933390649888
2020-12-20 17:03:36.606 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 17:03:36.606 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:46.075262

2020-12-20 17:03:41.825 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 19!
2020-12-20 17:03:41.954 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 1/2, epo 1/5
2020-12-20 17:03:42.973 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.577912
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.184209     | 0.225452     | 0.168251     |
| x          | 0.006148     | 0.009245     | 0.017863     |
| y          | 0.003865     | 0.010683     | 0.024775     |
| w          | 0.014865     | 0.011316     | 0.010751     |
| h          | 0.066525     | 0.057957     | 0.026344     |
| conf       | 0.092536     | 0.135944     | 0.088223     |
| cls        | 0.000269     | 0.000307     | 0.000295     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 1.000000     |
| recall75   | 0.884615     | 0.884615     | 0.884615     |
| precision  | 0.928571     | 0.531915     | 0.320988     |
| conf_obj   | 0.966952     | 0.963998     | 0.981682     |
| conf_noobj | 0.000353     | 0.000414     | 0.000298     |
+------------+--------------+--------------+--------------+
2020-12-20 17:04:46.547 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.857927
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.332155     | 0.298962     | 0.226810     |
| x          | 0.017797     | 0.024818     | 0.022275     |
| y          | 0.008669     | 0.015904     | 0.028364     |
| w          | 0.036396     | 0.031353     | 0.021130     |
| h          | 0.018115     | 0.019943     | 0.012207     |
| conf       | 0.218402     | 0.202684     | 0.140986     |
| cls        | 0.032777     | 0.004261     | 0.001848     |
| cls_acc    | 97.37%       | 100.00%      | 100.00%      |
| recall50   | 0.894737     | 0.880952     | 1.000000     |
| recall75   | 0.736842     | 0.738095     | 0.829787     |
| precision  | 0.693878     | 0.500000     | 0.262570     |
| conf_obj   | 0.935588     | 0.932329     | 0.976646     |
| conf_noobj | 0.000616     | 0.000474     | 0.000481     |
+------------+--------------+--------------+--------------+
2020-12-20 17:05:50.774 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.858819
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.318263     | 0.281758     | 0.258798     |
| x          | 0.004541     | 0.014542     | 0.031005     |
| y          | 0.004015     | 0.011137     | 0.015751     |
| w          | 0.022554     | 0.016368     | 0.008891     |
| h          | 0.021936     | 0.014984     | 0.011310     |
| conf       | 0.161415     | 0.126685     | 0.144043     |
| cls        | 0.103803     | 0.098042     | 0.047797     |
| cls_acc    | 96.77%       | 96.77%       | 96.77%       |
| recall50   | 0.967742     | 0.935484     | 0.967742     |
| recall75   | 0.935484     | 0.870968     | 0.935484     |
| precision  | 0.857143     | 0.483333     | 0.212766     |
| conf_obj   | 0.935407     | 0.962937     | 0.959659     |
| conf_noobj | 0.000415     | 0.000415     | 0.000418     |
+------------+--------------+--------------+--------------+
2020-12-20 17:07:02.395 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.973646
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.408958     | 0.292586     | 0.272102     |
| x          | 0.049823     | 0.030566     | 0.026467     |
| y          | 0.007335     | 0.013822     | 0.023149     |
| w          | 0.013808     | 0.015201     | 0.022898     |
| h          | 0.050785     | 0.051682     | 0.057038     |
| conf       | 0.285490     | 0.180110     | 0.140267     |
| cls        | 0.001716     | 0.001206     | 0.002284     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.766667     | 0.941176     | 1.000000     |
| recall75   | 0.700000     | 0.647059     | 0.714286     |
| precision  | 0.605263     | 0.500000     | 0.238095     |
| conf_obj   | 0.926120     | 0.954933     | 0.976091     |
| conf_noobj | 0.000611     | 0.000526     | 0.000461     |
+------------+--------------+--------------+--------------+
2020-12-20 17:08:10.576 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.470567
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.184242     | 0.128432     | 0.157893     |
| x          | 0.001341     | 0.003109     | 0.021981     |
| y          | 0.001464     | 0.006890     | 0.021722     |
| w          | 0.009142     | 0.007634     | 0.007514     |
| h          | 0.010538     | 0.008003     | 0.005014     |
| conf       | 0.161464     | 0.102727     | 0.101472     |
| cls        | 0.000294     | 0.000070     | 0.000190     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.740741     | 0.416667     | 0.186916     |
| conf_obj   | 0.954145     | 0.979574     | 0.975780     |
| conf_noobj | 0.000580     | 0.000380     | 0.000343     |
+------------+--------------+--------------+--------------+
2020-12-20 17:09:13.121 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.684597
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.145753     | 0.262032     | 0.276812     |
| x          | 0.006837     | 0.017334     | 0.038280     |
| y          | 0.005138     | 0.018328     | 0.032474     |
| w          | 0.023357     | 0.014828     | 0.010098     |
| h          | 0.019166     | 0.017899     | 0.015403     |
| conf       | 0.084729     | 0.186962     | 0.172806     |
| cls        | 0.006526     | 0.006681     | 0.007751     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 0.962963     |
| recall75   | 0.920000     | 0.846154     | 0.888889     |
| precision  | 0.862069     | 0.462963     | 0.185714     |
| conf_obj   | 0.976311     | 0.948377     | 0.953906     |
| conf_noobj | 0.000379     | 0.000386     | 0.000419     |
+------------+--------------+--------------+--------------+
2020-12-20 17:10:20.963 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.326518
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.113706     | 0.081817     | 0.130995     |
| x          | 0.002341     | 0.015204     | 0.055138     |
| y          | 0.001632     | 0.002614     | 0.016106     |
| w          | 0.007309     | 0.007509     | 0.009258     |
| h          | 0.007332     | 0.004421     | 0.003475     |
| conf       | 0.094694     | 0.051296     | 0.046425     |
| cls        | 0.000398     | 0.000774     | 0.000593     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.800000     | 0.461538     | 0.260870     |
| conf_obj   | 0.968225     | 0.994295     | 0.996551     |
| conf_noobj | 0.000322     | 0.000255     | 0.000174     |
+------------+--------------+--------------+--------------+
2020-12-20 17:11:25.839 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.554053
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.179612     | 0.178119     | 0.196322     |
| x          | 0.010788     | 0.019444     | 0.026196     |
| y          | 0.004934     | 0.011480     | 0.020112     |
| w          | 0.018894     | 0.027974     | 0.009224     |
| h          | 0.014559     | 0.010762     | 0.009981     |
| conf       | 0.123717     | 0.105315     | 0.128055     |
| cls        | 0.006721     | 0.003144     | 0.002754     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.971429     | 1.000000     |
| recall75   | 0.970588     | 0.914286     | 0.916667     |
| precision  | 0.804878     | 0.485714     | 0.210526     |
| conf_obj   | 0.957596     | 0.978074     | 0.971805     |
| conf_noobj | 0.000358     | 0.000382     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 17:12:34.154 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.381866
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.057895     | 0.132582     | 0.191389     |
| x          | 0.002755     | 0.008764     | 0.015264     |
| y          | 0.004238     | 0.012606     | 0.048506     |
| w          | 0.008565     | 0.011525     | 0.005083     |
| h          | 0.004760     | 0.008692     | 0.005513     |
| conf       | 0.037351     | 0.090742     | 0.116767     |
| cls        | 0.000227     | 0.000253     | 0.000256     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.894737     | 0.472222     | 0.207317     |
| conf_obj   | 0.998215     | 0.987827     | 0.962617     |
| conf_noobj | 0.000240     | 0.000368     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 17:13:34.491 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.516675
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.202283     | 0.172395     | 0.141997     |
| x          | 0.002890     | 0.005216     | 0.015741     |
| y          | 0.001590     | 0.004566     | 0.012764     |
| w          | 0.007835     | 0.005614     | 0.004105     |
| h          | 0.013926     | 0.010814     | 0.009134     |
| conf       | 0.175540     | 0.144637     | 0.098740     |
| cls        | 0.000503     | 0.001549     | 0.001513     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.972973     | 1.000000     |
| recall75   | 1.000000     | 0.972973     | 0.945946     |
| precision  | 0.818182     | 0.507042     | 0.246667     |
| conf_obj   | 0.963565     | 0.955685     | 0.983414     |
| conf_noobj | 0.000602     | 0.000439     | 0.000395     |
+------------+--------------+--------------+--------------+
2020-12-20 17:14:40.457 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 1.201795
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.473191     | 0.311653     | 0.416950     |
| x          | 0.028860     | 0.007123     | 0.017238     |
| y          | 0.006049     | 0.009084     | 0.023045     |
| w          | 0.049903     | 0.028109     | 0.027005     |
| h          | 0.040426     | 0.016386     | 0.015688     |
| conf       | 0.259761     | 0.223945     | 0.275097     |
| cls        | 0.088191     | 0.027006     | 0.058876     |
| cls_acc    | 96.55%       | 100.00%      | 97.30%       |
| recall50   | 0.896552     | 0.942857     | 0.945946     |
| recall75   | 0.689655     | 0.857143     | 0.810811     |
| precision  | 0.838710     | 0.589286     | 0.259259     |
| conf_obj   | 0.923989     | 0.918532     | 0.891129     |
| conf_noobj | 0.000392     | 0.000473     | 0.000524     |
+------------+--------------+--------------+--------------+
2020-12-20 17:15:44.509 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.399687
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.071542     | 0.161472     | 0.166672     |
| x          | 0.004741     | 0.007042     | 0.019563     |
| y          | 0.002958     | 0.007969     | 0.018074     |
| w          | 0.014327     | 0.008945     | 0.006923     |
| h          | 0.006403     | 0.004885     | 0.005581     |
| conf       | 0.043005     | 0.132302     | 0.116230     |
| cls        | 0.000108     | 0.000330     | 0.000302     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 1.000000     |
| recall75   | 0.958333     | 0.920000     | 1.000000     |
| precision  | 0.923077     | 0.585366     | 0.221239     |
| conf_obj   | 0.983752     | 0.960136     | 0.970926     |
| conf_noobj | 0.000146     | 0.000292     | 0.000324     |
+------------+--------------+--------------+--------------+
2020-12-20 17:16:46.308 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.568063
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.182505     | 0.192060     | 0.193498     |
| x          | 0.003222     | 0.008630     | 0.018293     |
| y          | 0.003787     | 0.011778     | 0.021836     |
| w          | 0.013346     | 0.024896     | 0.012420     |
| h          | 0.015550     | 0.020417     | 0.017034     |
| conf       | 0.129746     | 0.121469     | 0.121328     |
| cls        | 0.016855     | 0.004870     | 0.002588     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 0.972973     | 0.972973     |
| recall75   | 0.971429     | 0.837838     | 0.918919     |
| precision  | 0.871795     | 0.679245     | 0.274809     |
| conf_obj   | 0.943575     | 0.952963     | 0.963775     |
| conf_noobj | 0.000277     | 0.000277     | 0.000347     |
+------------+--------------+--------------+--------------+
2020-12-20 17:17:48.623 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.457786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.158508     | 0.128356     | 0.170923     |
| x          | 0.005854     | 0.011829     | 0.016158     |
| y          | 0.006667     | 0.008834     | 0.012483     |
| w          | 0.023893     | 0.012275     | 0.007464     |
| h          | 0.036190     | 0.009955     | 0.008740     |
| conf       | 0.081783     | 0.080134     | 0.124809     |
| cls        | 0.004121     | 0.005330     | 0.001268     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.935484     | 0.937500     | 0.969697     |
| recall75   | 0.903226     | 0.906250     | 0.939394     |
| precision  | 0.906250     | 0.600000     | 0.290909     |
| conf_obj   | 0.962357     | 0.981402     | 0.966900     |
| conf_noobj | 0.000235     | 0.000313     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 17:17:59.765 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.658
2020-12-20 17:17:59.769 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 17:18:54.282 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.31120   | 0.40796 | 0.35307 | 0.28838 |
| 1     | Wear_helmet | 0.86538   | 0.91090 | 0.88755 | 0.88703 |
| 2     | Total       | 0.58829   | 0.65943 | 0.62031 | 0.58771 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:18:54.283 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5877056345604137
2020-12-20 17:18:54.284 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 17:18:54.284 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.514216

2020-12-20 17:18:54.843 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 1/2, epo 1/5
2020-12-20 17:18:54.844 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 1/2, epo 1/5; time cost: 0:15:12.889263

2020-12-20 17:18:54.844 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 1/2, epo 2/5
2020-12-20 17:18:55.963 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.584732
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.175898     | 0.228181     | 0.180654     |
| x          | 0.005195     | 0.005541     | 0.013685     |
| y          | 0.002315     | 0.004418     | 0.008507     |
| w          | 0.013780     | 0.012727     | 0.008851     |
| h          | 0.014199     | 0.017448     | 0.009381     |
| conf       | 0.139463     | 0.186678     | 0.140050     |
| cls        | 0.000946     | 0.001367     | 0.000181     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.960000     | 0.960000     |
| recall75   | 0.958333     | 0.920000     | 0.960000     |
| precision  | 0.750000     | 0.558140     | 0.247423     |
| conf_obj   | 0.977383     | 0.948891     | 0.953728     |
| conf_noobj | 0.000584     | 0.000323     | 0.000328     |
+------------+--------------+--------------+--------------+
2020-12-20 17:20:00.515 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.378654
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.129898     | 0.120544     | 0.128212     |
| x          | 0.004560     | 0.008840     | 0.022759     |
| y          | 0.001736     | 0.004895     | 0.006733     |
| w          | 0.012231     | 0.011270     | 0.008840     |
| h          | 0.006710     | 0.005886     | 0.006865     |
| conf       | 0.081006     | 0.051862     | 0.052097     |
| cls        | 0.023655     | 0.037791     | 0.030918     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.800000     | 0.555556     | 0.246914     |
| conf_obj   | 0.978027     | 0.989235     | 0.994507     |
| conf_noobj | 0.000302     | 0.000217     | 0.000198     |
+------------+--------------+--------------+--------------+
2020-12-20 17:21:10.190 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.744663
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.264902     | 0.208667     | 0.271094     |
| x          | 0.003615     | 0.009897     | 0.033083     |
| y          | 0.003013     | 0.008963     | 0.031875     |
| w          | 0.020810     | 0.031938     | 0.012348     |
| h          | 0.015454     | 0.020139     | 0.009652     |
| conf       | 0.220854     | 0.126119     | 0.165063     |
| cls        | 0.001155     | 0.011611     | 0.019073     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.956522     | 0.958333     | 0.958333     |
| recall75   | 0.869565     | 0.875000     | 0.875000     |
| precision  | 0.758621     | 0.500000     | 0.291139     |
| conf_obj   | 0.941194     | 0.958222     | 0.946248     |
| conf_noobj | 0.000412     | 0.000243     | 0.000200     |
+------------+--------------+--------------+--------------+
2020-12-20 17:22:22.498 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 1.182477
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.606317     | 0.325825     | 0.250335     |
| x          | 0.004936     | 0.014333     | 0.022572     |
| y          | 0.007292     | 0.018519     | 0.025935     |
| w          | 0.018685     | 0.014501     | 0.009678     |
| h          | 0.023123     | 0.019755     | 0.012779     |
| conf       | 0.518825     | 0.252477     | 0.171754     |
| cls        | 0.033455     | 0.006241     | 0.007618     |
| cls_acc    | 96.30%       | 100.00%      | 100.00%      |
| recall50   | 0.851852     | 0.925926     | 1.000000     |
| recall75   | 0.777778     | 0.851852     | 0.928571     |
| precision  | 0.718750     | 0.347222     | 0.200000     |
| conf_obj   | 0.873571     | 0.918215     | 0.941688     |
| conf_noobj | 0.000627     | 0.000596     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 17:23:26.470 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 1.074873
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.459786     | 0.358342     | 0.256745     |
| x          | 0.002406     | 0.003774     | 0.016301     |
| y          | 0.006268     | 0.005065     | 0.010746     |
| w          | 0.033287     | 0.031559     | 0.044832     |
| h          | 0.016468     | 0.015497     | 0.016392     |
| conf       | 0.400193     | 0.301962     | 0.168209     |
| cls        | 0.001165     | 0.000485     | 0.000264     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.920000     | 0.960000     | 0.960000     |
| recall75   | 0.880000     | 0.960000     | 0.840000     |
| precision  | 0.793103     | 0.585366     | 0.255319     |
| conf_obj   | 0.903578     | 0.937983     | 0.950996     |
| conf_noobj | 0.000426     | 0.000421     | 0.000374     |
+------------+--------------+--------------+--------------+
2020-12-20 17:24:32.853 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.199182
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.502506     | 0.344848     | 0.351828     |
| x          | 0.014420     | 0.022701     | 0.066493     |
| y          | 0.003414     | 0.011364     | 0.036974     |
| w          | 0.019557     | 0.006871     | 0.012597     |
| h          | 0.015917     | 0.013217     | 0.024535     |
| conf       | 0.318050     | 0.209548     | 0.140211     |
| cls        | 0.131148     | 0.081147     | 0.071017     |
| cls_acc    | 93.75%       | 93.75%       | 93.75%       |
| recall50   | 0.812500     | 0.875000     | 0.937500     |
| recall75   | 0.750000     | 0.812500     | 0.875000     |
| precision  | 0.541667     | 0.378378     | 0.161290     |
| conf_obj   | 0.888321     | 0.930981     | 0.954497     |
| conf_noobj | 0.000778     | 0.000487     | 0.000380     |
+------------+--------------+--------------+--------------+
2020-12-20 17:25:39.901 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.513847
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.161848     | 0.163321     | 0.188679     |
| x          | 0.011308     | 0.006260     | 0.004497     |
| y          | 0.002980     | 0.010960     | 0.031495     |
| w          | 0.015616     | 0.015676     | 0.012187     |
| h          | 0.024089     | 0.027388     | 0.017921     |
| conf       | 0.087487     | 0.095384     | 0.120439     |
| cls        | 0.020369     | 0.007653     | 0.002141     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.875000     | 0.884615     | 0.884615     |
| precision  | 0.888889     | 0.530612     | 0.222222     |
| conf_obj   | 0.990855     | 0.986582     | 0.974898     |
| conf_noobj | 0.000383     | 0.000368     | 0.000375     |
+------------+--------------+--------------+--------------+
2020-12-20 17:26:46.408 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.497328
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.134140     | 0.169334     | 0.193854     |
| x          | 0.002914     | 0.005901     | 0.007649     |
| y          | 0.002548     | 0.007159     | 0.022010     |
| w          | 0.017002     | 0.024690     | 0.014146     |
| h          | 0.010357     | 0.013114     | 0.010407     |
| conf       | 0.099383     | 0.116810     | 0.137678     |
| cls        | 0.001937     | 0.001660     | 0.001964     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.950000     |
| recall75   | 1.000000     | 0.894737     | 0.850000     |
| precision  | 0.760000     | 0.422222     | 0.234568     |
| conf_obj   | 0.981047     | 0.970193     | 0.947148     |
| conf_noobj | 0.000518     | 0.000448     | 0.000317     |
+------------+--------------+--------------+--------------+
2020-12-20 17:27:51.150 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.807349
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.244524     | 0.249564     | 0.313261     |
| x          | 0.008403     | 0.016396     | 0.031544     |
| y          | 0.009192     | 0.007748     | 0.019734     |
| w          | 0.022055     | 0.023502     | 0.015827     |
| h          | 0.016149     | 0.013482     | 0.011415     |
| conf       | 0.132159     | 0.142179     | 0.122435     |
| cls        | 0.056567     | 0.046256     | 0.112306     |
| cls_acc    | 96.15%       | 96.43%       | 96.55%       |
| recall50   | 0.961538     | 0.964286     | 0.965517     |
| recall75   | 0.807692     | 0.785714     | 0.862069     |
| precision  | 0.714286     | 0.391304     | 0.202899     |
| conf_obj   | 0.970757     | 0.979466     | 0.973861     |
| conf_noobj | 0.000613     | 0.000542     | 0.000384     |
+------------+--------------+--------------+--------------+
2020-12-20 17:28:57.197 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.328723
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.113223     | 0.090708     | 0.124791     |
| x          | 0.001556     | 0.003771     | 0.007025     |
| y          | 0.004614     | 0.003829     | 0.017248     |
| w          | 0.014008     | 0.004363     | 0.006765     |
| h          | 0.010676     | 0.007246     | 0.007762     |
| conf       | 0.062911     | 0.067663     | 0.080494     |
| cls        | 0.019459     | 0.003836     | 0.005498     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.950000     | 0.950000     |
| precision  | 0.869565     | 0.512821     | 0.235294     |
| conf_obj   | 0.990372     | 0.993500     | 0.985318     |
| conf_noobj | 0.000382     | 0.000342     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 17:30:02.966 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.734897
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.236086     | 0.215665     | 0.283146     |
| x          | 0.005595     | 0.018598     | 0.020013     |
| y          | 0.003342     | 0.030091     | 0.022753     |
| w          | 0.019092     | 0.009354     | 0.007167     |
| h          | 0.018335     | 0.025568     | 0.016196     |
| conf       | 0.187668     | 0.131303     | 0.216152     |
| cls        | 0.002054     | 0.000751     | 0.000866     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.962963     | 0.962963     |
| recall75   | 0.880000     | 0.925926     | 0.851852     |
| precision  | 0.727273     | 0.433333     | 0.236364     |
| conf_obj   | 0.942600     | 0.974572     | 0.946344     |
| conf_noobj | 0.000579     | 0.000460     | 0.000306     |
+------------+--------------+--------------+--------------+
2020-12-20 17:31:11.916 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.415786
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.128364     | 0.141929     | 0.145492     |
| x          | 0.027713     | 0.011013     | 0.034137     |
| y          | 0.005713     | 0.005545     | 0.029921     |
| w          | 0.009934     | 0.007682     | 0.005244     |
| h          | 0.008703     | 0.008135     | 0.008360     |
| conf       | 0.072896     | 0.105389     | 0.065211     |
| cls        | 0.003405     | 0.004165     | 0.002618     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.947368     | 0.947368     |
| precision  | 0.720000     | 0.452381     | 0.211111     |
| conf_obj   | 0.986502     | 0.962478     | 0.987082     |
| conf_noobj | 0.000318     | 0.000295     | 0.000235     |
+------------+--------------+--------------+--------------+
2020-12-20 17:32:16.721 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.474153
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.160324     | 0.149064     | 0.164765     |
| x          | 0.011524     | 0.018496     | 0.016292     |
| y          | 0.002240     | 0.007313     | 0.014375     |
| w          | 0.027076     | 0.013315     | 0.019288     |
| h          | 0.011193     | 0.008253     | 0.010434     |
| conf       | 0.107457     | 0.098783     | 0.102373     |
| cls        | 0.000834     | 0.002904     | 0.002004     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.950000     | 1.000000     |
| recall75   | 0.888889     | 0.900000     | 0.954545     |
| precision  | 0.720000     | 0.463415     | 0.234043     |
| conf_obj   | 0.990098     | 0.993963     | 0.992130     |
| conf_noobj | 0.000605     | 0.000479     | 0.000401     |
+------------+--------------+--------------+--------------+
2020-12-20 17:33:21.361 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.782163
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.302419     | 0.232543     | 0.247201     |
| x          | 0.002180     | 0.005925     | 0.014451     |
| y          | 0.005436     | 0.008944     | 0.019231     |
| w          | 0.019166     | 0.017032     | 0.005287     |
| h          | 0.012170     | 0.012203     | 0.006813     |
| conf       | 0.255949     | 0.186625     | 0.198113     |
| cls        | 0.007518     | 0.001814     | 0.003307     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 0.958333     |
| recall75   | 0.916667     | 0.875000     | 0.958333     |
| precision  | 0.657143     | 0.418182     | 0.170370     |
| conf_obj   | 0.951581     | 0.959315     | 0.941468     |
| conf_noobj | 0.000918     | 0.000564     | 0.000497     |
+------------+--------------+--------------+--------------+
2020-12-20 17:33:31.891 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.672
2020-12-20 17:33:31.895 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 17:34:24.593 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.23121   | 0.39801 | 0.29250 | 0.28962 |
| 1     | Wear_helmet | 0.67764   | 0.93649 | 0.78631 | 0.90494 |
| 2     | Total       | 0.45443   | 0.66725 | 0.53941 | 0.59728 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:34:24.594 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5972822491535644
2020-12-20 17:34:24.594 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 17:34:24.595 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:52.699737

2020-12-20 17:34:25.069 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 1/2, epo 2/5
2020-12-20 17:34:25.069 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 1/2, epo 2/5; time cost: 0:15:30.224864

2020-12-20 17:34:25.070 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 1/2, epo 3/5
2020-12-20 17:34:26.587 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.498086
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.170113     | 0.163392     | 0.164581     |
| x          | 0.004288     | 0.006368     | 0.017513     |
| y          | 0.005474     | 0.013563     | 0.029190     |
| w          | 0.013353     | 0.012205     | 0.006974     |
| h          | 0.020961     | 0.023437     | 0.008013     |
| conf       | 0.125494     | 0.107031     | 0.102645     |
| cls        | 0.000543     | 0.000787     | 0.000247     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.952381     |
| precision  | 0.750000     | 0.456522     | 0.172131     |
| conf_obj   | 0.969147     | 0.972987     | 0.974651     |
| conf_noobj | 0.000451     | 0.000375     | 0.000340     |
+------------+--------------+--------------+--------------+
2020-12-20 17:35:30.832 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.911318
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.234797     | 0.278731     | 0.397790     |
| x          | 0.005598     | 0.009061     | 0.029426     |
| y          | 0.005505     | 0.015882     | 0.030398     |
| w          | 0.032300     | 0.031519     | 0.025108     |
| h          | 0.022737     | 0.021945     | 0.013756     |
| conf       | 0.144412     | 0.181434     | 0.280442     |
| cls        | 0.024246     | 0.018889     | 0.018661     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 0.925926     |
| recall75   | 0.884615     | 0.807692     | 0.814815     |
| precision  | 0.764706     | 0.423729     | 0.238095     |
| conf_obj   | 0.961713     | 0.941726     | 0.931837     |
| conf_noobj | 0.000497     | 0.000380     | 0.000258     |
+------------+--------------+--------------+--------------+
2020-12-20 17:36:40.887 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.580998
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.154742     | 0.196843     | 0.229413     |
| x          | 0.008610     | 0.014042     | 0.031760     |
| y          | 0.007748     | 0.017489     | 0.031332     |
| w          | 0.020088     | 0.019264     | 0.018809     |
| h          | 0.015372     | 0.007193     | 0.009488     |
| conf       | 0.100220     | 0.136031     | 0.131051     |
| cls        | 0.002704     | 0.002823     | 0.006972     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 1.000000     | 0.970588     |
| recall75   | 0.875000     | 0.878788     | 0.882353     |
| precision  | 0.837838     | 0.515625     | 0.218543     |
| conf_obj   | 0.967751     | 0.964127     | 0.968333     |
| conf_noobj | 0.000382     | 0.000430     | 0.000400     |
+------------+--------------+--------------+--------------+
2020-12-20 17:37:46.417 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.471016
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.122732     | 0.156446     | 0.191838     |
| x          | 0.002918     | 0.013412     | 0.013612     |
| y          | 0.002759     | 0.007257     | 0.012793     |
| w          | 0.006014     | 0.008453     | 0.006428     |
| h          | 0.005523     | 0.008471     | 0.006649     |
| conf       | 0.103560     | 0.118254     | 0.151955     |
| cls        | 0.001957     | 0.000599     | 0.000401     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 0.966667     |
| recall75   | 0.928571     | 0.892857     | 0.900000     |
| precision  | 0.900000     | 0.551020     | 0.278846     |
| conf_obj   | 0.963843     | 0.960071     | 0.955679     |
| conf_noobj | 0.000214     | 0.000291     | 0.000317     |
+------------+--------------+--------------+--------------+
2020-12-20 17:38:50.112 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.636751
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.268902     | 0.179007     | 0.188842     |
| x          | 0.002583     | 0.004876     | 0.014825     |
| y          | 0.003409     | 0.009048     | 0.026509     |
| w          | 0.013673     | 0.009063     | 0.008905     |
| h          | 0.018585     | 0.012161     | 0.009799     |
| conf       | 0.228663     | 0.143564     | 0.128626     |
| cls        | 0.001990     | 0.000295     | 0.000178     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.962963     |
| precision  | 0.742857     | 0.540000     | 0.262136     |
| conf_obj   | 0.924079     | 0.970510     | 0.969321     |
| conf_noobj | 0.000655     | 0.000476     | 0.000406     |
+------------+--------------+--------------+--------------+
2020-12-20 17:39:49.324 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.094853
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.429335     | 0.248305     | 0.417214     |
| x          | 0.013199     | 0.013685     | 0.016944     |
| y          | 0.014617     | 0.004851     | 0.023088     |
| w          | 0.055180     | 0.035565     | 0.015110     |
| h          | 0.057386     | 0.022208     | 0.008020     |
| conf       | 0.230832     | 0.169848     | 0.352386     |
| cls        | 0.058121     | 0.002148     | 0.001665     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.833333     | 0.961538     | 0.925926     |
| recall75   | 0.791667     | 0.884615     | 0.888889     |
| precision  | 0.714286     | 0.510204     | 0.250000     |
| conf_obj   | 0.916561     | 0.942969     | 0.921270     |
| conf_noobj | 0.000461     | 0.000292     | 0.000288     |
+------------+--------------+--------------+--------------+
2020-12-20 17:40:54.235 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.325139
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.125940     | 0.099464     | 0.099735     |
| x          | 0.003354     | 0.008876     | 0.018337     |
| y          | 0.005095     | 0.009237     | 0.009443     |
| w          | 0.010286     | 0.008396     | 0.006329     |
| h          | 0.007700     | 0.007462     | 0.012766     |
| conf       | 0.093897     | 0.065112     | 0.051731     |
| cls        | 0.005607     | 0.000380     | 0.001129     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.944444     | 0.894737     | 0.950000     |
| precision  | 0.782609     | 0.600000     | 0.327869     |
| conf_obj   | 0.983397     | 0.984223     | 0.990518     |
| conf_noobj | 0.000362     | 0.000216     | 0.000185     |
+------------+--------------+--------------+--------------+
2020-12-20 17:42:00.794 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.699620
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.276427     | 0.235490     | 0.187703     |
| x          | 0.002407     | 0.003296     | 0.018515     |
| y          | 0.003784     | 0.008941     | 0.016452     |
| w          | 0.011994     | 0.019025     | 0.014000     |
| h          | 0.015938     | 0.023074     | 0.014516     |
| conf       | 0.241912     | 0.179148     | 0.119800     |
| cls        | 0.000392     | 0.002006     | 0.004420     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.941176     | 0.941176     |
| precision  | 0.681818     | 0.395349     | 0.303571     |
| conf_obj   | 0.921944     | 0.944909     | 0.946248     |
| conf_noobj | 0.000516     | 0.000466     | 0.000222     |
+------------+--------------+--------------+--------------+
2020-12-20 17:43:09.512 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.570242
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.232071     | 0.151396     | 0.186775     |
| x          | 0.004514     | 0.002680     | 0.007078     |
| y          | 0.003226     | 0.005157     | 0.017848     |
| w          | 0.020721     | 0.014967     | 0.007292     |
| h          | 0.006569     | 0.002553     | 0.002311     |
| conf       | 0.152227     | 0.106687     | 0.137776     |
| cls        | 0.044814     | 0.019352     | 0.014469     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.941176     |
| recall75   | 1.000000     | 0.941176     | 0.882353     |
| precision  | 0.772727     | 0.435897     | 0.192771     |
| conf_obj   | 0.954811     | 0.977397     | 0.952369     |
| conf_noobj | 0.000477     | 0.000427     | 0.000357     |
+------------+--------------+--------------+--------------+
2020-12-20 17:44:12.742 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.880404
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.282624     | 0.335328     | 0.262452     |
| x          | 0.013278     | 0.011769     | 0.020683     |
| y          | 0.021911     | 0.024678     | 0.021969     |
| w          | 0.017067     | 0.013206     | 0.007933     |
| h          | 0.011765     | 0.012551     | 0.013018     |
| conf       | 0.216126     | 0.269988     | 0.197981     |
| cls        | 0.002477     | 0.003137     | 0.000868     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.962963     | 0.925926     |
| recall75   | 0.791667     | 0.851852     | 0.851852     |
| precision  | 0.733333     | 0.440678     | 0.208333     |
| conf_obj   | 0.936370     | 0.900212     | 0.933228     |
| conf_noobj | 0.000598     | 0.000526     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 17:45:21.419 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.810077
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.314020     | 0.275076     | 0.220982     |
| x          | 0.003313     | 0.011532     | 0.027622     |
| y          | 0.004366     | 0.008447     | 0.020886     |
| w          | 0.020300     | 0.016052     | 0.007426     |
| h          | 0.028766     | 0.021991     | 0.010589     |
| conf       | 0.257050     | 0.216830     | 0.154332     |
| cls        | 0.000225     | 0.000225     | 0.000128     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.928571     | 1.000000     |
| recall75   | 0.928571     | 0.892857     | 1.000000     |
| precision  | 0.750000     | 0.456140     | 0.210526     |
| conf_obj   | 0.922410     | 0.927862     | 0.952225     |
| conf_noobj | 0.000610     | 0.000474     | 0.000424     |
+------------+--------------+--------------+--------------+
2020-12-20 17:46:25.945 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.584703
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.183774     | 0.221152     | 0.179778     |
| x          | 0.002738     | 0.008531     | 0.030560     |
| y          | 0.003388     | 0.019347     | 0.032508     |
| w          | 0.020614     | 0.009686     | 0.010107     |
| h          | 0.013897     | 0.011082     | 0.006347     |
| conf       | 0.143013     | 0.172339     | 0.100142     |
| cls        | 0.000124     | 0.000167     | 0.000114     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 1.000000     | 0.842105     | 0.894737     |
| precision  | 0.791667     | 0.382979     | 0.234568     |
| conf_obj   | 0.945105     | 0.930254     | 0.958500     |
| conf_noobj | 0.000321     | 0.000243     | 0.000210     |
+------------+--------------+--------------+--------------+
2020-12-20 17:47:32.232 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.732532
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.257362     | 0.216225     | 0.258945     |
| x          | 0.009190     | 0.018346     | 0.038293     |
| y          | 0.007191     | 0.008347     | 0.014886     |
| w          | 0.019340     | 0.018162     | 0.017754     |
| h          | 0.011742     | 0.011988     | 0.011125     |
| conf       | 0.199362     | 0.155688     | 0.173959     |
| cls        | 0.010538     | 0.003695     | 0.002929     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.906250     | 0.970588     | 0.970588     |
| recall75   | 0.843750     | 0.882353     | 0.852941     |
| precision  | 0.852941     | 0.559322     | 0.250000     |
| conf_obj   | 0.914228     | 0.942903     | 0.934251     |
| conf_noobj | 0.000322     | 0.000412     | 0.000439     |
+------------+--------------+--------------+--------------+
2020-12-20 17:48:36.272 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.484100
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.199223     | 0.157419     | 0.127458     |
| x          | 0.008782     | 0.007570     | 0.018155     |
| y          | 0.002842     | 0.004476     | 0.021189     |
| w          | 0.006310     | 0.006433     | 0.005176     |
| h          | 0.012149     | 0.007234     | 0.007633     |
| conf       | 0.169073     | 0.131630     | 0.075118     |
| cls        | 0.000067     | 0.000076     | 0.000188     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.944444     | 1.000000     |
| recall75   | 0.882353     | 0.944444     | 1.000000     |
| precision  | 0.653846     | 0.395349     | 0.180000     |
| conf_obj   | 0.965840     | 0.958599     | 0.989878     |
| conf_noobj | 0.000594     | 0.000349     | 0.000275     |
+------------+--------------+--------------+--------------+
2020-12-20 17:48:49.977 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.663
2020-12-20 17:48:49.982 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 17:49:45.312 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.11528   | 0.54975 | 0.19060 | 0.32700 |
| 1     | Wear_helmet | 0.49231   | 0.94028 | 0.64625 | 0.88980 |
| 2     | Total       | 0.30380   | 0.74502 | 0.41843 | 0.60840 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 17:49:45.313 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6083992540378804
2020-12-20 17:49:45.313 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 17:49:45.313 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:55.331210

2020-12-20 17:49:45.781 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 1/2, epo 3/5
2020-12-20 17:49:45.781 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 1/2, epo 3/5; time cost: 0:15:20.711117

2020-12-20 17:49:45.781 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 1/2, epo 4/5
2020-12-20 17:49:46.817 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.610478
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.217180     | 0.208035     | 0.185263     |
| x          | 0.004388     | 0.006102     | 0.017351     |
| y          | 0.007736     | 0.014142     | 0.023746     |
| w          | 0.033518     | 0.018166     | 0.013315     |
| h          | 0.020086     | 0.014013     | 0.012090     |
| conf       | 0.140704     | 0.145623     | 0.116851     |
| cls        | 0.010748     | 0.009989     | 0.001910     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 0.913043     | 0.913043     |
| precision  | 0.821429     | 0.389830     | 0.209091     |
| conf_obj   | 0.961058     | 0.977181     | 0.985595     |
| conf_noobj | 0.000618     | 0.000618     | 0.000438     |
+------------+--------------+--------------+--------------+
2020-12-20 17:50:55.977 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.504280
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.131075     | 0.152389     | 0.220816     |
| x          | 0.005688     | 0.011747     | 0.023025     |
| y          | 0.002562     | 0.009380     | 0.019545     |
| w          | 0.018451     | 0.024787     | 0.014031     |
| h          | 0.008273     | 0.011692     | 0.008220     |
| conf       | 0.094611     | 0.093729     | 0.154011     |
| cls        | 0.001490     | 0.001054     | 0.001984     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 1.000000     | 0.972973     |
| recall75   | 0.911765     | 0.882353     | 0.918919     |
| precision  | 0.970588     | 0.548387     | 0.324324     |
| conf_obj   | 0.946944     | 0.972169     | 0.946518     |
| conf_noobj | 0.000151     | 0.000345     | 0.000373     |
+------------+--------------+--------------+--------------+
2020-12-20 17:51:59.794 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.507879
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.178320     | 0.170728     | 0.158831     |
| x          | 0.004828     | 0.005237     | 0.021801     |
| y          | 0.004867     | 0.007999     | 0.016153     |
| w          | 0.016515     | 0.010388     | 0.005348     |
| h          | 0.008481     | 0.007706     | 0.004427     |
| conf       | 0.143467     | 0.139302     | 0.110772     |
| cls        | 0.000162     | 0.000096     | 0.000328     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.909091     | 1.000000     | 0.956522     |
| precision  | 0.814815     | 0.489362     | 0.239583     |
| conf_obj   | 0.964632     | 0.958985     | 0.970251     |
| conf_noobj | 0.000393     | 0.000394     | 0.000320     |
+------------+--------------+--------------+--------------+
2020-12-20 17:53:08.032 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.516124
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.163085     | 0.169720     | 0.183318     |
| x          | 0.012855     | 0.006445     | 0.022938     |
| y          | 0.002649     | 0.005376     | 0.019621     |
| w          | 0.014762     | 0.016257     | 0.010875     |
| h          | 0.012443     | 0.011827     | 0.009662     |
| conf       | 0.118808     | 0.128111     | 0.119918     |
| cls        | 0.001568     | 0.001704     | 0.000306     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 1.000000     | 1.000000     |
| recall75   | 0.935484     | 1.000000     | 0.909091     |
| precision  | 0.833333     | 0.568965     | 0.277311     |
| conf_obj   | 0.977354     | 0.966063     | 0.971822     |
| conf_noobj | 0.000520     | 0.000420     | 0.000376     |
+------------+--------------+--------------+--------------+
2020-12-20 17:54:10.763 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.474121
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.115879     | 0.153699     | 0.204544     |
| x          | 0.007285     | 0.011381     | 0.030008     |
| y          | 0.003770     | 0.004444     | 0.016373     |
| w          | 0.019972     | 0.015492     | 0.012947     |
| h          | 0.016047     | 0.014037     | 0.015808     |
| conf       | 0.066251     | 0.106673     | 0.127857     |
| cls        | 0.002554     | 0.001670     | 0.001551     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.971429     | 1.000000     | 0.972973     |
| recall75   | 0.971429     | 0.944444     | 0.891892     |
| precision  | 0.871795     | 0.562500     | 0.208092     |
| conf_obj   | 0.989543     | 0.982369     | 0.970322     |
| conf_noobj | 0.000324     | 0.000389     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 17:55:15.500 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.295069
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.086493     | 0.086099     | 0.122477     |
| x          | 0.002936     | 0.006544     | 0.020852     |
| y          | 0.004615     | 0.008552     | 0.021294     |
| w          | 0.016634     | 0.017269     | 0.015714     |
| h          | 0.009670     | 0.012876     | 0.010871     |
| conf       | 0.050629     | 0.040111     | 0.053368     |
| cls        | 0.002009     | 0.000747     | 0.000379     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.882353     | 0.941176     |
| precision  | 0.850000     | 0.586207     | 0.283333     |
| conf_obj   | 0.999095     | 0.998277     | 0.995215     |
| conf_noobj | 0.000240     | 0.000177     | 0.000193     |
+------------+--------------+--------------+--------------+
2020-12-20 17:56:19.089 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.664324
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.140707     | 0.246011     | 0.277606     |
| x          | 0.010917     | 0.018368     | 0.016809     |
| y          | 0.003551     | 0.016525     | 0.029907     |
| w          | 0.027237     | 0.022873     | 0.022583     |
| h          | 0.011707     | 0.021461     | 0.012864     |
| conf       | 0.046703     | 0.066298     | 0.122013     |
| cls        | 0.040592     | 0.100486     | 0.073429     |
| cls_acc    | 100.00%      | 96.30%       | 96.43%       |
| recall50   | 1.000000     | 0.962963     | 0.964286     |
| recall75   | 0.920000     | 0.851852     | 0.892857     |
| precision  | 0.925926     | 0.604651     | 0.247706     |
| conf_obj   | 0.992288     | 0.984515     | 0.950996     |
| conf_noobj | 0.000301     | 0.000255     | 0.000236     |
+------------+--------------+--------------+--------------+
2020-12-20 17:57:23.144 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.541664
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.220587     | 0.159628     | 0.161449     |
| x          | 0.007492     | 0.010634     | 0.011081     |
| y          | 0.002881     | 0.008944     | 0.015045     |
| w          | 0.029984     | 0.023336     | 0.009234     |
| h          | 0.034163     | 0.028859     | 0.024859     |
| conf       | 0.057374     | 0.070881     | 0.090694     |
| cls        | 0.088694     | 0.016974     | 0.010536     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 1.000000     | 1.000000     |
| recall75   | 0.862069     | 0.967742     | 0.935484     |
| precision  | 0.875000     | 0.596154     | 0.310000     |
| conf_obj   | 0.983285     | 0.989197     | 0.981605     |
| conf_noobj | 0.000272     | 0.000298     | 0.000302     |
+------------+--------------+--------------+--------------+
2020-12-20 17:58:26.500 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.473556
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.140527     | 0.163045     | 0.169983     |
| x          | 0.003287     | 0.004941     | 0.014074     |
| y          | 0.005024     | 0.017964     | 0.018038     |
| w          | 0.021224     | 0.020661     | 0.015097     |
| h          | 0.015178     | 0.014814     | 0.008520     |
| conf       | 0.087838     | 0.100474     | 0.112399     |
| cls        | 0.007976     | 0.004191     | 0.001855     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 0.809524     | 0.857143     |
| precision  | 0.869565     | 0.567568     | 0.272727     |
| conf_obj   | 0.959183     | 0.958704     | 0.963173     |
| conf_noobj | 0.000232     | 0.000242     | 0.000274     |
+------------+--------------+--------------+--------------+
2020-12-20 17:59:31.430 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.435803
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.135902     | 0.160906     | 0.138996     |
| x          | 0.010312     | 0.006058     | 0.014285     |
| y          | 0.006210     | 0.006280     | 0.022673     |
| w          | 0.017245     | 0.011899     | 0.005066     |
| h          | 0.017851     | 0.009993     | 0.015587     |
| conf       | 0.080990     | 0.124881     | 0.081003     |
| cls        | 0.003294     | 0.001794     | 0.000382     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.958333     | 1.000000     |
| recall75   | 0.863636     | 0.916667     | 0.920000     |
| precision  | 0.758621     | 0.460000     | 0.260417     |
| conf_obj   | 0.987976     | 0.966695     | 0.988673     |
| conf_noobj | 0.000378     | 0.000402     | 0.000273     |
+------------+--------------+--------------+--------------+
2020-12-20 18:00:39.076 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.868523
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.372177     | 0.247295     | 0.249051     |
| x          | 0.004952     | 0.005175     | 0.009068     |
| y          | 0.002318     | 0.010621     | 0.017419     |
| w          | 0.017195     | 0.016321     | 0.012279     |
| h          | 0.017107     | 0.016544     | 0.013484     |
| conf       | 0.318692     | 0.194156     | 0.190705     |
| cls        | 0.011914     | 0.004478     | 0.006096     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.935484     | 0.967742     |
| recall75   | 0.862069     | 0.903226     | 0.903226     |
| precision  | 0.818182     | 0.591837     | 0.252101     |
| conf_obj   | 0.910207     | 0.937352     | 0.944505     |
| conf_noobj | 0.000446     | 0.000356     | 0.000409     |
+------------+--------------+--------------+--------------+
2020-12-20 18:01:46.192 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.466783
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.132616     | 0.156925     | 0.177243     |
| x          | 0.010782     | 0.016904     | 0.012098     |
| y          | 0.005233     | 0.014945     | 0.045362     |
| w          | 0.026420     | 0.020561     | 0.018485     |
| h          | 0.017757     | 0.014295     | 0.021715     |
| conf       | 0.068952     | 0.087902     | 0.078135     |
| cls        | 0.003472     | 0.002320     | 0.001447     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.950000     | 0.950000     | 0.952381     |
| recall75   | 0.850000     | 0.850000     | 0.952381     |
| precision  | 0.760000     | 0.431818     | 0.224719     |
| conf_obj   | 0.989005     | 0.973583     | 0.975694     |
| conf_noobj | 0.000302     | 0.000269     | 0.000219     |
+------------+--------------+--------------+--------------+
2020-12-20 18:02:51.281 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.704779
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.219647     | 0.245171     | 0.239962     |
| x          | 0.004607     | 0.008387     | 0.022074     |
| y          | 0.003854     | 0.005059     | 0.015395     |
| w          | 0.025555     | 0.025195     | 0.012504     |
| h          | 0.016150     | 0.032891     | 0.017150     |
| conf       | 0.164548     | 0.172929     | 0.172684     |
| cls        | 0.004933     | 0.000711     | 0.000155     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.971429     |
| recall75   | 0.939394     | 0.823529     | 0.857143     |
| precision  | 0.916667     | 0.629630     | 0.226667     |
| conf_obj   | 0.919267     | 0.934819     | 0.958512     |
| conf_noobj | 0.000395     | 0.000404     | 0.000505     |
+------------+--------------+--------------+--------------+
2020-12-20 18:03:56.758 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.566276
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.163658     | 0.178099     | 0.224520     |
| x          | 0.013038     | 0.005937     | 0.018805     |
| y          | 0.003909     | 0.007095     | 0.034192     |
| w          | 0.014313     | 0.013987     | 0.008952     |
| h          | 0.019764     | 0.017975     | 0.012923     |
| conf       | 0.060121     | 0.074006     | 0.085682     |
| cls        | 0.052513     | 0.059099     | 0.063966     |
| cls_acc    | 100.00%      | 100.00%      | 95.00%       |
| recall50   | 1.000000     | 1.000000     | 0.950000     |
| recall75   | 0.823529     | 0.947368     | 0.800000     |
| precision  | 0.772727     | 0.513514     | 0.188119     |
| conf_obj   | 0.992030     | 0.985033     | 0.978129     |
| conf_noobj | 0.000289     | 0.000261     | 0.000267     |
+------------+--------------+--------------+--------------+
2020-12-20 18:04:09.004 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.609
2020-12-20 18:04:09.006 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 18:05:03.593 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.33506   | 0.32090 | 0.32783 | 0.24590 |
| 1     | Wear_helmet | 0.60934   | 0.95877 | 0.74512 | 0.91642 |
| 2     | Total       | 0.47220   | 0.63983 | 0.53647 | 0.58116 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:05:03.594 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5811609747694131
2020-12-20 18:05:03.594 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 18:05:03.594 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:54.587527

2020-12-20 18:05:04.063 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 1/2, epo 4/5
2020-12-20 18:05:04.063 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 1/2, epo 4/5; time cost: 0:15:18.281838

2020-12-20 18:05:04.063 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 19/20, idx 1/2, epo 5/5
2020-12-20 18:05:05.639 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.538715
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.242636     | 0.186582     | 0.109497     |
| x          | 0.004536     | 0.005951     | 0.018723     |
| y          | 0.001903     | 0.005161     | 0.006966     |
| w          | 0.008893     | 0.005524     | 0.006880     |
| h          | 0.013433     | 0.011978     | 0.005054     |
| conf       | 0.213784     | 0.157852     | 0.071753     |
| cls        | 0.000085     | 0.000116     | 0.000121     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.933333     | 1.000000     | 1.000000     |
| precision  | 0.636364     | 0.357143     | 0.174419     |
| conf_obj   | 0.930869     | 0.940813     | 0.984346     |
| conf_noobj | 0.000479     | 0.000366     | 0.000237     |
+------------+--------------+--------------+--------------+
2020-12-20 18:06:10.295 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.766579
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.217640     | 0.229033     | 0.319907     |
| x          | 0.008661     | 0.020810     | 0.022583     |
| y          | 0.002820     | 0.010732     | 0.024307     |
| w          | 0.022083     | 0.015315     | 0.014310     |
| h          | 0.041052     | 0.027375     | 0.014559     |
| conf       | 0.064627     | 0.101346     | 0.142829     |
| cls        | 0.078397     | 0.053456     | 0.101319     |
| cls_acc    | 96.15%       | 96.30%       | 92.59%       |
| recall50   | 0.961538     | 0.925926     | 0.925926     |
| recall75   | 0.884615     | 0.777778     | 0.740741     |
| precision  | 0.862069     | 0.480769     | 0.235849     |
| conf_obj   | 0.984625     | 0.978707     | 0.955829     |
| conf_noobj | 0.000359     | 0.000478     | 0.000415     |
+------------+--------------+--------------+--------------+
2020-12-20 18:07:09.285 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.730793
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.279952     | 0.228301     | 0.222540     |
| x          | 0.009048     | 0.010907     | 0.028337     |
| y          | 0.011455     | 0.010739     | 0.028535     |
| w          | 0.042564     | 0.024145     | 0.031667     |
| h          | 0.031026     | 0.014226     | 0.010302     |
| conf       | 0.181782     | 0.167308     | 0.122461     |
| cls        | 0.004077     | 0.000977     | 0.001239     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.965517     | 1.000000     |
| recall75   | 0.821429     | 0.827586     | 0.793103     |
| precision  | 0.843750     | 0.528302     | 0.235772     |
| conf_obj   | 0.926709     | 0.942623     | 0.955698     |
| conf_noobj | 0.000386     | 0.000315     | 0.000296     |
+------------+--------------+--------------+--------------+
2020-12-20 18:08:16.282 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.971542
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.340790     | 0.302419     | 0.328333     |
| x          | 0.012756     | 0.017032     | 0.031088     |
| y          | 0.007781     | 0.017005     | 0.034852     |
| w          | 0.013238     | 0.010580     | 0.025782     |
| h          | 0.010697     | 0.009765     | 0.015697     |
| conf       | 0.262249     | 0.230951     | 0.213251     |
| cls        | 0.034069     | 0.017086     | 0.007662     |
| cls_acc    | 96.55%       | 100.00%      | 100.00%      |
| recall50   | 0.931035     | 0.903226     | 0.968750     |
| recall75   | 0.827586     | 0.806452     | 0.750000     |
| precision  | 0.750000     | 0.518519     | 0.216783     |
| conf_obj   | 0.957322     | 0.938025     | 0.939063     |
| conf_noobj | 0.000569     | 0.000362     | 0.000430     |
+------------+--------------+--------------+--------------+
2020-12-20 18:09:23.728 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.391637
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.116738     | 0.134448     | 0.140451     |
| x          | 0.002857     | 0.007893     | 0.015071     |
| y          | 0.001745     | 0.005667     | 0.008819     |
| w          | 0.024004     | 0.018808     | 0.018130     |
| h          | 0.011111     | 0.008387     | 0.006566     |
| conf       | 0.076896     | 0.093640     | 0.091788     |
| cls        | 0.000125     | 0.000054     | 0.000078     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 0.954545     |
| precision  | 0.846154     | 0.550000     | 0.282051     |
| conf_obj   | 0.981683     | 0.967623     | 0.977474     |
| conf_noobj | 0.000366     | 0.000286     | 0.000281     |
+------------+--------------+--------------+--------------+
2020-12-20 18:10:33.420 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.577376
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.253251     | 0.172709     | 0.151416     |
| x          | 0.005852     | 0.008666     | 0.017528     |
| y          | 0.002187     | 0.006021     | 0.020578     |
| w          | 0.023222     | 0.015652     | 0.016753     |
| h          | 0.025908     | 0.014071     | 0.012180     |
| conf       | 0.195959     | 0.128230     | 0.084324     |
| cls        | 0.000122     | 0.000070     | 0.000053     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.950000     | 0.900000     |
| precision  | 0.642857     | 0.416667     | 0.215054     |
| conf_obj   | 0.938354     | 0.967157     | 0.993529     |
| conf_noobj | 0.000678     | 0.000439     | 0.000327     |
+------------+--------------+--------------+--------------+
2020-12-20 18:11:34.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 1.446198
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.559740     | 0.441789     | 0.444669     |
| x          | 0.017012     | 0.043399     | 0.053940     |
| y          | 0.006665     | 0.014581     | 0.020349     |
| w          | 0.027649     | 0.025388     | 0.031562     |
| h          | 0.024510     | 0.019493     | 0.014964     |
| conf       | 0.389747     | 0.264359     | 0.283456     |
| cls        | 0.094157     | 0.074570     | 0.040398     |
| cls_acc    | 93.94%       | 97.14%       | 97.30%       |
| recall50   | 0.909091     | 0.885714     | 0.891892     |
| recall75   | 0.727273     | 0.714286     | 0.783784     |
| precision  | 0.666667     | 0.418919     | 0.188571     |
| conf_obj   | 0.867316     | 0.908973     | 0.911642     |
| conf_noobj | 0.001075     | 0.000709     | 0.000703     |
+------------+--------------+--------------+--------------+
2020-12-20 18:12:33.086 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.291536
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.107922     | 0.079429     | 0.104186     |
| x          | 0.004265     | 0.005682     | 0.016406     |
| y          | 0.010790     | 0.007387     | 0.014831     |
| w          | 0.012330     | 0.005506     | 0.013822     |
| h          | 0.013328     | 0.007092     | 0.010591     |
| conf       | 0.027580     | 0.050400     | 0.046622     |
| cls        | 0.039628     | 0.003362     | 0.001913     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.916667     | 0.923077     | 0.923077     |
| precision  | 0.857143     | 0.406250     | 0.203125     |
| conf_obj   | 0.995238     | 0.990476     | 0.992892     |
| conf_noobj | 0.000166     | 0.000222     | 0.000171     |
+------------+--------------+--------------+--------------+
2020-12-20 18:13:37.390 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.414467
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.123354     | 0.132610     | 0.158504     |
| x          | 0.011133     | 0.012327     | 0.012532     |
| y          | 0.004128     | 0.008390     | 0.025974     |
| w          | 0.010329     | 0.022264     | 0.005495     |
| h          | 0.013650     | 0.009894     | 0.018120     |
| conf       | 0.082321     | 0.077547     | 0.095459     |
| cls        | 0.001793     | 0.002188     | 0.000923     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.967742     | 0.968750     | 0.969697     |
| recall75   | 0.935484     | 0.906250     | 0.878788     |
| precision  | 0.789474     | 0.500000     | 0.256000     |
| conf_obj   | 0.988343     | 0.989904     | 0.976860     |
| conf_noobj | 0.000386     | 0.000363     | 0.000282     |
+------------+--------------+--------------+--------------+
2020-12-20 18:14:47.686 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.870342
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.265886     | 0.342334     | 0.262123     |
| x          | 0.017176     | 0.021989     | 0.022062     |
| y          | 0.010570     | 0.017687     | 0.032274     |
| w          | 0.057381     | 0.025436     | 0.029221     |
| h          | 0.064804     | 0.017100     | 0.018916     |
| conf       | 0.114281     | 0.258368     | 0.158768     |
| cls        | 0.001673     | 0.001753     | 0.000881     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.974359     | 0.948718     |
| recall75   | 0.750000     | 0.794872     | 0.820513     |
| precision  | 0.846154     | 0.520548     | 0.213873     |
| conf_obj   | 0.954993     | 0.942334     | 0.959024     |
| conf_noobj | 0.000300     | 0.000412     | 0.000441     |
+------------+--------------+--------------+--------------+
2020-12-20 18:15:54.906 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.711886
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.250274     | 0.249901     | 0.211711     |
| x          | 0.006403     | 0.007289     | 0.013649     |
| y          | 0.003110     | 0.006812     | 0.013795     |
| w          | 0.031022     | 0.021532     | 0.015972     |
| h          | 0.025569     | 0.021806     | 0.023187     |
| conf       | 0.179117     | 0.191198     | 0.144075     |
| cls        | 0.005053     | 0.001263     | 0.001034     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 0.958333     | 0.958333     |
| recall75   | 0.916667     | 0.916667     | 0.833333     |
| precision  | 0.793103     | 0.418182     | 0.205357     |
| conf_obj   | 0.950457     | 0.940849     | 0.957168     |
| conf_noobj | 0.000557     | 0.000575     | 0.000433     |
+------------+--------------+--------------+--------------+
2020-12-20 18:16:55.107 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.794471
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.351460     | 0.258416     | 0.184595     |
| x          | 0.005647     | 0.008936     | 0.013825     |
| y          | 0.003633     | 0.008006     | 0.022213     |
| w          | 0.034300     | 0.025857     | 0.018794     |
| h          | 0.024277     | 0.016862     | 0.015222     |
| conf       | 0.283285     | 0.198550     | 0.114359     |
| cls        | 0.000318     | 0.000205     | 0.000182     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.962963     | 1.000000     | 1.000000     |
| recall75   | 0.888889     | 0.888889     | 0.888889     |
| precision  | 0.722222     | 0.465517     | 0.259615     |
| conf_obj   | 0.896393     | 0.936064     | 0.977178     |
| conf_noobj | 0.000611     | 0.000514     | 0.000355     |
+------------+--------------+--------------+--------------+
2020-12-20 18:18:05.644 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.364166
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.128427     | 0.111756     | 0.123982     |
| x          | 0.007377     | 0.002344     | 0.008102     |
| y          | 0.002570     | 0.005075     | 0.007608     |
| w          | 0.013963     | 0.012863     | 0.008937     |
| h          | 0.006319     | 0.006931     | 0.004805     |
| conf       | 0.097849     | 0.084228     | 0.094301     |
| cls        | 0.000349     | 0.000316     | 0.000228     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 1.000000     | 1.000000     |
| precision  | 0.650000     | 0.400000     | 0.157303     |
| conf_obj   | 0.997581     | 0.991938     | 0.983937     |
| conf_noobj | 0.000434     | 0.000323     | 0.000308     |
+------------+--------------+--------------+--------------+
2020-12-20 18:19:14.259 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.614933
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.232096     | 0.173572     | 0.209266     |
| x          | 0.048075     | 0.008855     | 0.023268     |
| y          | 0.018103     | 0.011948     | 0.023975     |
| w          | 0.020405     | 0.016233     | 0.014414     |
| h          | 0.014572     | 0.013584     | 0.017181     |
| conf       | 0.090970     | 0.116579     | 0.124362     |
| cls        | 0.039971     | 0.006373     | 0.006066     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 1.000000     | 1.000000     |
| recall75   | 0.750000     | 0.892857     | 0.892857     |
| precision  | 0.733333     | 0.538462     | 0.233333     |
| conf_obj   | 0.979941     | 0.977601     | 0.977045     |
| conf_noobj | 0.000440     | 0.000420     | 0.000421     |
+------------+--------------+--------------+--------------+
2020-12-20 18:19:25.297 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.649
2020-12-20 18:19:25.302 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 18:20:28.777 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.20370   | 0.43781 | 0.27804 | 0.28207 |
| 1     | Wear_helmet | 0.52229   | 0.94408 | 0.67252 | 0.88994 |
| 2     | Total       | 0.36300   | 0.69094 | 0.47528 | 0.58601 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:20:28.777 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5860054134561015
2020-12-20 18:20:28.777 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 18:20:28.777 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:03.475462

2020-12-20 18:20:29.225 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 19/20, idx 1/2, epo 5/5
2020-12-20 18:20:29.225 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 19/20, idx 1/2, epo 5/5; time cost: 0:15:25.161476

2020-12-20 18:20:29.226 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.650
2020-12-20 18:20:29.480 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 18:24:13.394 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.28114   | 0.52193 | 0.36543 | 0.42640 |
| 1     | Wear_helmet | 0.54095   | 0.92115 | 0.68162 | 0.86984 |
| 2     | Total       | 0.41105   | 0.72154 | 0.52353 | 0.64812 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:24:13.394 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.648120940854464
2020-12-20 18:24:13.395 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 18:24:13.395 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:43.914274

2020-12-20 18:24:21.179 | INFO     | service.federated.client_service:train:97 - start user_id 1 training for epoch 20!
2020-12-20 18:24:21.319 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 1/2, epo 1/5
2020-12-20 18:24:23.652 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.982475
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.337752     | 0.342347     | 0.302376     |
| x          | 0.006751     | 0.006285     | 0.015939     |
| y          | 0.008739     | 0.007614     | 0.012901     |
| w          | 0.029268     | 0.017250     | 0.014437     |
| h          | 0.025995     | 0.013865     | 0.015334     |
| conf       | 0.265839     | 0.295035     | 0.241617     |
| cls        | 0.001160     | 0.002299     | 0.002147     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.966667     | 0.967742     | 0.968750     |
| recall75   | 0.933333     | 0.967742     | 0.875000     |
| precision  | 0.878788     | 0.491803     | 0.215278     |
| conf_obj   | 0.951565     | 0.950599     | 0.947661     |
| conf_noobj | 0.000581     | 0.000578     | 0.000545     |
+------------+--------------+--------------+--------------+
2020-12-20 18:25:28.002 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.687194
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.237440     | 0.197063     | 0.252691     |
| x          | 0.009505     | 0.018837     | 0.027922     |
| y          | 0.006670     | 0.010912     | 0.029414     |
| w          | 0.038971     | 0.034747     | 0.025181     |
| h          | 0.027109     | 0.024176     | 0.020582     |
| conf       | 0.146688     | 0.102923     | 0.146053     |
| cls        | 0.008498     | 0.005467     | 0.003538     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.964286     |
| recall75   | 0.840000     | 0.851852     | 0.750000     |
| precision  | 0.781250     | 0.551020     | 0.212598     |
| conf_obj   | 0.971562     | 0.978486     | 0.968834     |
| conf_noobj | 0.000515     | 0.000339     | 0.000429     |
+------------+--------------+--------------+--------------+
2020-12-20 18:26:35.219 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.396483
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.154208     | 0.122005     | 0.120270     |
| x          | 0.006779     | 0.006047     | 0.014858     |
| y          | 0.002715     | 0.003239     | 0.012833     |
| w          | 0.022664     | 0.023854     | 0.015836     |
| h          | 0.011776     | 0.007039     | 0.005352     |
| conf       | 0.108121     | 0.079747     | 0.070300     |
| cls        | 0.002153     | 0.002078     | 0.001092     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.882353     | 0.944444     | 0.944444     |
| precision  | 0.680000     | 0.486486     | 0.246575     |
| conf_obj   | 0.988428     | 0.988831     | 0.991704     |
| conf_noobj | 0.000539     | 0.000305     | 0.000256     |
+------------+--------------+--------------+--------------+
2020-12-20 18:27:41.303 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.429204
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.178986     | 0.135872     | 0.114346     |
| x          | 0.001387     | 0.006629     | 0.013286     |
| y          | 0.004313     | 0.006207     | 0.025354     |
| w          | 0.036812     | 0.015430     | 0.012196     |
| h          | 0.037570     | 0.026882     | 0.016308     |
| conf       | 0.098504     | 0.080075     | 0.041838     |
| cls        | 0.000400     | 0.000649     | 0.005364     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.933333     | 1.000000     |
| precision  | 0.882353     | 0.468750     | 0.267857     |
| conf_obj   | 0.939500     | 0.965663     | 0.990925     |
| conf_noobj | 0.000157     | 0.000190     | 0.000135     |
+------------+--------------+--------------+--------------+
2020-12-20 18:28:42.329 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.684864
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.213994     | 0.287120     | 0.183750     |
| x          | 0.007003     | 0.014345     | 0.017997     |
| y          | 0.002613     | 0.008636     | 0.032490     |
| w          | 0.009948     | 0.010306     | 0.013953     |
| h          | 0.012314     | 0.009318     | 0.004860     |
| conf       | 0.177558     | 0.242052     | 0.110348     |
| cls        | 0.004558     | 0.002463     | 0.004101     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.904762     | 1.000000     |
| recall75   | 0.904762     | 0.857143     | 0.956522     |
| precision  | 0.769231     | 0.475000     | 0.232323     |
| conf_obj   | 0.948053     | 0.924747     | 0.959575     |
| conf_noobj | 0.000341     | 0.000299     | 0.000276     |
+------------+--------------+--------------+--------------+
2020-12-20 18:29:49.493 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 1.130848
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.442716     | 0.355131     | 0.333002     |
| x          | 0.040822     | 0.029079     | 0.029503     |
| y          | 0.009258     | 0.012823     | 0.017538     |
| w          | 0.041074     | 0.018389     | 0.013451     |
| h          | 0.045090     | 0.021853     | 0.013470     |
| conf       | 0.218629     | 0.201856     | 0.186693     |
| cls        | 0.087843     | 0.071131     | 0.072347     |
| cls_acc    | 91.18%       | 97.73%       | 98.04%       |
| recall50   | 0.823529     | 0.886364     | 0.921569     |
| recall75   | 0.558824     | 0.704545     | 0.705882     |
| precision  | 0.848485     | 0.619048     | 0.343066     |
| conf_obj   | 0.929899     | 0.930887     | 0.952025     |
| conf_noobj | 0.000164     | 0.000403     | 0.000431     |
+------------+--------------+--------------+--------------+
2020-12-20 18:30:47.937 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.559821
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.207113     | 0.203875     | 0.148832     |
| x          | 0.001903     | 0.006965     | 0.011877     |
| y          | 0.006279     | 0.015919     | 0.016736     |
| w          | 0.012020     | 0.014806     | 0.008380     |
| h          | 0.021626     | 0.017378     | 0.008272     |
| conf       | 0.164924     | 0.146820     | 0.102385     |
| cls        | 0.000361     | 0.001987     | 0.001182     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.950000     | 1.000000     | 1.000000     |
| precision  | 0.740741     | 0.384615     | 0.204082     |
| conf_obj   | 0.970374     | 0.958647     | 0.979723     |
| conf_noobj | 0.000616     | 0.000474     | 0.000351     |
+------------+--------------+--------------+--------------+
2020-12-20 18:31:52.275 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.815413
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.306128     | 0.294623     | 0.214662     |
| x          | 0.003527     | 0.005193     | 0.006339     |
| y          | 0.003487     | 0.003776     | 0.011319     |
| w          | 0.020383     | 0.010352     | 0.008673     |
| h          | 0.028388     | 0.015144     | 0.017202     |
| conf       | 0.249084     | 0.258708     | 0.170270     |
| cls        | 0.001259     | 0.001449     | 0.000859     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 0.900000     | 0.952381     |
| recall75   | 0.789474     | 0.850000     | 0.904762     |
| precision  | 0.782609     | 0.514286     | 0.266667     |
| conf_obj   | 0.926059     | 0.911980     | 0.943847     |
| conf_noobj | 0.000529     | 0.000314     | 0.000286     |
+------------+--------------+--------------+--------------+
2020-12-20 18:32:58.037 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.795944
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.262653     | 0.230250     | 0.303041     |
| x          | 0.002763     | 0.002596     | 0.022527     |
| y          | 0.004152     | 0.011542     | 0.026734     |
| w          | 0.048981     | 0.036315     | 0.022615     |
| h          | 0.069772     | 0.046013     | 0.025037     |
| conf       | 0.113838     | 0.087976     | 0.152977     |
| cls        | 0.023147     | 0.045808     | 0.053152     |
| cls_acc    | 100.00%      | 95.24%       | 95.24%       |
| recall50   | 1.000000     | 0.952381     | 0.857143     |
| recall75   | 0.904762     | 0.857143     | 0.857143     |
| precision  | 0.840000     | 0.526316     | 0.230769     |
| conf_obj   | 0.968621     | 0.980652     | 0.941554     |
| conf_noobj | 0.000416     | 0.000351     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 18:34:03.402 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.766192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.269649     | 0.241528     | 0.255015     |
| x          | 0.005493     | 0.014833     | 0.010388     |
| y          | 0.003398     | 0.018132     | 0.027834     |
| w          | 0.015899     | 0.016594     | 0.013519     |
| h          | 0.010595     | 0.015480     | 0.009808     |
| conf       | 0.199484     | 0.155404     | 0.176516     |
| cls        | 0.034781     | 0.021085     | 0.016949     |
| cls_acc    | 95.83%       | 100.00%      | 100.00%      |
| recall50   | 0.916667     | 0.961538     | 0.923077     |
| recall75   | 0.916667     | 0.769231     | 0.807692     |
| precision  | 0.733333     | 0.490196     | 0.263736     |
| conf_obj   | 0.946994     | 0.959018     | 0.938818     |
| conf_noobj | 0.000612     | 0.000474     | 0.000397     |
+------------+--------------+--------------+--------------+
2020-12-20 18:35:06.908 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.483018
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.183409     | 0.138263     | 0.161345     |
| x          | 0.003532     | 0.007579     | 0.013892     |
| y          | 0.008645     | 0.011272     | 0.018039     |
| w          | 0.010648     | 0.009565     | 0.008078     |
| h          | 0.013038     | 0.016401     | 0.012256     |
| conf       | 0.143005     | 0.092596     | 0.108668     |
| cls        | 0.004542     | 0.000849     | 0.000413     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.954545     | 1.000000     | 1.000000     |
| recall75   | 0.818182     | 0.869565     | 0.956522     |
| precision  | 0.777778     | 0.460000     | 0.252747     |
| conf_obj   | 0.954279     | 0.983910     | 0.963400     |
| conf_noobj | 0.000386     | 0.000352     | 0.000275     |
+------------+--------------+--------------+--------------+
2020-12-20 18:36:12.496 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.678367
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.222167     | 0.188080     | 0.268120     |
| x          | 0.010640     | 0.018911     | 0.027337     |
| y          | 0.005270     | 0.011884     | 0.025152     |
| w          | 0.033202     | 0.023373     | 0.017378     |
| h          | 0.026381     | 0.017391     | 0.014766     |
| conf       | 0.142179     | 0.114372     | 0.176528     |
| cls        | 0.004495     | 0.002148     | 0.006958     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.976190     | 1.000000     | 0.979167     |
| recall75   | 0.833333     | 0.808511     | 0.854167     |
| precision  | 0.854167     | 0.626667     | 0.242268     |
| conf_obj   | 0.952849     | 0.970431     | 0.954246     |
| conf_noobj | 0.000413     | 0.000405     | 0.000515     |
+------------+--------------+--------------+--------------+
2020-12-20 18:37:17.900 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.579396
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.149793     | 0.142067     | 0.287535     |
| x          | 0.013958     | 0.009743     | 0.015980     |
| y          | 0.003834     | 0.004453     | 0.012189     |
| w          | 0.019960     | 0.015163     | 0.013758     |
| h          | 0.017239     | 0.018847     | 0.014925     |
| conf       | 0.089143     | 0.088100     | 0.230168     |
| cls        | 0.005658     | 0.005761     | 0.000516     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.958333     | 1.000000     | 0.923077     |
| recall75   | 0.916667     | 0.923077     | 0.884615     |
| precision  | 0.793103     | 0.500000     | 0.214286     |
| conf_obj   | 0.987847     | 0.986797     | 0.936425     |
| conf_noobj | 0.000429     | 0.000396     | 0.000363     |
+------------+--------------+--------------+--------------+
2020-12-20 18:38:21.243 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.663530
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.257801     | 0.185598     | 0.220130     |
| x          | 0.013299     | 0.011764     | 0.022702     |
| y          | 0.003191     | 0.004025     | 0.013341     |
| w          | 0.024640     | 0.017147     | 0.012967     |
| h          | 0.017048     | 0.013236     | 0.013030     |
| conf       | 0.197025     | 0.137262     | 0.155600     |
| cls        | 0.002598     | 0.002165     | 0.002490     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 0.966667     | 0.966667     |
| recall75   | 0.862069     | 0.933333     | 0.900000     |
| precision  | 0.903226     | 0.617021     | 0.276190     |
| conf_obj   | 0.931292     | 0.945717     | 0.948456     |
| conf_noobj | 0.000294     | 0.000264     | 0.000345     |
+------------+--------------+--------------+--------------+
2020-12-20 18:38:31.241 | INFO     | service.federated.client_service:train:145 - epo   1, average loss 0.653
2020-12-20 18:38:31.244 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 18:39:30.665 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.23350   | 0.45771 | 0.30924 | 0.32961 |
| 1     | Wear_helmet | 0.72919   | 0.93412 | 0.81903 | 0.89602 |
| 2     | Total       | 0.48135   | 0.69592 | 0.56414 | 0.61282 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:39:30.666 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6128157407288943
2020-12-20 18:39:30.667 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 18:39:30.667 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:59.422490

2020-12-20 18:39:31.128 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 1/2, epo 1/5
2020-12-20 18:39:31.129 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 1/2, epo 1/5; time cost: 0:15:09.809182

2020-12-20 18:39:31.129 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 1/2, epo 2/5
2020-12-20 18:39:32.397 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.922670
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.385643     | 0.283933     | 0.253093     |
| x          | 0.011629     | 0.009950     | 0.015588     |
| y          | 0.004909     | 0.010068     | 0.028082     |
| w          | 0.032059     | 0.028216     | 0.023957     |
| h          | 0.027405     | 0.032779     | 0.015977     |
| conf       | 0.251078     | 0.161871     | 0.149426     |
| cls        | 0.058563     | 0.041049     | 0.020063     |
| cls_acc    | 97.22%       | 97.44%       | 100.00%      |
| recall50   | 0.861111     | 0.974359     | 1.000000     |
| recall75   | 0.805556     | 0.820513     | 0.850000     |
| precision  | 0.645833     | 0.431818     | 0.203046     |
| conf_obj   | 0.946273     | 0.975850     | 0.978887     |
| conf_noobj | 0.000852     | 0.000642     | 0.000572     |
+------------+--------------+--------------+--------------+
2020-12-20 18:40:35.770 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.807315
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.249733     | 0.283589     | 0.273993     |
| x          | 0.014608     | 0.030908     | 0.034291     |
| y          | 0.007570     | 0.007565     | 0.015426     |
| w          | 0.025395     | 0.013487     | 0.012547     |
| h          | 0.018812     | 0.012983     | 0.013542     |
| conf       | 0.133534     | 0.166940     | 0.137323     |
| cls        | 0.049814     | 0.051706     | 0.060863     |
| cls_acc    | 100.00%      | 97.06%       | 97.22%       |
| recall50   | 0.968750     | 0.882353     | 0.944444     |
| recall75   | 0.812500     | 0.823529     | 0.833333     |
| precision  | 0.885714     | 0.468750     | 0.242857     |
| conf_obj   | 0.961789     | 0.946355     | 0.962584     |
| conf_noobj | 0.000294     | 0.000382     | 0.000389     |
+------------+--------------+--------------+--------------+
2020-12-20 18:41:43.417 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.544615
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.157896     | 0.179962     | 0.206757     |
| x          | 0.021660     | 0.030014     | 0.025154     |
| y          | 0.005526     | 0.008154     | 0.026239     |
| w          | 0.031478     | 0.022432     | 0.017218     |
| h          | 0.018476     | 0.018863     | 0.026786     |
| conf       | 0.080208     | 0.099387     | 0.106996     |
| cls        | 0.000549     | 0.001112     | 0.004363     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.939394     | 0.916667     | 1.000000     |
| recall75   | 0.787879     | 0.888889     | 0.868421     |
| precision  | 0.861111     | 0.492537     | 0.296875     |
| conf_obj   | 0.954931     | 0.966852     | 0.968637     |
| conf_noobj | 0.000206     | 0.000362     | 0.000338     |
+------------+--------------+--------------+--------------+
2020-12-20 18:42:47.919 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.425748
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.146905     | 0.123072     | 0.155771     |
| x          | 0.013665     | 0.010678     | 0.026551     |
| y          | 0.006641     | 0.005511     | 0.019223     |
| w          | 0.027937     | 0.014143     | 0.016707     |
| h          | 0.009232     | 0.009315     | 0.012643     |
| conf       | 0.082393     | 0.081578     | 0.079319     |
| cls        | 0.007036     | 0.001848     | 0.001327     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.846154     | 0.933333     | 0.843750     |
| precision  | 0.892857     | 0.666667     | 0.316832     |
| conf_obj   | 0.961542     | 0.973552     | 0.982307     |
| conf_noobj | 0.000164     | 0.000217     | 0.000244     |
+------------+--------------+--------------+--------------+
2020-12-20 18:43:56.653 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.336192
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.112109     | 0.103871     | 0.120212     |
| x          | 0.014502     | 0.011741     | 0.016836     |
| y          | 0.006746     | 0.010005     | 0.021630     |
| w          | 0.024556     | 0.014841     | 0.013646     |
| h          | 0.013361     | 0.011406     | 0.007844     |
| conf       | 0.050507     | 0.055046     | 0.059572     |
| cls        | 0.002439     | 0.000832     | 0.000683     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.947368     | 1.000000     |
| recall75   | 0.812500     | 0.947368     | 0.950000     |
| precision  | 0.888889     | 0.562500     | 0.266667     |
| conf_obj   | 0.998340     | 0.991438     | 0.991820     |
| conf_noobj | 0.000218     | 0.000239     | 0.000214     |
+------------+--------------+--------------+--------------+
2020-12-20 18:44:59.313 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.685892
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.260734     | 0.224743     | 0.200416     |
| x          | 0.004336     | 0.009546     | 0.028741     |
| y          | 0.003632     | 0.009964     | 0.026748     |
| w          | 0.024452     | 0.026776     | 0.014367     |
| h          | 0.023362     | 0.019772     | 0.012204     |
| conf       | 0.160214     | 0.105665     | 0.110015     |
| cls        | 0.044737     | 0.053021     | 0.008341     |
| cls_acc    | 96.43%       | 100.00%      | 100.00%      |
| recall50   | 0.928571     | 0.964286     | 1.000000     |
| recall75   | 0.892857     | 0.857143     | 0.857143     |
| precision  | 0.787879     | 0.627907     | 0.304348     |
| conf_obj   | 0.950909     | 0.965978     | 0.962403     |
| conf_noobj | 0.000480     | 0.000304     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 18:45:59.629 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.911971
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.260787     | 0.305339     | 0.345845     |
| x          | 0.002024     | 0.004966     | 0.014496     |
| y          | 0.005931     | 0.012747     | 0.020260     |
| w          | 0.011719     | 0.008833     | 0.003618     |
| h          | 0.014546     | 0.017788     | 0.006500     |
| conf       | 0.226207     | 0.260789     | 0.300907     |
| cls        | 0.000359     | 0.000217     | 0.000064     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 0.960000     | 0.960000     |
| recall75   | 0.960000     | 0.960000     | 0.960000     |
| precision  | 0.800000     | 0.393443     | 0.240000     |
| conf_obj   | 0.950421     | 0.933585     | 0.924954     |
| conf_noobj | 0.000355     | 0.000360     | 0.000240     |
+------------+--------------+--------------+--------------+
2020-12-20 18:47:08.560 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.498113
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.172007     | 0.148294     | 0.177812     |
| x          | 0.003045     | 0.007055     | 0.019772     |
| y          | 0.001221     | 0.006486     | 0.021132     |
| w          | 0.017527     | 0.016680     | 0.016714     |
| h          | 0.016348     | 0.016019     | 0.016774     |
| conf       | 0.132924     | 0.095501     | 0.100307     |
| cls        | 0.000942     | 0.006553     | 0.003113     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.944444     | 0.888889     | 0.888889     |
| precision  | 0.692308     | 0.367347     | 0.173077     |
| conf_obj   | 0.974544     | 0.983889     | 0.979801     |
| conf_noobj | 0.000598     | 0.000383     | 0.000342     |
+------------+--------------+--------------+--------------+
2020-12-20 18:48:13.205 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.970219
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.334893     | 0.303032     | 0.332294     |
| x          | 0.009037     | 0.026114     | 0.023670     |
| y          | 0.008371     | 0.016632     | 0.022273     |
| w          | 0.044456     | 0.048331     | 0.028941     |
| h          | 0.038080     | 0.040975     | 0.030415     |
| conf       | 0.220842     | 0.166295     | 0.215904     |
| cls        | 0.014107     | 0.004685     | 0.011091     |
| cls_acc    | 97.06%       | 100.00%      | 100.00%      |
| recall50   | 0.882353     | 0.973684     | 0.974359     |
| recall75   | 0.794118     | 0.789474     | 0.794872     |
| precision  | 0.810811     | 0.578125     | 0.243590     |
| conf_obj   | 0.914260     | 0.946888     | 0.937812     |
| conf_noobj | 0.000568     | 0.000518     | 0.000613     |
+------------+--------------+--------------+--------------+
2020-12-20 18:49:15.354 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.510915
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.184596     | 0.156615     | 0.169703     |
| x          | 0.006250     | 0.009413     | 0.020911     |
| y          | 0.002678     | 0.012069     | 0.028834     |
| w          | 0.014269     | 0.010639     | 0.008361     |
| h          | 0.017165     | 0.014565     | 0.010373     |
| conf       | 0.143896     | 0.109388     | 0.101057     |
| cls        | 0.000337     | 0.000541     | 0.000166     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.965517     | 1.000000     | 0.965517     |
| precision  | 0.828571     | 0.527273     | 0.254386     |
| conf_obj   | 0.953717     | 0.977183     | 0.974827     |
| conf_noobj | 0.000388     | 0.000347     | 0.000290     |
+------------+--------------+--------------+--------------+
2020-12-20 18:50:21.566 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.550199
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.247887     | 0.148492     | 0.153820     |
| x          | 0.008197     | 0.005548     | 0.011089     |
| y          | 0.003914     | 0.008666     | 0.023057     |
| w          | 0.009022     | 0.006195     | 0.007218     |
| h          | 0.006806     | 0.010305     | 0.008238     |
| conf       | 0.219792     | 0.117539     | 0.103700     |
| cls        | 0.000156     | 0.000240     | 0.000517     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.947368     | 1.000000     | 1.000000     |
| recall75   | 0.894737     | 0.950000     | 0.950000     |
| precision  | 0.750000     | 0.476190     | 0.202020     |
| conf_obj   | 0.918344     | 0.953612     | 0.967535     |
| conf_noobj | 0.000324     | 0.000281     | 0.000266     |
+------------+--------------+--------------+--------------+
2020-12-20 18:51:24.116 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 1.205118
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.482159     | 0.331912     | 0.391047     |
| x          | 0.009216     | 0.017144     | 0.037603     |
| y          | 0.008039     | 0.013292     | 0.019236     |
| w          | 0.022737     | 0.014176     | 0.005730     |
| h          | 0.021388     | 0.022047     | 0.007594     |
| conf       | 0.419737     | 0.265040     | 0.320648     |
| cls        | 0.001041     | 0.000213     | 0.000235     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.903226     | 0.967742     | 0.967742     |
| recall75   | 0.806452     | 0.870968     | 0.935484     |
| precision  | 0.823529     | 0.566038     | 0.263158     |
| conf_obj   | 0.890178     | 0.943791     | 0.944264     |
| conf_noobj | 0.000471     | 0.000469     | 0.000398     |
+------------+--------------+--------------+--------------+
2020-12-20 18:52:26.435 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.940437
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.334282     | 0.223114     | 0.383041     |
| x          | 0.010656     | 0.046464     | 0.044866     |
| y          | 0.003157     | 0.006519     | 0.031840     |
| w          | 0.012434     | 0.017563     | 0.011356     |
| h          | 0.013854     | 0.007496     | 0.009871     |
| conf       | 0.293845     | 0.144787     | 0.284703     |
| cls        | 0.000335     | 0.000285     | 0.000405     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.857143     | 1.000000     | 0.928571     |
| recall75   | 0.857143     | 0.928571     | 0.928571     |
| precision  | 0.750000     | 0.350000     | 0.213115     |
| conf_obj   | 0.893134     | 0.955114     | 0.907689     |
| conf_noobj | 0.000517     | 0.000465     | 0.000261     |
+------------+--------------+--------------+--------------+
2020-12-20 18:53:29.044 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.526975
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.174462     | 0.166516     | 0.185997     |
| x          | 0.003583     | 0.007694     | 0.024096     |
| y          | 0.001659     | 0.009291     | 0.025076     |
| w          | 0.029506     | 0.013609     | 0.005823     |
| h          | 0.015721     | 0.010900     | 0.005565     |
| conf       | 0.123909     | 0.124961     | 0.125310     |
| cls        | 0.000084     | 0.000060     | 0.000127     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.965517     | 1.000000     | 0.965517     |
| recall75   | 0.965517     | 0.965517     | 0.965517     |
| precision  | 0.848485     | 0.460317     | 0.239316     |
| conf_obj   | 0.963472     | 0.971178     | 0.966795     |
| conf_noobj | 0.000355     | 0.000393     | 0.000308     |
+------------+--------------+--------------+--------------+
2020-12-20 18:53:41.911 | INFO     | service.federated.client_service:train:145 - epo   2, average loss 0.638
2020-12-20 18:53:41.916 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 18:54:39.738 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.22602   | 0.34577 | 0.27335 | 0.24385 |
| 1     | Wear_helmet | 0.59196   | 0.93507 | 0.72497 | 0.89213 |
| 2     | Total       | 0.40899   | 0.64042 | 0.49916 | 0.56799 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 18:54:39.739 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5679908435937001
2020-12-20 18:54:39.739 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 18:54:39.739 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:57.823240

2020-12-20 18:54:40.221 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 1/2, epo 2/5
2020-12-20 18:54:40.221 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 1/2, epo 2/5; time cost: 0:15:09.091737

2020-12-20 18:54:40.222 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 1/2, epo 3/5
2020-12-20 18:54:41.345 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.603083
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.218927     | 0.187655     | 0.196501     |
| x          | 0.006647     | 0.005343     | 0.013516     |
| y          | 0.004389     | 0.005555     | 0.009377     |
| w          | 0.017123     | 0.025521     | 0.014053     |
| h          | 0.014057     | 0.014791     | 0.007337     |
| conf       | 0.161962     | 0.126450     | 0.149718     |
| cls        | 0.014748     | 0.009995     | 0.002500     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.928571     | 0.931818     | 0.934783     |
| precision  | 0.840000     | 0.619718     | 0.282209     |
| conf_obj   | 0.959909     | 0.983447     | 0.985544     |
| conf_noobj | 0.000618     | 0.000540     | 0.000567     |
+------------+--------------+--------------+--------------+
2020-12-20 18:55:47.357 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.315610
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.110284     | 0.113115     | 0.092211     |
| x          | 0.003119     | 0.004852     | 0.016233     |
| y          | 0.001517     | 0.006292     | 0.016643     |
| w          | 0.011946     | 0.005848     | 0.003259     |
| h          | 0.008451     | 0.010965     | 0.005285     |
| conf       | 0.085074     | 0.085091     | 0.050620     |
| cls        | 0.000177     | 0.000067     | 0.000171     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.722222     | 0.406250     | 0.260000     |
| conf_obj   | 0.973662     | 0.973857     | 0.983474     |
| conf_noobj | 0.000348     | 0.000256     | 0.000144     |
+------------+--------------+--------------+--------------+
2020-12-20 18:56:51.046 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.578795
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.165738     | 0.274684     | 0.138373     |
| x          | 0.002235     | 0.005386     | 0.013718     |
| y          | 0.002436     | 0.005088     | 0.015736     |
| w          | 0.019719     | 0.020810     | 0.019937     |
| h          | 0.013086     | 0.010406     | 0.009687     |
| conf       | 0.127506     | 0.231330     | 0.078531     |
| cls        | 0.000755     | 0.001665     | 0.000764     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.956522     | 1.000000     |
| recall75   | 1.000000     | 0.913043     | 0.956522     |
| precision  | 0.793103     | 0.500000     | 0.258427     |
| conf_obj   | 0.956551     | 0.940918     | 0.985819     |
| conf_noobj | 0.000399     | 0.000408     | 0.000292     |
+------------+--------------+--------------+--------------+
2020-12-20 18:57:59.023 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.578255
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.197880     | 0.188274     | 0.192102     |
| x          | 0.010617     | 0.005813     | 0.025205     |
| y          | 0.015150     | 0.012345     | 0.027898     |
| w          | 0.027894     | 0.024775     | 0.010604     |
| h          | 0.020788     | 0.017688     | 0.015047     |
| conf       | 0.098867     | 0.126993     | 0.109577     |
| cls        | 0.024564     | 0.000660     | 0.003770     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.960000     | 1.000000     | 1.000000     |
| recall75   | 0.840000     | 0.846154     | 0.846154     |
| precision  | 0.827586     | 0.481481     | 0.218487     |
| conf_obj   | 0.970170     | 0.968510     | 0.982531     |
| conf_noobj | 0.000411     | 0.000445     | 0.000394     |
+------------+--------------+--------------+--------------+
2020-12-20 18:59:05.238 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.734792
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.219943     | 0.272569     | 0.242280     |
| x          | 0.012310     | 0.006374     | 0.012139     |
| y          | 0.004170     | 0.011048     | 0.012989     |
| w          | 0.005908     | 0.005333     | 0.003608     |
| h          | 0.010601     | 0.010124     | 0.009776     |
| conf       | 0.185607     | 0.232066     | 0.197502     |
| cls        | 0.001348     | 0.007624     | 0.006266     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 0.956522     | 0.913043     |
| recall75   | 0.904762     | 0.913043     | 0.913043     |
| precision  | 0.714286     | 0.458333     | 0.228261     |
| conf_obj   | 0.964150     | 0.938148     | 0.923164     |
| conf_noobj | 0.000658     | 0.000442     | 0.000288     |
+------------+--------------+--------------+--------------+
2020-12-20 19:00:09.877 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.669725
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.240562     | 0.250300     | 0.178863     |
| x          | 0.025829     | 0.017112     | 0.023753     |
| y          | 0.008142     | 0.010345     | 0.022174     |
| w          | 0.024061     | 0.018500     | 0.012358     |
| h          | 0.018482     | 0.023916     | 0.013833     |
| conf       | 0.151306     | 0.180078     | 0.106487     |
| cls        | 0.012742     | 0.000349     | 0.000258     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.947368     | 1.000000     |
| recall75   | 0.794118     | 0.947368     | 0.921053     |
| precision  | 0.733333     | 0.395604     | 0.238994     |
| conf_obj   | 0.959600     | 0.965396     | 0.983734     |
| conf_noobj | 0.000619     | 0.000667     | 0.000402     |
+------------+--------------+--------------+--------------+
2020-12-20 19:01:13.218 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.463383
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.158541     | 0.140580     | 0.164262     |
| x          | 0.004195     | 0.006403     | 0.012410     |
| y          | 0.003280     | 0.010146     | 0.020098     |
| w          | 0.014488     | 0.012222     | 0.007712     |
| h          | 0.010969     | 0.009856     | 0.009414     |
| conf       | 0.102634     | 0.092090     | 0.113104     |
| cls        | 0.022974     | 0.009863     | 0.001524     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.958333     | 1.000000     | 1.000000     |
| precision  | 0.857143     | 0.581395     | 0.277778     |
| conf_obj   | 0.981648     | 0.983261     | 0.971817     |
| conf_noobj | 0.000412     | 0.000350     | 0.000341     |
+------------+--------------+--------------+--------------+
2020-12-20 19:02:12.533 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 1.003367
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.259725     | 0.373682     | 0.369959     |
| x          | 0.011574     | 0.007685     | 0.023041     |
| y          | 0.008854     | 0.014095     | 0.040077     |
| w          | 0.017711     | 0.013027     | 0.019756     |
| h          | 0.035906     | 0.047709     | 0.050181     |
| conf       | 0.183532     | 0.160658     | 0.120525     |
| cls        | 0.002148     | 0.130509     | 0.116379     |
| cls_acc    | 100.00%      | 96.30%       | 96.55%       |
| recall50   | 0.923077     | 0.962963     | 0.931035     |
| recall75   | 0.846154     | 0.814815     | 0.827586     |
| precision  | 0.705882     | 0.530612     | 0.247706     |
| conf_obj   | 0.940012     | 0.962784     | 0.977659     |
| conf_noobj | 0.000588     | 0.000449     | 0.000368     |
+------------+--------------+--------------+--------------+
2020-12-20 19:03:12.693 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.485717
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.153905     | 0.168724     | 0.163088     |
| x          | 0.003600     | 0.009325     | 0.014590     |
| y          | 0.002392     | 0.009911     | 0.017676     |
| w          | 0.012988     | 0.016676     | 0.013099     |
| h          | 0.020605     | 0.015144     | 0.013869     |
| conf       | 0.114148     | 0.117233     | 0.103719     |
| cls        | 0.000172     | 0.000436     | 0.000135     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.952381     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 1.000000     | 0.909091     |
| precision  | 0.800000     | 0.500000     | 0.250000     |
| conf_obj   | 0.960014     | 0.972595     | 0.979227     |
| conf_noobj | 0.000387     | 0.000386     | 0.000312     |
+------------+--------------+--------------+--------------+
2020-12-20 19:04:20.830 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.605004
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.254249     | 0.175773     | 0.174982     |
| x          | 0.012364     | 0.009364     | 0.009648     |
| y          | 0.015462     | 0.009008     | 0.017961     |
| w          | 0.029333     | 0.015905     | 0.014279     |
| h          | 0.028276     | 0.016959     | 0.014659     |
| conf       | 0.168098     | 0.123943     | 0.117790     |
| cls        | 0.000715     | 0.000594     | 0.000645     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.851852     | 0.966667     | 1.000000     |
| recall75   | 0.814815     | 0.800000     | 0.906250     |
| precision  | 0.657143     | 0.517857     | 0.268908     |
| conf_obj   | 0.946861     | 0.961308     | 0.971941     |
| conf_noobj | 0.000535     | 0.000355     | 0.000355     |
+------------+--------------+--------------+--------------+
2020-12-20 19:05:30.699 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.583919
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.183386     | 0.192029     | 0.208504     |
| x          | 0.012662     | 0.012517     | 0.026680     |
| y          | 0.005806     | 0.012455     | 0.034624     |
| w          | 0.018374     | 0.018355     | 0.010460     |
| h          | 0.017500     | 0.008913     | 0.009378     |
| conf       | 0.128209     | 0.138788     | 0.126504     |
| cls        | 0.000834     | 0.001001     | 0.000858     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.968750     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 0.942857     | 0.914286     |
| precision  | 0.738095     | 0.492958     | 0.222930     |
| conf_obj   | 0.974128     | 0.973145     | 0.977327     |
| conf_noobj | 0.000559     | 0.000465     | 0.000417     |
+------------+--------------+--------------+--------------+
2020-12-20 19:06:36.147 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.782272
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.281773     | 0.248979     | 0.251521     |
| x          | 0.007931     | 0.002846     | 0.008093     |
| y          | 0.004695     | 0.012171     | 0.027000     |
| w          | 0.018353     | 0.015520     | 0.014332     |
| h          | 0.017577     | 0.012596     | 0.014731     |
| conf       | 0.223790     | 0.204189     | 0.182001     |
| cls        | 0.009426     | 0.001657     | 0.005364     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 0.962963     | 0.962963     |
| recall75   | 0.884615     | 0.962963     | 0.888889     |
| precision  | 0.862069     | 0.553191     | 0.329114     |
| conf_obj   | 0.932496     | 0.941944     | 0.953224     |
| conf_noobj | 0.000377     | 0.000440     | 0.000295     |
+------------+--------------+--------------+--------------+
2020-12-20 19:07:36.489 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.566396
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.160368     | 0.206430     | 0.199599     |
| x          | 0.004297     | 0.007876     | 0.019432     |
| y          | 0.005304     | 0.010216     | 0.026580     |
| w          | 0.019204     | 0.018438     | 0.012177     |
| h          | 0.012555     | 0.012432     | 0.013519     |
| conf       | 0.103802     | 0.109590     | 0.110381     |
| cls        | 0.015206     | 0.047877     | 0.017510     |
| cls_acc    | 100.00%      | 96.88%       | 100.00%      |
| recall50   | 1.000000     | 0.968750     | 1.000000     |
| recall75   | 0.906250     | 0.875000     | 0.878788     |
| precision  | 0.820513     | 0.543860     | 0.224490     |
| conf_obj   | 0.981191     | 0.969974     | 0.976504     |
| conf_noobj | 0.000418     | 0.000352     | 0.000356     |
+------------+--------------+--------------+--------------+
2020-12-20 19:08:45.275 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.543713
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.184376     | 0.169448     | 0.189890     |
| x          | 0.007011     | 0.004390     | 0.009245     |
| y          | 0.004730     | 0.003267     | 0.011985     |
| w          | 0.020493     | 0.011053     | 0.012509     |
| h          | 0.024764     | 0.013722     | 0.011378     |
| conf       | 0.126926     | 0.136237     | 0.144315     |
| cls        | 0.000452     | 0.000780     | 0.000456     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.923077     | 0.962963     | 0.962963     |
| precision  | 0.896552     | 0.551020     | 0.238938     |
| conf_obj   | 0.954382     | 0.966170     | 0.955866     |
| conf_noobj | 0.000295     | 0.000355     | 0.000361     |
+------------+--------------+--------------+--------------+
2020-12-20 19:08:56.380 | INFO     | service.federated.client_service:train:145 - epo   3, average loss 0.623
2020-12-20 19:08:56.385 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 19:09:49.157 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.31616   | 0.44279 | 0.36891 | 0.36074 |
| 1     | Wear_helmet | 0.72534   | 0.91991 | 0.81112 | 0.89406 |
| 2     | Total       | 0.52075   | 0.68135 | 0.59001 | 0.62740 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:09:49.158 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6273993764790915
2020-12-20 19:09:49.158 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 19:09:49.159 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:52.773442

2020-12-20 19:09:49.681 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 1/2, epo 3/5
2020-12-20 19:09:49.681 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 1/2, epo 3/5; time cost: 0:15:09.459545

2020-12-20 19:09:49.682 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 1/2, epo 4/5
2020-12-20 19:09:51.177 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.513906
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.232568     | 0.124722     | 0.156616     |
| x          | 0.027073     | 0.013093     | 0.025084     |
| y          | 0.010029     | 0.012612     | 0.027284     |
| w          | 0.026241     | 0.018286     | 0.008771     |
| h          | 0.018525     | 0.011067     | 0.009057     |
| conf       | 0.150220     | 0.069059     | 0.085178     |
| cls        | 0.000479     | 0.000604     | 0.001243     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.869565     | 1.000000     | 1.000000     |
| recall75   | 0.782609     | 0.807692     | 0.884615     |
| precision  | 0.714286     | 0.490566     | 0.234234     |
| conf_obj   | 0.944735     | 0.986351     | 0.986794     |
| conf_noobj | 0.000387     | 0.000316     | 0.000297     |
+------------+--------------+--------------+--------------+
2020-12-20 19:10:58.189 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.574572
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.210090     | 0.175756     | 0.188725     |
| x          | 0.020189     | 0.015689     | 0.020263     |
| y          | 0.016084     | 0.009976     | 0.013125     |
| w          | 0.012279     | 0.015812     | 0.008348     |
| h          | 0.020419     | 0.013485     | 0.006965     |
| conf       | 0.139079     | 0.119832     | 0.139060     |
| cls        | 0.002039     | 0.000963     | 0.000966     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 0.971429     | 1.000000     |
| recall75   | 0.812500     | 0.942857     | 0.972222     |
| precision  | 0.769231     | 0.500000     | 0.236842     |
| conf_obj   | 0.959638     | 0.976921     | 0.955615     |
| conf_noobj | 0.000386     | 0.000424     | 0.000386     |
+------------+--------------+--------------+--------------+
2020-12-20 19:12:08.848 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.584311
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.253136     | 0.184761     | 0.146414     |
| x          | 0.002836     | 0.008373     | 0.015872     |
| y          | 0.007448     | 0.006140     | 0.018939     |
| w          | 0.007820     | 0.009154     | 0.005398     |
| h          | 0.014097     | 0.010348     | 0.016472     |
| conf       | 0.219385     | 0.150234     | 0.089483     |
| cls        | 0.001550     | 0.000512     | 0.000249     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.933333     | 1.000000     | 1.000000     |
| recall75   | 0.866667     | 1.000000     | 0.933333     |
| precision  | 0.518519     | 0.365854     | 0.197368     |
| conf_obj   | 0.947557     | 0.941761     | 0.971408     |
| conf_noobj | 0.000668     | 0.000339     | 0.000225     |
+------------+--------------+--------------+--------------+
2020-12-20 19:13:12.172 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.762369
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.221123     | 0.312445     | 0.228801     |
| x          | 0.006221     | 0.011448     | 0.019322     |
| y          | 0.005063     | 0.011046     | 0.014080     |
| w          | 0.028555     | 0.065448     | 0.027150     |
| h          | 0.016756     | 0.061620     | 0.017362     |
| conf       | 0.150242     | 0.157355     | 0.141568     |
| cls        | 0.014285     | 0.005528     | 0.009319     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.941176     | 0.914286     |
| recall75   | 0.862069     | 0.823529     | 0.828571     |
| precision  | 0.828571     | 0.603774     | 0.301887     |
| conf_obj   | 0.950399     | 0.946720     | 0.958038     |
| conf_noobj | 0.000516     | 0.000407     | 0.000383     |
+------------+--------------+--------------+--------------+
2020-12-20 19:14:15.844 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.344732
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.098395     | 0.109345     | 0.136992     |
| x          | 0.004883     | 0.023522     | 0.023817     |
| y          | 0.004828     | 0.014217     | 0.031913     |
| w          | 0.014566     | 0.010327     | 0.008791     |
| h          | 0.009084     | 0.005154     | 0.005519     |
| conf       | 0.064915     | 0.056101     | 0.066891     |
| cls        | 0.000118     | 0.000024     | 0.000060     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.952381     | 1.000000     |
| recall75   | 0.900000     | 0.857143     | 0.952381     |
| precision  | 0.833333     | 0.571429     | 0.235955     |
| conf_obj   | 0.982536     | 0.989493     | 0.982432     |
| conf_noobj | 0.000250     | 0.000166     | 0.000191     |
+------------+--------------+--------------+--------------+
2020-12-20 19:15:23.785 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.443477
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.147422     | 0.149355     | 0.146700     |
| x          | 0.001232     | 0.004487     | 0.013498     |
| y          | 0.003930     | 0.011690     | 0.023139     |
| w          | 0.022857     | 0.022923     | 0.016987     |
| h          | 0.021048     | 0.014850     | 0.008551     |
| conf       | 0.097717     | 0.095019     | 0.083600     |
| cls        | 0.000639     | 0.000387     | 0.000925     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.964286     | 0.964286     | 0.928571     |
| precision  | 0.823529     | 0.451613     | 0.233333     |
| conf_obj   | 0.974805     | 0.981912     | 0.986685     |
| conf_noobj | 0.000345     | 0.000392     | 0.000295     |
+------------+--------------+--------------+--------------+
2020-12-20 19:16:33.349 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.660178
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.185676     | 0.231808     | 0.242694     |
| x          | 0.004851     | 0.013078     | 0.025957     |
| y          | 0.005737     | 0.007317     | 0.019279     |
| w          | 0.028020     | 0.030766     | 0.027998     |
| h          | 0.018600     | 0.029201     | 0.022443     |
| conf       | 0.125150     | 0.140013     | 0.144133     |
| cls        | 0.003318     | 0.011434     | 0.002884     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 1.000000     | 0.947368     |
| recall75   | 0.970588     | 0.810811     | 0.868421     |
| precision  | 0.846154     | 0.544118     | 0.302521     |
| conf_obj   | 0.958102     | 0.965508     | 0.962925     |
| conf_noobj | 0.000385     | 0.000468     | 0.000404     |
+------------+--------------+--------------+--------------+
2020-12-20 19:17:36.232 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.412990
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.159178     | 0.135902     | 0.117910     |
| x          | 0.001808     | 0.006264     | 0.019329     |
| y          | 0.002898     | 0.008072     | 0.025183     |
| w          | 0.014270     | 0.006117     | 0.006157     |
| h          | 0.019362     | 0.009789     | 0.005839     |
| conf       | 0.104581     | 0.069539     | 0.056809     |
| cls        | 0.016260     | 0.036119     | 0.004593     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.941176     | 1.000000     |
| precision  | 0.739130     | 0.447368     | 0.242857     |
| conf_obj   | 0.984587     | 0.991285     | 0.995853     |
| conf_noobj | 0.000399     | 0.000290     | 0.000226     |
+------------+--------------+--------------+--------------+
2020-12-20 19:18:41.692 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.531385
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.119880     | 0.213051     | 0.198455     |
| x          | 0.008834     | 0.007333     | 0.016992     |
| y          | 0.008868     | 0.014830     | 0.029017     |
| w          | 0.012711     | 0.014625     | 0.009699     |
| h          | 0.018324     | 0.015887     | 0.012699     |
| conf       | 0.058544     | 0.151676     | 0.122113     |
| cls        | 0.012599     | 0.008700     | 0.007935     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.965517     | 0.966667     |
| recall75   | 0.807692     | 0.931035     | 0.966667     |
| precision  | 0.838710     | 0.451613     | 0.252174     |
| conf_obj   | 0.992957     | 0.964789     | 0.958662     |
| conf_noobj | 0.000327     | 0.000388     | 0.000280     |
+------------+--------------+--------------+--------------+
2020-12-20 19:19:51.938 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.804611
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.126330     | 0.374404     | 0.303877     |
| x          | 0.009997     | 0.021603     | 0.018770     |
| y          | 0.004868     | 0.010267     | 0.018219     |
| w          | 0.041116     | 0.037017     | 0.022895     |
| h          | 0.026377     | 0.025376     | 0.013614     |
| conf       | 0.043149     | 0.272836     | 0.227778     |
| cls        | 0.000822     | 0.007304     | 0.002601     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.920000     | 0.920000     |
| recall75   | 0.833333     | 0.760000     | 0.760000     |
| precision  | 0.923077     | 0.500000     | 0.258427     |
| conf_obj   | 0.979753     | 0.938574     | 0.920814     |
| conf_noobj | 0.000149     | 0.000329     | 0.000308     |
+------------+--------------+--------------+--------------+
2020-12-20 19:20:56.786 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.525419
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 27           | 54           | 108          |
| loss       | 0.249328     | 0.149666     | 0.126425     |
| x          | 0.010717     | 0.005603     | 0.016023     |
| y          | 0.005437     | 0.008817     | 0.015547     |
| w          | 0.045086     | 0.020992     | 0.011484     |
| h          | 0.025153     | 0.010254     | 0.003862     |
| conf       | 0.158619     | 0.103444     | 0.079229     |
| cls        | 0.004316     | 0.000556     | 0.000279     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.937500     | 1.000000     | 1.000000     |
| recall75   | 0.937500     | 1.000000     | 1.000000     |
| precision  | 0.576923     | 0.404762     | 0.204819     |
| conf_obj   | 0.965847     | 0.978637     | 0.981379     |
| conf_noobj | 0.000612     | 0.000353     | 0.000249     |
+------------+--------------+--------------+--------------+
2020-12-20 19:22:03.208 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.460944
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.170746     | 0.142233     | 0.147965     |
| x          | 0.005025     | 0.006664     | 0.029354     |
| y          | 0.002562     | 0.008133     | 0.019463     |
| w          | 0.009151     | 0.007389     | 0.007522     |
| h          | 0.008910     | 0.015021     | 0.015167     |
| conf       | 0.144719     | 0.104741     | 0.076091     |
| cls        | 0.000380     | 0.000284     | 0.000367     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.952381     | 0.954545     | 0.909091     |
| precision  | 0.677419     | 0.431373     | 0.196429     |
| conf_obj   | 0.965850     | 0.976216     | 0.988714     |
| conf_noobj | 0.000569     | 0.000384     | 0.000277     |
+------------+--------------+--------------+--------------+
2020-12-20 19:23:14.943 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.591986
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.197017     | 0.217180     | 0.177789     |
| x          | 0.009189     | 0.006201     | 0.015597     |
| y          | 0.005849     | 0.009876     | 0.021616     |
| w          | 0.011522     | 0.006761     | 0.005783     |
| h          | 0.014939     | 0.013998     | 0.015544     |
| conf       | 0.151156     | 0.176917     | 0.118232     |
| cls        | 0.004362     | 0.003426     | 0.001017     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.972973     | 0.974359     | 1.000000     |
| recall75   | 0.918919     | 0.974359     | 0.871795     |
| precision  | 0.878049     | 0.520548     | 0.236364     |
| conf_obj   | 0.952397     | 0.958504     | 0.977847     |
| conf_noobj | 0.000367     | 0.000495     | 0.000388     |
+------------+--------------+--------------+--------------+
2020-12-20 19:24:25.934 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.432360
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.146233     | 0.137047     | 0.149081     |
| x          | 0.007650     | 0.010320     | 0.023432     |
| y          | 0.004562     | 0.009196     | 0.016646     |
| w          | 0.023827     | 0.013838     | 0.022313     |
| h          | 0.020554     | 0.021632     | 0.018259     |
| conf       | 0.089552     | 0.081626     | 0.067993     |
| cls        | 0.000089     | 0.000435     | 0.000438     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.904762     | 0.954545     | 0.909091     |
| precision  | 0.777778     | 0.488889     | 0.268293     |
| conf_obj   | 0.985528     | 0.993094     | 0.994049     |
| conf_noobj | 0.000354     | 0.000308     | 0.000256     |
+------------+--------------+--------------+--------------+
2020-12-20 19:24:36.803 | INFO     | service.federated.client_service:train:145 - epo   4, average loss 0.600
2020-12-20 19:24:36.807 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 19:25:28.534 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.22414   | 0.38806 | 0.28415 | 0.28458 |
| 1     | Wear_helmet | 0.66499   | 0.93886 | 0.77854 | 0.89867 |
| 2     | Total       | 0.44456   | 0.66346 | 0.53135 | 0.59163 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:25:28.536 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5916276396103246
2020-12-20 19:25:28.537 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 19:25:28.537 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:00:51.730150

2020-12-20 19:25:29.052 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 1/2, epo 4/5
2020-12-20 19:25:29.053 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 1/2, epo 4/5; time cost: 0:15:39.370601

2020-12-20 19:25:29.053 | INFO     | utils.tool_utils:timer:35 - Start executing step: federated train for epoch 20/20, idx 1/2, epo 5/5
2020-12-20 19:25:30.199 | INFO     | service.federated.client_service:train:139 - 
federated train for [0/5274 (0%)]	loss: 0.636956
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.239563     | 0.210685     | 0.186708     |
| x          | 0.010002     | 0.006317     | 0.025207     |
| y          | 0.002210     | 0.005533     | 0.011654     |
| w          | 0.011180     | 0.011023     | 0.010014     |
| h          | 0.008241     | 0.006537     | 0.005485     |
| conf       | 0.207157     | 0.179596     | 0.133003     |
| cls        | 0.000774     | 0.001679     | 0.001345     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.913043     | 1.000000     | 0.916667     |
| precision  | 0.696970     | 0.500000     | 0.214286     |
| conf_obj   | 0.955764     | 0.950275     | 0.967893     |
| conf_noobj | 0.000658     | 0.000444     | 0.000398     |
+------------+--------------+--------------+--------------+
2020-12-20 19:26:34.543 | INFO     | service.federated.client_service:train:139 - 
federated train for [400/5274 (8%)]	loss: 0.497724
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.115369     | 0.200505     | 0.181850     |
| x          | 0.010795     | 0.009277     | 0.027756     |
| y          | 0.005698     | 0.010862     | 0.018055     |
| w          | 0.011780     | 0.011713     | 0.012235     |
| h          | 0.011967     | 0.008019     | 0.008476     |
| conf       | 0.073890     | 0.159305     | 0.110866     |
| cls        | 0.001239     | 0.001329     | 0.004463     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.961538     | 1.000000     |
| recall75   | 0.826087     | 0.884615     | 0.923077     |
| precision  | 0.851852     | 0.500000     | 0.247619     |
| conf_obj   | 0.971578     | 0.934943     | 0.959401     |
| conf_noobj | 0.000250     | 0.000301     | 0.000266     |
+------------+--------------+--------------+--------------+
2020-12-20 19:27:42.457 | INFO     | service.federated.client_service:train:139 - 
federated train for [800/5274 (15%)]	loss: 0.711841
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.247425     | 0.231733     | 0.232683     |
| x          | 0.002877     | 0.006080     | 0.009259     |
| y          | 0.003315     | 0.006996     | 0.018956     |
| w          | 0.008518     | 0.010923     | 0.007488     |
| h          | 0.011968     | 0.015493     | 0.010536     |
| conf       | 0.220260     | 0.191128     | 0.185852     |
| cls        | 0.000488     | 0.001113     | 0.000591     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.964286     | 0.964286     | 0.964286     |
| recall75   | 0.928571     | 0.964286     | 0.928571     |
| precision  | 0.818182     | 0.490909     | 0.284211     |
| conf_obj   | 0.938469     | 0.937999     | 0.939145     |
| conf_noobj | 0.000388     | 0.000361     | 0.000219     |
+------------+--------------+--------------+--------------+
2020-12-20 19:28:51.730 | INFO     | service.federated.client_service:train:139 - 
federated train for [1200/5274 (23%)]	loss: 0.336818
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 25           | 50           | 100          |
| loss       | 0.110108     | 0.097972     | 0.128737     |
| x          | 0.005022     | 0.006415     | 0.018250     |
| y          | 0.002063     | 0.005598     | 0.018389     |
| w          | 0.016099     | 0.015344     | 0.006415     |
| h          | 0.005316     | 0.006167     | 0.007009     |
| conf       | 0.081082     | 0.064339     | 0.078621     |
| cls        | 0.000526     | 0.000110     | 0.000054     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.947368     | 1.000000     | 0.950000     |
| precision  | 0.863636     | 0.588235     | 0.196078     |
| conf_obj   | 0.969973     | 0.991911     | 0.990055     |
| conf_noobj | 0.000296     | 0.000301     | 0.000346     |
+------------+--------------+--------------+--------------+
2020-12-20 19:29:56.537 | INFO     | service.federated.client_service:train:139 - 
federated train for [1600/5274 (30%)]	loss: 0.704062
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.259659     | 0.280677     | 0.163727     |
| x          | 0.002581     | 0.011035     | 0.022597     |
| y          | 0.002290     | 0.009151     | 0.014807     |
| w          | 0.014222     | 0.010073     | 0.007196     |
| h          | 0.016730     | 0.013410     | 0.009148     |
| conf       | 0.223125     | 0.235859     | 0.109475     |
| cls        | 0.000711     | 0.001149     | 0.000504     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.875000     | 1.000000     |
| recall75   | 0.956522     | 0.875000     | 0.916667     |
| precision  | 0.676471     | 0.396226     | 0.252632     |
| conf_obj   | 0.955333     | 0.909279     | 0.969635     |
| conf_noobj | 0.000715     | 0.000451     | 0.000290     |
+------------+--------------+--------------+--------------+
2020-12-20 19:31:03.899 | INFO     | service.federated.client_service:train:139 - 
federated train for [2000/5274 (38%)]	loss: 0.599256
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.220821     | 0.180530     | 0.197905     |
| x          | 0.002567     | 0.012939     | 0.030961     |
| y          | 0.003162     | 0.010324     | 0.020003     |
| w          | 0.013968     | 0.013046     | 0.013748     |
| h          | 0.013382     | 0.013790     | 0.012700     |
| conf       | 0.186776     | 0.129895     | 0.120207     |
| cls        | 0.000967     | 0.000537     | 0.000286     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.970588     | 0.945946     | 0.974359     |
| recall75   | 0.911765     | 0.837838     | 0.846154     |
| precision  | 0.846154     | 0.500000     | 0.250000     |
| conf_obj   | 0.965307     | 0.966339     | 0.984739     |
| conf_noobj | 0.000444     | 0.000380     | 0.000428     |
+------------+--------------+--------------+--------------+
2020-12-20 19:32:09.031 | INFO     | service.federated.client_service:train:139 - 
federated train for [2400/5274 (45%)]	loss: 0.409374
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 23           | 46           | 92           |
| loss       | 0.146057     | 0.140699     | 0.122619     |
| x          | 0.003839     | 0.005217     | 0.012053     |
| y          | 0.001078     | 0.004294     | 0.009625     |
| w          | 0.012224     | 0.010114     | 0.007166     |
| h          | 0.011077     | 0.006431     | 0.007299     |
| conf       | 0.113917     | 0.113568     | 0.085618     |
| cls        | 0.003921     | 0.001075     | 0.000858     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 0.961538     | 1.000000     | 1.000000     |
| precision  | 0.838710     | 0.586957     | 0.306818     |
| conf_obj   | 0.975929     | 0.985983     | 0.989105     |
| conf_noobj | 0.000420     | 0.000393     | 0.000305     |
+------------+--------------+--------------+--------------+
2020-12-20 19:33:10.673 | INFO     | service.federated.client_service:train:139 - 
federated train for [2800/5274 (53%)]	loss: 0.423713
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 28           | 56           | 112          |
| loss       | 0.155883     | 0.134714     | 0.133115     |
| x          | 0.002334     | 0.009315     | 0.019246     |
| y          | 0.006088     | 0.008811     | 0.028847     |
| w          | 0.013118     | 0.007448     | 0.008564     |
| h          | 0.017098     | 0.009691     | 0.008978     |
| conf       | 0.110265     | 0.099246     | 0.067401     |
| cls        | 0.006980     | 0.000202     | 0.000078     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 0.952381     | 0.952381     |
| precision  | 0.677419     | 0.350000     | 0.221053     |
| conf_obj   | 0.984599     | 0.988671     | 0.995123     |
| conf_noobj | 0.000589     | 0.000487     | 0.000274     |
+------------+--------------+--------------+--------------+
2020-12-20 19:34:22.074 | INFO     | service.federated.client_service:train:139 - 
federated train for [3200/5274 (61%)]	loss: 0.436627
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.146597     | 0.113246     | 0.176784     |
| x          | 0.005087     | 0.009324     | 0.019000     |
| y          | 0.003136     | 0.004634     | 0.016731     |
| w          | 0.016258     | 0.011094     | 0.008580     |
| h          | 0.007507     | 0.004661     | 0.004846     |
| conf       | 0.111443     | 0.081184     | 0.127197     |
| cls        | 0.003167     | 0.002349     | 0.000429     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.961538     |
| recall75   | 0.880000     | 1.000000     | 0.884615     |
| precision  | 0.862069     | 0.604651     | 0.280899     |
| conf_obj   | 0.968810     | 0.984810     | 0.961257     |
| conf_noobj | 0.000358     | 0.000301     | 0.000311     |
+------------+--------------+--------------+--------------+
2020-12-20 19:35:21.390 | INFO     | service.federated.client_service:train:139 - 
federated train for [3600/5274 (68%)]	loss: 0.445527
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.173920     | 0.129305     | 0.142302     |
| x          | 0.001308     | 0.001957     | 0.010110     |
| y          | 0.001394     | 0.002177     | 0.006419     |
| w          | 0.018229     | 0.024158     | 0.016300     |
| h          | 0.005687     | 0.002812     | 0.006703     |
| conf       | 0.147160     | 0.098109     | 0.102738     |
| cls        | 0.000142     | 0.000091     | 0.000031     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 1.000000     |
| recall75   | 1.000000     | 1.000000     | 1.000000     |
| precision  | 0.733333     | 0.423077     | 0.169231     |
| conf_obj   | 0.998282     | 0.979120     | 0.968161     |
| conf_noobj | 0.000441     | 0.000275     | 0.000265     |
+------------+--------------+--------------+--------------+
2020-12-20 19:36:25.652 | INFO     | service.federated.client_service:train:139 - 
federated train for [4000/5274 (76%)]	loss: 0.387862
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.132189     | 0.139974     | 0.115699     |
| x          | 0.002939     | 0.006516     | 0.015200     |
| y          | 0.001808     | 0.006061     | 0.014373     |
| w          | 0.024207     | 0.015641     | 0.010552     |
| h          | 0.009160     | 0.005440     | 0.004989     |
| conf       | 0.090767     | 0.105943     | 0.070496     |
| cls        | 0.003308     | 0.000372     | 0.000088     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 0.962963     | 1.000000     |
| recall75   | 1.000000     | 0.962963     | 0.962963     |
| precision  | 0.818182     | 0.530612     | 0.310345     |
| conf_obj   | 0.979865     | 0.968380     | 0.988114     |
| conf_noobj | 0.000408     | 0.000305     | 0.000241     |
+------------+--------------+--------------+--------------+
2020-12-20 19:37:33.972 | INFO     | service.federated.client_service:train:139 - 
federated train for [4400/5274 (83%)]	loss: 0.549019
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 26           | 52           | 104          |
| loss       | 0.160777     | 0.175573     | 0.212669     |
| x          | 0.009882     | 0.009211     | 0.017345     |
| y          | 0.005983     | 0.009565     | 0.021574     |
| w          | 0.016313     | 0.015452     | 0.008555     |
| h          | 0.028958     | 0.024679     | 0.014429     |
| conf       | 0.097688     | 0.107909     | 0.149529     |
| cls        | 0.001953     | 0.008757     | 0.001237     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.961538     | 1.000000     | 1.000000     |
| recall75   | 0.884615     | 0.903226     | 0.903226     |
| precision  | 0.806452     | 0.574074     | 0.219858     |
| conf_obj   | 0.995777     | 0.965288     | 0.962767     |
| conf_noobj | 0.000394     | 0.000298     | 0.000415     |
+------------+--------------+--------------+--------------+
2020-12-20 19:38:31.939 | INFO     | service.federated.client_service:train:139 - 
federated train for [4800/5274 (91%)]	loss: 0.906916
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 24           | 48           | 96           |
| loss       | 0.324527     | 0.239079     | 0.343310     |
| x          | 0.028477     | 0.007340     | 0.024349     |
| y          | 0.012104     | 0.010533     | 0.035738     |
| w          | 0.022535     | 0.029780     | 0.023570     |
| h          | 0.016203     | 0.022904     | 0.021185     |
| conf       | 0.190930     | 0.144542     | 0.215479     |
| cls        | 0.054278     | 0.023981     | 0.022989     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 0.884615     | 0.968750     | 0.939394     |
| recall75   | 0.730769     | 0.812500     | 0.787879     |
| precision  | 0.884615     | 0.673913     | 0.287037     |
| conf_obj   | 0.946984     | 0.935972     | 0.938629     |
| conf_noobj | 0.000109     | 0.000253     | 0.000364     |
+------------+--------------+--------------+--------------+
2020-12-20 19:39:43.408 | INFO     | service.federated.client_service:train:139 - 
federated train for [5200/5274 (98%)]	loss: 0.510458
+------------+--------------+--------------+--------------+
| Metrics    | YOLO Layer 0 | YOLO Layer 1 | YOLO Layer 2 |
+------------+--------------+--------------+--------------+
| grid_size  | 29           | 58           | 116          |
| loss       | 0.196155     | 0.163180     | 0.151123     |
| x          | 0.002872     | 0.010916     | 0.030869     |
| y          | 0.002214     | 0.003886     | 0.015068     |
| w          | 0.017109     | 0.014371     | 0.013949     |
| h          | 0.015753     | 0.013191     | 0.007501     |
| conf       | 0.157269     | 0.117859     | 0.082221     |
| cls        | 0.000938     | 0.002957     | 0.001515     |
| cls_acc    | 100.00%      | 100.00%      | 100.00%      |
| recall50   | 1.000000     | 1.000000     | 0.966667     |
| recall75   | 1.000000     | 0.933333     | 0.866667     |
| precision  | 0.725000     | 0.447761     | 0.258929     |
| conf_obj   | 0.961127     | 0.967947     | 0.982202     |
| conf_noobj | 0.000550     | 0.000375     | 0.000258     |
+------------+--------------+--------------+--------------+
2020-12-20 19:39:56.868 | INFO     | service.federated.client_service:train:145 - epo   5, average loss 0.612
2020-12-20 19:39:56.873 | INFO     | utils.tool_utils:timer:35 - Start executing step: evaluate for user id 1
2020-12-20 19:40:57.913 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.16039   | 0.44527 | 0.23584 | 0.28664 |
| 1     | Wear_helmet | 0.48623   | 0.94550 | 0.64220 | 0.89701 |
| 2     | Total       | 0.32331   | 0.69539 | 0.43902 | 0.59182 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:40:57.913 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.5918238265594487
2020-12-20 19:40:57.914 | INFO     | utils.tool_utils:timer:39 - Finished executing step: evaluate for user id 1
2020-12-20 19:40:57.914 | INFO     | utils.tool_utils:timer:48 - Step name: evaluate for user id 1; time cost: 0:01:01.040406

2020-12-20 19:40:58.359 | INFO     | utils.tool_utils:timer:39 - Finished executing step: federated train for epoch 20/20, idx 1/2, epo 5/5
2020-12-20 19:40:58.360 | INFO     | utils.tool_utils:timer:48 - Step name: federated train for epoch 20/20, idx 1/2, epo 5/5; time cost: 0:15:29.305953

2020-12-20 19:40:58.360 | INFO     | service.federated.client_service:train:158 - user id   1, average loss 0.625
2020-12-20 19:40:58.612 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 19:44:42.070 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.19841   | 0.53829 | 0.28995 | 0.40830 |
| 1     | Wear_helmet | 0.48605   | 0.92450 | 0.63713 | 0.87850 |
| 2     | Total       | 0.34223   | 0.73139 | 0.46354 | 0.64340 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:44:42.070 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6433996117378953
2020-12-20 19:44:42.071 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 19:44:42.071 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:03:43.458664

2020-12-20 19:44:47.896 | INFO     | utils.tool_utils:timer:35 - Start executing step: test for user id 1
2020-12-20 19:48:51.152 | INFO     | service.federated.client_service:test:210 - 
+-------+-------------+-----------+---------+---------+---------+
| Index | Class name  | Precision | Recall  | F1      | AP      |
+-------+-------------+-----------+---------+---------+---------+
| 0     | No_helmet   | 0.19040   | 0.62528 | 0.29191 | 0.48738 |
| 1     | Wear_helmet | 0.60727   | 0.93243 | 0.73551 | 0.89598 |
| 2     | Total       | 0.39883   | 0.77886 | 0.51371 | 0.69168 |
+-------+-------------+-----------+---------+---------+---------+
2020-12-20 19:48:51.152 | INFO     | service.federated.client_service:test:211 - ---- mAP 0.6916823156431635
2020-12-20 19:48:51.153 | INFO     | utils.tool_utils:timer:39 - Finished executing step: test for user id 1
2020-12-20 19:48:51.153 | INFO     | utils.tool_utils:timer:48 - Step name: test for user id 1; time cost: 0:04:03.256783

2020-12-20 19:48:54.734 | INFO     | utils.tool_utils:timer:35 - Start executing step: detect for user id 1
2020-12-20 19:53:30.948 | INFO     | utils.tool_utils:timer:35 - Start executing step: writing to ./log/D_finals_contest_helmet_federal_conf_M_yolov3_SE_20_CE_5_ID_1.json
2020-12-20 19:53:31.253 | INFO     | utils.tool_utils:timer:39 - Finished executing step: writing to ./log/D_finals_contest_helmet_federal_conf_M_yolov3_SE_20_CE_5_ID_1.json
2020-12-20 19:53:31.253 | INFO     | utils.tool_utils:timer:48 - Step name: writing to ./log/D_finals_contest_helmet_federal_conf_M_yolov3_SE_20_CE_5_ID_1.json; time cost: 0:00:00.305591

2020-12-20 19:53:31.254 | INFO     | utils.tool_utils:timer:39 - Finished executing step: detect for user id 1
2020-12-20 19:53:31.254 | INFO     | utils.tool_utils:timer:48 - Step name: detect for user id 1; time cost: 0:04:36.519446

